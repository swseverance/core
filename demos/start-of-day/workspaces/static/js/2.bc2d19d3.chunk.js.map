{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/react/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/react/jsx-runtime.js","../node_modules/webpack/buildin/global.js","../node_modules/react-dom/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../src/Glue.tsx","../../../src/useGlueInit.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/prop-types/index.js","../node_modules/object-assign/index.js","../../node_modules/callback-registry/lib/index.js","../../node_modules/decoder-validate/dist/index.es5.js","../../src/shared/decoders.ts","../../src/communication/constants.ts","../../src/communication/bridge.ts","../../src/communication/interop-transport.ts","../../src/shared/promisePlus.ts","../../src/builders/parentBuilder.ts","../../src/builders/baseBuilder.ts","../../src/builders/workspaceBuilder.ts","../../src/models/row.ts","../../src/models/column.ts","../../src/models/group.ts","../../src/models/workspace.ts","../../src/models/window.ts","../../src/models/frame.ts","../../src/shared/privateDataManager.ts","../../src/models/base/base.ts","../../src/controllers/base.ts","../../src/controllers/main.ts","../../src/shared/ioc.ts","../../src/main.ts","../../src/index.ts","../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../node_modules/buffer/index.js","../node_modules/process/browser.js","../../node_modules/tslib/tslib.es6.js","../../src/defaultComponents/HeaderButton.tsx","../../src/defaultComponents/popups/addApplication/ApplicationItem.tsx","../../src/defaultComponents/popups/addApplication/ApplicationsList.tsx","../../src/defaultComponents/popups/addApplication/ContainerSwitch.tsx","../../src/withGlueInstance.tsx","../../src/defaultComponents/popups/addApplication/AddApplicationPopup.tsx","../../src/defaultComponents/popups/Feedback.tsx","../../src/defaultComponents/popups/helpers.ts","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutItem.tsx","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutsList.tsx","../../src/defaultComponents/popups/addWorkspace/AddWorkspacePopup.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveContextCheckbox.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspaceButton.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspacePopup.tsx","../../../workspaces-ui-core/dist/export.js","../../src/workspacesManager.ts","../../node_modules/reactjs-popup/dist/reactjs-popup.esm.js","../../src/WorkspacePopup.tsx","../../src/Portal.tsx","../../src/WorkspacesWrapper.tsx","../../src/WorkspacesElementCreationWrapper.tsx","../../src/index.tsx","../node_modules/@glue42/desktop/dist/desktop.browser.js","../node_modules/@glue42/web/dist/web.es.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/scheduler/index.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/isarray/index.js","../node_modules/ws/browser.js"],"names":["module","exports","require","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","_unsupportedIterableToArray","o","minLen","n","toString","call","slice","constructor","name","test","g","this","Function","e","window","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","err","console","error","_arrayLikeToArray","len","arr2","_slicedToArray","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","GlueContext","GlueProvider","children","fallback","settings","glue","setGlue","a","web","webPlatform","Error","glue42gd","desktop","factory","Glue","config","GlueWeb","GlueWebPlatform","useGlueInit","Provider","propTypes","displayName","_createForOfIteratorHelper","allowArrayLike","it","F","s","f","normalCompletion","didErr","step","_e2","_defineProperty","obj","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","toObject","val","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","map","join","test3","split","forEach","letter","keys","shouldUseNative","source","symbols","to","arguments","createRegistry","options","errorHandling","_userErrorHandler","callbacks","_handleError","exceptionArtifact","errParam","msg","stack","add","callback","callbacksForKey","allForKey","reduce","acc","element","index","execute","argumentsArr","results","result","apply","clear","clearKey","default","ok","asPromise","r","Promise","resolve","reject","withDefault","defaultValue","withException","map2","ar","br","mapError","andThen","freeze","isOk","isErr","successes","concat","t","p","isEqual","b","isJsonArray","json","isJsonObject","expectedGot","expected","got","JSON","stringify","typeString","printPath","paths","path","prependAt","newAt","_a","at","rest","indexOf","__rest","Decoder","decode","_this","run","kind","input","message","runPromise","runWithException","where","errorMessage","succeed","fail","string","number","boolean","constant","object","decoders","array","decoder","v","err$$1","decodeValue_1","tuple","nth","union","ad","bd","oneOf","intersection","ds","anyJson","unknownJson","dict","optional","errors","errorsList","valueAt","jsonAtPath","fixedValue","lazy","mkDecoder","nonEmptyStringDecoder","nonNegativeNumberDecoder","num","isWindowInSwimlaneResultDecoder","inWorkspace","allParentDecoder","subParentDecoder","frameStateDecoder","checkThrowCallback","allowUndefined","argumentType","workspaceBuilderCreateConfigDecoder","saveLayout","deleteLayoutConfigDecoder","swimlaneWindowDefinitionDecoder","type","appName","windowId","context","strictSwimlaneWindowDefinitionDecoder","parentDefinitionDecoder","strictParentDefinitionDecoder","newFrameConfigDecoder","toLowerCase","bounds","left","top","width","height","restoreTypeDecoder","restoreWorkspaceConfigDecoder","app","restoreType","title","reuseWorkspaceId","frameId","lockdown","activateFrame","newFrame","noTabHeader","inMemoryLayout","openWorkspaceConfigDecoder","restoreOptions","workspaceDefinitionDecoder","position","isFocused","frame","reuseFrameId","builderConfigDecoder","definition","workspaceCreateConfigDecoder","saveConfig","getFrameSummaryConfigDecoder","itemId","frameSummaryDecoder","id","eventTypeDecoder","positionIndex","focused","layoutName","workspaceId","streamRequestArgumentsDecoder","branch","workspaceEventActionDecoder","workspaceConfigResultDecoder","baseChildSnapshotConfigDecoder","parentSnapshotConfigDecoder","swimlaneWindowSnapshotConfigDecoder","isMaximized","childSnapshotResultDecoder","workspaceSnapshotResultDecoder","frameSummary","customWorkspaceChildSnapshotDecoder","windowLayoutItemDecoder","url","groupLayoutItemDecoder","columnLayoutItemDecoder","rowLayoutItemDecoder","workspaceLayoutDecoder","metadata","components","state","workspacesImportLayoutDecoder","layout","mode","exportedLayoutsResultDecoder","layouts","frameSummaryResultDecoder","frameSummariesResultDecoder","summaries","workspaceSummaryResultDecoder","workspaceSummariesResultDecoder","frameSnapshotResultDecoder","workspaces","layoutSummaryDecoder","layoutSummariesDecoder","simpleWindowOperationSuccessResultDecoder","voidResultDecoder","frameStateResultDecoder","resizeConfigDecoder","relative","moveConfigDecoder","simpleItemConfigDecoder","frameStateConfigDecoder","requestedState","setItemTitleConfigDecoder","moveWindowConfigDecoder","containerId","resizeItemConfigDecoder","moveFrameConfigDecoder","addWindowConfigDecoder","parentId","parentType","addContainerConfigDecoder","addItemResultDecoder","pingResultDecoder","live","bundleConfigDecoder","containerSummaryResultDecoder","frameStreamDataDecoder","workspaceStreamDataDecoder","workspaceSummary","containerStreamDataDecoder","containerSummary","windowStreamDataDecoder","windowSummary","workspaceLayoutSaveConfigDecoder","saveContext","webPlatformMethodName","webPlatformWspStreamName","METHODS","control","isStream","frameStream","workspaceStream","containerStream","windowStream","STREAMS","payloadDecoder","workspace","container","OPERATIONS","ping","resultDecoder","isWindowInWorkspace","argsDecoder","createWorkspace","getAllFramesSummaries","getFrameSummary","getAllWorkspacesSummaries","getWorkspaceSnapshot","getAllLayoutsSummaries","openWorkspace","deleteLayout","importLayout","exportAllLayouts","restoreItem","maximizeItem","focusItem","closeItem","resizeItem","changeFrameState","getFrameState","moveFrame","getFrameSnapshot","forceLoadWindow","ejectWindow","setItemTitle","moveWindowTo","addWindow","addContainer","bundleWorkspace","Bridge","transport","registry","activeSubscriptions","coreSubscriptionReady","handleCoreEvent","bind","registryKey","eventType","action","scope","scopeId","args","scopeConfig","receivedIds","checkScopeMatch","operationName","operationArgs","operationDefinition","values","find","operation","transmitControl","operationResultRaw","operationResult","activeSub","getActiveSubscription","getRegistryKey","stream","subscribe","getBranchKey","gdSub","onData","streamData","data","requestedArgumentsResult","requestArguments","actionResult","streamType","validatedPayload","payload","keyToExecute","level","levelId","callbacksCount","unsubscribe","close","splice","verifiedAction","verifiedType","verifiedPayload","warn","InteropTransport","agm","defaultTransportTimeout","coreEventMethodInitiated","actualWindowId","all","method","verifyMethodLive","eventCallback","subscribePlatform","corePlatformSubPromise","then","sub","streamName","streamBranch","subscriptionArgs","subscription","operationArguments","invocationArguments","domain","methodName","baseErrorMessage","invoke","methodResponseTimeoutMs","invocationResult","all_return_values","all_errors","invocationErrorMessage","returned","promise","timeoutMilliseconds","timeoutMessage","methods","some","methodAdded","setTimeout","promiseActive","timeout","clearTimeout","catch","privateData","WeakMap","ParentBuilder","base","wrapChildren","set","get","serializeChildren","BaseBuilder","getBuilder","child","validatedDefinition","childBuilder","serialize","WorkspaceBuilder","controller","every","getBase","model","Row","addParent","predicate","removeChild","maximize","restore","getId","getFrameId","getWorkspaceId","getPositionIndex","getAllChildren","getMyParent","getMyFrame","getMyWorkspace","Column","Group","getData","manager","getWorkspaceData","getDataManager","Workspace","dataManager","refreshReference","iterateFindChild","wsp","getSnapshot","getWorkspaceContext","setWorkspaceContext","updateWorkspaceContext","subscribeWorkspaceContextUpdated","newSnapshot","existingChildren","foundChildren","foundChild","getWindow","swimlaneWindow","getBox","parent","newChildren","refreshChildren","currentFrame","remapFrame","actualFrame","frameCreateConfig","summary","ioc","getModel","remapWorkspace","allParents","iterateFilterChildren","filter","getAllBoxes","allWindows","bundleTo","processLocalSubscription","windowParent","foundWindow","win","getWindowData","Window","isLoaded","newWindowId","getGdWindow","myId","getGDWindow","getParent","checkIsWindowLoaded","getFrameData","Frame","validatedConfig","getWorkspaces","validatedOptions","restoreWorkspace","getWorkspace","foundParent","PrivateDataManager","parentsData","workspacesData","windowsData","framesData","windowPlacementIdData","keyForDeleting","k","delete","placementId","newData","getParentData","getWindowFromPlacementId","placemenId","getWindowByPlacementId","Base","typeToAdd","parentDefinition","transformDefinition","newParentId","myWorkspace","modelData","BaseController","windows","contexts","list","createConfig","bridge","send","snapshot","frameConfig","workspaceConfig","allFrameSummaries","frames","frameToCheck","bridgeResults","allSummaries","summaryResult","wrappedCallback","addedUnSub","onAdded","changedUnSub","onChanged","onRemoved","contextName","update","gdWindow","controlResult","newChildSnapshot","childToAdd","c","childType","privateDataManager","remapChild","grandChildren","innerFound","onWindowAdded","MainController","getLayoutSummaries","allLayouts","handleEnterpriseLocalSubscription","handleCoreLocalSubscription","handleEnterpriseGlobalSubscription","handleCoreGlobalSubscription","selector","getFrame","getFrames","iterateWorkspaces","end","foundWorkspace","matchingWorkspaces","allSummariesResult","getAllWorkspaceSummaries","resultWindow","resultParent","allLayoutsResult","matchingLayouts","handleOnSaved","handleOnRemoved","frameResult","notifyWindowAdded","createCoreEventSubscription","originalCB","wrappedCB","callbackData","handleCoreSubscription","ended","workspaceSummaries","fetchWorkspace","IoC","initiate","frameData","setFrameData","windowPrivateData","newWindow","setWindowData","newParent","parentBase","builtChildren","buildChildren","parentPrivateData","setParentData","newWorkspace","workspacePrivateData","setWorkspaceData","baseBuilder","_baseController","_controllerInstance","baseController","_bridgeInstance","CallbackFactory","_transportInstance","_privateDataManagerInstance","_parentBaseInstance","composeAPI","my","checkIsInSwimlane","getAllFrames","w","getAllWorkspaces","getSummaries","export","exportLayout","import","save","verifiedConfig","onSaved","onFrameOpened","processGlobalSubscription","onFrameClosed","onWorkspaceOpened","onWorkspaceClosed","onWindowLoaded","onWindowRemoved","factoryFunction","interop","GlueWorkspaces","MapShim","Map","getIndex","entry","class_1","__entries__","entries","has","ctx","isBrowser","document","global$1","global","Math","self","requestAnimationFrame$1","requestAnimationFrame","Date","now","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","addEventListener","observe","attributes","childList","characterData","subtree","removeEventListener","disconnect","_b","propertyName","getInstance","instance_","defineConfigurable","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","size","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","right","vertPad","bottom","boxSizing","round","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","x","y","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","rect","broadcastRect","ResizeObserverEntry","rectInit","contentRect","Constr","DOMRectReadOnly","create","createReadOnlyRect","ResizeObserverSPI","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","ResizeObserver","base64","ieee754","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","__proto__","arg","encodingOrOffset","allocUnsafe","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","write","fromString","isBuffer","checked","copy","buffer","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","start","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","m","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","fill","allocUnsafeSlow","_isBuffer","compare","pos","swap16","swap32","swap64","equals","inspect","max","match","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","src","dst","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","noop","nextTick","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","extendStatics","d","setPrototypeOf","__extends","__","__assign","__awaiter","thisArg","_arguments","P","generator","fulfilled","rejected","__generator","body","_","label","sent","trys","ops","verb","throw","return","op","pop","__spreadArrays","il","jl","ApplicationItem","onClick","React","className","href","ApplicationsList","inLane","hidePopup","searchTerm","updatePopupHeight","filterApps","isActivity","isShell","userProperties","includeInWorkspaces","includeInCanvas","workspacesFriendlyApps","appManager","applications","useEffect","addGroup","error_1","ContainerSwitch","setInLane","wordInLabel","labelToPut","toUpperCase","substring","htmlFor","role","withGlueInstance","WrappedComponent","useContext","boxId","resizePopup","useState","_c","setParent","setSearchTerm","containerRef","createRef","shouldUpdate","allWorkspaces","refreshPopupHeight","containerHeight","current","getBoundingClientRect","ref","placeholder","onChange","Feedback","regexResult","exec","getFeedbackErrorMessage","WorkspaceLayoutItem","onCloseClick","WorkspaceLayoutsList","showFeedback","layoutSummaries","setLayoutSummaries","stopPropagation","feedbackText","setFeedbackText","resizePopupWithContainerHeight","itemType","errMessage","SaveContextCheckbox","changeChecked","refreshHeight","inputRef","SaveWorkspaceButton","inputValue","clearInput","shouldSaveContext","hideFeedback","buildMode","shouldSave","setShouldSave","workspaceName","setTitle","downloadElement","createElement","encodeURIComponent","append","setAttribute","click","remove","setShouldSaveContext","feedbackMessage","setFeedbackMessage","setWorkspaceName","globalThis","controls","items","utils","extend","createObject","contructor","objectKeys","getHashValue","location","hash","RegExp","getQueryStringParam","search","animFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","Int8Array","isFunction","fnBind","removeFromArray","getTime","getUniqueId","random","filterXss","stripTags","EventEmitter","_mSubscriptions","ALL_EVENT","fn","unshift","unbind","trigger","DragListener","_eElement","_oDocument","_eBody","_nButtonCode","_nDelay","_nDistance","_nX","_nY","_nOriginalX","_nOriginalY","_bDragging","_fMove","onMouseMove","_fUp","onMouseUp","_fDown","onMouseDown","destroy","preventDefault","button","_getCoordinates","one","_timeout","_startDrag","removeClass","css","addClass","originalEvent","touches","pageX","pageY","LayoutManager","$","noConflict","isInitialised","_isFullPage","_resizeTimeoutId","_components","lm-react-component","ReactComponentHandler","_itemAreas","_resizeFunction","_onResize","_unloadFunction","_onUnload","_maximizedItem","_maximizePlaceholder","_creationTimeoutPassed","_subWindowsCreated","_dragSources","_dragProxies","_updatingColumnsResponsive","_firstLoad","_componentFactory","root","openPopouts","selectedItem","isSubWindow","eventHub","EventHub","_createConfig","dropTargetIndicator","transitionIndicator","tabDropPlaceholder","_typeToItem","column","RowOrColumn","row","Stack","component","Component","__lm","minifyConfig","ConfigMinifier","unminifyConfig","registerComponent","toConfig","AbstractContentItem","dimensions","labels","workspacesOptions","content","contentItems","_$reconcilePopoutWindows","maximizedItemId","getComponent","ConfigurationError","init","_createSubWindows","readyState","_adjustToWindowMode","_setContainer","DropTargetIndicator","TransitionIndicator","updateSize","_create","_bindEvents","_adjustColumnsResponsive","ready","callDownwards","_dragListener","_element","_itemConfig","createContentItem","componentName","Root","createPopout","l","h","u","isRoot","addId","screenX","screenLeft","screenY","screenTop","BrowserPopout","createDragSource","constrainDragToContainer","DragSource","selectItem","selectionEnabled","deselect","select","_$maximiseItem","_$minimizeItem","after","prepend","_$minimiseItem","removeId","_$closeWindow","_$getArea","x1","x2","y1","y2","surface","_$createRootItemAreas","side","_$calculateItemAreas","_getAllContentItems","isStack","contentItem","_contentAreaDimensions","header","highlightArea","_$normalizeContentItem","isPlainObject","closed","resize","localStorage","getItem","parse","removeItem","defaultConfig","hasHeaders","headerHeight","popin","html","offsetHeight","__glInstance","indexInParent","margin","padding","overflow","getItemsById","toggleMaximise","closePopoutsOnUnload","_useResponsiveLayout","minItemWidth","isRow","is","_findAllStackContainers","_addChildContentItemsToContainer","responsiveMode","addChild","_findAllStackContainersRecursive","isComponent","GoldenLayout","reorderEnabled","popoutWholeStack","blockedPopoutsThrowError","showMinimizeIcon","showPopoutIcon","showMaximizeIcon","showCloseIcon","tabOverlapAllowance","reorderOnTabMenuClick","tabControlOffset","borderWidth","borderGrabWidth","minItemHeight","dragProxyWidth","dragProxyHeight","minimize","popout","tabDropdown","itemDefaultConfig","isClosable","workspacesConfig","ItemContainer","layoutManager","isHidden","_config","_contentElement","getElement","hide","show","setSize","isColumn","getState","componentState","extendState","setState","emitBubblingEvent","_$setSize","offsetWidth","node","_dimensions","_parentId","_indexInParent","_layoutManager","_popoutWindow","_id","_createWindow","getGlInstance","popIn","_createUrl","_serializeWindowOptions","innerWidth","innerHeight","menubar","toolbar","personalbar","resizable","scrollbars","status","open","_positionWindow","_onClose","setInterval","_onInitialised","clearInterval","setItem","moveTo","focus","DragProxy","_contentItem","_originalParent","_area","_lastValidArea","_onDrag","_onDrop","_template","_side","_sided","attr","childElementContainer","disableDragProxy","_updateTree","_setDimensions","_minX","_minY","_maxX","_maxY","_width","_height","_setDropPosition","_$highlightDropZone","canceled","_$destroy","_$onDrop","_$setParent","_createDragListener","_onDragStart","transitionElements","highlight","Header","_onHeaderClick","createLogo","domNode","createAddWorkspace","createSystemButtons","tabsContainer","tabDropdownContainer","controlsContainer","workspaceControlsContainer","tabsControlsContainer","_updateTabSizesWithoutDropdown","tabs","activeContentItem","closeButton","tabDropdownButton","hideAdditionalTabsDropdown","_hideAdditionalTabsDropdown","mouseup","_lastVisibleTabIndex","_tabControlOffset","_createControls","createTab","Tab","before","removeTab","setActiveContentItem","setActive","activeItemIndex","_header","_setupHeaderPosition","_$setClosable","_isClosable","_getHeaderSetting","_showAdditionalTabsDropdown","HeaderButton","_onPopoutClick","minimizeLabel","minimizeButton","_updateTabSizes","toggle","outerWidth","tab","outerHeight","z-index","margin-left","_action","Splitter","_isVertical","_size","_grabSize","_createElement","titleElement","closeElement","_onTabClickFn","_onTabClick","_onCloseClickFn","_onCloseClick","_onCloseMousedown","getActiveContentItem","_toElement","_fromDimensions","_totalAnimationDuration","_animationStartTime","_nextAnimationFrame","_measure","opacity","_extendItemNode","isVisible","_pendingEventPropagations","_throttledEvents","_propagateEvent","_createContentItems","_$init","replaceChild","parentNode","_$hide","hasId","getItemsByFilter","getItemsByType","_$getItemsByProperty","getComponentsByName","_callOnActiveComponents","_$show","BubblingEvent","isPropagationStopped","_scheduleEventPropagationToLayoutManager","origin","_propagateEventToLayoutManager","_$shown","shown","_containerElement","_splitterSize","_splitterGrabSize","_isColumn","_dimension","_splitter","_splitterPosition","_splitterMinPosition","_splitterMaxPosition","_createSplitter","_calculateRelativeSizes","_setAbsoluteSizes","_calculateAbsoluteSizes","additionalPixel","itemSizes","totalWidth","totalHeight","_respectMinItemWidth","_onSplitterDrag","_onSplitterDragStop","_onSplitterDragStart","_getItemsForSplitter","_getMinimumDimensions","minWidth","minHeight","horizontal","vertical","_activeContentItem","_dropZones","_dropSegment","_dropIndex","_$validateClosability","_resetHeaderDropZone","hoverArea","_highlightHeaderDropZone","_highlightBodyDropZone","placeHolderTop","_keys","_values","_nextLevel","_min","_max","_dontPropagateToParent","_childEventSource","_onEventFromThis","_boundOnEventFromChild","_onEventFromChild","_propagateToParent","_propagateToChildren","_$onEventFromParent","__gl","__glArgs","createEvent","opener","initEvent","createEventObject","eventName","dispatchEvent","fireEvent","_reactComponent","_originalComponentWillUpdate","_container","_initialState","_reactClass","_getReactClass","_render","_destroy","ReactDOM","render","_getReactComponent","componentWillUpdate","_onUpdate","unmountComponentAtNode","glEventHub","glContainer","[object Object]","_idToLayout","workspaceLayout","getByContainerIdCore","innerText","getById","mergeWindows","workspaceTitles","workspaceIds","getWorkspaceTitle","_workspaceLayout","containerElement","setupEvents","classList","contains","handleTabCountChanged","removedNodes","attributeName","handleTabHeaderResized","attributeFilter","attributeOldValue","characterDataOldValue","visibleTabs","refreshTabClasses","visibilityState","logo","addWorkspace","systemButtons","workspaceContents","componentsFactory","_decoratedFactory","callbackRegistry","getWorkspaceIdFromContents","style","display","decoratedFactory","createWorkspaceContents","subscribeForWorkspaceContentsVisibility","getElementById","_maximizedId","_workspaceLayoutElementId","_registry","_emptyVisibleWindowName","_stackMaximizeLabel","_stackRestoreLabel","_options","_emitter","_stateResolver","_configFactory","_frameId","initWorkspaceConfig","refreshLayoutSize","workspaceConfigs","initWorkspaceContents","emitter","raiseEvent","setupOuterLayout","setupContentLayouts","getByContainerId","hideAddButton","getWindowInfoFromConfig","registerWindowComponent","onContentComponentCreated","wrapper","wrapInGroup","onContentItemCreated","getByWindowId","getContainerConfig","getWorkspaceLayoutComponentName","registerWorkspaceComponent","getWorkspaceLayoutItemById","removeById","getElementsByTagName","getDragElement","addedNodes","setDragElementSize","getWindowContentItem","waitForWindowContainer","addOrUpdate","showAddButton","signal","getDefaultWorkspaceSettings","registerEmptyWindowComponent","raiseEventWithDynamicName","layoutId","item","onclick","laneId","disableCustomButtons","toBack","toFront","mousedown","refreshTabSizeClass","getElementByClass","getElementsByClassName","appendChild","waitForLayout","composedPath","activeElement","blur","onOuterLayoutContainerResized","onContentContainerResized","log","hasClass","C","I","W","A","Z","characters","seed","lookup","shuffled","E","crypto","msCrypto","S","getRandomValues","T","LN2","D","M","L","generate","worker","isValid","_idToFrame","_glue","waitForWindow","contentWindow","Event","B","LAST_SESSION_KEY","z","URLSearchParams","emptyFrame","workspaceNames","build","cleanUpUrl","removeQueryParams","history","replaceState","pathname","N","resolver","_configConverter","_layoutsType","_layoutComponentType","_initialWorkspaceConfig","generateInitialConfig","getWorkspaceByName","layoutData","getLastSession","getDefaultFrameConfig","addWorkspaceIds","addWindowIds","convertToRendererConfig","getAll","saveWorkspaceCore","saveWorkspaceCoreSync","getWorkspaceConfig","removeWorkspaceIds","applyWindowLayoutState","convertToAPIConfig","removeWorkspaceItemIds","windowSummariesToWindowLayout","addWindowUrlsToWindows","workspaceSummaryToWorkspaceLayout","findById","getContext","application","details","getWindowLayoutState","layoutState","O","_layoutEventEmitter","waitForWindowContentItem","getWindowSummaryCore","getWorkspaceTabIndex","transformComponentsToWindowSummary","transformParentsToContainerSummary","getContainer","findElementInConfig","getWorkspaceSummary","findIndex","getWindowPositionIndex","getUserFriendlyParent","isWindowMaximized","getWindowSummarySync","getContainerSummary","R","_pattern","sort","H","_titleGenerator","_defaultWorkspaceLayoutSettings","createWindowConfigurationCore","getTitle","getDefaultWorkspaceConfig","wrap","instances","q","flat","convertToRendererConfigCore","convertToApiConfigCore","applyDefaultRendererConfig","getGroupWithEmptyVisibleWindow","createEmptyVisibleWindowConfig","getAppNameFromWindowId","createGDWindowConfig","createApiWindow","U","_externalPopupManager","_componentPopupManager","createAddApplicationPopup","showAddWindowPopup","createAddWorkspacePopup","showOpenWorkspacePopup","createSaveWorkspacePopup","showSaveWorkspacePopup","V","_addApplicationType","_openWorkspaceType","_saveWorkspaceType","_showPopupMethod","initPopup","registerHideMethod","registerResizeMethod","getPopupSize","showElement","_popup","getPopupInteropId","servers","interopId","G","_popupSizes","hideSystemPopups","showInternalAddAppPopup","showInternalOpenWorkspacePopup","showInternalSaveWorkspacePopup","onblur","tagName","X","_isLayoutInitialized","_initPromise","_workspacesEventEmitter","getComponentBounds","_controller","subscribeForWindowClicked","_frameController","onFrameContentClicked","cleanUp","_isDisposing","stateResolver","notifyFrameWillClose","workspacesEventEmitter","raiseWindowEvent","raiseWorkspaceEvent","_layoutsManager","saveWorkspacesFrame","raiseFrameEvent","_facade","loadConfig","_initialized","_popupManager","initLayout","reInitialize","getActiveWorkspace","setInitialWorkspaceConfig","maximizeWindow","restoreWindow","closeWorkspace","closeTab","closeContainer","setWorkspaceTitle","setWindowTitle","getUrlByAppName","waitForFrameLoaded","focusWorkspace","focusWindow","generateLayout","getInitialConfig","subscribeForPopups","subscribeForLayout","reportLayoutStructure","getTitleByAppName","getURL","notifyFrameWillStart","startFrame","getWindowSummary","onContentItemResized","onTabCloseRequested","removeLayoutElement","checkForEmptyWorkspace","onWorkspaceTabCloseRequested","onTabElementMouseDown","onTabDragStart","bringToFront","onTabDragEnd","selectionChanged","onSelectionChanged","onWorkspaceAdded","selectionChangedDeep","onWorkspaceSelectionChanged","isWindowVisible","onAddButtonClicked","peerId","onContentLayoutInit","onWorkspaceAddButtonClicked","workspaceLayoutHeader","onWorkspaceSaveRequested","onStackMaximized","maximizeTab","onStackRestored","restoreTab","onEjectRequested","eject","onWorkspaceContentsShown","getWorkspaceContentItem","onWorkspaceContentsHidden","onWindowTitleChanged","executeAfterControlIsDone","removeWorkspace","onWindowEvent","Y","_workspacesControlMethod","_workspacesEventMethod","_inDisposing","handleControlCore","initPromise","handleIsWindowInWorkspace","handleAddWindow","handleAddContainer","handleGetWorkspaceSnapshot","handleOpenWorkspace","handleSaveLayout","handleExportAllLayouts","handleDeleteLayout","handleGetAllWorkspaceSummaries","handleMaximizeItem","handleRestoreItem","handleCloseItem","handleSetItemTitle","handleAddWorkspaceChildren","handleEject","handleCreateWorkspace","handleForceLoadWindow","handleFocusItem","handleBundleWorkspace","handleGetFrameSummary","handleMoveFrame","handleGetFrameSnapshot","handleGetSnapshot","handleMoveWindowTo","handleGenerateLayout","handlePing","handleControl","_controlPromise","_converter","registerAgmMethods","onFrameEvent","publishEventData","onWorkspaceEvent","onContainerEvent","finally","registerAsync","saveWorkspace","loadWindow","move","generateWorkspaceLayout","J","getPrototypeOf","nodeType","nonce","noModule","text","getAttribute","head","jquery","toArray","pushStack","merge","prevObject","each","first","eq","last","even","grep","odd","expando","isReady","isEmptyObject","globalEval","makeArray","inArray","guid","support","ct","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","Q","K","tt","et","nt","ot","st","rt","_t","disabled","nodeName","childNodes","qsa","yt","wt","querySelectorAll","removeAttribute","cacheLength","shift","lt","dt","ht","attrHandle","ut","sourceIndex","nextSibling","pt","mt","ft","isDisabled","gt","isXML","namespaceURI","setDocument","attachEvent","createComment","getElementsByName","getAttributeNode","innerHTML","matchesSelector","matches","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","sortDetached","specified","escape","uniqueSort","detectDuplicates","sortStable","getText","textContent","firstChild","nodeValue","selectors","createPseudo",">"," ","+","~","preFilter","lastChild","uniqueID","pseudos","setFilters","not","lang","hasFocus","tabIndex","enabled","selected","selectedIndex","empty","radio","checkbox","file","password","image","submit","reset","vt","bt","Ct","It","xt","filters","tokenize","compile","expr","unique","isXMLDoc","escapeSelector","parseHTML","contents","prev","closest","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","contentDocument","reverse","Callbacks","stopOnFalse","memory","disable","lock","locked","fireWith","fire","fired","Deferred","always","pipe","progress","notify","notifyWith","resolveWith","exceptionHook","stackTrace","rejectWith","getStackHook","when","readyException","readyWait","doScroll","uid","cache","access","hasData","removeData","_data","_removeData","dequeue","_queueHooks","stop","clearQueue","composed","getRootNode","cur","cssNumber","unit","createDocumentFragment","checkClone","cloneNode","noCloneChecked","option","thead","col","tr","td","_default","tbody","tfoot","colgroup","caption","th","optgroup","htmlPrefilter","createTextNode","kt","Et","St","event","Tt","namespace","handler","isTrigger","special","delegateType","stopImmediatePropagation","events","handle","triggered","dispatch","bindType","origType","delegateCount","setup","teardown","removeEvent","fix","delegateTarget","preDispatch","handlers","currentTarget","elem","isImmediatePropagationStopped","rnamespace","handleObj","postDispatch","addProp","load","noBubble","beforeunload","returnValue","isDefaultPrevented","defaultPrevented","relatedTarget","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","which","mouseenter","mouseleave","pointerenter","pointerleave","Wt","At","Dt","Pt","Mt","Lt","Ft","Bt","zt","clone","_evalUrl","Nt","cleanData","detach","insertBefore","replaceWith","appendTo","prependTo","insertAfter","replaceAll","Ot","$t","Rt","Ht","jt","getPropertyValue","pixelBoxStyles","maxWidth","qt","cssText","marginLeft","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","Ut","Vt","Gt","Xt","cssProps","Yt","Jt","Zt","visibility","Qt","letterSpacing","fontWeight","Kt","te","ceil","ee","getClientRects","ne","cssHooks","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","order","orphans","widows","zIndex","zoom","setProperty","border","expand","Tween","prop","easing","propHooks","duration","fx","scrollTop","scrollLeft","linear","swing","cos","PI","ie","oe","se","re","ae","hidden","interval","tick","ce","le","de","he","tweeners","prefilters","startTime","tweens","opts","specialEasing","originalProperties","originalOptions","createTween","complete","timer","anim","Animation","*","tweener","unqueued","overflowX","overflowY","prefilter","speed","speeds","old","fadeTo","animate","finish","timers","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","checkOn","optSelected","radioValue","ue","pe","removeAttr","attrHooks","me","fe","ge","ye","ve","removeProp","propFix","for","class","toggleClass","we","valHooks","focusin","be","parentWindow","simulate","triggerHandler","Ce","Ie","xe","parseXML","DOMParser","parseFromString","ke","Ee","Se","Te","We","param","serializeArray","Ae","De","Pe","Me","Le","Fe","Be","ze","Ne","Oe","$e","Re","dataTypes","He","ajaxSettings","flatOptions","active","lastModified","etag","isLocal","protocol","processData","async","contentType","accepts","xml","responseFields","converters","* text","text html","text json","text xml","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","statusCode","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","abort","dataType","crossDomain","host","traditional","hasContent","ifModified","headers","beforeSend","success","dataFilter","throws","statusText","getJSON","getScript","text script","wrapAll","firstElementChild","wrapInner","unwrap","visible","xhr","XMLHttpRequest","je","0","1223","qe","cors","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","response","script","scriptAttrs","charset","scriptCharset","Ue","Ve","Ge","jsonp","jsonpCallback","createHTMLDocument","implementation","animated","setOffset","using","pageYOffset","pageXOffset","offsetParent","scrollTo","Height","Width","delegate","undelegate","hover","Xe","holdReady","parseJSON","isWindow","camelCase","isNumeric","Ye","jQuery","Je","dispose","initialized","subscribeForWorkspaceEvents","notifyMoveAreaChanged","registerPopup","removePopup","removePopupById","unmount","subscribeForWindowFocused","notifyWorkspacePopupChanged","WorkspacesManagerDecorator","componentFactory","workspacesManager","elementId","cb","_extends","useIsomorphicLayoutEffect","useLayoutEffect","Style","popupContent","tooltip","modal","popupArrow","background","color","overlay","POSITION_TYPES","getCoordinatesForPosition","triggerBounding","ContentBounding","arrow","_ref","CenterTop","CenterLeft","transform","arrowTop","arrowLeft","popupIdCounter","forwardRef","_ref$trigger","_ref$onOpen","onOpen","_ref$onClose","onClose","_ref$defaultOpen","defaultOpen","_ref$open","_ref$disabled","_ref$nested","nested","_ref$closeOnDocumentC","closeOnDocumentClick","_ref$repositionOnResi","repositionOnResize","_ref$closeOnEscape","closeOnEscape","_ref$on","_ref$contentStyle","contentStyle","_ref$arrowStyle","arrowStyle","_ref$overlayStyle","overlayStyle","_ref$className","_ref$position","_ref$modal","_ref$lockScroll","lockScroll","_ref$arrow","_ref$offsetX","_ref$offsetY","_ref$mouseEnterDelay","mouseEnterDelay","_ref$mouseLeaveDelay","mouseLeaveDelay","_ref$keepTooltipInsid","keepTooltipInside","_useState","isOpen","setIsOpen","triggerRef","useRef","contentRef","arrowRef","focusedElBeforeOpen","popupId","isModal","timeOut","setPosition","focusContentOnOpen","lockScrolll","resetScroll","openPopup","closePopup","togglePopup","onMouseEnter","onContextMenu","onMouseLeave","_contentRef$current","focusableEls","firstEl","useImperativeHandle","_arrowStyle$top","_arrowStyle$left","cords","_ref2","bestCoords","wrapperBox","boundingBox","querySelector","contentBox","calculatePosition","scrollY","scrollX","listener","els","firstFocusableEl","lastFocusableEl","refs","PopupRoot","renderContent","popupContentStyle","childrenElementProps","pointerEvents","data-testid","viewBox","ovStyle","data-popup","Fragment","triggerProps","aria-describedby","onAsArray","onFocus","onBlur","comp","cloneElement","createPortal","Portal","templateId","WorkspacesWrapper","template","onCreateLogoRequested","onCreateAddWorkspaceRequested","onCreateSystemButtonsRequested","onCreateWorkspaceContentsRequested","onCreateSaveWorkspacePopupRequested","onCreateAddApplicationPopupRequested","onCreateAddWorkspacePopupRequested","onHideSystemPopupsRequested","externalPopupApplications","_super","saveWorkspacePopup","addApplicationPopup","addWorkspacePopup","LogoCustomElement","LogoComponent","AddWorkspaceCustomComponent","AddWorkspaceComponent","SystemButtonsCustomComponent","SystemButtonsComponent","WorkspaceContentsComponent","WorkspaceContents","wc","SaveWorkspaceCustomComponent","popups","SaveWorkspaceComponent","SaveWorkspacePopup","AddApplicationCustomComponent","AddApplicationComponent","AddApplicationPopup","AddWorkspacePopup","WorkspacesElementCreationWrapper","_g","additionalProperties","addApplicationComponent","saveWorkspaceComponent","addWorkspaceComponent","onCreateAddApplicationRequested","onCreateSaveWorkspaceRequested","addApplication","renderLogoComponent","renderAddWorkspaceComponent","renderSystemButtonsComponent","renderWorskpaceContents","renderSaveWorkspacePopupComponent","renderAddApplicationPopupComponent","renderAddWorkspacePopupComponent","onHideSystemPopups","extendStatics$1","__extends$1","__assign$1","__awaiter$1","__generator$1","MetricTypes","getMetricTypeByValue","metric","getTypeByValue","serializeMetric","serializedMetrics","memo","innerType","composite","defineNestedComposite","description","normalizeMetricName","getMetricValueByType","publishNestedComposite","Boolean","flatten","toFlatten","composeMsgForRootStateMetric","system","merged","getAggregateState","highestState","idx","aggregateDescription","Helpers","BaseMetric","createMetric","repo","newValue","updateMetric","NumberMetric","incrementBy","increment","decrement","decrementBy","ObjectMetric","mergeValues","StringMetric","TimestampMetric","separator","_transport","_name","_description","_repo","_parent","_path","_buildPath","shadowedSystem","_state","_subSystems","_metrics","_getOrCreateMetric","metricObject","expectedType","metricDef","matching","shadowedMetric","existing","subSystem","nameSystem","descriptionSystem","_system","stateDescription","updateSystem","stringMetric","timestampMetric","objectMetric","numberMetric","aggState","shadowedSubSystem","createSystem","Repository","addSystemMetrics","clickStream","rootSystem","useClickStream","navigator","userAgent","clickStream_1","documentClickHandler","timestamp","page","urlMetric","appNameMetric","startUrl","NullProtocol","PerfTracker","api","initialPublishTimeout","publishInterval","lastCount","scheduleCollection","collect","collectMemory","collectEntries","performance","totalJSHeapSize","usedJSHeapSize","allEntries","getEntries","metrics","connection","joinPromise","session","replayRepo","replaySystem","subSystems","ss","createMetricsMsg","Description","Value","metricClone","cloneMetric","updateMetricCore","canUpdate","publishMetricsMsg","sendFireAndForget","canUpdateMetric","resolveReadyPromise","onJoined","reconnect","defineRootMetricsMsg","service","shadowedUpdateMetric","stateObj","rootMetric","peer_id","gw3","disableAutoAppSystem","featureMetric","reportingSystem","def","featureMetricFunc","addFAVSupport","perfConfig","pagePerformanceMetrics","initPerf","replayArgumentsArr","replayArgument","lib","InProcTransport","logger","gw","facade","connect","_client","messageHandler","client","sendObject","_msg","onMessage","onConnectedChanged","SharedWorkerTransport","workerFile","SharedWorker","port","onmessage","postMessage","Utils","getGDMajorVersion","glueDesktop","ver","isNode","_isNode","PromiseWrapper","resolved","time","timerName","marks","endTime","period","mark","currentTime","diff","timerObj","alphabet","previousSeed","WebSocketConstructor","WebSocket","WS","startupTimer","_running","wsRequests","ws","waitForSocketConnection","info","pw","failed","openSocket","retryInterval","retriesLeft","reconnectInterval","notifyForSocketState","debug","initiateSocket","retries","reason","seen_1","WeakSet","notifyStatusChanged","onclose","onopen","identity","wsRequest","randomFromSeed","nextValue","_seed_","ORIGINAL","setCharacters","_alphabet_","ind","getShuffled","characterIndex","sourceArray","targetArray","shuffle","alphabet_1","randomByteBrowser","dest","encode_1","loopCounter","decode_1","lib$1","createCommonjsModule","counter","previousSeconds","clusterWorkerId","seconds","seedValue","workerId","newCharacters","shortid","domainSession","successMessages","errorMessages","_latestOptions","isJoined","tryReconnecting","_connectionOn","disconnected","loggedIn","handleSuccessMessage","handleErrorMessage","sm","requestsMap","destination","wasReconnect","handleJoined","requestId","request_id","getNextRequestId","tag","skipPeerId","successMsg","_tag","errorMsg","leave","onLeft","connected","GW3ProtocolImpl","protocolVersion","datePrefix","datePrefixLen","dateMinLen","datePrefixFirstChar","_isLoggedIn","shouldTryLogin","initialLogin","initialLoginAttempts","sessions","handleDisconnected","processStringMessage","milliseconds","ex","msgType","createStringMessage","oldToJson","datePrefix_1","processObjectMessage","createObjectMessage","login","authentication","e_1","helloMsg","sendOptions","welcomeMsg","token","err_1","loginConfig","gatewayToken","getNewGWToken","flowName","provider","flowCallback","sessionId","secret","globalDomain","subLogger","maxRetries","reconnectAttempts","resolvedIdentity","resolved_identity","availableDomains","available_domains","access_token","setLoggedIn","logout","promises","pingTimer","domainName","domainLogger","authToken","getGWToken","MessageReplayerImpl","specs","specsNames","messages","subs","subsRefCount","specs_1","spec","name_1","_loop_1","refCount","this_1","processMessage","types","isDone","name_2","drain","Connection","messageHandlers","ids","_connected","isTrace","inproc","sharedWorker","canPublish","handleConnectionChanged","handleTransportMessage","replaySpecs","replayer","isObjectBasedTransport","trace","strMessage","isLoggedIn","authRequest","distributeMessage","handlerId","loggerError","msgObj","Logger","logFn","subLoggers","customLogFn","loggerFullName","includeTimeAndLevel","existingSub","publishLevel","_publishLevel","consoleLevel","_consoleLevel","publishMessage","compareWith","loggerName","Interop","InteropMethodName","prefix","date","getHours","getMinutes","getSeconds","getMilliseconds","toPrint","GW_MESSAGE_CREATE_CONTEXT","GW_MESSAGE_ACTIVITY_CREATED","GW_MESSAGE_ACTIVITY_DESTROYED","GW_MESSAGE_CONTEXT_CREATED","GW_MESSAGE_CONTEXT_ADDED","GW_MESSAGE_SUBSCRIBE_CONTEXT","GW_MESSAGE_SUBSCRIBED_CONTEXT","GW_MESSAGE_UNSUBSCRIBE_CONTEXT","GW_MESSAGE_DESTROY_CONTEXT","GW_MESSAGE_CONTEXT_DESTROYED","GW_MESSAGE_UPDATE_CONTEXT","GW_MESSAGE_CONTEXT_UPDATED","GW_MESSAGE_JOINED_ACTIVITY","ContextMessageReplaySpec","GW3ContextData","contextId","isAnnounced","activityId","updateCallbacks","hasCallbacks","applyContextDelta","delta","deepClone","commands","command","deletePath","setValueToPath","added_1","added","updated_1","updated","removed","mergeObjectsProperties","Set","flags","what","withWhat","deepEqual","pathArr","InvokeStatus","GW3Bridge","_contextNameToData","_gw3Subscriptions","_nextCallbackSubscriptionNumber","_contextNameToId","_contextIdToName","_protocolVersion","_connection","_logger","_gw3Session","subscribeToContextCreatedMessages","subscribeToContextUpdatedMessages","subscribeToContextDestroyedMessages","handleContextCreatedMessage","handleContextUpdatedMessage","handleContextDestroyedMessage","contextsDomainInfo","uri","createContext","lifetime","createContextMsg","context_id","contextData","currentContext","calculatedDelta","calculateContextDeltaV2","calculateContextDeltaV1","gwResponse","handleUpdated","updaterId","setPath","setPathSupported","setPaths","pathValues","pathValues_1","pathValue","pathValues_2","_r","un","thisCallbackSubscriptionNumber","hadCallbacks","joinedActivity","sentExplicitSubscription","sendSubscribe","subscriptionKey","sendUnsubscribe","extraData","oldContext","invokeUpdateCallbacks","createdMessageTypes_1","createdMessageType","contextCreatedMsg","activity_id","updatedMessageTypes_1","updatedMessageType","contextUpdatedMsg","justSeen","context_snapshot","updater_id","updateCallbackIndex","updateCallback","destroyedMessageTypes_1","destroyedMessageType","destroyedMsg","ContextsModule","_bridge","checkName","checkData","checkPath","paths_1","promisify","successCallback","errorCallback","rejectAfter","ms","Client","configuration","callProtocolSubscribe","targetServers","successProxy","errorProxy","methodResponseTimeout","waitTimeoutMs","methodDef","method_response_timeout","wait_for_method_timeout","delayTillNow","currentServers","getServerMethodsByFilterAndTarget","retry_1","streamInfo","methodFilter","filterCopy","getServers","serverMethodMap","server","getMethods","methodsForInstance","getMethodsForInstance","onMethodAdded","methodRemoved","onMethodRemoved","serverAdded","onServerAdded","serverRemoved","onServerRemoved","serverMethodAdded","onServerMethodAdded","serverMethodRemoved","onServerMethodRemoved","argumentObj","additionalOptions","methodDefinition","serversMethodMap","errorObj","additionalOptionsCopy","invokePromises","invocationMessages","tryToAwaitForMethods","supportsStreaming","objectTypes","called_with","executed_by","serversMethodPair","invId","invokePromise","race","invocationId","getInvocationResultObj","invocationResults","calledWith","invokeMessage","Success","allValues","currentValue","allErrors","currError","invResult","filterByTarget","myMatches","serverMethodPair","instanceMatch","localMachine","instanceFilter","instanceDefinition","containsProps","methodMatch","repoMethod","isMatch","filterValue","repoMethodValue","filterObjTypes","repoObjectTypes","objTypeToContains","objType","repoObjType","isFullfiled","containsAllFromFilter","matchingServers","resultMethodsObject","methodKey","identifier","matchingMethods","getServerMethodsById","ServerSubscription","branchKey","closeSingleSubscription","pushDataToSingle","Request","requestContext","accept","acceptRequestOnBranch","acceptOnBranch","rejectRequest","ServerStreaming","onSubRequest","rc","rm","handleSubRequest","onSubAdded","handleSubAdded","onSubRemoved","handleSubRemoved","streamCallbacks","subscriptionRequestHandler","request","subscriptionAddedHandler","subscriptionRemovedHandler","ServerBranch","subscriptions","getSubscriptionList","closeAllSubscriptions","pushData","ServerStream","_protocol","_repoMethod","_server","branches","bList","getBranchList","def2","returns","unregister","updateRepoMethod","Server","serverRepository","invocations","currentlyUnregistering","streaming","onInvoked","onMethodInvoked","createStream","streamDef","existingStream","streamMethodDefinition","getList","serverMethod","protocolState","streamUserObject","repoId","register","wrappedCallbackFunction","resultCallback","resultValue","userCallback","registerCore","resultCalled_1","methodResult","userCallbackAsync","forStream","methodToBeRemoved","unregisterWithPredicate","removeMethodsOrStreams","filterPredicate","methodsOrStreamsToRemove","methodsToRemove","methodUnregPromises","addAsCurrentlyUnregistering","theFunction","unregisterInProgress","methodToExecute","invocationArgs","unStrException","_value","methodInvocationResult","InstanceWrapper","wrapped","getStreams","refreshWrappedObject","user","applicationName","pid","machine","environment","region","API","ClientRepository","methodsCount","addServer","serverId","serverEntry","removeServerById","methodId","removeServerMethod","addServerMethod","createMethodIdentifier","gatewayId","display_name","object_types","input_signature","result_signature","getServersByMethod","allMethods","allServers","unsubscribeFunc","serversWithMethodsToReplay","returnUnsubWithDelayedReplay","methodsToReplay","unsubCalled","getServerById","methodInfo","collectionToReplay","ServerRepository","nextId","SUBSCRIPTION_REQUEST","SUBSCRIPTION_ADDED","SUBSCRIPTION_REMOVED","ServerStreaming$1","repository","ERR_URI_SUBSCRIPTION_FAILED","nextStreamId","handleAddInterest","handleRemoveInterest","streamingMethod","subscriptionsMap","branchKeyToStreamIdMap","streamId","getStreamId","subscription_id","subscribeMsg","stream_id","sendSubscriptionFailed","dropSubscriptionMessage","closeMultipleSubscriptions","subscriptionsToClose","drop","allSubscriptions","onSubscriptionLifetimeEvent","method_id","handlerFunc","getNextStreamId","caller_id","arguments_kv","subscriptionId","reason_uri","needleBranch","ServerProtocol","clientRepository","handleInvokeMessage","isStreaming","registerMsg","restrictions","invocation_id","callerId","UserSubscription","subscriptionData","params","trackedServers","pair","dataCallback","queued","dataItem","onClosed","closedCallback","onFailed","onConnected","setNewSubscription","newSub","STATUS_AWAITING_ACCEPT","STATUS_SUBSCRIBED","ERR_MSG_SUB_FAILED","ON_CLOSE_MSG_CLIENT_INIT","ClientStreaming","subscriptionsList","subscriptionIdToLocalKeyMap","nextSubLocalKey","handleErrorSubscribing","errorResponse","subLocalKey","pendingSub","timeoutId","callArgs","callOnClosedHandlers","handleSubscribed","acceptingServer","isFirstResponse","serverInstance","handleEventData","trackedServersFound","isPrivateData","oob","sendingServerId","receivedStreamData","private","onDataHandlers","queuedData","handleSubscriptionCancelled","expectedNewLength","closers","getNextSubscriptionLocalKey","registerSubscription","server_id","drainSubscriptions","subsInfo","localKey","closeSubscription","closingServer","closersCount","closingServerId","ClientProtocol","handlePeerAdded","handlePeerRemoved","handleMethodsAddedMessage","handleMethodsRemovedMessage","handleResultMessage","handleInvocationError","newPeerId","new_peer_id","remoteId","meta","local","serverInfo","removedPeerId","removed_id","methodIdList","gW3ProtocolFactory","libConfig","readyPromise","existingSubscriptions_1","registeredMethods","registeredMethods_1","handleReconnect","protocolPromise","MessageBus","publish","topic","routingKey","removeEmptyValues","routing_key","target_identity","watchOnEvent","keysMatch","cleaned","obj1","obj2","keysObj1","allMatch","GlueCore","userConfig","gdVersion","preloadPromise","gdPreloadPromise","_interop","_contexts","_bus","_allowTrace","glueInitTimer","internalConfig","nodeStartingContext","startingContextString","_GD_STARTING_CONTEXT_","_f","getApplication","applicationConfig","instanceId","gwConfig","gateway","gwURL","uniqueAppName","appInstanceId","getConnection","windowAsAny","containerApplication","htmlContainer","containerName","bus","auth","gwToken","getAuth","gdConsoleLevel","defaultLevel","consoleLogLevel","getLogger","libs","customLogger","prepareConfig","registerLib","inner","initTime","initEndTime","initStartTime","setupMetrics","initTimer","metricsPublishingEnabledFunc","getMetricsPublishingEnabled","setupInterop","agmConfig","setupContexts","hasActivities","activities","setupBus","setupExternalLibs","externalLibs","createCallback","setupExternalLib","authPromise","authConfig","libsReadyPromises","coreVersion","feedback","feedbackInfo","timing","extOptions","enrichGlue","updatePerfData","deprecatedDecorator","wrong","proper","agmAny","method_added","method_removed","server_added","server_method_aded","server_method_removed","ActivityEntity","_update","other","_updateCore","_beforeDelete","isString","isUndefined","isUndefinedOrNull","ifNotUndefined","doWithIt","ActivityType","ownerWindow","helperWindows","_ownerWindow","_helperWindows","hw","covertToWindowDef","_manager","windowType","WindowType","appByWindowTypeGetter","_appByWindowTypeGetter","getWindows","activity","isIndependent","createWindow","EntityEvent","entitiy","entity","EntityEventContext","ActivityStatusChangeEventContext","newStatus","oldStatus","EntityEventType","StatusChange","ActivityContextChangedEventContext","ActivityContextChange","Added","Removed","Updated","Closed","ActivityWindowEvent","ActivityWindowJoinedActivity","ActivityWindowLeftActivity","ActivityState","Created","Started","Destroyed","ActivityAGM","_activity","_ensureHasAgm","AGM","methodNames","methodsForWindow","currentWindowMethod","activityServers","promisify$1","potentialTargets","firstElem","_isInstance","_isActivityWindow","parameters","AttachedActivityDescriptor","ownerActivityId","_ownerActivityId","ownerId","windowIds","frameColor","detachActivities","nodeify","resp","Activity","actType","_actType","_status","_context","_ownerId","_agm","getActivityType","addWindowToActivity","createStackedWindows","windowTypes","leaveWindowFromActivity","getWindowsByType","setContext","setActivityContext","updateContext","updateActivityContext","onStatusChange","subscribeActivityEvents","ns","os","subscribeWindowEvents","onContextChanged","subscribeActivityContextChanged","act","stopActivity","attach","attachActivities","onActivityAttached","subscribeActivitiesAttached","newActId","oldActId","onDetached","subscribeActivitiesDetached","newAct","originalActivity","_updateDescriptors","allStates","_attached","setFrameColor","callbacksToWait","underlyingWindow","getFrameColor","LogLevel","Trace","Debug","Info","Warn","Logger$1","GlueLogger","_glueLogger","GetNamed","Get","owner","GetTypeName","Level","_getMessage","ActivityWindow","windowGetter","hcWindowId","_type","_activityId","_instance","_isIndependent","_windowGetter","_hcWindowId","getBounds","getWindowBounds","getWindowType","getActivityById","setVisible","setWindowVisibility","activate","activateWindow","setBounds","setWindowBounds","closeWindow","onActivityJoined","_subscribeForActivityWindowEvent","onActivityRemoved","ActivityStatus","getMessage","gwMmessageError","gwMessageAddActivityTypes","gwMessageActivityCreated","gwMessageActivityDestroyed","gwMessageActivityInitiated","gwMessageJoinedActivity","gwMessageActivityJoined","gwMessageActivityLeft","gwMessageOwnerChanged","gwMessageAddPeerFactories","gwMessagePeerFactoriesAdded","gwMessagePeerFactoriesRemoved","gwMessagePeerCreated","GW3Bridge$1","_activityChangeCallbacks","_activityTypeStatusChangeCallbacks","_activityWindowChangeCallbacks","_windowTypeStatusChangeCallbacks","_peerIdAndFactoryIdToPeerType","_peerFactoriesRegisteredByUs","_contextSubscriptions","_activityTypesInitiatedFromMe","_windows","_sessionJoinedPromise","_sessionJoinedPromiseResolve","_activityJoinedPromise","_activityJoinedPromiseResolve","glue42gd_1","addRefreshHandler","setGWToken","activityTypeGwMessageEntityToActivityType","nameToWindowType","windowName","owner_type","helper_types","peerFactoryGwMessageEntityToWindowType","peer_type","activityGwMessageToActivity","owner_id","activity_type","activityToActivityStatusChangeEvent","forwardActivityTypeMessagesToStatusEventHandlers","handleActivityCreatedMessage","handleActivityDestroyedMessage","forwardActivityMessagesToStatusEventHandlers","forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers","forwardPeerFactoryMessagesToStatusEventHandlers","forwardPeerFactoryMessagesToPeerFactoryRequests","handlePeerFactoriesAdded","handlePeerFactoriesRemoved","forwardActivityWindowMessagesToEventHandlers","disposeRequestHandling","exit","activity_types","typesToTrack","initReady","onActivityTypeStatusChange","registerActivityType","activityTypeName","toActivityPeerConfig","windowDefinition","activityType","invokeCallbacks","unregisterActivityType","onWindowTypeStatusChange","registerWindowFactory","factories","unregisterWindowFactory","factory_ids","onActivityStatusChange","initiateActivity","initiateMsg","initial_context","isOverrideTypeDefinition","types_override","helpers","wd","sendCreateAndMapResultingMessagesToPromise","initMsg","fullReplace","removedKeys","removedKeys_1","announceWindow","activityWindowId","registerWindow","independent","shouldSendReady","activityInfo","getAgmInstance","generateWindowGetter","onActivityWindowChange","cellSize","peer_name","created_id","joinActivity","destroy_peer_id","getAnnouncementInfo","announcementInfo","activityWindowType","activityWindowIndependent","activityWindowName","searchParams","maybeName","target_id","leaveActivity","getActivityTypes","getWindowTypes","getActivities","getActivityWindows","windowDefinitions","cloneActivity","cloneOptions","into","newActivityInfo","onActivitiesAttached","onActivitiesDetached","onActivityAttachedDescriptorsRefreshed","getAttachedDescriptors","getRandomRequestId","forwardAddedAndRemovedMessagesToEventHandler","addedMessageType","removedMessageType","mapper","getGetEntityEvent","isAdded","forwardMessageToEventHandler","messageType","getEntityEvent","ent","initiatedMessageType","initiatedMessageFilter","createdMessageFilter","cancelledMessageType","cancelledMessageFilter","createdMessageToPromiseResolution","resolveCreatedPromise","rejectCreatedPromise","initiatedSubscription","createdSubscription","cancelledSubscription","errorSubscription","reqId","createdPromise","initiatedMessageAck","dropSubscriptions","dropSubscription","msg4","msg1","msg2","msg3","toReturn","peerFactoryIdAndOwnerIdToWindowType","factoryId","peerType","subscribeToContext","unsubscribeContext","activityCreatedMessage","participants","createdMessage","peer_factory","gateway_token","joinedMessage","joinedId","joined_id","joinedType","joined_type","joinedName","joined_name","left_id","ActivityMy","_myAttached","_myDetached","_myAttachedTo","_myDetachedFrom","_myActivityFrameColorChanged","_myActivityJoinedCallbacks","_myActivityRemovedCallbacks","_myContextUpdateCallbacks","_m","am","_subscribeMyContextChanged","_subscribeMyWindowEvent","_subscribeActivitiesAttached","_subscribeActivitiesDetached","onWindowFrameColorChanged","_subscribeWindowFrameColorChanged","_w","announcedWindows","myWin","onActivityLeft","onActivityDetached","onAttachedToActivity","onDetachedFromActivity","attached","onFrameColorChanged","myActivity","_notifyMyContextChanged","_notifyMyWindowEvent","callbackStore","_notifyAttached","_notifyDetached","_notifyAttachedTo","_notifyDetachedFrom","detached","oldAct","ReadyMarker","signalsToWait","_signals","_callbacks","setCallback","isSet","isError","_error","getError","EntityObservableCollection","processNew","_items","_listeners","_processNew","addOne","internalEntity","_updateInternalCollections","_notifyListeners","getByName","getOrWait","entityAddedHandler","entityAsAny","isActivityDestroy","isWindowClose","oldEntity","ActivityManager","autoAnnounce","_announcedWindows","_attachedCallbacks","_detachedCallbacks","_frameColorChangesCallbacks","_windowHandlers","_activityTypes","_grabEntity","_windowTypes","_activities","_dataReadyMarker","_descriptorsMarker","_readyMarker","dataErr","errCatch","refreshDescriptors","_handleActivitiesAttached","_handleActivitiesDetached","_handleActivityDescriptorsRefreshed","_handleWindowFrameColorChanged","_subscribeForData","aw","_getInitialData","bridgeType","ownerWindowType","helperWindowTypes","ownerDefinition","helperDefinitions","relativeTo","relativeDirection","windowStyleAttributes","actId","subscribeActivityTypeEvents","factoryMethod","getName","currentWindow","windowEventHandler_1","unsubscribeWindowEvents","subscribeWindowTypeEvents","window_1","wrappingHandler","windowTypeOrConfiguration","relativeToWindow","invalidKeys_1","filteredWindowTypeOrConfiguration_1","wid","relativeWindowTypes","stackedWindow","tasks","removedKey","descriptors","stateWrapped","subscribeActivityFrameColorChanged","ac","descriptorAsObjectFromAPI","oldActivityId","newActivityId","ActivityManagementAPI","_my","activityTypes","_getActivityTypesWrapper","_getWindowTypesWrapper","registerFactory","unregisterFactory","announce","onAttached","onActivityFrameColorChanged","ActivityAPI","_mgr","aware","inActivity","getAvailableFrameColors","ActivityModule","logLevel","_isUsingHCImplementation","gdMajorVersion","_isUsingGW3Implementation","checkIsUsingGW3Implementation","activityManager","disableAutoAnnounce","_api","_readyPromise","GetFunctionalEntitlementMethodName","CanIMethodName","OnEventMethodName","createRegistry$1","lib$2","objectValues","objectClone","ApplicationImpl","_appManager","onInstanceStarted","onInstanceStopped","onAppRemoved","onAppChanged","onAppAvailable","onAppUnavailable","_props","Title","Version","AutoStart","IsShell","Caption","IsHidden","ApplicationName","ActivityWindowType","Arguments","AllowMultiple","IsReady","Icon","IconUrl","SortOrder","UserProperties","autoStart","allowMultiple","Type","Mode","styleAttributes","WindowStyleAttributes","searchFor","modeIndex","startModeIndex","stopModeIndex","updateFromProps","Name","Context","Options","acsResult","Instance_0","Id","handleInstanceStarted","unsub","check","filtered","isActivityInstance","onInstanceAgmServerReady","waitForApplicationInstance","onAvailable","onUnavailable","InstanceImpl","_appName","startFailed","onAgmReady","_addToRegistry","onStopped","_unsubscribeInstanceStopped","_unsubscribeInstanceAgmServerReady","activityInstance","_isActivityOwner","activityInstances","inst","isActivityOwner","activityOwnerInstance","_startUpContext","_title","_isActivityInstance","_inActivity","_agmInstance","ActivityId","IsActivityOwner","updateAgmInstanceFromProps","AgmServers","GD3","agmInstances","gdAgmServers","propsAgmServer","propsAgm","machineName","userName","handleInstanceStopped","AppManagerImpl","_gdMajorVersion","_apps","_instances","getMyInstance","instanceId_1","handleAppAdded","_getAppId","_updateAppFromProps","handleAppUpdated","handleAppRemoved","handleAppReady","_getAppOrThrow","available","_getInstanceId","_getInstanceAppName","_updateInstanceFromProps","_getInstanceOrThrow","_matchInstance","handleInstanceAgmServerReady","handleInstanceStartFailed","handleInstanceUpdated","onInstanceStartFailed","onInstanceUpdated","onAppAdded","_getInstanceByIdAndName","promisify$2","EntitlementsImpl","_isMethodRegistered","handleBranchModified","handleBranchesModified","getRegion","_agmInvoke","Region","getBranches","Branches","getCurrentBranch","Branch","setRegion","ResultMessage","setCurrentBranch","currentUser","getFunctionalEntitlement","funct","Entitlement","getFunctionalEntitlementBranch","canI","func","Result","canIBranch","onBranchesChanged","onBranchChanged","onShuttingDown","registerMethod","restart","transformFunction","AppManagerFactory","START_ONLY","SKIP_ICONS","entitlements","skipIcon","skipIcons","resolveFunc","rejectFunc","resultPromise","createDataSubscription","windowStore","WindowStore","waitForTimeoutInMilliseconds","_pendingWindows","_pendingWindowsStates","getIfReady","remote","urlChanged","setReadyState","targetWindowState","markReadyToShow","setUrlChangedState","waitFor","onReadyWindow","Utils$1","callbackifyPromise","getMonitor","displays","workingAreaWidth","workingAreaHeight","monitor","totalOverlap","calculateTotalOverlap","getDisplayCenterOfScreen","r1","r2","r1x","r1y","r1xMax","r1yMax","r2x","r2y","r2xMax","r2yMax","windowFactory","executor","appManagerGetter","displayAPIGetter","_group","_mode","_url","_bounds","_frameColor","_focus","_neighbours","neighbours","_groupId","groupId","_isGroupHeaderVisible","isGroupHeaderVisible","_isTabHeaderVisible","isTabHeaderVisible","_isTabSelected","isTabSelected","_settings","_isVisible","_isSticky","isSticky","isCollapsed","_windowState","_tabGroupId","tabGroupId","_isLocked","isLocked","_frameButtons","_zoomFactor","zoomFactor","_placementSettings","placementSettings","moveResize","resolveTimeout","unsubscribeBoundsChanged","resolveImmediately","areBoundsEqual","onBoundsChanged","toBeVisible","isVisibilityCorrect","onVisibilityChanged","waitForLockingChanged","onLockingChanged","onUrlChanged","onCollapsed","onExpanded","onMaximized","onMinimized","onNormal","onTabHeaderVisibilityChanged","onGroupChanged","getNeighboursByDirection","direction","winId","getApplicationName","_APPLICATION_NAME","_t42","getWindowInfo","requested","maxHeight","areHeightsEqual","areWidthsEqual","areLeftsEqual","areTopsEqual","handleWindowClose","handleWindowChangeState","handleTitleChanged","newTitle","handleVisibilityChanged","handleUrlChanged","newUrl","handleWindowSettingsChanged","handleContextUpdated","handleFrameIsLockedChanged","handleBoundsChanged","handleFocusChanged","handleFrameButtonAdded","frameButton","buttonObj","btn","buttonId","handleFrameButtonRemoved","frameButtonId","handleFrameButtonClicked","handleFrameColorChanged","handleFrameAttached","handleFrameSelectionChanged","prevWindow","selectedWindow","previousWindow","un_1","onTabSelectionChanged","newWin","prevWin","handleCompositionChanged","handleGroupHeaderVisibilityChanged","handleTabHeaderVisibilityChanged","handleGroupChanged","newGroup","oldGroup","handleGroupAssociation","group","handleAttached","newTabGroupId","tabHeaderVisible","handleDetached","handleWindowAttached","handleWindowDetached","handleZoomFactorChanged","handleIsStickyChanged","handlePlacementSettingsChanged","displayAPI_1","index_1","hostInstance","monitors","maximizeRestore","currEvent","collapse","toggleCollapse","setStyle","setOnTop","onTop","resetButtons","setSizeConstraints","constraints","navigate","addFrameButton","buttonInfo","imageBase64","removeFrameButton","center","screen","snap","targetWindowGroup","targetGroup","targetWindow","showLoader","loader","hideLoader","unlock","getIcon","icon","setIcon","base64Image","setTabTooltip","attachTab","sourceWindowId","targetWindowId","argsForSend","sourceWin","detachTab","opt","hideTabHeader","visibilityChangeHeard","detachedHeard","unVisibility","unDetached","setTabHeaderVisible","toBeTabHeaderVisible","showPopup","createFlydown","setModalState","setZoomFactor","zoomIn","zoomOut","showDevTools","capture","captureOptions","flash","suppliedOptions","flashOptions","shouldFlash","setSticky","print","printOptions","printToPDF","printToPDFOptions","place","ungroup","ungroupOptions","unGroupChanged","onTitleChanged","onFrameButtonAdded","onFrameButtonRemoved","onFrameButtonClicked","onContextUpdated","onFocusChanged","onStickyChanged","onWindowAttached","onWindowDetached","onClosing","onRefreshing","prevent","onZoomFactorChanged","onPlacementSettingsChanged","getAllTabs","resizeTo","getParentWindow","myParentId","parentInstanceId","getChildWindows","Events","Registry","GDExecutor","agmTarget","stylePromises","wait","toolTip","allowClose","allowCollapse","allowLockUnlock","allowMaximize","allowMinimize","tabTooltip","tabToolTip","buttonsConfig","snappingEdge","dataURL","toShow","optionsCopy","reformatedOptions","targetLocation","popupBounds","targetId","fullOptions","horizontalOffset","verticalOffset","reformatFlydownOptions","zoneIds","zones","flydownSize","cancel","clearFlydownArea","handleFlydownBoundsRequested","cancelCallback","responses","defaultResponse","zoneId","flydownId","flydownWindowBounds","flydownWindowId","captureGroup","groupWindowIds","configure","filePath","setGroupHeaderVisible","getGroupTitle","setGroupTitle","addCloseHandler","assignGeneralIfUnassigned","zone","valueFromOptions","flydownBounds","flydownActiveArea","activeArea","areaIds","getWindowsByTabGroupId","alphabet$1","previousSeed$1","shuffled$1","GDEnvironment","wndId","_waitTimeout","normalizeInstance","_windowId","_appManagerGetter","_displayAPIGetter","caller","respondToEvent","streamResolve","streamReject","updateWindow","copyOptions","windowState","tabAttached","tabDetached","onEvent","onCompositionChanged","onGroupHeaderVisibilityChanged","onWindowGotFocus","onWindowLostFocus","windowInfo","readyResolve","extendedStreamEvent","getExtendedStreamEvent","windowInfoCreatedEvent","windowObjectAndEvents","theWindow","theWindowEvents","windowInfoBoundsChangedEvent","windowInfoUrlChangedEvent","windowInfoTitleChanged","windowInfoIsStickyChangedChanged","windowInfoCompositionChanged","neighbors","groupHeaderVisible","windowInfoFocusChanged","focusChanged","winsToBeNotified_1","oldTabGroupId","winsToBeNotified_2","prevWindowId","windowObjAndEvents","mapToWindowConstructorOptions","isActiveTab","streamEvent","charAt","groupFactory","_windowsId","waitForHeaderVisibilityChanged","onHeaderVisibilityChanged","groupObject","_mapToWindowObjects","winObjects","windowObject","_mapToWindowObject","mappedWindows","mappedWindow","showHeader","hideHeader","groupAPI","groupInternal","removeWindow","window_2","groupsFactory","_groups","heardForWindowsCounter","findGroupByWindow","groupFound","addNewWindow","windowGroupId","createdGroup","createOrGetGroup","deleteGroup","newGroupId","oldGroupId","groupEvents","groupsAPI","groupsEvents","onWindowMoved","WindowsFactory","groups","gdPromise","rej","envDetector","myWindow","windowAdded","windowRemoved","errorHandler","windowsForListing","onTabAttached","onTabDetached","unsubFunc","unsubscribed","store","LayoutStore","removeWhere","condition","seed$1","randomFromSeed$1","ORIGINAL$1","reset$1","setCharacters$1","getShuffled$1","shuffle$1","alphabet_1$1","crypto$1","randomByteBrowser$1","encode_1$1","decode_1$1","build_1","isValid$1","lib$3","createCommonjsModule$1","shortid$1","ContextProvider","activitiesGetter","registerRequestMethods","onSaveRequested","context_1","activityIsOwner","usersCbs","requestResult","autoSaveWindowContext","windowContext","activityContext","transformACSLayout","something","accumulator","convertedValue","LayoutImpl","LayoutsAPIImpl","activityGetter","setDefaultGlobal","clearDefaultGlobal","getDefaultGlobal","isSlimMode","gotSnapshot","verifyNotSlimMode","ignoreHidden","layoutObject","actIds","appIds","ignoreLayoutRestrictions","myInstance","isVisibleWindow","ignoreMyInstance","autoCollectApps","invokeMethodAndTrack","activityIdToJoin","restoreActivityOwner","ignoreActivityWindowTypes","closeRunningInstance","reuseWindows","t42","activityToJoin","closeOldWindows","reuseExistingWindows","toClose","splash","getInstancesToClose","layoutType","getObjectValues","Layouts","rename","newName","oldName","updateMetadata","hibernate","resume","getCurrentLayout","onRestored","onRenamed","updateAppContextInCurrent","updateDefaultContext","skipStreamEvent","agmResult","streamEventReceived","handleResult","shellApp","shellApplicationName","ACSStream","resolveReady","rejectReady","resolveGotSnapshot","rejectGotSnapshot","noRetry","checkForLayoutEventMethod","IsSnapshot","addLayouts","OnLayoutAdded","removeLayouts","OnLayoutRemoved","changeLayouts","OnLayoutChanged","renameLayouts","OnLayoutRenamed","restoredLayout","OnLayoutRestored","Token","layoutsData","removedLayouts","removedLayout","existingLayout","compareLayouts","changedLayouts","changedLayout","renamedLayouts","renamedLayout","layout1","layout2","restoredLayouts","LayoutsFactory","acsStream","DisplayCommand","DisplayManager","callGD","GetAll","decorateDisplay","getPrimary","isPrimary","Capture","captureAll","CaptureAll","getMousePosition","GetMousePosition","original","switchChannel","channel","swId","newChannel","CONTEXT_PREFIX","SharedContextSubscriber","subscribeFor","isChannel","createContextName","___","startsWith","channelContextName","getContextData","updateChannel","updateData","channelName","ChannelsImpl","shared","subsKey","changedKey","channelNames","joinCore","joinNoSelectorSwitch","leaveCore","leaveNoSelectorSwitch","changed","changeSelector","doesChannelExist","intervalId","sharedContexts","channels","interopLib","setupAGM","CommandMethod","HotkeysImpl","firstHotkey","hotkeys","hkToLower","hotkey","formatHotkey","registerInvokeAGMMethod","unregisterAll","isRegistered","version$2","prepareConfig$1","getLibConfig","defaultMode","trueMode","getModeAsString","Glue42Notification","actions","badge","renotify","requireInteraction","silent","Notifications","methodsRegistered","methodNameRoot","notifications","raise","bunchOfPromises","notification","validActions","validActions_1","g42notification","maxActions","handleNotificationAction","severity","glueRoutingDetailMethodName","g42notificationId","g42action","g42interopMethod","g42interopTarget","stringValue","glueAction","payload_1","event_1","onaction","actionInterop","event_2","clickInterop","ThemesImpl","core","isSubscribed","getConfiguration","getMethodName","getCurrent","theme","setMethodName","sharedContextName","getThemesMethodName","setThemesMethodName","GLUE42_FDC3_INTENTS_METHOD_PREFIX","Intents","intentFilter","intents","ctToLower_1","intent","contextType","contextTypes","intentName","intentDef","isDynamicIntent","anAppHandler","anInstanceHandler","intentDefHandler","intentHandler","startApp","raiseIntentToInstance","apps_1","intents_1","appsWithIntents","appsWithIntents_1","withIntentsInfo","applicationTitle","applicationDescription","applicationIcon","appIntent","_h","_j","_k","_l","appWithIntents","appDefIntent","instanceTitle","addIntentListener","methodDescription","registeredIntent","interopServer","registeredMethod","addedMethod","factory$3","createWindows","glueConfig","windowsLogger","getLibLogger","debugLog","_displays","createActivities","activityLogger","createAppManager","createLayouts","layoutsConfig","lay","createChannels","channelsAPI","createHotkeys","hotkeysAPI","factory$1","createIntents","intentsAPI","createNotifications","notificationsAPI","createDisplaysApi","displaysLogger","createThemes","themesAPI","themes","factory$2","newLogger","loggerConfig","currentLog","glueApi","glueFactoryLog","libraries","whatToExpose","shouldSetToWindow","autoInjected","parseConfig","combined","systemLogger","checkSingleton","glue42CoreNamespace","glue42core","webStarted","enterprise","enterpriseConfig","libDomainDecoder","windowOperationTypesDecoder","appManagerOperationTypesDecoder","layoutsOperationTypesDecoder","windowRelativeDirectionDecoder","windowOpenSettingsDecoder","openWindowConfigDecoder","windowHelloDecoder","coreWindowDataDecoder","simpleWindowDecoder","helloSuccessDecoder","isWorkspaceFrame","windowTitleConfigDecoder","windowMoveResizeConfigDecoder","windowBoundsResultDecoder","windowUrlResultDecoder","anyDecoder","boundsDecoder","instanceDataDecoder","applicationDetailsDecoder","intentDefinitionDecoder","customConfig","applicationDefinitionDecoder","customProperties","appRemoveConfigDecoder","definitions","appsExportOperationDecoder","applicationDataDecoder","baseApplicationDataDecoder","appHelloSuccessDecoder","apps","basicInstanceDataDecoder","applicationStartConfigDecoder","waitForAGMReady","layoutTypeDecoder","componentTypeDecoder","windowLayoutComponentDecoder","componentType","main","workspaceLayoutComponentDecoder","glueLayoutDecoder","newLayoutOptionsDecoder","restoreOptionsDecoder","simpleLayoutConfigDecoder","getAllLayoutsConfigDecoder","allLayoutsFullConfigDecoder","importModeDecoder","layoutsImportConfigDecoder","allLayoutsSummariesResultDecoder","optionalSimpleLayoutResult","intentsOperationTypesDecoder","intentHandlerDecoder","intentDecoder","intentTargetDecoder","intentContextDecoder","wrappedIntentsDecoder","intentFilterDecoder","findFilterDecoder","wrappedIntentFilterDecoder","intentRequestDecoder","raiseRequestDecoder","intentResultDecoder","addIntentListenerRequestDecoder","addIntentListenerIntentDecoder","channelNameDecoder","operations","openWindow","dataDecoder","windowHello","getUrl","WebWindowModel","myCtxKey","ctxUnsubscribe","contextLib","dimension","targetBounds","commandArgs","ttl","WindowsController","allWindowProjections","coreGlue","publicWindowId","addWindowOperationExecutors","platformRegistration","registerWithPlatform","toApi","operationData","windowSuccess","buildWebWindow","projection","handleWindowAdded","handleWindowRemoved","handleGetBounds","handleGetTitle","handleGetUrl","handleMoveResize","handleSetTitle","helloSuccess","sayHello","currentWindows","webWindowProjection","clean","targetTop","targetLeft","targetHeight","targetWidth","moveMethod","moveBy","resizeMethod","resizeBy","PromiseWrap","GlueWebPlatformControlName","GlueWebPlatformStreamName","GlueBridge","platformMethodTimeoutMs","controllers","checkWaitMethod","passMessageController","pkg","transmitMessage","unSub","decodeResult","handleBridgeMessage","resolutionData","messageData","operations$1","appHello","applicationAdded","applicationRemoved","applicationChanged","instanceStarted","instanceStopped","applicationStart","instanceStop","AppManagerController","addOperationsExecutors","startOptions","openResult","buildInstance","getApplications","getInstances","handleApplicationAddedMessage","handleApplicationRemovedMessage","handleApplicationChangedMessage","handleInstanceStartedMessage","handleInstanceStoppedMessage","appData","buildApplication","appIndex","instanceData","instIdx","instIdxApps","verifiedName","instancesSoFar","findMyInstance","foundInstance","InstanceModel","getInteropInstance","ApplicationModel","startApplication","operations$2","layoutAdded","layoutChanged","layoutRemoved","LayoutsController","handleOnAdded","handleOnChanged","NotificationsController","permissionPromise","Notification","permission","requestPermission","raiseUsingWebApi","interopOptions","operations$3","getIntents","findIntent","raiseIntent","IntentsController","GlueWebIntentsPrefix","requestObj","subscribed","intentFilterObj","ChannelsController","GlueWebChannelsPrefix","SubsKey","ChangedKey","currentChannelName","getAllChannelNames","channelContexts","switchToChannel","windowsController","appManagerController","layoutsController","notificationsController","intentsController","channelsController","applicationInstances","_windowsControllerInstance","_appManagerControllerInstance","_layoutsControllerInstance","_notificationsControllerInstance","_intentsControllerInstance","_channelsControllerInstance","lib$1$1","PromisePlus$1","WebPlatformTransport","parentReady","iAmConnected","parentPingTimeout","connectionRequestTimeout","defaultTargetString","connectionAccepted","handleConnectionAccepted","connectionRejected","handleConnectionRejected","connectionRequest","handleConnectionRequest","handleParentReady","parentPing","handleParentPing","platformPing","handlePlatformPing","platformUnload","handlePlatformUnload","platformReady","handlePlatformReady","clientUnload","handleClientUnload","setUpMessageListener","setUpUnload","waitParent","initiateRemoteConnection","connectionResolve","connectionReject","myClientId","bridgeInstanceId","clientId","clientType","parentPingResolve","checkMessageTypeValid","ownWindowId","handleAcceptanceOfMyRequest","handleAcceptanceOfGrandChildRequest","parentWindowId","grandChildId","rejectConnectionRequest","typeToValidate","rejection","getInvokePromise","coreFactoryFunction","glueWebFactory","windowAny","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","__self","__source","defaultProps","$$typeof","_owner","jsx","jsxs","StrictMode","Profiler","Suspense","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","updater","isReactComponent","forceUpdate","isPureReactComponent","_result","ReactCurrentDispatcher","ReactCurrentBatchConfig","transition","IsSomeRendererActing","Children","count","only","PureComponent","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Consumer","createFactory","isValidElement","_payload","_init","useCallback","useDebugValue","useMemo","useReducer","aa","ba","ca","da","ea","fa","ha","ia","ja","ka","acceptsBooleans","attributeNamespace","mustUseProperty","sanitizeURL","removeEmptyString","oa","pa","qa","ma","na","la","setAttributeNS","xlinkHref","ra","sa","ta","ua","wa","xa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ma","Ka","La","Na","Oa","Pa","prepareStackTrace","Reflect","construct","Qa","Ra","Sa","Ta","Va","_valueTracker","getOwnPropertyDescriptor","getValue","setValue","stopTracking","Ua","Wa","Xa","Ya","defaultChecked","_wrapperState","initialChecked","Za","initialValue","controlled","$a","ab","bb","eb","db","fb","defaultSelected","gb","dangerouslySetInnerHTML","hb","ib","jb","kb","lb","mb","nb","ob","valueOf","MSApp","execUnsafeLocalFunction","pb","qb","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columns","flex","flexPositive","flexNegative","flexOrder","gridRowSpan","gridColumnSpan","lineClamp","tabSize","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","rb","sb","tb","ub","menuitem","area","embed","hr","img","keygen","link","track","wbr","vb","wb","xb","srcElement","correspondingUseElement","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Ob","Pb","Qb","Rb","onError","Sb","Tb","Ub","Vb","Wb","Xb","Zb","alternate","$b","memoizedState","dehydrated","cc","sibling","bc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","nc","oc","pc","qc","blockedOn","domEventName","eventSystemFlags","nativeEvent","targetContainers","sc","tc","vc","lanePriority","unstable_runWithPriority","priority","hydrate","containerInfo","xc","yc","zc","Ac","Bc","unstable_scheduleCallback","unstable_NormalPriority","Cc","Dc","Ec","animationend","animationiteration","animationstart","transitionend","Fc","Gc","Hc","animation","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","unstable_now","Rc","Uc","pendingLanes","expiredLanes","suspendedLanes","pingedLanes","Vc","entangledLanes","entanglements","Wc","Xc","Yc","Zc","$c","eventTimes","clz32","cd","dd","unstable_UserBlockingPriority","ed","fd","gd","hd","uc","jd","kd","ld","md","nd","od","pd","qd","rd","_reactName","_targetInst","cancelBubble","persist","isPersistent","xd","yd","sd","isTrusted","ud","vd","Ad","getModifierState","zd","fromElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Jd","clipboardData","Ld","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","8","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","112","113","114","115","116","117","118","119","120","121","122","123","144","145","224","Od","Alt","Control","Meta","Shift","Pd","Rd","repeat","locale","Td","pressure","tangentialPressure","tiltX","tiltY","twist","Vd","Xd","Zd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","$d","documentMode","datetime","email","month","range","tel","week","oninput","detachEvent","Ke","HTMLIFrameElement","contentEditable","Qe","selectionStart","selectionEnd","anchorNode","getSelection","anchorOffset","focusNode","focusOffset","Ze","Yb","af","bf","cf","df","passive","Nb","ef","ff","gf","hf","jf","kf","lf","mf","autoFocus","nf","__html","of","pf","qf","rf","sf","previousSibling","tf","vf","wf","xf","yf","zf","Af","Bf","Cf","Df","Ef","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Ff","childContextTypes","Gf","Hf","If","getChildContext","Jf","__reactInternalMemoizedMergedChildContext","Kf","Lf","Mf","Nf","Of","Pf","unstable_cancelCallback","Qf","unstable_shouldYield","Rf","unstable_requestPaint","Sf","Tf","unstable_getCurrentPriorityLevel","Uf","unstable_ImmediatePriority","Vf","Wf","Xf","unstable_LowPriority","Yf","unstable_IdlePriority","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","childLanes","tg","dependencies","firstContext","lanes","ug","vg","observedBits","responders","wg","xg","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","pending","effects","yg","zg","eventTime","lane","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Kg","_reactInternals","Hg","Ig","Jg","Lg","shouldComponentUpdate","Mg","Ng","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Og","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Pg","Qg","_stringRef","Rg","Sg","lastEffect","nextEffect","firstEffect","Tg","Ug","elementType","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","fh","gh","hh","ih","memoizedProps","revealOrder","jh","kh","lh","mh","nh","oh","pendingProps","ph","qh","rh","sh","uh","_workInProgressVersionPrimary","vh","wh","xh","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","baseQueue","Ih","Jh","Kh","lastRenderedReducer","eagerReducer","eagerState","lastRenderedState","Lh","Mh","_getVersion","_source","mutableReadLanes","Nh","setSnapshot","Oh","Ph","Qh","Rh","deps","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","readContext","useDeferredValue","useTransition","useMutableSource","useOpaqueIdentifier","unstable_isNewReconciler","uf","ei","fi","gi","ii","ji","ki","li","mi","baseLanes","ni","oi","pi","UNSAFE_componentWillUpdate","componentDidUpdate","qi","getDerivedStateFromError","ri","pendingContext","Bi","Di","Ei","si","retryLane","ti","unstable_avoidThisFallback","ui","unstable_expectedLoadTime","vi","wi","xi","yi","zi","isBackwards","rendering","renderingStartTime","tail","tailMode","Ai","Fi","Gi","wasMultiple","multiple","createElementNS","Hi","Ii","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","componentDidCatch","Ti","componentStack","Ui","Vi","Wi","Xi","__reactInternalSnapshotBeforeUpdate","Yi","Zi","$i","aj","bj","onCommitFiberUnmount","componentWillUnmount","cj","dj","ej","fj","gj","hj","_reactRootContainer","ij","jj","kj","lj","mj","nj","oj","pj","qj","rj","sj","tj","uj","vj","wj","ck","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","Sc","Kj","Lj","Mj","callbackNode","expirationTimes","callbackPriority","Tc","Nj","Oj","Pj","Qj","Rj","Sj","Tj","finishedWork","finishedLanes","Uj","timeoutHandle","Wj","Xj","pingCache","Yj","Zj","va","ak","bk","dk","rangeCount","focusedElem","selectionRange","ek","createRange","setStart","removeAllRanges","addRange","setEnd","onCommitFiberRoot","fk","gk","ik","pendingChildren","jk","mutableSourceEagerHydrationData","kk","lk","mk","nk","qk","hydrationOptions","mutableSources","_internalRoot","rk","tk","hasAttribute","sk","uk","hk","unstable_observedBits","form","Vj","vk","wk","findFiberByHostInstance","bundleType","rendererPackageName","xk","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","yk","supportsFiber","inject","findDOMNode","flushSync","unstable_batchedUpdates","unstable_createPortal","unstable_renderSubtreeIntoContainer","MessageChannel","unstable_forceFrameRate","cancelAnimationFrame","port2","port1","sortIndex","expirationTime","priorityLevel","unstable_Profiling","unstable_continueExecution","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_wrapCallback","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","awrap","skipTempReset","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","propFullName","getShim","isRequired","ReactPropTypes","symbol","any","arrayOf","instanceOf","objectOf","oneOfType","shape","exact","checkPropTypes","PropTypes","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN"],"mappings":"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","file":"static/js/2.bc2d19d3.chunk.js","sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { createContext, memo } from 'react';\r\nimport { node, object } from 'prop-types';\r\nimport { Glue42Web } from '@glue42/web';\r\nimport { Glue42 } from '@glue42/desktop';\r\nimport { useGlueInit } from './useGlueInit';\r\nimport { GlueProviderProps } from '../react-hooks';\r\n\r\nexport const GlueContext = createContext<Glue42Web.API | Glue42.Glue>(null);\r\n\r\nexport const GlueProvider: React.FC<GlueProviderProps> = memo(\r\n    ({ children, fallback = null, settings = {} }) => {\r\n        \r\n        const glue = useGlueInit(settings);\r\n\r\n        return glue ? (\r\n            <GlueContext.Provider value={glue}>{children}</GlueContext.Provider>\r\n        ) : (\r\n            <>{fallback}</>\r\n        );\r\n    }\r\n);\r\n\r\nGlueProvider.propTypes = {\r\n    children: node,\r\n    settings: object,\r\n    fallback: node,\r\n};\r\n\r\nGlueProvider.displayName = 'GlueProvider';\r\n","import { useEffect, useState } from \"react\";\r\nimport { UseGlueInitFunc } from \"../react-hooks\";\r\n\r\nexport const useGlueInit: UseGlueInitFunc = (settings) => {\r\n    const [glue, setGlue] = useState(null);\r\n    useEffect(() => {\r\n        const initialize = async () => {\r\n            try {\r\n                if (settings.web && settings.webPlatform) {\r\n                    throw new Error(\"Cannot initialize, because the settings are over-specified: defined are both web and webPlatform. Please set one or the other\");\r\n                }\r\n\r\n                const isEnterprise = typeof (window as any).glue42gd !== \"undefined\";\r\n\r\n                if (isEnterprise) {\r\n                    const factory = settings.desktop?.factory || settings.web?.factory || settings.webPlatform?.factory || (window as any).Glue;\r\n                    const config = settings.desktop?.config || settings.web?.config || settings.webPlatform?.config;\r\n\r\n                    const glue = await factory(config);\r\n\r\n                    setGlue(glue);\r\n                    return;\r\n                }\r\n\r\n                const config = settings.web?.config || settings.webPlatform?.config;\r\n                const factory = settings.web?.factory || settings.webPlatform?.factory || (window as any).GlueWeb || (window as any).GlueWebPlatform;\r\n\r\n                const glue = await factory(config);\r\n                setGlue(glue);\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        };\r\n        initialize();\r\n    }, []);\r\n    return glue;\r\n};\r\n","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","\"use strict\";\r\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\n;\r\ncreateRegistry.default = createRegistry;\r\nmodule.exports = createRegistry;\r\n//# sourceMappingURL=index.js.map","/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\r\n\r\nvar result = Object.freeze({\r\n\tok: ok,\r\n\tisOk: isOk,\r\n\terr: err,\r\n\tisErr: isErr,\r\n\tasPromise: asPromise,\r\n\twithDefault: withDefault,\r\n\twithException: withException,\r\n\tsuccesses: successes,\r\n\tmap: map,\r\n\tmap2: map2,\r\n\tmapError: mapError,\r\n\tandThen: andThen\r\n});\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Type guard for `DecoderError`. One use case of the type guard is in the\r\n * `catch` of a promise. Typescript types the error argument of `catch` as\r\n * `any`, so when dealing with a decoder as a promise you may need to\r\n * distinguish between a `DecoderError` and an error string.\r\n */\r\nvar isDecoderError = function (a) {\r\n    return a.kind === 'DecoderError' && typeof a.at === 'string' && typeof a.message === 'string';\r\n};\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined || json === null ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\r\n\r\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.unknownJson` */\r\nvar unknownJson = Decoder.unknownJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.tuple` */\r\nvar tuple = Decoder.tuple;\r\n/** See `Decoder.dict` */\r\nvar dict = Decoder.dict;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.union` */\r\nvar union = Decoder.union;\r\n/** See `Decoder.intersection` */\r\nvar intersection = Decoder.intersection;\r\n/** See `Decoder.withDefault` */\r\nvar withDefault$1 = Decoder.withDefault;\r\n/** See `Decoder.valueAt` */\r\nvar valueAt = Decoder.valueAt;\r\n/** See `Decoder.succeed` */\r\nvar succeed = Decoder.succeed;\r\n/** See `Decoder.fail` */\r\nvar fail = Decoder.fail;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\r\n\r\nexport { result as Result, Decoder, isDecoderError, string, number, boolean, anyJson, unknownJson, constant, object, array, tuple, dict, optional, oneOf, union, intersection, withDefault$1 as withDefault, valueAt, succeed, fail, lazy };\r\n//# sourceMappingURL=index.es5.js.map\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-use-before-define */\r\nimport { Decoder, object, boolean, string, optional, array, oneOf, constant, lazy, number, anyJson, intersection } from \"decoder-validate\";\r\nimport { IsWindowInSwimlaneResult, WorkspaceSnapshotResult, ChildSnapshotResult, WorkspaceConfigResult, FrameSummaryResult, WorkspaceCreateConfigProtocol, GetFrameSummaryConfig, WorkspaceSummaryResult, LayoutSummariesResult, LayoutSummary, OpenWorkspaceConfig, FrameSummariesResult, WorkspaceSummariesResult, ExportedLayoutsResult, DeleteLayoutConfig, SimpleItemConfig, ResizeItemConfig, MoveFrameConfig, FrameSnapshotResult, BaseChildSnapshotConfig, ParentSnapshotConfig, SwimlaneWindowSnapshotConfig, SimpleWindowOperationSuccessResult, SetItemTitleConfig, MoveWindowConfig, AddWindowConfig, AddContainerConfig, AddItemResult, BundleConfig, WorkspaceStreamData, FrameStreamData, ContainerStreamData, ContainerSummaryResult, WindowStreamData, PingResult, FrameStateConfig, FrameStateResult } from \"../types/protocol\";\r\nimport { WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\nexport const nonEmptyStringDecoder: Decoder<string> = string().where((s) => s.length > 0, \"Expected a non-empty string\");\r\nexport const nonNegativeNumberDecoder: Decoder<number> = number().where((num) => num >= 0, \"Expected a non-negative number\");\r\n\r\nexport const isWindowInSwimlaneResultDecoder: Decoder<IsWindowInSwimlaneResult> = object({\r\n    inWorkspace: boolean()\r\n});\r\n\r\nexport const allParentDecoder: Decoder<\"workspace\" | \"row\" | \"column\" | \"group\"> = oneOf<\"workspace\" | \"row\" | \"column\" | \"group\">(\r\n    constant(\"workspace\"),\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const subParentDecoder: Decoder<\"row\" | \"column\" | \"group\"> = oneOf<\"row\" | \"column\" | \"group\">(\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const frameStateDecoder: Decoder<\"maximized\" | \"minimized\" | \"normal\"> = oneOf<\"maximized\" | \"minimized\" | \"normal\">(\r\n    constant(\"maximized\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\")\r\n);\r\n\r\nexport const checkThrowCallback = (callback: unknown, allowUndefined?: boolean): void => {\r\n    const argumentType = typeof callback;\r\n\r\n    if (allowUndefined && argumentType !== \"function\" && argumentType !== \"undefined\") {\r\n        throw new Error(`Provided argument must be either undefined or of type function, provided: ${argumentType}`);\r\n    }\r\n\r\n    if (!allowUndefined && argumentType !== \"function\") {\r\n        throw new Error(`Provided argument must be of type function, provided: ${argumentType}`);\r\n    }\r\n};\r\n\r\nexport const workspaceBuilderCreateConfigDecoder: Decoder<Glue42Workspaces.WorkspaceCreateConfig> = optional(object({\r\n    saveLayout: optional(boolean())\r\n}));\r\n\r\nexport const deleteLayoutConfigDecoder: Decoder<DeleteLayoutConfig> = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\n\r\nexport const swimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: optional(constant(\"window\")),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson())\r\n});\r\n\r\nexport const strictSwimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: constant(\"window\"),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson())\r\n});\r\n\r\nexport const parentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = optional(object({\r\n    type: optional(subParentDecoder),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                swimlaneWindowDefinitionDecoder,\r\n                parentDefinitionDecoder\r\n            )\r\n        ))\r\n    )\r\n}));\r\n\r\nexport const strictParentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: subParentDecoder,\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    )\r\n});\r\n\r\nexport const stateDecoder: Decoder<\"maximized\" | \"normal\"> = oneOf<\"maximized\" | \"normal\">(\r\n    (string().where((s) => s.toLowerCase() === \"maximized\", \"Expected a case insensitive variation of 'maximized'\") as Decoder<\"maximized\">),\r\n    (string().where((s) => s.toLowerCase() === \"normal\", \"Expected a case insensitive variation of 'normal'\") as Decoder<\"normal\">)\r\n);\r\n\r\nexport const newFrameConfigDecoder: Decoder<Glue42Workspaces.NewFrameConfig> = object({\r\n    bounds: optional(object({\r\n        left: optional(number()),\r\n        top: optional(number()),\r\n        width: optional(nonNegativeNumberDecoder),\r\n        height: optional(nonNegativeNumberDecoder)\r\n    }))\r\n});\r\n\r\nexport const restoreTypeDecoder: Decoder<Glue42Workspaces.RestoreType> = oneOf<\"direct\" | \"delayed\" | \"lazy\">(\r\n    constant(\"direct\"),\r\n    constant(\"delayed\"),\r\n    constant(\"lazy\")\r\n);\r\n\r\nexport const restoreWorkspaceConfigDecoder: Decoder<Glue42Workspaces.RestoreWorkspaceConfig> = optional(object({\r\n    app: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    restoreType: optional(restoreTypeDecoder),\r\n    title: optional(nonEmptyStringDecoder),\r\n    reuseWorkspaceId: optional(nonEmptyStringDecoder),\r\n    frameId: optional(nonEmptyStringDecoder),\r\n    lockdown: optional(boolean()),\r\n    activateFrame: optional(boolean()),\r\n    newFrame: optional(oneOf<Glue42Workspaces.NewFrameConfig | boolean>(\r\n        newFrameConfigDecoder,\r\n        boolean()\r\n    )),\r\n    noTabHeader: optional(boolean()),\r\n    inMemoryLayout: optional(boolean())\r\n}));\r\n\r\nexport const openWorkspaceConfigDecoder: Decoder<OpenWorkspaceConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    restoreOptions: optional(restoreWorkspaceConfigDecoder)\r\n});\r\n\r\nexport const workspaceDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceDefinition> = object({\r\n    children: optional(array(oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n        swimlaneWindowDefinitionDecoder,\r\n        parentDefinitionDecoder\r\n    ))),\r\n    context: optional(anyJson()),\r\n    config: optional(object({\r\n        title: optional(nonEmptyStringDecoder),\r\n        position: optional(nonNegativeNumberDecoder),\r\n        isFocused: optional(boolean()),\r\n        noTabHeader: optional(boolean())\r\n    })),\r\n    frame: optional(object({\r\n        reuseFrameId: optional(nonEmptyStringDecoder),\r\n        newFrame: optional(oneOf<boolean | Glue42Workspaces.NewFrameConfig>(\r\n            boolean(),\r\n            newFrameConfigDecoder\r\n        ))\r\n    }))\r\n});\r\n\r\nexport const builderConfigDecoder: Decoder<Glue42Workspaces.BuilderConfig> = object({\r\n    type: allParentDecoder,\r\n    definition: optional(oneOf<Glue42Workspaces.WorkspaceDefinition | Glue42Workspaces.BoxDefinition>(\r\n        workspaceDefinitionDecoder,\r\n        parentDefinitionDecoder\r\n    ))\r\n});\r\n\r\nexport const workspaceCreateConfigDecoder: Decoder<WorkspaceCreateConfigProtocol> = intersection(\r\n    workspaceDefinitionDecoder,\r\n    object({\r\n        saveConfig: optional(object({\r\n            saveLayout: optional(boolean())\r\n        }))\r\n    })\r\n);\r\n\r\nexport const getFrameSummaryConfigDecoder: Decoder<GetFrameSummaryConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameSummaryDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder\r\n});\r\n\r\nexport const workspaceSummaryDecoder: Decoder<Glue42Workspaces.WorkspaceSummary> = object({\r\n    id: nonEmptyStringDecoder,\r\n    frameId: nonEmptyStringDecoder,\r\n    positionIndex: number(),\r\n    title: nonEmptyStringDecoder,\r\n    focused: boolean(),\r\n    layoutName: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const containerSummaryDecoder: Decoder<Glue42Workspaces.BoxSummary> = object({\r\n    type: subParentDecoder,\r\n    id: nonEmptyStringDecoder,\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number()\r\n});\r\n\r\nexport const eventTypeDecoder: Decoder<WorkspaceEventType> = oneOf<\"frame\" | \"workspace\" | \"container\" | \"window\">(\r\n    constant(\"frame\"),\r\n    constant(\"workspace\"),\r\n    constant(\"container\"),\r\n    constant(\"window\")\r\n);\r\n\r\nexport const streamRequestArgumentsDecoder: Decoder<{ type: WorkspaceEventType; branch: string }> = object({\r\n    type: eventTypeDecoder,\r\n    branch: nonEmptyStringDecoder\r\n});\r\n\r\nexport const workspaceEventActionDecoder: Decoder<WorkspaceEventAction> = oneOf<\"opened\" | \"closing\" | \"closed\" | \"focus\" | \"added\" | \"loaded\" | \"removed\" | \"childrenUpdate\" | \"containerChange\" | \"maximized\" | \"minimized\" | \"normal\" | \"selected\">(\r\n    constant(\"opened\"),\r\n    constant(\"closing\"),\r\n    constant(\"closed\"),\r\n    constant(\"focus\"),\r\n    constant(\"added\"),\r\n    constant(\"loaded\"),\r\n    constant(\"removed\"),\r\n    constant(\"childrenUpdate\"),\r\n    constant(\"containerChange\"),\r\n    constant(\"maximized\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\"),\r\n    constant(\"selected\")\r\n);\r\n\r\nexport const workspaceConfigResultDecoder: Decoder<WorkspaceConfigResult> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder,\r\n    positionIndex: nonNegativeNumberDecoder,\r\n    name: nonEmptyStringDecoder,\r\n    layoutName: optional(nonEmptyStringDecoder)\r\n});\r\n\r\n// todo: remove number positionIndex when fixed\r\nexport const baseChildSnapshotConfigDecoder: Decoder<BaseChildSnapshotConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number()\r\n});\r\n\r\nexport const parentSnapshotConfigDecoder: Decoder<ParentSnapshotConfig> = anyJson();\r\n\r\n// todo: remove optional isMaximized when fixed\r\nexport const swimlaneWindowSnapshotConfigDecoder: Decoder<SwimlaneWindowSnapshotConfig> = intersection(\r\n    baseChildSnapshotConfigDecoder,\r\n    object({\r\n        windowId: optional(nonEmptyStringDecoder),\r\n        isMaximized: optional(boolean()),\r\n        isFocused: boolean(),\r\n        title: optional(string()),\r\n        appName: optional(nonEmptyStringDecoder)\r\n    })\r\n) as any;\r\n\r\nexport const childSnapshotResultDecoder: Decoder<ChildSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: oneOf<ParentSnapshotConfig | SwimlaneWindowSnapshotConfig>(\r\n        parentSnapshotConfigDecoder,\r\n        swimlaneWindowSnapshotConfigDecoder\r\n    ),\r\n    children: optional(lazy(() => array(childSnapshotResultDecoder))),\r\n    type: oneOf<\"window\" | \"row\" | \"column\" | \"group\">(\r\n        constant(\"window\"),\r\n        constant(\"row\"),\r\n        constant(\"column\"),\r\n        constant(\"group\")\r\n    )\r\n});\r\n\r\nexport const workspaceSnapshotResultDecoder: Decoder<WorkspaceSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder,\r\n    children: array(childSnapshotResultDecoder),\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const customWorkspaceChildSnapshotDecoder: Decoder<ChildSnapshotResult> = object({\r\n    id: optional(nonEmptyStringDecoder),\r\n    config: oneOf<ParentSnapshotConfig | SwimlaneWindowSnapshotConfig>(\r\n        parentSnapshotConfigDecoder,\r\n        swimlaneWindowSnapshotConfigDecoder\r\n    ),\r\n    children: optional(lazy(() => array(customWorkspaceChildSnapshotDecoder))),\r\n    type: oneOf<\"window\" | \"row\" | \"column\" | \"group\">(\r\n        constant(\"window\"),\r\n        constant(\"row\"),\r\n        constant(\"column\"),\r\n        constant(\"group\")\r\n    )\r\n});\r\n\r\nexport const windowLayoutItemDecoder: Decoder<Glue42Workspaces.WindowLayoutItem> = object({\r\n    type: constant(\"window\"),\r\n    config: object({\r\n        appName: nonEmptyStringDecoder,\r\n        url: optional(nonEmptyStringDecoder)\r\n    })\r\n});\r\n\r\nexport const groupLayoutItemDecoder: Decoder<Glue42Workspaces.GroupLayoutItem> = object({\r\n    type: constant(\"group\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.WindowLayoutItem>(\r\n        windowLayoutItemDecoder\r\n    ))\r\n});\r\n\r\nexport const columnLayoutItemDecoder: Decoder<Glue42Workspaces.ColumnLayoutItem> = object({\r\n    type: constant(\"column\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => columnLayoutItemDecoder),\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const rowLayoutItemDecoder: Decoder<Glue42Workspaces.RowLayoutItem> = object({\r\n    type: constant(\"row\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        columnLayoutItemDecoder,\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const workspaceLayoutDecoder: Decoder<Glue42Workspaces.WorkspaceLayout> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: constant(\"Workspace\"),\r\n    metadata: optional(anyJson()),\r\n    components: array(object({\r\n        type: constant(\"Workspace\"),\r\n        state: object({\r\n            config: anyJson(),\r\n            context: anyJson(),\r\n            children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n                rowLayoutItemDecoder,\r\n                columnLayoutItemDecoder,\r\n                groupLayoutItemDecoder,\r\n                windowLayoutItemDecoder\r\n            ))\r\n        })\r\n    }))\r\n});\r\n\r\nexport const workspacesImportLayoutDecoder: Decoder<{ layout: Glue42Workspaces.WorkspaceLayout; mode: \"replace\" | \"merge\" }> = object({\r\n    layout: workspaceLayoutDecoder,\r\n    mode: oneOf<\"replace\" | \"merge\">(\r\n        constant(\"replace\"),\r\n        constant(\"merge\")\r\n    )\r\n});\r\n\r\nexport const exportedLayoutsResultDecoder: Decoder<ExportedLayoutsResult> = object({\r\n    layouts: array(workspaceLayoutDecoder)\r\n});\r\n\r\nexport const frameSummaryResultDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n});\r\n\r\nexport const frameSummariesResultDecoder: Decoder<FrameSummariesResult> = object({\r\n    summaries: array(frameSummaryResultDecoder)\r\n});\r\n\r\nexport const workspaceSummaryResultDecoder: Decoder<WorkspaceSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder\r\n});\r\n\r\nexport const workspaceSummariesResultDecoder: Decoder<WorkspaceSummariesResult> = object({\r\n    summaries: array(workspaceSummaryResultDecoder)\r\n});\r\n\r\nexport const frameSnapshotResultDecoder: Decoder<FrameSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: anyJson(),\r\n    workspaces: array(workspaceSnapshotResultDecoder)\r\n});\r\n\r\nexport const layoutSummaryDecoder: Decoder<LayoutSummary> = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\nexport const layoutSummariesDecoder: Decoder<LayoutSummariesResult> = object({\r\n    summaries: array(layoutSummaryDecoder)\r\n});\r\n\r\nexport const simpleWindowOperationSuccessResultDecoder: Decoder<SimpleWindowOperationSuccessResult> = object({\r\n    windowId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const voidResultDecoder: Decoder<{}> = anyJson();\r\n\r\nexport const frameStateResultDecoder: Decoder<FrameStateResult> = object({\r\n    state: frameStateDecoder\r\n});\r\n\r\nexport const resizeConfigDecoder: Decoder<Glue42Workspaces.ResizeConfig> = object({\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const moveConfigDecoder: Decoder<Glue42Workspaces.MoveConfig> = object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const simpleItemConfigDecoder: Decoder<SimpleItemConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameStateConfigDecoder: Decoder<FrameStateConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    requestedState: frameStateDecoder\r\n});\r\n\r\nexport const setItemTitleConfigDecoder: Decoder<SetItemTitleConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder\r\n});\r\n\r\nexport const moveWindowConfigDecoder: Decoder<MoveWindowConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    containerId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const resizeItemConfigDecoder: Decoder<ResizeItemConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    resizeConfigDecoder\r\n);\r\n\r\nexport const moveFrameConfigDecoder: Decoder<MoveFrameConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    moveConfigDecoder\r\n);\r\n\r\nexport const simpleParentDecoder: Decoder<{ id: string; type: \"row\" | \"column\" | \"group\" }> = object({\r\n    id: nonEmptyStringDecoder,\r\n    type: subParentDecoder\r\n});\r\n\r\nexport const addWindowConfigDecoder: Decoder<AddWindowConfig> = object({\r\n    definition: swimlaneWindowDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addContainerConfigDecoder: Decoder<AddContainerConfig> = object({\r\n    definition: strictParentDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addItemResultDecoder: Decoder<AddItemResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    windowId: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const pingResultDecoder: Decoder<PingResult> = object({\r\n    live: boolean()\r\n});\r\n\r\nexport const bundleConfigDecoder: Decoder<BundleConfig> = object({\r\n    type: oneOf<\"row\" | \"column\">(\r\n        constant(\"row\"),\r\n        constant(\"column\")\r\n    ),\r\n    workspaceId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const containerSummaryResultDecoder: Decoder<ContainerSummaryResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    config: parentSnapshotConfigDecoder\r\n});\r\n\r\nexport const frameStreamDataDecoder: Decoder<FrameStreamData> = object({\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const workspaceStreamDataDecoder: Decoder<WorkspaceStreamData> = object({\r\n    workspaceSummary: workspaceSummaryResultDecoder,\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const containerStreamDataDecoder: Decoder<ContainerStreamData> = object({\r\n    containerSummary: containerSummaryResultDecoder\r\n});\r\n\r\nexport const windowStreamDataDecoder: Decoder<WindowStreamData> = object({\r\n    windowSummary: object({\r\n        itemId: nonEmptyStringDecoder,\r\n        parentId: nonEmptyStringDecoder,\r\n        config: swimlaneWindowSnapshotConfigDecoder\r\n    })\r\n});\r\n\r\nexport const workspaceLayoutSaveConfigDecoder: Decoder<Glue42Workspaces.WorkspaceLayoutSaveConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    saveContext: optional(boolean())\r\n});\r\n","import { isWindowInSwimlaneResultDecoder, frameSummaryDecoder, workspaceSnapshotResultDecoder, frameSummariesResultDecoder, workspaceCreateConfigDecoder, getFrameSummaryConfigDecoder, layoutSummariesDecoder, openWorkspaceConfigDecoder, workspaceSummariesResultDecoder, voidResultDecoder, exportedLayoutsResultDecoder, workspaceLayoutDecoder, deleteLayoutConfigDecoder, simpleItemConfigDecoder, resizeItemConfigDecoder, moveFrameConfigDecoder, frameSnapshotResultDecoder, simpleWindowOperationSuccessResultDecoder, setItemTitleConfigDecoder, moveWindowConfigDecoder, addWindowConfigDecoder, addContainerConfigDecoder, addItemResultDecoder, bundleConfigDecoder, workspaceStreamDataDecoder, frameStreamDataDecoder, containerStreamDataDecoder, windowStreamDataDecoder, workspaceLayoutSaveConfigDecoder, pingResultDecoder, frameStateConfigDecoder, frameStateResultDecoder, workspacesImportLayoutDecoder } from \"../shared/decoders\";\r\nimport { ControlOperation, StreamOperation } from \"../types/protocol\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\n\r\ntype OperationsTypes = \"isWindowInWorkspace\" |\r\n    \"createWorkspace\" |\r\n    \"getAllFramesSummaries\" |\r\n    \"getFrameSummary\" |\r\n    \"getAllWorkspacesSummaries\" |\r\n    \"getWorkspaceSnapshot\" |\r\n    \"getAllLayoutsSummaries\" |\r\n    \"openWorkspace\" |\r\n    \"deleteLayout\" |\r\n    \"saveLayout\" |\r\n    \"importLayout\" |\r\n    \"exportAllLayouts\" |\r\n    \"restoreItem\" |\r\n    \"maximizeItem\" |\r\n    \"focusItem\" |\r\n    \"closeItem\" |\r\n    \"resizeItem\" |\r\n    \"moveFrame\" |\r\n    \"getFrameSnapshot\" |\r\n    \"forceLoadWindow\" |\r\n    \"ejectWindow\" |\r\n    \"setItemTitle\" |\r\n    \"moveWindowTo\" |\r\n    \"addWindow\" |\r\n    \"addContainer\" |\r\n    \"bundleWorkspace\" |\r\n    \"ping\" |\r\n    \"changeFrameState\" | \r\n    \"getFrameState\";\r\ntype MethodsTypes = \"control\" | \"frameStream\" | \"workspaceStream\" | \"containerStream\" | \"windowStream\";\r\n\r\nexport const webPlatformMethodName = \"T42.Web.Platform.Control\";\r\nexport const webPlatformWspStreamName = \"T42.Web.Platform.WSP.Stream\";\r\n\r\nexport const METHODS: { [key in MethodsTypes]: { name: string; isStream: boolean } } = {\r\n    control: { name: \"T42.Workspaces.Control\", isStream: false },\r\n    frameStream: { name: \"T42.Workspaces.Stream.Frame\", isStream: true },\r\n    workspaceStream: { name: \"T42.Workspaces.Stream.Workspace\", isStream: true },\r\n    containerStream: { name: \"T42.Workspaces.Stream.Container\", isStream: true },\r\n    windowStream: { name: \"T42.Workspaces.Stream.Window\", isStream: true }\r\n};\r\n\r\nexport const STREAMS: { [key in WorkspaceEventType]: StreamOperation } = {\r\n    frame: { name: \"T42.Workspaces.Stream.Frame\", payloadDecoder: frameStreamDataDecoder },\r\n    workspace: { name: \"T42.Workspaces.Stream.Workspace\", payloadDecoder: workspaceStreamDataDecoder },\r\n    container: { name: \"T42.Workspaces.Stream.Container\", payloadDecoder: containerStreamDataDecoder },\r\n    window: { name: \"T42.Workspaces.Stream.Window\", payloadDecoder: windowStreamDataDecoder }\r\n};\r\n\r\nexport const OPERATIONS: { [key in OperationsTypes]: ControlOperation } = {\r\n    ping: { name: \"ping\", resultDecoder: pingResultDecoder},\r\n    isWindowInWorkspace: { name: \"isWindowInWorkspace\", argsDecoder: simpleItemConfigDecoder, resultDecoder: isWindowInSwimlaneResultDecoder },\r\n    createWorkspace: { name: \"createWorkspace\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: workspaceCreateConfigDecoder },\r\n    getAllFramesSummaries: { name: \"getAllFramesSummaries\", resultDecoder: frameSummariesResultDecoder },\r\n    getFrameSummary: { name: \"getFrameSummary\", resultDecoder: frameSummaryDecoder, argsDecoder: getFrameSummaryConfigDecoder },\r\n    getAllWorkspacesSummaries: { name: \"getAllWorkspacesSummaries\", resultDecoder: workspaceSummariesResultDecoder },\r\n    getWorkspaceSnapshot: { name: \"getWorkspaceSnapshot\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: simpleItemConfigDecoder },\r\n    getAllLayoutsSummaries: { name: \"getAllLayoutsSummaries\", resultDecoder: layoutSummariesDecoder },\r\n    openWorkspace: { name: \"openWorkspace\", argsDecoder: openWorkspaceConfigDecoder, resultDecoder: workspaceSnapshotResultDecoder },\r\n    deleteLayout: { name: \"deleteLayout\", resultDecoder: voidResultDecoder, argsDecoder: deleteLayoutConfigDecoder },\r\n    saveLayout: { name: \"saveLayout\", resultDecoder: workspaceLayoutDecoder, argsDecoder: workspaceLayoutSaveConfigDecoder },\r\n    importLayout: { name: \"importLayout\", resultDecoder: voidResultDecoder, argsDecoder: workspacesImportLayoutDecoder },\r\n    exportAllLayouts: { name: \"exportAllLayouts\", resultDecoder: exportedLayoutsResultDecoder },\r\n    restoreItem: { name: \"restoreItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    maximizeItem: { name: \"maximizeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    focusItem: { name: \"focusItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    closeItem: { name: \"closeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    resizeItem: { name: \"resizeItem\", argsDecoder: resizeItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    changeFrameState: {name: \"changeFrameState\", argsDecoder: frameStateConfigDecoder, resultDecoder: voidResultDecoder},\r\n    getFrameState: {name: \"getFrameState\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameStateResultDecoder},\r\n    moveFrame: { name: \"moveFrame\", argsDecoder: moveFrameConfigDecoder, resultDecoder: voidResultDecoder },\r\n    getFrameSnapshot: { name: \"getFrameSnapshot\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameSnapshotResultDecoder },\r\n    forceLoadWindow: { name: \"forceLoadWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    ejectWindow: { name: \"ejectWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    setItemTitle: { name: \"setItemTitle\", argsDecoder: setItemTitleConfigDecoder, resultDecoder: voidResultDecoder },\r\n    moveWindowTo: { name: \"moveWindowTo\", argsDecoder: moveWindowConfigDecoder, resultDecoder: voidResultDecoder },\r\n    addWindow: { name: \"addWindow\", argsDecoder: addWindowConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    addContainer: { name: \"addContainer\", argsDecoder: addContainerConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    bundleWorkspace: { name: \"bundleWorkspace\", argsDecoder: bundleConfigDecoder, resultDecoder: voidResultDecoder }\r\n};\r\n","import { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\r\nimport { SubscriptionConfig, ActiveSubscription, WorkspaceEventType, WorkspaceEventAction, WorkspacePayload, WorkspaceEventScope } from \"../types/subscription\";\r\nimport { STREAMS } from \"./constants\";\r\nimport { OPERATIONS } from \"./constants\";\r\nimport { eventTypeDecoder, streamRequestArgumentsDecoder, workspaceEventActionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { InteropTransport } from \"./interop-transport\";\r\n\r\nexport class Bridge {\r\n\r\n    private readonly activeSubscriptions: ActiveSubscription[] = [];\r\n\r\n    constructor(\r\n        private readonly transport: InteropTransport,\r\n        private readonly registry: CallbackRegistry\r\n    ) { }\r\n\r\n    public async createCoreEventSubscription(): Promise<void> {\r\n        await this.transport.coreSubscriptionReady(this.handleCoreEvent.bind(this));\r\n    }\r\n\r\n    public handleCoreSubscription(config: SubscriptionConfig): UnsubscribeFunction {\r\n        const registryKey = `${config.eventType}-${config.action}`;\r\n        const scope = config.scope;\r\n        const scopeId = config.scopeId;\r\n\r\n        return this.registry.add(registryKey, (args) => {\r\n            const scopeConfig = {\r\n                type: scope,\r\n                id: scopeId\r\n            };\r\n\r\n            const receivedIds = {\r\n                frame: args.frameSummary?.id || args.windowSummary?.config.frameId,\r\n                workspace: args.workspaceSummary?.id || args.windowSummary?.config.workspaceId,\r\n                window: args.windowSummary?.config.windowId\r\n            };\r\n\r\n            const shouldInvokeCallback = this.checkScopeMatch(scopeConfig, receivedIds);\r\n\r\n            if (!shouldInvokeCallback) {\r\n                return;\r\n            }\r\n\r\n            config.callback(args);\r\n        });\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    public async send<T>(operationName: string, operationArgs?: any): Promise<T> {\r\n\r\n        const operationDefinition = Object.values(OPERATIONS).find((operation) => operation.name === operationName);\r\n\r\n        if (!operationDefinition) {\r\n            throw new Error(`Cannot find definition for operation name: ${operationName}`);\r\n        }\r\n\r\n        if (operationDefinition.argsDecoder) {\r\n            try {\r\n                operationDefinition.argsDecoder.runWithException(operationArgs);\r\n            } catch (error) {\r\n                throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for input: ${JSON.stringify(error.input)}`);\r\n            }\r\n        }\r\n\r\n        let operationResult;\r\n\r\n        try {\r\n            const operationResultRaw = await this.transport.transmitControl(operationDefinition.name, operationArgs);\r\n            operationResult = operationDefinition.resultDecoder.runWithException(operationResultRaw);\r\n        } catch (error) {\r\n            if (error.kind) {\r\n                throw new Error(`Unexpected internal incoming validation error: ${error.message}, for input: ${JSON.stringify(error.input)}`);\r\n            }\r\n            throw new Error(error.message);\r\n        }\r\n\r\n        return operationResult;\r\n    }\r\n\r\n    public async subscribe(config: SubscriptionConfig): Promise<Glue42Workspaces.Unsubscribe> {\r\n        let activeSub = this.getActiveSubscription(config);\r\n        const registryKey = this.getRegistryKey(config);\r\n\r\n        if (!activeSub) {\r\n            const stream = STREAMS[config.eventType];\r\n            const gdSub = await this.transport.subscribe(stream.name, this.getBranchKey(config), config.eventType);\r\n\r\n            gdSub.onData((streamData) => {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const data = streamData.data as { action: string; payload: any };\r\n\r\n                // important to decode without exception, because we do not want to throw an exception here\r\n                const requestedArgumentsResult = streamRequestArgumentsDecoder.run(streamData.requestArguments);\r\n                const actionResult = workspaceEventActionDecoder.run(data.action);\r\n\r\n                if (!requestedArgumentsResult.ok || !actionResult.ok) {\r\n                    return;\r\n                }\r\n\r\n                const streamType = requestedArgumentsResult.result.type;\r\n                const branch = requestedArgumentsResult.result.branch;\r\n\r\n                const validatedPayload = STREAMS[streamType].payloadDecoder.run(data.payload);\r\n\r\n                if (!validatedPayload.ok) {\r\n                    return;\r\n                }\r\n\r\n                const keyToExecute = `${streamType}-${branch}-${actionResult.result}`;\r\n                this.registry.execute(keyToExecute, validatedPayload.result);\r\n            });\r\n\r\n            activeSub = {\r\n                streamType: config.eventType,\r\n                level: config.scope,\r\n                levelId: config.scopeId,\r\n                callbacksCount: 0,\r\n                gdSub\r\n            };\r\n\r\n            this.activeSubscriptions.push(activeSub);\r\n        }\r\n\r\n        const unsubscribe = this.registry.add(registryKey, config.callback);\r\n\r\n        ++activeSub.callbacksCount;\r\n\r\n        return (): void => {\r\n            unsubscribe();\r\n\r\n            --activeSub.callbacksCount;\r\n\r\n            if (activeSub.callbacksCount === 0) {\r\n                activeSub.gdSub.close();\r\n                this.activeSubscriptions.splice(this.activeSubscriptions.indexOf(activeSub), 1);\r\n            }\r\n        };\r\n    }\r\n\r\n    private checkScopeMatch(scope: { type: WorkspaceEventScope; id?: string }, receivedIds: { frame: string; workspace: string; window: string }): boolean {\r\n\r\n        if (scope.type === \"global\") {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"frame\" && scope.id === receivedIds.frame) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"workspace\" && scope.id === receivedIds.workspace) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"window\" && scope.id === receivedIds.window) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private handleCoreEvent(args: any): void {\r\n        const data = args.data;\r\n        try {\r\n            const verifiedAction: WorkspaceEventAction = workspaceEventActionDecoder.runWithException(data.action);\r\n            const verifiedType: WorkspaceEventType = eventTypeDecoder.runWithException(data.type);\r\n            const verifiedPayload: WorkspacePayload = STREAMS[verifiedType].payloadDecoder.runWithException(data.payload);\r\n    \r\n            const registryKey = `${verifiedType}-${verifiedAction}`;\r\n    \r\n            this.registry.execute(registryKey, verifiedPayload);\r\n        } catch (error) {\r\n            console.warn(`Cannot handle event with data ${JSON.stringify(data)}, because of validation error: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    private getBranchKey(config: SubscriptionConfig): string {\r\n        return config.scope === \"global\" ? config.scope : `${config.scope}_${config.scopeId}`;\r\n    }\r\n\r\n    private getRegistryKey(config: SubscriptionConfig): string {\r\n        return `${config.eventType}-${this.getBranchKey(config)}-${config.action}`;\r\n    }\r\n\r\n    private getActiveSubscription(config: SubscriptionConfig): ActiveSubscription {\r\n        return this.activeSubscriptions\r\n            .find((activeSub) => activeSub.streamType === config.eventType &&\r\n                activeSub.level === config.scope &&\r\n                activeSub.levelId === config.scopeId\r\n            );\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { METHODS, webPlatformMethodName, webPlatformWspStreamName } from \"./constants\";\r\nimport { promisePlus } from \"../shared/promisePlus\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\nimport { InteropAPI, Subscription, InvocationResult } from \"../types/glue\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\n\r\nexport class InteropTransport {\r\n\r\n    private readonly defaultTransportTimeout: number = 30000;\r\n    private coreEventMethodInitiated = false;\r\n    private corePlatformSubPromise: Promise<Glue42Core.Interop.Subscription>;\r\n\r\n    constructor(private readonly agm: InteropAPI) { }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n\r\n        if (window.glue42gd) {\r\n            await Promise.all(\r\n                Object.values(METHODS).map((method) => {\r\n\r\n                    return this.verifyMethodLive(method.name);\r\n                })\r\n            );\r\n\r\n            return;\r\n        }\r\n\r\n        await Promise.all([\r\n            this.verifyMethodLive(webPlatformMethodName),\r\n            this.verifyMethodLive(webPlatformWspStreamName)\r\n        ]);\r\n\r\n        await this.transmitControl(\"frameHello\", { windowId: actualWindowId });\r\n    }\r\n\r\n    public coreSubscriptionReady(eventCallback: (args?: any) => void): Promise<Glue42Core.Interop.Subscription> {\r\n        if (!this.coreEventMethodInitiated) {\r\n            this.subscribePlatform(eventCallback);\r\n        }\r\n        return this.corePlatformSubPromise;\r\n    }\r\n\r\n    public subscribePlatform(eventCallback: (args?: any) => void): void {\r\n        this.coreEventMethodInitiated = true;\r\n\r\n        this.corePlatformSubPromise = this.agm.subscribe(webPlatformWspStreamName);\r\n\r\n        this.corePlatformSubPromise\r\n            .then((sub) => {\r\n                sub.onData((data) => eventCallback(data.data));\r\n            });\r\n    }\r\n\r\n    public async subscribe(streamName: string, streamBranch: string, streamType: WorkspaceEventType): Promise<Subscription> {\r\n\r\n        const subscriptionArgs = {\r\n            branch: streamBranch,\r\n            type: streamType\r\n        };\r\n\r\n        let subscription: Subscription;\r\n\r\n        try {\r\n            subscription = await this.agm.subscribe(streamName, { arguments: subscriptionArgs });\r\n        } catch (error) {\r\n            const message = `Internal subscription error! Error details: stream - ${streamName}, branch: ${streamBranch}. Internal message: ${error.message}`;\r\n            throw new Error(message);\r\n        }\r\n\r\n        return subscription;\r\n    }\r\n\r\n    public async transmitControl(operation: string, operationArguments: any): Promise<any> {\r\n\r\n        const invocationArguments = window.glue42gd ? { operation, operationArguments } : { operation, domain: \"workspaces\", data: operationArguments };\r\n        const methodName = window.glue42gd ? METHODS.control.name : webPlatformMethodName;\r\n\r\n        let invocationResult: InvocationResult<any>;\r\n        const baseErrorMessage = `Internal Workspaces Communication Error. Attempted operation: ${JSON.stringify(invocationArguments)}. `;\r\n\r\n        // using the 0 index of the errors and values collections, because we expect only one server and\r\n        // this is to safeguard in case in future we decide to deprecate the default returned/message properties in favor of using only collections\r\n        try {\r\n            invocationResult = await this.agm.invoke(methodName, invocationArguments, \"best\", { methodResponseTimeoutMs: this.defaultTransportTimeout });\r\n\r\n            if (!invocationResult) {\r\n                throw new Error(\"Received unsupported result from GD - empty result\");\r\n            }\r\n\r\n            if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                throw new Error(\"Received unsupported result from GD - empty values collection\");\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error && error.all_errors && error.all_errors.length) {\r\n                // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n                const invocationErrorMessage = error.all_errors[0].message;\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n\r\n            }\r\n            // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n            throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n        }\r\n\r\n        return invocationResult.all_return_values[0].returned;\r\n    }\r\n\r\n    private verifyMethodLive(name: string): Promise<void> {\r\n        return promisePlus(() => {\r\n            return new Promise((resolve) => {\r\n                const hasMethod = this.agm.methods().some((method) => method.name === name);\r\n\r\n                if (hasMethod) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n\r\n                let unsubscribe = this.agm.methodAdded((method) => {\r\n                    if (method.name !== name) {\r\n                        return;\r\n                    }\r\n\r\n                    if (unsubscribe) {\r\n                        unsubscribe();\r\n                        unsubscribe = null;\r\n                    } else {\r\n                        setTimeout(() => {\r\n                            if (unsubscribe) {\r\n                                unsubscribe();\r\n                            }\r\n                        }, 0);\r\n                    }\r\n                    resolve();\r\n                });\r\n            });\r\n        }, 15000, \"Timeout waiting for the Workspaces communication channels\");\r\n    }\r\n}\r\n","export const promisePlus = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.BoxDefinition;\r\n    base: BaseBuilder;\r\n    children: ChildBuilder[];\r\n}\r\n\r\nconst privateData = new WeakMap<ParentBuilder, PrivateData>();\r\n\r\nexport class ParentBuilder implements ParentBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.BoxDefinition,\r\n        base: BaseBuilder\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition });\r\n    }\r\n\r\n    public get type(): \"column\" | \"row\" | \"group\" {\r\n        return privateData.get(this).definition.type;\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(privateData.get(this).children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public serialize(): Glue42Workspaces.BoxDefinition {\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n        return definition;\r\n    }\r\n\r\n}\r\n","import { ParentBuilder } from \"./parentBuilder\";\r\nimport { ChildDefinition, ChildBuilder } from \"../types/builders\";\r\nimport { parentDefinitionDecoder, swimlaneWindowDefinitionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspaceBuilder } from \"./workspaceBuilder\";\r\n\r\nexport class BaseBuilder {\r\n\r\n    constructor(\r\n        private readonly getBuilder: (config: Glue42Workspaces.BuilderConfig) => ParentBuilder | WorkspaceBuilder,\r\n    ) { }\r\n\r\n    public wrapChildren(children: ChildDefinition[]): ChildBuilder[] {\r\n        return children.map((child) => {\r\n            if (child.type === \"window\") {\r\n                return child;\r\n            }\r\n\r\n            return this.getBuilder({ type: child.type, definition: child }) as ParentBuilder;\r\n        });\r\n    }\r\n\r\n    public add(type: \"row\" | \"column\" | \"group\", children: ChildBuilder[], definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const validatedDefinition = parentDefinitionDecoder.runWithException(definition);\r\n\r\n        const childBuilder = this.getBuilder({ type, definition: validatedDefinition }) as ParentBuilder;\r\n\r\n        children.push(childBuilder);\r\n\r\n        return childBuilder;\r\n    }\r\n\r\n    public addWindow(children: ChildBuilder[], definition: Glue42Workspaces.WorkspaceWindowDefinition): void {\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n\r\n        validatedDefinition.type = \"window\";\r\n\r\n        children.push(validatedDefinition);\r\n    }\r\n\r\n    public serializeChildren(children: ChildBuilder[]): ChildDefinition[] {\r\n        return children.map((child) => {\r\n            if (child instanceof ParentBuilder) {\r\n                return child.serialize();\r\n            } else {\r\n                return child as Glue42Workspaces.WorkspaceWindowDefinition;\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { ParentBuilder } from \"./parentBuilder\";\r\nimport { workspaceBuilderCreateConfigDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.WorkspaceDefinition;\r\n    children: ChildBuilder[];\r\n    base: BaseBuilder;\r\n    controller: WorkspacesController;\r\n}\r\n\r\nconst privateData = new WeakMap<WorkspaceBuilder, PrivateData>();\r\n\r\nexport class WorkspaceBuilder implements WorkspaceBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.WorkspaceDefinition,\r\n        base: BaseBuilder,\r\n        controller: WorkspacesController\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition, controller });\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllColumns = children.every((child) => child instanceof ParentBuilder && child.type === \"column\");\r\n\r\n        if (!areAllColumns) {\r\n            throw new Error(\"Cannot add a column to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllRows = children.every((child) => child instanceof ParentBuilder && child.type === \"row\");\r\n\r\n        if (!areAllRows) {\r\n            throw new Error(\"Cannot add a row to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a group to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): WorkspaceBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a window to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public getChildAt(index: number): ChildBuilder {\r\n        nonNegativeNumberDecoder.runWithException(index);\r\n        const data = privateData.get(this).children;\r\n\r\n        return data[index];\r\n    }\r\n\r\n    public async create(config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const saveConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n\r\n        const controller = privateData.get(this).controller;\r\n\r\n        return controller.createWorkspace(definition, saveConfig);\r\n    }\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Row, PrivateData>();\r\n\r\nconst getBase = (model: Row): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Row implements Glue42Workspaces.Row {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"row\" {\r\n        return \"row\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"row\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"row\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\r\n        if (definition?.type && definition.type !== \"column\") {\r\n            throw new Error(`Expected a column definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Column>(this, \"column\", \"row\", definition);\r\n    }\r\n\r\n    public async addRow(): Promise<Row> {\r\n        throw new Error(\"Adding rows as row children is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Column, PrivateData>();\r\n\r\nconst getBase = (model: Column): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Column implements Glue42Workspaces.Column {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"column\" {\r\n        return \"column\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"column\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"column\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\r\n        throw new Error(\"Adding columns as column children is not supported\");\r\n        return getBase(this).addParent<Column>(this, \"column\", \"column\", definition);\r\n    }\r\n\r\n    public async addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\r\n        if (definition?.type && definition.type !== \"row\") {\r\n            throw new Error(`Expected a row definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Row>(this, \"row\", \"column\", definition);\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Group, PrivateData>();\r\n\r\nconst getBase = (model: Group): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Group implements Glue42Workspaces.Group {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"group\" {\r\n        return \"group\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"group\");\r\n    }\r\n\r\n    public async addGroup(): Promise<Group> {\r\n        throw new Error(\"Adding groups as group child is not supported\");\r\n    }\r\n\r\n    public async addColumn(): Promise<Glue42Workspaces.Column> {\r\n        throw new Error(\"Adding columns as group child is not supported\");\r\n    }\r\n\r\n    public async addRow(): Promise<Glue42Workspaces.Row> {\r\n        throw new Error(\"Adding rows as group child is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { WorkspaceSnapshotResult, WindowStreamData } from \"../types/protocol\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder } from \"../shared/decoders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameCreateConfig } from \"../types/ioc\";\r\nimport { Window } from \"./window\";\r\nimport { Frame } from \"./frame\";\r\nimport { Row } from \"./row\";\r\nimport { Column } from \"./column\";\r\nimport { Group } from \"./group\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { WorkspacePrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Workspace, PrivateData>();\r\n\r\nconst getData = (model: Workspace): WorkspacePrivateData => {\r\n    return data.get(model).manager.getWorkspaceData(model);\r\n};\r\n\r\nconst getDataManager = (model: Workspace): PrivateDataManager => {\r\n    return data.get(model).manager;\r\n};\r\n\r\nexport class Workspace implements Glue42Workspaces.Workspace {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).id;\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).config.frameId;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get layoutName(): string | undefined {\r\n        return getData(this).config.layoutName;\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getData(this).children;\r\n    }\r\n\r\n    public get frame(): Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public async removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.children.find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n        await child.close();\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async remove(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const controller = getData(this).controller;\r\n\r\n        const child = controller.iterateFindChild(this.children, predicate);\r\n\r\n        await child.close();\r\n\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        await getData(this).controller.focusItem(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n        const controller = getData(this).controller;\r\n\r\n        const workspaces = await getData(this).frame.workspaces();\r\n\r\n        const shouldCloseFrame = workspaces.length === 1 && workspaces.every((wsp) => wsp.id === this.id);\r\n\r\n        if (shouldCloseFrame) {\r\n            return this.frame.close();\r\n        }\r\n\r\n        await controller.closeItem(this.id);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.WorkspaceSnapshot> {\r\n        return getData(this).controller.getSnapshot(this.id, \"workspace\");\r\n    }\r\n\r\n    public async saveLayout(name: string, config?: { saveContext?: boolean }): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        await getData(this).controller.saveLayout({name, workspaceId: this.id, saveContext: config?.saveContext});\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(this.id, title);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public getContext(): Promise<any> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaceContext(this.id);\r\n    }\r\n\r\n    public setContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.setWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public updateContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.updateWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public onContextUpdated(callback: (data: any) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const controller = getData(this).controller;\r\n        return controller.subscribeWorkspaceContextUpdated(this.id, callback);\r\n    }\r\n\r\n    public async refreshReference(): Promise<void> {\r\n        const newSnapshot = (await getData(this).controller.getSnapshot(this.id, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n        const existingChildren = newSnapshot.children.reduce<Glue42Workspaces.WorkspaceElement[]>((foundChildren, child) => {\r\n            let foundChild: Glue42Workspaces.WorkspaceElement;\r\n            if (child.type === \"window\") {\r\n                foundChild = this.getWindow((swimlaneWindow) => swimlaneWindow.id === child.id);\r\n            } else {\r\n                foundChild = this.getBox((parent) => parent.id === child.id);\r\n            }\r\n\r\n            if (foundChild) {\r\n                foundChildren.push(foundChild);\r\n            }\r\n\r\n            return foundChildren;\r\n        }, []);\r\n\r\n        const newChildren = getData(this).controller.refreshChildren({\r\n            existingChildren,\r\n            workspace: this,\r\n            parent: this,\r\n            children: newSnapshot.children\r\n        });\r\n\r\n        const currentFrame = this.frame;\r\n        let actualFrame: Frame;\r\n\r\n        if (currentFrame.id === newSnapshot.config.frameId) {\r\n            getDataManager(this).remapFrame(currentFrame, newSnapshot.frameSummary);\r\n            actualFrame = currentFrame;\r\n        } else {\r\n            const frameCreateConfig: FrameCreateConfig = {\r\n                summary: newSnapshot.frameSummary\r\n            };\r\n            const newFrame = getData(this).ioc.getModel<\"frame\">(\"frame\", frameCreateConfig);\r\n            actualFrame = newFrame;\r\n        }\r\n\r\n        getDataManager(this).remapWorkspace(this, {\r\n            config: newSnapshot.config,\r\n            children: newChildren,\r\n            frame: actualFrame\r\n        });\r\n    }\r\n\r\n    public getBox(predicate: (box: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type !== \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceBox;\r\n    }\r\n\r\n    public getAllBoxes(predicate?: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allParents = controller.iterateFilterChildren(children, (child) => child.type !== \"window\") as Glue42Workspaces.WorkspaceBox[];\r\n\r\n        if (!predicate) {\r\n            return allParents;\r\n        }\r\n\r\n        return allParents.filter(predicate);\r\n    }\r\n\r\n    public getRow(predicate: (row: Row) => boolean): Row {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"row\" && predicate(parent)) as Row;\r\n    }\r\n\r\n    public getAllRows(predicate?: (row: Row) => boolean): Row[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"row\" && predicate(parent)) as Row[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"row\") as Row[];\r\n    }\r\n\r\n    public getColumn(predicate: (column: Column) => boolean): Column {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"column\" && predicate(parent)) as Column;\r\n    }\r\n\r\n    public getAllColumns(predicate?: (columns: Column) => boolean): Column[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"column\" && predicate(parent)) as Column[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"column\") as Column[];\r\n    }\r\n\r\n    public getGroup(predicate: (group: Group) => boolean): Group {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"group\" && predicate(parent)) as Group;\r\n    }\r\n\r\n    public getAllGroups(predicate?: (group: Group) => boolean): Group[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"group\" && predicate(parent)) as Group[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"group\") as Group[];\r\n    }\r\n\r\n    public getWindow(predicate: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type === \"window\" && predicate(child)) as Window;\r\n    }\r\n\r\n    public getAllWindows(predicate?: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allWindows = controller.iterateFilterChildren(children, (child) => child.type === \"window\") as Window[];\r\n\r\n        if (!predicate) {\r\n            return allWindows;\r\n        }\r\n\r\n        return allWindows.filter(predicate);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Row> {\r\n        return getData(this).base.addParent<Row>(this, \"row\", \"workspace\", definition);\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\r\n        return getData(this).base.addParent<Column>(this, \"column\", \"workspace\", definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Group> {\r\n        return getData(this).base.addParent<Group>(this, \"group\", \"workspace\", definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getData(this).base.addWindow(this, definition, \"workspace\");\r\n    }\r\n\r\n    public async bundleToRow(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"row\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async bundleToColumn(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"column\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async onClosed(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            // await this.refreshReference();\r\n            callback();\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const windowParent = this.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n\r\n            const foundWindow = windowParent.children.find((child) => {\r\n\r\n                return child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex;\r\n            });\r\n            callback(foundWindow as Window);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const foundWindow = this.getWindow((win) => {\r\n                return win.id && win.id === payload.windowSummary.config.windowId;\r\n            });\r\n            callback(foundWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder } from \"../shared//decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { Row } from \"./row\";\r\nimport { Column } from \"./column\";\r\nimport { Group } from \"./group\";\r\nimport { WindowPrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { GDWindow } from \"../types/glue\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Window, PrivateData>();\r\n\r\nconst getData = (model: Window): WindowPrivateData => {\r\n    return data.get(model).manager.getWindowData(model);\r\n};\r\n\r\nexport class Window implements Glue42Workspaces.WorkspaceWindow {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).config.windowId;\r\n    }\r\n\r\n    public get type(): \"window\" {\r\n        return \"window\";\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).frame.id;\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getData(this).workspace.id;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getData(this).config.isMaximized;\r\n    }\r\n\r\n    public get isLoaded(): boolean {\r\n        return getData(this).controller.checkIsWindowLoaded(this.id);\r\n    }\r\n\r\n    public get focused(): boolean {\r\n        return getData(this).config.isFocused;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getData(this).workspace;\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.Workspace | Row | Column | Group {\r\n        return getData(this).parent;\r\n    }\r\n\r\n    public get appName(): string {\r\n        return getData(this).config.appName;\r\n    }\r\n\r\n    public async forceLoad(): Promise<void> {\r\n        if (this.isLoaded) {\r\n            return;\r\n        }\r\n        const controller = getData(this).controller;\r\n        const itemId = getData(this).id;\r\n\r\n        const windowId = await controller.forceLoadWindow(itemId);\r\n\r\n        getData(this).config.windowId = windowId;\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.focusItem(id);\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.closeItem(id);\r\n\r\n        await getData(this)\r\n            .parent\r\n            .removeChild((child) => child.id === id);\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n\r\n        const itemId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(itemId, title);\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.maximizeItem(id);\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.restoreItem(id);\r\n    }\r\n\r\n    public async eject(): Promise<GDWindow> {\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot eject this window, because it is not loaded yet\");\r\n        }\r\n        const itemId: string = getData(this).id;\r\n\r\n        const newWindowId: string = await getData(this).controller.ejectWindow(itemId);\r\n\r\n        getData(this).config.windowId = newWindowId;\r\n\r\n        return this.getGdWindow();\r\n    }\r\n\r\n    public getGdWindow(): GDWindow {\r\n\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot fetch this GD window, because the window is not yet loaded\");\r\n        }\r\n\r\n        const myId = getData(this).config.windowId;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.getGDWindow(myId);\r\n    }\r\n\r\n    public async moveTo(parent: Row | Column | Group): Promise<void> {\r\n        if (!(parent instanceof Row || parent instanceof Column || parent instanceof Group)) {\r\n            throw new Error(\"Cannot add to the provided parent, because the provided parent is not an instance of Row, Column or Group\");\r\n        }\r\n\r\n        const myId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        const foundParent = await controller.getParent((p) => p.id === parent.id);\r\n\r\n        if (!foundParent) {\r\n            throw new Error(\"Cannot move the window to the selected parent, because this parent does not exist.\");\r\n        }\r\n\r\n        return controller.moveWindowTo(myId, parent.id);\r\n    }\r\n\r\n    public async onRemoved(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            await this.workspace.refreshReference();\r\n            callback();\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"window\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder, restoreWorkspaceConfigDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, resizeConfigDecoder, moveConfigDecoder } from \"../shared/decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameStreamData, WorkspaceStreamData, WindowStreamData } from \"../types/protocol\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { FramePrivateData } from \"../types/privateData\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Frame, PrivateData>();\r\n\r\nconst getData = (model: Frame): FramePrivateData => {\r\n    return data.get(model).manager.getFrameData(model);\r\n};\r\n\r\nexport class Frame implements Glue42Workspaces.Frame {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).summary.id;\r\n    }\r\n\r\n    public resize(config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        const validatedConfig = resizeConfigDecoder.runWithException(config);\r\n        const myId = getData(this).summary.id;\r\n\r\n        return getData(this).controller.resizeItem(myId, validatedConfig);\r\n    }\r\n\r\n    public move(config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        const validatedConfig = moveConfigDecoder.runWithException(config);\r\n\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.moveFrame(myId, validatedConfig);\r\n    }\r\n\r\n    public focus(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.focusItem(myId);\r\n    }\r\n\r\n    public async state(): Promise<Glue42Workspaces.FrameState> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getFrameState(myId);\r\n    }\r\n\r\n    public async minimize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"minimized\");\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"maximized\");\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"normal\");\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.closeItem(myId);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.FrameSnapshot> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getSnapshot(myId, \"frame\");\r\n    }\r\n\r\n    public async workspaces(): Promise<Glue42Workspaces.Workspace[]> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaces((wsp) => wsp.frameId === this.id);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n\r\n        return getData(this).controller.restoreWorkspace(name, validatedOptions);\r\n    }\r\n\r\n    public createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        return getData(this).controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    }\r\n\r\n    public async onClosed(callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMaximized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"maximized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMinimized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"minimized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onNormal(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"normal\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceOpened(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"opened\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceSelected(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"selected\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceClosed(callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => {\r\n                return parent.id === payload.windowSummary.parentId;\r\n            });\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { ParentPrivateData, WorkspacePrivateData, WindowPrivateData, FramePrivateData, RemapChildData, RemapWorkspaceData } from \"../types/privateData\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Window } from \"../models/window\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { SwimlaneWindowSnapshotConfig, ParentSnapshotConfig, FrameSummaryResult } from \"../types/protocol\";\r\nimport { Child } from \"../types/builders\";\r\n\r\nexport class PrivateDataManager {\r\n    private readonly parentsData = new WeakMap<Row | Column | Group, ParentPrivateData>();\r\n    private readonly workspacesData = new WeakMap<Workspace, WorkspacePrivateData>();\r\n    private readonly windowsData = new WeakMap<Window, WindowPrivateData>();\r\n    private readonly framesData = new WeakMap<Frame, FramePrivateData>();\r\n    // Without this collection there is no way to get a window instance before its loaded\r\n    // e.g addWindow returns a window however this window doesn't have a placement id needed for force load\r\n    private readonly windowPlacementIdData: { [key: string]: Window } = {};\r\n\r\n    public deleteData<T>(model: T): void {\r\n        if (model instanceof Window) {\r\n            const keyForDeleting =\r\n                Object.keys(this.windowPlacementIdData)\r\n                    .find((k) => this.windowPlacementIdData[k] === model);\r\n\r\n            if (keyForDeleting) {\r\n                delete this.windowPlacementIdData[keyForDeleting];\r\n            }\r\n\r\n            this.windowsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Workspace) {\r\n            this.workspacesData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            this.parentsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Frame) {\r\n            this.framesData.delete(model);\r\n        }\r\n    }\r\n\r\n    public setWindowData(model: Window, data: WindowPrivateData): void {\r\n\r\n        this.windowPlacementIdData[data.id] = model;\r\n        this.windowsData.set(model, data);\r\n    }\r\n\r\n    public setWorkspaceData(model: Workspace, data: WorkspacePrivateData): void {\r\n        this.workspacesData.set(model, data);\r\n    }\r\n\r\n    public setParentData(model: Row | Column | Group, data: ParentPrivateData): void {\r\n        this.parentsData.set(model, data);\r\n    }\r\n\r\n    public setFrameData(model: Frame, data: FramePrivateData): void {\r\n        this.framesData.set(model, data);\r\n    }\r\n\r\n    public getWindowData(model: Window): WindowPrivateData {\r\n        return this.windowsData.get(model);\r\n    }\r\n\r\n    public getWindowByPlacementId(placementId: string): Window {\r\n        return this.windowPlacementIdData[placementId];\r\n    }\r\n\r\n    public getWorkspaceData(model: Workspace): WorkspacePrivateData {\r\n        return this.workspacesData.get(model);\r\n    }\r\n\r\n    public getParentData(model: Row | Column | Group): ParentPrivateData {\r\n        return this.parentsData.get(model);\r\n    }\r\n\r\n    public getFrameData(model: Frame): FramePrivateData {\r\n        return this.framesData.get(model);\r\n    }\r\n\r\n    public remapChild(model: Child, newData: RemapChildData): void {\r\n        if (model instanceof Window) {\r\n            const data = this.windowsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as SwimlaneWindowSnapshotConfig || data.config;\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            const data = this.parentsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as ParentSnapshotConfig || data.config;\r\n            data.children = newData.children || data.children;\r\n        }\r\n    }\r\n\r\n    public remapFrame(model: Frame, newData: FrameSummaryResult): void {\r\n        const data = this.framesData.get(model);\r\n        data.summary = newData;\r\n    }\r\n\r\n    public remapWorkspace(model: Workspace, newData: RemapWorkspaceData): void {\r\n        const data = this.workspacesData.get(model);\r\n        data.frame = newData.frame || data.frame;\r\n        data.config = newData.config || data.config;\r\n        data.children = newData.children || data.children;\r\n    }\r\n}\r\n","import { Workspace } from \"../workspace\";\r\nimport { ParentBuilder } from \"../../builders/parentBuilder\";\r\nimport { strictParentDefinitionDecoder, swimlaneWindowDefinitionDecoder, checkThrowCallback } from \"../../shared/decoders\";\r\nimport { SubParent, AllParentTypes, Child, SubParentTypes, AllParent } from \"../../types/builders\";\r\nimport { PrivateDataManager } from \"../../shared/privateDataManager\";\r\nimport { ParentPrivateData, WorkspacePrivateData } from \"../../types/privateData\";\r\nimport { Window } from \"../../models/window\";\r\nimport { Glue42Workspaces } from \"../../../workspaces\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Base, PrivateData>();\r\n\r\nconst getData = (base: Base, model: AllParentTypes): WorkspacePrivateData | ParentPrivateData => {\r\n    const manager = data.get(base).manager;\r\n\r\n    if (model instanceof Workspace) {\r\n        return manager.getWorkspaceData(model);\r\n    }\r\n\r\n    return data.get(base).manager.getParentData(model);\r\n};\r\n\r\nconst getWindowFromPlacementId = (base: Base, placemenId: string): Window => {\r\n    const manager = data.get(base).manager;\r\n\r\n    return manager.getWindowByPlacementId(placemenId);\r\n};\r\n\r\nexport class Base {\r\n    public frameId: string;\r\n    public workspaceId: string;\r\n    public positionIndex: number;\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public getId(model: AllParentTypes): string {\r\n        return getData(this, model).id;\r\n    }\r\n\r\n    public getPositionIndex(model: AllParentTypes): number {\r\n        return getData(this, model).config.positionIndex;\r\n    }\r\n\r\n    public getWorkspaceId(model: AllParentTypes): string {\r\n        const privateData = getData(this, model) as ParentPrivateData;\r\n        return privateData.config.workspaceId || privateData.workspace.id;\r\n    }\r\n\r\n    public getFrameId(model: AllParentTypes): string {\r\n        return getData(this, model).frame.id;\r\n    }\r\n\r\n    public getAllChildren(model: AllParentTypes, predicate?: (child: Child) => boolean): Child[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this, model).children;\r\n\r\n        if (typeof predicate === \"undefined\") {\r\n            return children;\r\n        }\r\n\r\n        return children.filter(predicate);\r\n    }\r\n\r\n    public getMyParent(model: AllParentTypes): AllParentTypes {\r\n        if (model instanceof Workspace) {\r\n            return;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).parent;\r\n    }\r\n\r\n    public getMyFrame(model: AllParentTypes): Glue42Workspaces.Frame {\r\n        return getData(this, model).frame;\r\n    }\r\n\r\n    public getMyWorkspace(model: AllParentTypes): Workspace {\r\n        if (model instanceof Workspace) {\r\n            return;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).workspace;\r\n    }\r\n\r\n    public async addWindow(model: AllParentTypes, definition: Glue42Workspaces.WorkspaceWindowDefinition, parentType: AllParent): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        if (!definition.appName && !definition.windowId) {\r\n            throw new Error(\"The window definition should contain either an appName or a windowId\");\r\n        }\r\n\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const operationResult = await controller.add(\"window\", getData(this, model).id, parentType, validatedDefinition);\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return getWindowFromPlacementId(this, operationResult.itemId);\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n\r\n        return getWindowFromPlacementId(this, operationResult.itemId);\r\n    }\r\n\r\n    public async addParent<T>(model: AllParentTypes, typeToAdd: SubParent, parentType: AllParent, definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Promise<T> {\r\n        const parentDefinition = this.transformDefinition(typeToAdd, definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const newParentId = (await controller.add(\"container\", getData(this, model).id, parentType, parentDefinition)).itemId;\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return model.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n        }\r\n\r\n        const myWorkspace = this.getMyWorkspace(model);\r\n        await myWorkspace.refreshReference();\r\n\r\n        return myWorkspace.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n    }\r\n\r\n    public async removeChild(model: AllParentTypes, predicate: (child: Child) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.getAllChildren(model).find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n\r\n        await child.close();\r\n\r\n        if (model instanceof Workspace) {\r\n\r\n            await model.refreshReference();\r\n            return;\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n    }\r\n\r\n    public async maximize(model: AllParentTypes): Promise<void> {\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.maximizeItem(getData(this, model).id);\r\n    }\r\n\r\n    public async restore(model: AllParentTypes): Promise<void> {\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.restoreItem(getData(this, model).id);\r\n    }\r\n\r\n    public async close(model: SubParentTypes): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.closeItem(modelData.id);\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    private transformDefinition(type: \"group\" | \"row\" | \"column\", definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Glue42Workspaces.BoxDefinition {\r\n        let parentDefinition: Glue42Workspaces.BoxDefinition;\r\n\r\n        if (typeof definition === \"undefined\") {\r\n            parentDefinition = { type, children: [] };\r\n        } else if (definition instanceof ParentBuilder) {\r\n            parentDefinition = definition.serialize();\r\n        } else {\r\n            if (typeof definition.type === \"undefined\") {\r\n                definition.type = type;\r\n            }\r\n            parentDefinition = strictParentDefinitionDecoder.runWithException(definition);\r\n            parentDefinition.children = parentDefinition.children || [];\r\n        }\r\n\r\n        return parentDefinition;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { WorkspaceSnapshotResult, WorkspaceCreateConfigProtocol, FrameSummaryResult, AddItemResult, WorkspaceSummariesResult, WorkspaceSummaryResult, SimpleWindowOperationSuccessResult, FrameSnapshotResult, SwimlaneWindowSnapshotConfig, ParentSnapshotConfig } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig, WindowCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { GDWindow, WindowsAPI, ContextsAPI, LayoutsAPI } from \"../types/glue\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Child } from \"../types/builders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { Window } from \"../models/window\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\n\r\nexport class BaseController {\r\n\r\n    constructor(\r\n        private readonly ioc: IoC,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly contexts: ContextsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n    ) { }\r\n\r\n    private get bridge(): Bridge {\r\n        return this.ioc.bridge;\r\n    }\r\n\r\n    private get privateDataManager(): PrivateDataManager {\r\n        return this.ioc.privateDataManager;\r\n    }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return windowId && this.windows.list().some((win) => win.id === windowId);\r\n    }\r\n\r\n    public async createWorkspace(createConfig: WorkspaceCreateConfigProtocol): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.createWorkspace.name, createConfig);\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.openWorkspace.name, { name, restoreOptions: options });\r\n\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: snapshot.config.frameId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        let operationName: string;\r\n        const operationArgs = { definition, parentId, parentType };\r\n\r\n        if (type === \"window\") {\r\n            operationName = OPERATIONS.addWindow.name;\r\n        } else if (type === \"container\") {\r\n            operationName = OPERATIONS.addContainer.name;\r\n        } else {\r\n            throw new Error(`Unrecognized add type: ${type}`);\r\n        }\r\n\r\n        return await this.bridge.send<AddItemResult>(operationName, operationArgs);\r\n    }\r\n\r\n    public async getFrame(windowId: string): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: windowId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n    }\r\n\r\n    public getFrames(allFrameSummaries: FrameSummaryResult[], predicate?: (frame: Frame) => boolean): Frame[] {\r\n\r\n        return allFrameSummaries.reduce<Frame[]>((frames, frameSummary) => {\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: frameSummary\r\n            };\r\n            const frameToCheck = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            if (!predicate || predicate(frameToCheck)) {\r\n                frames.push(frameToCheck);\r\n            }\r\n\r\n            return frames;\r\n        }, []);\r\n    }\r\n\r\n    public getAllWorkspaceSummaries(...bridgeResults: WorkspaceSummariesResult[]): Glue42Workspaces.WorkspaceSummary[] {\r\n\r\n        const allSummaries = bridgeResults.reduce<WorkspaceSummaryResult[]>((summaries, summaryResult) => {\r\n            summaries.push(...summaryResult.summaries);\r\n            return summaries;\r\n        }, []);\r\n\r\n        return allSummaries.map<Glue42Workspaces.WorkspaceSummary>((summary) => {\r\n            return {\r\n                id: summary.id,\r\n                frameId: summary.config.frameId,\r\n                positionIndex: summary.config.positionIndex,\r\n                title: summary.config.title,\r\n                layoutName: summary.config.layoutName\r\n            };\r\n        });\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        const addedUnSub: UnsubscribeFunction = this.layouts.onAdded(wrappedCallback);\r\n        const changedUnSub: UnsubscribeFunction = this.layouts.onChanged(wrappedCallback);\r\n\r\n        return (): void => {\r\n            addedUnSub();\r\n            changedUnSub();\r\n        };\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        return this.layouts.onRemoved(wrappedCallback);\r\n    }\r\n\r\n    public async fetchWorkspace(workspaceId: string): Promise<Workspace> {\r\n\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId: workspaceId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.bundleWorkspace.name, { type, workspaceId });\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.get(contextName);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.set(contextName, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.update(contextName, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<UnsubscribeFunction> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.subscribe(contextName, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.restoreItem.name, { itemId });\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.maximizeItem.name, { itemId });\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.focusItem.name, { itemId });\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.closeItem.name, { itemId });\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.resizeItem.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveFrame.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.windows.list().find((gdWindow) => gdWindow.id === itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const controlResult = await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.forceLoadWindow.name, { itemId });\r\n\r\n        return controlResult.windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<SimpleWindowOperationSuccessResult> {\r\n        return await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.ejectWindow.name, { itemId });\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveWindowTo.name, { itemId, containerId: newParentId });\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        let result: WorkspaceSnapshotResult | FrameSnapshotResult;\r\n\r\n        if (type === \"workspace\") {\r\n            result = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId });\r\n        } else if (type === \"frame\") {\r\n            result = await this.bridge.send<FrameSnapshotResult>(OPERATIONS.getFrameSnapshot.name, { itemId });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.setItemTitle.name, { itemId, title });\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        const { parent, children, existingChildren, workspace } = config;\r\n        if (parent instanceof Window) {\r\n            return;\r\n        }\r\n\r\n        const newChildren = children.map((newChildSnapshot) => {\r\n            let childToAdd = existingChildren.find((c) => c.id === newChildSnapshot.id);\r\n            const childType = newChildSnapshot.type;\r\n\r\n            if (childToAdd) {\r\n                this.privateDataManager.remapChild(childToAdd, {\r\n                    parent,\r\n                    children: [],\r\n                    config: newChildSnapshot.config\r\n                });\r\n            } else {\r\n                if (childType === \"window\") {\r\n                    const createConfig: WindowCreateConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config as SwimlaneWindowSnapshotConfig\r\n                    };\r\n                    childToAdd = this.ioc.getModel<\"child\">(childType, createConfig);\r\n                } else {\r\n                    const createConfig: ParentCreateConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        children: [],\r\n                        parent,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config as ParentSnapshotConfig\r\n                    };\r\n                    childToAdd = this.ioc.getModel<\"child\">(childType, createConfig);\r\n                }\r\n\r\n            }\r\n\r\n            if (childType !== \"window\") {\r\n                this.refreshChildren({\r\n                    workspace, existingChildren,\r\n                    children: newChildSnapshot.children,\r\n                    parent: childToAdd\r\n                });\r\n            }\r\n\r\n            return childToAdd;\r\n        });\r\n\r\n        if (parent instanceof Workspace) {\r\n            return newChildren;\r\n        } else {\r\n            this.privateDataManager.remapChild(parent, { children: newChildren });\r\n            return newChildren;\r\n        }\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        let foundChild = children.find((child) => predicate(child));\r\n\r\n        if (foundChild) {\r\n            return foundChild;\r\n        }\r\n\r\n        children.some((child) => {\r\n            if (child instanceof Window) {\r\n                return false;\r\n            }\r\n\r\n            foundChild = this.iterateFindChild(child.children, predicate);\r\n\r\n            if (foundChild) {\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return foundChild;\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        const foundChildren = children.filter((child) => predicate(child));\r\n\r\n        const grandChildren = children.reduce<Child[]>((innerFound, child) => {\r\n            if (child instanceof Window) {\r\n                return innerFound;\r\n            }\r\n\r\n            innerFound.push(...this.iterateFilterChildren(child.children, predicate));\r\n\r\n            return innerFound;\r\n        }, []);\r\n\r\n        foundChildren.push(...grandChildren);\r\n\r\n        return foundChildren;\r\n    }\r\n\r\n    public notifyWindowAdded(windowId: string): Promise<void> {\r\n        return new Promise((resolve) => {\r\n\r\n            const alreadyPresent: boolean = this.windows.list().some((win) => win.id === windowId);\r\n\r\n            if (alreadyPresent) {\r\n                return resolve();\r\n            }\r\n\r\n            const unsubscribe: UnsubscribeFunction = this.windows.onWindowAdded((win) => {\r\n\r\n                if (win.id !== windowId) {\r\n                    return;\r\n                }\r\n\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { IsWindowInSwimlaneResult, WorkspaceCreateConfigProtocol, WorkspaceSnapshotResult, FrameSummariesResult, WorkspaceSummariesResult, LayoutSummariesResult, ExportedLayoutsResult, FrameSnapshotResult, AddItemResult, WindowStreamData, FrameStateResult } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { SubscriptionConfig, WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Child } from \"../types/builders\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { BaseController } from \"./base\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\n\r\nexport class MainController implements WorkspacesController {\r\n\r\n    constructor(\r\n        private readonly bridge: Bridge,\r\n        private readonly base: BaseController\r\n    ) { }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return this.base.checkIsWindowLoaded(windowId);\r\n    }\r\n\r\n    public async checkIsInSwimlane(windowId: string): Promise<boolean> {\r\n\r\n        const controlResult = await this.bridge.send<IsWindowInSwimlaneResult>(OPERATIONS.isWindowInWorkspace.name, { itemId: windowId });\r\n\r\n        return controlResult.inWorkspace;\r\n    }\r\n\r\n    public async createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Workspace> {\r\n        const createConfig: WorkspaceCreateConfigProtocol = Object.assign({}, definition, { saveConfig });\r\n\r\n        return await this.base.createWorkspace(createConfig);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const allLayouts = await this.getLayoutSummaries();\r\n\r\n        const layoutExists = allLayouts.some((summary) => summary.name === name);\r\n\r\n        if (!layoutExists) {\r\n            throw new Error(`This layout: ${name} cannot be restored, because it doesn't exist.`);\r\n        }\r\n\r\n        if (options?.frameId) {\r\n            const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n            const foundMatchingFrame = allFrameSummaries.summaries.some((summary) => summary.id === options.frameId);\r\n\r\n            if (!foundMatchingFrame) {\r\n                throw new Error(`Cannot reuse the frame with id: ${options.frameId}, because there is no frame with that ID found`);\r\n            }\r\n        }\r\n\r\n        return await this.base.restoreWorkspace(name, options);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        return await this.base.add(type, parentId, parentType, definition);\r\n    }\r\n\r\n    public processLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseLocalSubscription(config, levelId) :\r\n            this.handleCoreLocalSubscription(config, levelId);\r\n    }\r\n\r\n    public processGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseGlobalSubscription(callback, eventType, action) :\r\n            this.handleCoreGlobalSubscription(callback, eventType, action);\r\n    }\r\n\r\n    public async getFrame(selector: { windowId?: string; predicate?: (frame: Frame) => boolean }): Promise<Frame> {\r\n\r\n        if (selector.windowId) {\r\n            return await this.base.getFrame(selector.windowId);\r\n        }\r\n\r\n        if (selector.predicate) {\r\n            return (await this.getFrames(selector.predicate))[0];\r\n        }\r\n\r\n        throw new Error(`The provided selector is not valid: ${JSON.stringify(selector)}`);\r\n    }\r\n\r\n    public async getFrames(predicate?: (frame: Frame) => boolean): Promise<Frame[]> {\r\n\r\n        const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n        return this.base.getFrames(allFrameSummaries.summaries, predicate);\r\n    }\r\n\r\n    public async getWorkspace(predicate: (workspace: Workspace) => boolean): Promise<Workspace> {\r\n        let foundWorkspace: Workspace;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            if (predicate(wsp)) {\r\n                foundWorkspace = wsp;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return foundWorkspace;\r\n    }\r\n\r\n    public async getWorkspaces(predicate?: (workspace: Workspace) => boolean): Promise<Workspace[]> {\r\n        const matchingWorkspaces: Workspace[] = [] as Workspace[];\r\n\r\n        await this.iterateWorkspaces((wsp) => {\r\n            if (!predicate || predicate(wsp)) {\r\n                matchingWorkspaces.push(wsp);\r\n            }\r\n        });\r\n\r\n        return matchingWorkspaces;\r\n    }\r\n\r\n    public async getAllWorkspaceSummaries(): Promise<Glue42Workspaces.WorkspaceSummary[]> {\r\n\r\n        const allSummariesResult = await this.bridge.send<WorkspaceSummariesResult>(OPERATIONS.getAllWorkspacesSummaries.name, {});\r\n\r\n        return this.base.getAllWorkspaceSummaries(allSummariesResult);\r\n    }\r\n\r\n    public async getWindow(predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        let resultWindow: Glue42Workspaces.WorkspaceWindow;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            const foundWindow = wsp.getWindow(predicate);\r\n\r\n            if (foundWindow) {\r\n                resultWindow = foundWindow;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultWindow;\r\n    }\r\n\r\n    public async getParent(predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> {\r\n        let resultParent: Glue42Workspaces.WorkspaceBox;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n\r\n            const foundParent = wsp.getBox(predicate);\r\n\r\n            if (foundParent) {\r\n                resultParent = foundParent;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultParent;\r\n    }\r\n\r\n    public async getLayoutSummaries(): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> {\r\n        const allLayouts = await this.bridge.send<LayoutSummariesResult>(OPERATIONS.getAllLayoutsSummaries.name);\r\n        return allLayouts.summaries;\r\n    }\r\n\r\n    public async deleteLayout(name: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.deleteLayout.name, { name });\r\n    }\r\n\r\n    public async exportLayout(predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> {\r\n        const allLayoutsResult = await this.bridge.send<ExportedLayoutsResult>(OPERATIONS.exportAllLayouts.name);\r\n        return allLayoutsResult.layouts.reduce<Glue42Workspaces.WorkspaceLayout[]>((matchingLayouts, layout) => {\r\n\r\n            if (!predicate || predicate(layout)) {\r\n                matchingLayouts.push(layout);\r\n            }\r\n\r\n            return matchingLayouts;\r\n        }, []);\r\n    }\r\n\r\n    public async saveLayout(config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> {\r\n        return await this.bridge.send(OPERATIONS.saveLayout.name, config);\r\n    }\r\n\r\n    public async importLayout(layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\"): Promise<void> {\r\n\r\n        await Promise.all(layouts.map((layout) => this.bridge.send(OPERATIONS.importLayout.name, { layout, mode })));\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnSaved(callback);\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnRemoved(callback);\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        return await this.base.bundleTo(type, workspaceId);\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        return this.base.getWorkspaceContext(workspaceId);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.setWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.updateWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<import(\"callback-registry\").UnsubscribeFunction> {\r\n        return this.base.subscribeWorkspaceContextUpdated(workspaceId, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        return await this.base.restoreItem(itemId);\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        return await this.base.maximizeItem(itemId);\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        return await this.base.focusItem(itemId);\r\n    }\r\n\r\n    public async changeFrameState(frameId: string, state: Glue42Workspaces.FrameState): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.changeFrameState.name, { frameId, requestedState: state });\r\n    }\r\n\r\n    public async getFrameState(frameId: string): Promise<Glue42Workspaces.FrameState> {\r\n        const frameResult = await this.bridge.send<FrameStateResult>(OPERATIONS.getFrameState.name, { itemId: frameId });\r\n        return frameResult.state;\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        return await this.base.closeItem(itemId);\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        return await this.base.resizeItem(itemId, config);\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        return await this.base.moveFrame(itemId, config);\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.base.getGDWindow(itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const windowId = await this.base.forceLoadWindow(itemId);\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<string> {\r\n        const windowId: string = (await this.base.ejectWindow(itemId)).windowId;\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        return await this.base.moveWindowTo(itemId, newParentId);\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        return await this.base.getSnapshot(itemId, type);\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        return await this.base.setItemTitle(itemId, title);\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        return this.base.refreshChildren(config);\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        return this.base.iterateFindChild(children, predicate);\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        return this.base.iterateFilterChildren(children, predicate);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    private async iterateWorkspaces(callback: (workspace: Workspace, end: () => void) => void): Promise<void> {\r\n        let ended = false;\r\n\r\n        const end = (): void => { ended = true; };\r\n\r\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\r\n\r\n        for (const summary of workspaceSummaries) {\r\n            if (ended) {\r\n                return;\r\n            }\r\n\r\n            const wsp = await this.base.fetchWorkspace(summary.id);\r\n\r\n            callback(wsp, end);\r\n        }\r\n    }\r\n}\r\n","/*eslint indent: [2, 4, {\"SwitchCase\": 1}]*/\r\nimport CallbackFactory from \"callback-registry\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { InteropTransport } from \"../communication/interop-transport\";\r\nimport { BaseBuilder } from \"../builders/baseBuilder\";\r\nimport { ParentBuilder } from \"../builders/parentBuilder\";\r\nimport { WorkspaceBuilder } from \"../builders/workspaceBuilder\";\r\nimport { ModelMaps, ModelTypes, FramePrivateData, WindowPrivateData, WorkspacePrivateData, ParentPrivateData } from \"../types/privateData\";\r\nimport { PrivateDataManager } from \"./privateDataManager\";\r\nimport { FrameCreateConfig, ModelCreateConfig, WindowCreateConfig, WorkspaceIoCCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Window } from \"../models/window\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { ChildSnapshotResult, SwimlaneWindowSnapshotConfig, ParentSnapshotConfig } from \"../types/protocol\";\r\nimport { Child } from \"../types/builders\";\r\nimport { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { Base } from \"../models/base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { InteropAPI, WindowsAPI, LayoutsAPI, ContextsAPI } from \"../types/glue\";\r\nimport { BaseController } from \"../controllers/base\";\r\nimport { MainController } from \"../controllers/main\";\r\n\r\nexport class IoC {\r\n\r\n    private _controllerInstance: WorkspacesController;\r\n    private _bridgeInstance: Bridge;\r\n    private _transportInstance: InteropTransport;\r\n    private _privateDataManagerInstance: PrivateDataManager;\r\n    private _parentBaseInstance: Base;\r\n    private _baseController: BaseController;\r\n\r\n    constructor(\r\n        private readonly agm: InteropAPI,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n        private readonly contexts: ContextsAPI\r\n    ) { }\r\n\r\n    public get baseController(): BaseController {\r\n        if (!this._baseController) {\r\n            this._baseController = new BaseController(this, this.windows, this.contexts, this.layouts);\r\n        }\r\n\r\n        return this._baseController;\r\n    }\r\n\r\n    public get controller(): WorkspacesController {\r\n        if (!this._controllerInstance) {\r\n            this._controllerInstance = new MainController(this.bridge, this.baseController);\r\n        }\r\n        return this._controllerInstance;\r\n    }\r\n\r\n    public get bridge(): Bridge {\r\n        if (!this._bridgeInstance) {\r\n            this._bridgeInstance = new Bridge(this.transport, CallbackFactory());\r\n        }\r\n        return this._bridgeInstance;\r\n    }\r\n\r\n    public get transport(): InteropTransport {\r\n\r\n        if (!this._transportInstance) {\r\n            this._transportInstance = new InteropTransport(this.agm);\r\n        }\r\n\r\n        return this._transportInstance;\r\n    }\r\n\r\n    public get privateDataManager(): PrivateDataManager {\r\n        if (!this._privateDataManagerInstance) {\r\n            this._privateDataManagerInstance = new PrivateDataManager();\r\n        }\r\n        return this._privateDataManagerInstance;\r\n    }\r\n\r\n    public get parentBase(): Base {\r\n        if (!this._parentBaseInstance) {\r\n            this._parentBaseInstance = new Base(this.privateDataManager);\r\n        }\r\n        return this._parentBaseInstance;\r\n    }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n        await this.transport.initiate(actualWindowId);\r\n    }\r\n\r\n    public getModel<T extends ModelTypes>(type: ModelTypes, createConfig: ModelCreateConfig): ModelMaps[T] {\r\n        switch (type) {\r\n            case \"frame\": {\r\n                const newFrame = new Frame(this.privateDataManager);\r\n\r\n                const { summary } = createConfig as FrameCreateConfig;\r\n\r\n                const frameData: FramePrivateData = { summary, controller: this.controller };\r\n\r\n                this.privateDataManager.setFrameData(newFrame, frameData);\r\n\r\n                return newFrame as ModelMaps[T];\r\n            }\r\n            case \"window\": {\r\n                const { id, parent, frame, workspace, config } = createConfig as WindowCreateConfig;\r\n\r\n                const windowPrivateData: WindowPrivateData = {\r\n                    type: \"window\",\r\n                    controller: this.controller,\r\n                    config, id, parent, frame, workspace\r\n                };\r\n\r\n                const newWindow = new Window(this.privateDataManager);\r\n\r\n                this.privateDataManager.setWindowData(newWindow, windowPrivateData);\r\n\r\n                return newWindow as ModelMaps[T];\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                const { id, children, parent, frame, workspace, config } = createConfig as ParentCreateConfig;\r\n\r\n                const newParent = type === \"column\" ? new Column(this.parentBase) :\r\n                    type === \"row\" ? new Row(this.parentBase) : new Group(this.parentBase);\r\n\r\n                const builtChildren = this.buildChildren(children, frame, workspace, newParent);\r\n\r\n                const parentPrivateData: ParentPrivateData = {\r\n                    id, parent, frame, workspace, config, type,\r\n                    controller: this.controller,\r\n                    children: builtChildren,\r\n                };\r\n\r\n                this.privateDataManager.setParentData(newParent, parentPrivateData);\r\n\r\n                return newParent as ModelMaps[T];\r\n            }\r\n            case \"workspace\": {\r\n                const { snapshot, frame } = createConfig as WorkspaceIoCCreateConfig;\r\n\r\n                const newWorkspace = new Workspace(this.privateDataManager);\r\n\r\n                const children = this.buildChildren(snapshot.children, frame, newWorkspace, newWorkspace);\r\n\r\n                const workspacePrivateData: WorkspacePrivateData = {\r\n                    id: snapshot.id,\r\n                    type: \"workspace\",\r\n                    config: snapshot.config,\r\n                    base: this.parentBase,\r\n                    controller: this.controller,\r\n                    children, frame, ioc: this\r\n                };\r\n\r\n                this.privateDataManager.setWorkspaceData(newWorkspace, workspacePrivateData);\r\n                return newWorkspace as ModelMaps[T];\r\n            }\r\n            default: throw new Error(`Unrecognized type: ${type}`);\r\n        }\r\n    }\r\n\r\n    public getBuilder(config: Glue42Workspaces.BuilderConfig): WorkspaceBuilder | ParentBuilder {\r\n        config.definition = config.definition || {};\r\n\r\n        if (!Array.isArray(config.definition.children)) {\r\n            config.definition.children = [];\r\n        }\r\n\r\n        const baseBuilder = new BaseBuilder(this.getBuilder.bind(this));\r\n\r\n        switch (config.type) {\r\n            case \"workspace\": {\r\n                return new WorkspaceBuilder(config.definition as Glue42Workspaces.WorkspaceDefinition, baseBuilder, this.controller);\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                (config.definition as Glue42Workspaces.BoxDefinition).type = config.type;\r\n                return new ParentBuilder(config.definition, baseBuilder);\r\n            }\r\n            default: throw new Error(`Unexpected Builder creation error, provided config: ${JSON.stringify(config)}`);\r\n        }\r\n    }\r\n\r\n    private buildChildren(children: ChildSnapshotResult[], frame: Frame, workspace: Workspace, parent: Workspace | Row | Column | Group): Child[] {\r\n        return children.map<Child>((child) => {\r\n            switch (child.type) {\r\n                case \"window\": return this.getModel<\"window\">(\"window\", {\r\n                    id: child.id,\r\n                    config: child.config as SwimlaneWindowSnapshotConfig,\r\n                    frame, workspace, parent\r\n                });\r\n                case \"column\": return this.getModel<\"column\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config as ParentSnapshotConfig,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                });\r\n                case \"row\": return this.getModel<\"row\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config as ParentSnapshotConfig,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                });\r\n                case \"group\": return this.getModel<\"group\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config as ParentSnapshotConfig,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                });\r\n                default: throw new Error(`Unsupported child type: ${child.type}`);\r\n            }\r\n        });\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLayoutDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, builderConfigDecoder, restoreWorkspaceConfigDecoder, workspaceLayoutSaveConfigDecoder } from \"./shared/decoders\";\r\nimport { FrameStreamData, WorkspaceStreamData, WorkspaceSnapshotResult, WindowStreamData } from \"./types/protocol\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig } from \"./types/ioc\";\r\nimport { Glue42Workspaces } from \"./../workspaces\";\r\nimport { WorkspacesController } from \"./types/controller\";\r\n\r\nexport const composeAPI = (glue: any, ioc: IoC): Glue42Workspaces.API => {\r\n\r\n    const controller: WorkspacesController = ioc.controller;\r\n\r\n    const inWorkspace = (): Promise<boolean> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        return controller.checkIsInSwimlane(myId);\r\n    };\r\n\r\n    const getBuilder = (config: Glue42Workspaces.BuilderConfig): Glue42Workspaces.WorkspaceBuilder | Glue42Workspaces.BoxBuilder => {\r\n        const validatedConfig = builderConfigDecoder.runWithException(config);\r\n\r\n        return ioc.getBuilder(validatedConfig);\r\n    };\r\n\r\n    const getMyFrame = async (): Promise<Glue42Workspaces.Frame> => {\r\n        const windowId: string = glue.windows.my().id;\r\n\r\n        if (!windowId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(windowId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your frame, because this window is not in a workspace\");\r\n        }\r\n\r\n        return controller.getFrame({ windowId });\r\n    };\r\n\r\n    const getFrame = async (predicate: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame> => {\r\n        checkThrowCallback(predicate);\r\n\r\n        return controller.getFrame({ predicate });\r\n    };\r\n\r\n    const getAllFrames = async (predicate?: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame[]> => {\r\n        checkThrowCallback(predicate, true);\r\n\r\n        return controller.getFrames(predicate);\r\n    };\r\n\r\n    const getAllWorkspacesSummaries = (): Promise<Glue42Workspaces.WorkspaceSummary[]> => {\r\n        return controller.getAllWorkspaceSummaries();\r\n    };\r\n\r\n    const getMyWorkspace = async (): Promise<Glue42Workspaces.Workspace> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my workspace, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(myId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your workspace, because this window is not in a workspace\");\r\n        }\r\n\r\n        return (await controller.getWorkspaces((wsp) => !!wsp.getWindow((w) => w.id === myId)))[0];\r\n    };\r\n\r\n    const getWorkspace = async (predicate: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace> => {\r\n        checkThrowCallback(predicate);\r\n        return (await controller.getWorkspaces(predicate))[0];\r\n    };\r\n\r\n    const getAllWorkspaces = (predicate?: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace[]> => {\r\n        checkThrowCallback(predicate, true);\r\n        return controller.getWorkspaces(predicate);\r\n    };\r\n\r\n    const getWindow = async (predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getWindow(predicate);\r\n    };\r\n\r\n    const getParent = async (predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getParent(predicate);\r\n    };\r\n\r\n    const restoreWorkspace = async (name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n        return controller.restoreWorkspace(name, validatedOptions);\r\n    };\r\n\r\n    const createWorkspace = async (definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(saveConfig);\r\n\r\n        return controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    };\r\n\r\n    const layouts = {\r\n        getSummaries: (): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> => {\r\n            return controller.getLayoutSummaries();\r\n        },\r\n        delete: async (name: string): Promise<void> => {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            return controller.deleteLayout(name);\r\n        },\r\n        export: async (predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> => {\r\n            checkThrowCallback(predicate, true);\r\n            return controller.exportLayout(predicate);\r\n        },\r\n        import: async (layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<void> => {\r\n\r\n            if (!Array.isArray(layouts)) {\r\n                throw new Error(`The provided layouts argument is not an array: ${JSON.stringify(layouts)}`);\r\n            }\r\n\r\n            layouts.forEach((layout) => workspaceLayoutDecoder.runWithException(layout));\r\n            return controller.importLayout(layouts, mode);\r\n        },\r\n        save: async (config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> => {\r\n            const verifiedConfig = workspaceLayoutSaveConfigDecoder.runWithException(config);\r\n            return controller.saveLayout(verifiedConfig);\r\n        },\r\n        onSaved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnSaved(callback);\r\n        },\r\n        onRemoved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnRemoved(callback);\r\n        }\r\n    };\r\n\r\n    const onFrameOpened = async (callback: (frame: Glue42Workspaces.Frame) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: payload.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n            callback(frame);\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onFrameClosed = async (callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceOpened = async (callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: payload.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const snapshot = (await controller.getSnapshot(payload.workspaceSummary.id, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            callback(workspace);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceClosed = async (callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowAdded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const windowParent = workspace.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = windowParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"added\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowLoaded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const foundWindow = workspace.getWindow((win) => win.id && win.id === payload.windowSummary.config.windowId);\r\n\r\n            callback(foundWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"loaded\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowRemoved = async (callback: (removed: { windowId: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"removed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    return {\r\n        inWorkspace,\r\n        getBuilder,\r\n        getMyFrame,\r\n        getFrame,\r\n        getAllFrames,\r\n        getAllWorkspacesSummaries,\r\n        getMyWorkspace,\r\n        getWorkspace,\r\n        getAllWorkspaces,\r\n        getWindow,\r\n        getBox: getParent,\r\n        restoreWorkspace,\r\n        createWorkspace,\r\n        layouts,\r\n        onFrameOpened,\r\n        onFrameClosed,\r\n        onWorkspaceOpened,\r\n        onWorkspaceClosed,\r\n        onWindowAdded,\r\n        onWindowLoaded,\r\n        onWindowRemoved,\r\n    };\r\n};\r\n","import { IoC } from \"./shared/ioc\";\r\nimport { composeAPI } from \"./main\";\r\nimport { WorkspacesFactoryFunction } from \"../workspaces\";\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nconst factoryFunction: WorkspacesFactoryFunction = async (glue: any): Promise<void> => {\r\n\r\n    const ioc = new IoC(glue.agm, glue.windows, glue.layouts, glue.contexts);\r\n\r\n    const actualWindowId = glue.interop.instance.windowId;\r\n\r\n    await ioc.initiate(actualWindowId);\r\n\r\n    glue.workspaces = composeAPI(glue, ioc);\r\n};\r\n\r\n// attach to window object\r\nif (typeof window !== \"undefined\") {\r\n    /* eslint-disable @typescript-eslint/no-explicit-any */\r\n    (window as any).GlueWorkspaces = factoryFunction;\r\n}\r\n\r\nexport default factoryFunction;\r\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import React from \"react\";\r\n\r\nconst HeaderButton: React.FC<{ title: string, className: string }> = ({ title, className, children, ...props }) => {\r\n    return (\r\n        <li {...props} title={title} className={className}>\r\n            {children}\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default HeaderButton;\r\n","import React from \"react\";\r\nimport { ApplicationItemProps } from \"../../../types/internal\";\r\n\r\n\r\nconst ApplicationItem: React.FC<ApplicationItemProps> = ({ appName, onClick }) => {\r\n    return (\r\n        <a onClick={onClick} className=\"list-group-item list-group-item-action px-3\" href=\"#\">\r\n            {appName}\r\n        </a>\r\n    )\r\n};\r\n\r\nexport default ApplicationItem;","import React, { useEffect } from \"react\";\r\nimport { ApplicationListProps } from \"../../../types/internal\";\r\nimport ApplicationItem from \"./ApplicationItem\";\r\n\r\nconst ApplicationsList: React.FC<ApplicationListProps> = ({ glue, inLane, parent, hidePopup, searchTerm, updatePopupHeight, filterApps }) => {\r\n    const hasFlag = (app: any) => app?.userProperties?.includeInWorkspaces ?? app?.userProperties?.includeInCanvas;\r\n    const isFromSupportedType = (a: any) => !a.type || (a.type !== \"activity\" &&\r\n        a.type !== \"canvas\" &&\r\n        a.type !== \"workspaces\" &&\r\n        a.type !== \"node\");\r\n\r\n    const defaultFilter = (a: any) => !a.isActivity &&\r\n        !a.isShell &&\r\n        isFromSupportedType(a) && hasFlag(a);\r\n\r\n    const filter = filterApps || defaultFilter;\r\n\r\n    const workspacesFriendlyApps: any[] = glue.appManager.applications().filter(filter);\r\n\r\n    const getElementOnClick = (appName: string) => {\r\n        return async () => {\r\n            try {\r\n                if (parent.type === \"group\" && !inLane) {\r\n                    await parent.addWindow({ type: \"window\", appName });\r\n                } else if (parent.type === \"group\" && inLane) {\r\n                    await parent.parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                } else if (parent.type !== \"group\" && !inLane) {\r\n                    await parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                } else {\r\n                    await parent.addWindow({ type: \"window\", appName });\r\n                }\r\n            } catch (error) {\r\n                console.warn(error);\r\n            }\r\n\r\n            hidePopup();\r\n        };\r\n    }\r\n\r\n    useEffect(() => {\r\n        updatePopupHeight();\r\n    }, []);\r\n\r\n    return (\r\n        <nav id=\"applicationsList\" className=\"nav list-group\">\r\n            {workspacesFriendlyApps\r\n                .filter((a) => (a.title || a.name).toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\r\n                .map((app: any, i) => {\r\n                    return <ApplicationItem\r\n                        key={i}\r\n                        onClick={() => { getElementOnClick(app.name)() }}\r\n                        appName={app.title || app.name} />\r\n                })}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default ApplicationsList;","import React, { useEffect } from \"react\";\r\nimport { ContainerSwitchProps } from \"../../../types/internal\";\r\n\r\nconst ContainerSwitch: React.FC<ContainerSwitchProps> = ({ inLane, setInLane, parent }) => {\r\n    let wordInLabel = \"\";\r\n    if (!parent.type) {\r\n        wordInLabel = `workspace`;\r\n    } else if (parent.type === \"group\" && !parent.children.length) {\r\n        wordInLabel = \"\";\r\n    } else if (parent.type === \"group\") {\r\n        wordInLabel = `${parent.parent.type || \"\"}`;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!wordInLabel || wordInLabel === \"workspace\") {\r\n            setInLane(false);\r\n        }\r\n    }, [wordInLabel])\r\n\r\n    if (!wordInLabel || wordInLabel === \"workspace\") {\r\n        return null;\r\n    }\r\n\r\n    const labelToPut = `This ${wordInLabel[0].toUpperCase() + wordInLabel.substring(1)}`;\r\n\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"Application placement\">Application Placement</label>\r\n            <div className=\"btn-group d-flex mb-2\" role=\"group\" aria-label=\"Application placement\">\r\n                <button\r\n                    onClick={() => setInLane(true)}\r\n                    type=\"button\"\r\n                    id=\"laneButton\"\r\n                    className={`btn btn-outline-primary w-100 ${inLane ? \"active\" : \"\"}`}>\r\n                    {labelToPut}\r\n                </button>\r\n                <button\r\n                    onClick={() => setInLane(false)}\r\n                    type=\"button\"\r\n                    id=\"tabGroupButton\"\r\n                    className={`btn btn-outline-primary w-100 ${!inLane ? \"active\" : \"\"}`}>\r\n                    This Tab Group\r\n            </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ContainerSwitch;","import { GlueContext } from \"@glue42/react-hooks\";\r\nimport React, { useContext } from \"react\"\r\n\r\nconst withGlueInstance = <T extends { glue?: any }>(WrappedComponent: React.ComponentType<T>) => {\r\n    return (props: T) => {\r\n        const glue = props.glue || (window as any).glue || useContext(GlueContext);\r\n        if (!glue) {\r\n            throw new Error(\"An instance of Glue is not provided\");\r\n        }\r\n        return (\r\n            <WrappedComponent {...Object.assign({}, props, { glue })} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default withGlueInstance;","import React, { useEffect, useState } from \"react\";\r\nimport { AddApplicationPopupProps } from \"../../../types/internal\";\r\nimport ApplicationsList from \"./ApplicationsList\";\r\nimport ContainerSwitch from \"./ContainerSwitch\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\ndeclare const window: Window & { glue?: any };\r\n\r\nconst AddApplicationPopup: React.FC<AddApplicationPopupProps> = ({ workspaceId, boxId, hidePopup, resizePopup, glue, frameId, filterApps, ...props }) => {\r\n    const [inLane, setInLane] = useState(false);\r\n    const [parent, setParent] = useState(undefined);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            const myWorkspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n            const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setParent(parent);\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [boxId, workspaceId]);\r\n\r\n    const refreshPopupHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshPopupHeight();\r\n    }, [searchTerm, parent]);\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-application\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Application</h5>\r\n                </div>\r\n            </div>\r\n            <div id=\"applicationPlacementSection\" className=\"row\">\r\n                <div className=\"col\">\r\n                    {parent && <ContainerSwitch\r\n                        inLane={inLane}\r\n                        setInLane={setInLane}\r\n                        parent={parent} />}\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"input-group position-relative mb-2\">\r\n                        <input type=\"text\" id=\"appSearch\" className=\"form-control pr-4\" placeholder=\"Search pplication\"\r\n                            value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} aria-label=\"Search pplication\" aria-describedby=\"\" />\r\n                        <div className=\"icon-search\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"applications mb-2\">\r\n                        <ApplicationsList\r\n                            glue={glue}\r\n                            hidePopup={hidePopup}\r\n                            inLane={inLane}\r\n                            parent={parent}\r\n                            searchTerm={searchTerm}\r\n                            filterApps={filterApps}\r\n                            updatePopupHeight={() => { refreshPopupHeight() }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withGlueInstance(AddApplicationPopup);","import React from \"react\";\r\nimport { getFeedbackErrorMessage } from \"./helpers\";\r\n\r\nconst Feedback: React.FC<{ errMessage: string }> = ({ errMessage }) => {\r\n    const message = getFeedbackErrorMessage(errMessage);\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col\">\r\n                <div id=\"feedbackContainer\" className=\"d-flex flex-row pb-2\">\r\n                    <div className=\"invalid-feedback mt-0 d-block\">\r\n                        {message || \"Something went wrong.\"}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Feedback;","export const getFeedbackErrorMessage = (message: string) => {\r\n    const innerMessageRegex = /Inner message:\\s+(.+)/gm;\r\n    const regexResult = innerMessageRegex.exec(message);\r\n    const innerMessage = (regexResult && regexResult[1]) || message;\r\n\r\n    return innerMessage;\r\n}","import React from \"react\";\r\nimport { WorkspaceLayoutItemProps } from \"../../../types/internal\";\r\n\r\nconst WorkspaceLayoutItem: React.FC<WorkspaceLayoutItemProps> = ({ name, onClick, onCloseClick }) => {\r\n    return (\r\n        <a onClick={onClick} className=\"list-group-item list-group-item-action ry-2\" href=\"#\">\r\n            <div className=\"align-items-center workspace d-flex flex-row\">\r\n                <div className=\"workspace__icon mr-2\"></div>\r\n                <div className=\"workspace__description\">\r\n                    <h5 className=\"mb-0 text-truncate\">{name}</h5>\r\n                </div>\r\n                <div onClick={onCloseClick} className=\"close-icon ml-auto\"></div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\n\r\nexport default WorkspaceLayoutItem;","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspaceLayoutsListProps } from \"../../../types/internal\";\r\nimport WorkspaceLayoutItem from \"./WorkspaceLayoutItem\";\r\n\r\nconst WorkspaceLayoutsList: React.FC<WorkspaceLayoutsListProps> = ({ glue, frameId, showFeedback, hidePopup, resizePopup }) => {\r\n    const [layoutSummaries, setLayoutSummaries] = useState([] as any[]);\r\n\r\n    const getSummaries = () => {\r\n        return glue.workspaces.layouts.getSummaries();\r\n    };\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        getSummaries().then((s: any) => {\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setLayoutSummaries(s);\r\n        });\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        resizePopup();\r\n    }, [layoutSummaries]);\r\n\r\n    const getOnClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.restoreWorkspace(layoutName, { frameId, title: layoutName }).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).finally(() => {\r\n                hidePopup();\r\n            });\r\n        };\r\n    };\r\n\r\n    const getOnCloseClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.layouts.delete(layoutName).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).then(() => {\r\n                getSummaries().then((s: any) => { setLayoutSummaries(s); });\r\n            });\r\n        };\r\n    }\r\n\r\n    return (\r\n        <nav id=\"workspacesList\" className=\"nav flex-column\">\r\n            {layoutSummaries.map((summary, i) => {\r\n                return <WorkspaceLayoutItem\r\n                    key={i}\r\n                    name={summary.name}\r\n                    onClick={() => getOnClickCallback(summary.name)()}\r\n                    onCloseClick={(e) => { e.stopPropagation(); getOnCloseClickCallback(summary.name)(); }}\r\n                />\r\n            })}\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default WorkspaceLayoutsList;","import React, { useEffect, useState } from \"react\";\r\nimport { AddWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport WorkspaceLayoutsList from \"./WorkspaceLayoutsList\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst AddWorkspacePopup: React.FC<AddWorkspacePopupProps> = ({ frameId, hidePopup, resizePopup, glue, ...props }) => {\r\n    const [feedbackText, setFeedbackText] = useState<string | undefined>(undefined);\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const resizePopupWithContainerHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        resizePopupWithContainerHeight();\r\n    }, [feedbackText]);\r\n    const onCreateNewClicked = () => {\r\n        glue.workspaces.createWorkspace({\r\n            children: [],\r\n            frame: {\r\n                reuseFrameId: frameId\r\n            }\r\n        });\r\n        hidePopup();\r\n    }\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 onClick={onCreateNewClicked} itemType=\"h5\" id=\"createNewButton\" className=\"btn btn-primary mb-3 w-100\">Create New</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h3>Load Workspace</h3>\r\n                    <div className=\"workspaces mb-2\">\r\n                        <WorkspaceLayoutsList\r\n                            frameId={frameId}\r\n                            glue={glue}\r\n                            showFeedback={setFeedbackText}\r\n                            hidePopup={hidePopup}\r\n                            resizePopup={resizePopupWithContainerHeight}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {feedbackText && <Feedback errMessage={feedbackText} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withGlueInstance(AddWorkspacePopup);","import React, { useEffect } from \"react\";\r\nimport { SaveContextCheckboxProps } from \"../../../types/internal\";\r\n\r\nconst SaveContextCheckbox: React.FC<SaveContextCheckboxProps> = ({ changeChecked, refreshHeight }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, []);\r\n\r\n    const onInputChanged = () => {\r\n        if (!inputRef?.current) {\r\n            return;\r\n        }\r\n\r\n        changeChecked(inputRef.current.checked);\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-check\">\r\n            <input onChange={onInputChanged} ref={inputRef} className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"saveContextCheckbox\" />\r\n            <label className=\"form-check-label\" htmlFor=\"saveContextCheckbox\">Save context</label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SaveContextCheckbox;","import React, { useEffect, useState } from \"react\";\r\nimport { SaveWorkspaceButtonProps } from \"../../../types/internal\";\r\n\r\nconst SaveWorkspaceButton: React.FC<SaveWorkspaceButtonProps> = ({ workspaceId,\r\n    inputValue,\r\n    clearInput,\r\n    showFeedback,\r\n    shouldSaveContext,\r\n    hideFeedback,\r\n    glue,\r\n    hidePopup,\r\n    buildMode }) => {\r\n    const [shouldSave, setShouldSave] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldSave) {\r\n            return;\r\n        }\r\n        let shouldUpdate = true;\r\n        let workspace: any;\r\n        const workspaceName = inputValue;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            workspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n\r\n            return glue.workspaces.layouts.save({\r\n                name: workspaceName,\r\n                workspaceId: workspace.id,\r\n                saveContext: shouldSaveContext\r\n            });\r\n        }).then(() => {\r\n            return workspace.setTitle(workspaceName);\r\n        }).catch((error: Error) => {\r\n            if (shouldUpdate) {\r\n                showFeedback(error.message)\r\n            }\r\n        }).finally(() => {\r\n            if (shouldUpdate) {\r\n                clearInput();\r\n                setShouldSave(false);\r\n                hidePopup();\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [shouldSave]);\r\n\r\n    const exportJson = (layout: object, name: string) => {\r\n        const downloadElement = document.createElement(\"a\");\r\n        const data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(layout));\r\n\r\n        document.body.append(downloadElement);\r\n        downloadElement.setAttribute(\"href\", \"data:\" + data);\r\n        downloadElement.setAttribute(\"download\", `${name}.txt`);\r\n        downloadElement.click();\r\n        downloadElement.remove();\r\n    }\r\n\r\n    const generateLayout = async (name: string, workspaceId: string) => {\r\n        const instance = glue.agm.instance;\r\n        const payload = { operation: \"generateLayout\", operationArguments: { name, workspaceId } };\r\n\r\n        return (await glue.agm.invoke(\"T42.Workspaces.Control\", payload, instance || \"best\")).returned;\r\n    }\r\n\r\n    const onClick = () => {\r\n        const workspaceName = inputValue;\r\n\r\n        if (workspaceId && !buildMode) {\r\n            hideFeedback();\r\n            if (!workspaceName) {\r\n                showFeedback(\"Please provide a valid name\");\r\n                return;\r\n            }\r\n\r\n            if (shouldSave) {\r\n                return;\r\n            }\r\n\r\n            setShouldSave(true);\r\n        } else if (workspaceId) {\r\n            generateLayout(workspaceName, workspaceId).then((layout) => {\r\n                exportJson(layout, workspaceName);\r\n            }).catch((err) => {\r\n                showFeedback(err.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    return (<button onClick={onClick} id=\"saveButton\" type=\"button\" className=\"btn btn-primary\">\r\n        {buildMode ? \"Download\" : \"Save\"}\r\n    </button>);\r\n};\r\n\r\nexport default SaveWorkspaceButton;","import React, {\r\n    useContext,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    useState\r\n} from \"react\";\r\nimport { SaveWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport SaveContextCheckbox from \"./SaveContextCheckbox\";\r\nimport SaveWorkspaceButton from \"./SaveWorkspaceButton\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst SaveWorkspacePopup: React.FC<SaveWorkspacePopupProps> = ({ workspaceId, resizePopup, hidePopup, buildMode, glue, ...props }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const [shouldSaveContext, setShouldSaveContext] = useState(false);\r\n    const [feedbackMessage, setFeedbackMessage] = useState(\"\");\r\n    const [workspaceName, setWorkspaceName] = useState(\"\");\r\n\r\n    const refreshHeight = () => {\r\n        if (!containerRef?.current) {\r\n            return;\r\n        }\r\n\r\n        const bounds = containerRef.current.getBoundingClientRect();\r\n        resizePopup({\r\n            height: bounds.height,\r\n            width: 300\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, [feedbackMessage, workspaceId]);\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        \r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any[]) => {\r\n            const myWorkspace = allWorkspaces.find((w) => w.id === workspaceId);\r\n            if (shouldUpdate) {\r\n                setWorkspaceName(myWorkspace.layoutName || \"\");\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [workspaceId]);\r\n\r\n    const clearInput = () => {\r\n        setWorkspaceName(\"\");\r\n    }\r\n\r\n    return (\r\n        <div {...props} onClick={(e) => e.stopPropagation()} ref={containerRef} className=\"container-fluid save-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Save Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                    <input ref={inputRef}\r\n                        value={workspaceName}\r\n                        onChange={(e) => setWorkspaceName(e.target.value)}\r\n                        onClick={(e) => setFeedbackMessage(\"\")}\r\n                        className=\"form-control mr-1\"\r\n                        type=\"text\"\r\n                        placeholder=\"Workspace name\"\r\n                        id=\"js-workspace-name\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"row  align-items-center pb-2\">\r\n                <div className=\"col\">\r\n                    {!buildMode &&\r\n                        <SaveContextCheckbox\r\n                            changeChecked={(v) => setShouldSaveContext(v)}\r\n                            refreshHeight={refreshHeight}\r\n                        />}\r\n                </div>\r\n\r\n                <div className=\"col  text-right\">\r\n                    <SaveWorkspaceButton\r\n                        clearInput={clearInput}\r\n                        inputValue={workspaceName}\r\n                        workspaceId={workspaceId}\r\n                        shouldSaveContext={shouldSaveContext}\r\n                        showFeedback={setFeedbackMessage}\r\n                        hideFeedback={() => setFeedbackMessage(\"\")}\r\n                        hidePopup={hidePopup}\r\n                        buildMode={buildMode}\r\n                        glue={glue}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {feedbackMessage && <Feedback errMessage={feedbackMessage} />}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withGlueInstance(SaveWorkspacePopup);","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction t(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{c(i.next(t))}catch(t){s(t)}}function a(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((i=i.apply(t,e||[])).next())}))}var e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}(null==e&&n.path)}},n.exports),n.exports}var i=n((function(t,e){!function(e){var n={config:{},container:{},controls:{},errors:{},items:{},utils:{}};n.utils.F=function(){},n.utils.extend=function(t,e){t.prototype=n.utils.createObject(e.prototype),t.prototype.contructor=t},n.utils.createObject=function(t){return\"function\"==typeof Object.create?Object.create(t):(n.utils.F.prototype=t,new n.utils.F)},n.utils.objectKeys=function(t){var e,n;if(\"function\"==typeof Object.keys)return Object.keys(t);for(n in e=[],t)e.push(n);return e},n.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+\"=([^&]*)\"));return e?e[1]:null},n.utils.getQueryStringParam=function(t){if(window.location.hash)return n.utils.getHashValue(t);if(!window.location.search)return null;var e,i,o=window.location.search.substr(1).split(\"&\"),s={};for(i=0;i<o.length;i++)s[(e=o[i].split(\"=\"))[0]]=e[1];return s[t]||null},n.utils.copy=function(t,e){for(var n in e)t[n]=e[n];return t},n.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})((function(){t()}))},n.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error(\"Haystack is not an Array\");if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},\"function\"!=typeof/./&&\"object\"!=typeof Int8Array?n.utils.isFunction=function(t){return\"function\"==typeof t||!1}:n.utils.isFunction=function(t){return\"[object Function]\"===toString.call(t)},n.utils.fnBind=function(t,e,n){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(t,[e].concat(n||[]));var i=function(){var o=(n||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof i))return t.apply(e,o);t.apply(this,o)};return i.prototype=t.prototype,i},n.utils.removeFromArray=function(t,e){var i=n.utils.indexOf(t,e);if(-1===i)throw new Error(\"Can't remove item from array. Item is not in the array\");e.splice(i,1)},n.utils.now=function(){return\"function\"==typeof Date.now?Date.now():(new Date).getTime()},n.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(\".\",\"\")},n.utils.filterXss=function(t,e){var n=t.replace(/javascript/gi,\"j&#97;vascript\").replace(/expression/gi,\"expr&#101;ssion\").replace(/onload/gi,\"onlo&#97;d\").replace(/script/gi,\"&#115;cript\").replace(/onerror/gi,\"on&#101;rror\");return!0===e?n:n.replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\")},n.utils.stripTags=function(t){return e.trim(t.replace(/(<([^>]+)>)/gi,\"\"))},n.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,i){if(!n.utils.isFunction(e))throw new Error(\"Tried to listen to event \"+t+\" with non-function callback \"+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:i})},this.emit=function(t){var e,i,o;o=Array.prototype.slice.call(arguments,1);var s=this._mSubscriptions[t];if(s)for(s=s.slice(),e=0;e<s.length;e++)i=s[e].ctx||{},s[e].fn.apply(i,o);o.unshift(t);var r=this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<r.length;e++)i=r[e].ctx||{},r[e].fn.apply(i,o)},this.unbind=function(t,e,n){if(this._mSubscriptions[t]){var i,o=!1;for(i=0;i<this._mSubscriptions[t].length;i++)e&&this._mSubscriptions[t][i].fn!==e||n&&n!==this._mSubscriptions[t][i].ctx||(this._mSubscriptions[t].splice(i,1),o=!0);if(!1===o)throw new Error(\"Nothing to unbind for \"+t)}},this.off=this.unbind,this.trigger=this.emit},n.utils.EventEmitter.ALL_EVENT=\"__all\",n.utils.DragListener=function(t,i){n.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=i||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=n.utils.fnBind(this.onMouseMove,this),this._fUp=n.utils.fnBind(this.onMouseUp,this),this._fDown=n.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},n.utils.DragListener.timeout=null,n.utils.copy(n.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this._timeout=setTimeout(n.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX)))},_startDrag:function(t){this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),n.LayoutManager=function(t,i,o){if(!e&&window.$&&(e=window.$),!e||\"function\"!=typeof e.noConflict){throw'Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to ',\"your paths when using RequireJS/AMD\",new Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to your paths when using RequireJS/AMD')}n.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={\"lm-react-component\":n.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=n.utils.fnBind(this._onResize,this),this._unloadFunction=n.utils.fnBind(this._onUnload,this),this._maximizedItem=null,this._maximizePlaceholder=e('<div class=\"lm_maximise_place\"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._dragProxies=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._componentFactory=o,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new n.utils.EventHub(this),this.config=this._createConfig(t),this.container=i,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=e('<div class=\"lm_drop_tab_placeholder\"></div>'),!0===this.isSubWindow&&e(\"body\").css(\"visibility\",\"hidden\"),this._typeToItem={column:n.utils.fnBind(n.items.RowOrColumn,this,[!0]),row:n.utils.fnBind(n.items.RowOrColumn,this,[!1]),stack:n.items.Stack,component:n.items.Component}},n.LayoutManager.__lm=n,n.LayoutManager.minifyConfig=function(t){return(new n.utils.ConfigMinifier).minifyConfig(t)},n.LayoutManager.unminifyConfig=function(t){return(new n.utils.ConfigMinifier).unminifyConfig(t)},n.utils.copy(n.LayoutManager.prototype,{registerComponent:function(t,e){if(\"function\"!=typeof e)throw new Error(\"Please register a constructor function\");if(void 0!==this._components[t])throw new Error(\"Component \"+t+\" is already registered\");this._components[t]=e},toConfig:function(t){var e,i,o;if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");if(t&&!(t instanceof n.items.AbstractContentItem))throw new Error(\"Root must be a ContentItem\");for((e={settings:n.utils.copy({},this.config.settings),dimensions:n.utils.copy({},this.config.dimensions),labels:n.utils.copy({},this.config.labels),context:n.utils.copy({},this.config.context),workspacesOptions:n.utils.copy({},this.config.workspacesOptions)}).content=[],(i=function(t,e){var n,o;for(n in e.config)\"content\"!==n&&(t[n]=e.config[n]);if(e.contentItems.length)for(t.content=[],o=0;o<e.contentItems.length;o++)t.content[o]={},i(t.content[o],e.contentItems[o])})(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],o=0;o<this.openPopouts.length;o++)e.openPopouts.push(this.openPopouts[o].toConfig());return e.maximizedItemId=this._maximizedItem?\"__glMaximised\":null,e},getComponent:function(t){if(void 0===this._components[t])throw new n.errors.ConfigurationError('Unknown component \"'+t+'\"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),\"loading\"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(n.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new n.controls.DropTargetIndicator(this.container),this.transitionIndicator=new n.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit(\"initialised\")}else e(document).ready(n.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards(\"setSize\",[this.width,this.height]),this._maximizedItem&&(this._maximizedItem.element.width(t),this._maximizedItem.element.height(e),this._maximizedItem.callDownwards(\"setSize\")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),e(window).off(\"resize\",this._resizeFunction),e(window).off(\"unload beforeunload\",this._unloadFunction),this.root.callDownwards(\"_$destroy\",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach((function(t){\"function\"==typeof t._dragListener.destroy&&t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null})),this._dragSources=[])},createContentItem:function(t,e){var i;if(\"string\"!=typeof t.type)throw new n.errors.ConfigurationError(\"Missing parameter 'type'\",t);if(\"react-component\"===t.type&&(t.type=\"component\",t.componentName=\"lm-react-component\"),!this._typeToItem[t.type])throw i=\"Unknown type '\"+t.type+\"'. Valid types are \"+n.utils.objectKeys(this._typeToItem).join(\",\"),new n.errors.ConfigurationError(i);return\"component\"!==t.type||e instanceof n.items.Stack||!e||!0===this.isSubWindow&&e instanceof n.items.Root||(t={type:\"stack\",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,i,o){var s,r,a,c,l,d,h=t,u=t instanceof n.items.AbstractContentItem,p=this;if(i=i||null,u){for(h=this.toConfig(t).content,i=n.utils.getUniqueId(),c=t.parent,l=t;1===c.contentItems.length&&!c.isRoot;)c=c.parent,l=l.parent;c.addId(i),isNaN(o)&&(o=n.utils.indexOf(l,c.contentItems))}else h instanceof Array||(h=[h]);return!e&&u&&(s=window.screenX||window.screenLeft,r=window.screenY||window.screenTop,e={left:s+(a=t.element.offset()).left,top:r+a.top,width:t.element.width(),height:t.element.height()}),e||u||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),u&&t.remove(),(d=new n.controls.BrowserPopout(h,e,i,o,this)).on(\"initialised\",(function(){p.emit(\"windowOpened\",d)})),d.on(\"closed\",(function(){p._$reconcilePopoutWindows()})),this.openPopouts.push(d),d},createDragSource:function(t,i,o){this.config.settings.constrainDragToContainer=!1;var s=new n.controls.DragSource(e(t),i,this,o);return this._dragSources.push(s),s},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error(\"Please set selectionEnabled to true to use this feature\");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit(\"selectionChanged\",t))},_$maximiseItem:function(t){null!==this._maximizedItem&&this._$minimizeItem(this._maximizedItem),this._maximizedItem=t,this._maximizedItem.addId(\"__glMaximised\"),t.element.addClass(\"lm_maximised\"),t.element.after(this._maximizePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards(\"setSize\"),this._maximizedItem.emit(\"maximized\"),this.emit(\"stateChanged\")},_$minimiseItem:function(t){t.element.removeClass(\"lm_maximised\"),t.removeId(\"__glMaximised\"),this._maximizePlaceholder.after(t.element),this._maximizePlaceholder.remove(),t.parent.callDownwards(\"setSize\"),this._maximizedItem=null,t.emit(\"minimized\"),this.emit(\"stateChanged\")},_$closeWindow:function(){window.setTimeout((function(){window.close()}),1)},_$getArea:function(t,e){var n,i,o=1/0,s=null;for(n=0;n<this._itemAreas.length;n++)t>(i=this._itemAreas[n]).x1&&t<i.x2&&e>i.y1&&e<i.y2&&o>i.surface&&(o=i.surface,s=i);return s},_$createRootItemAreas:function(){var t={y2:0,x2:0,y1:\"y2\",x1:\"x2\"};for(var e in t){var n=this.root._$getArea();n.side=e,n[e]=t[e]?n[t[e]]-50:\"y2\"===e?50+this.root.element.offset().top:50,n.surface=(n.x2-n.x1)*(n.y2-n.y1),this._itemAreas.push(n)}},_$calculateItemAreas:function(){var t,e,i=this._getAllContentItems();if(this._itemAreas=[],1!==i.length){for(this._$createRootItemAreas(),t=0;t<i.length;t++)if(i[t].isStack&&null!==(e=i[t]._$getArea()))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var o={};n.utils.copy(o,e),n.utils.copy(o,e.contentItem._contentAreaDimensions.header.highlightArea),o.surface=(o.x2-o.x1)*(o.y2-o.y1),this._itemAreas.push(o)}\"workspace\"===this.config.settings.mode&&(this._itemAreas=[this._itemAreas[this._itemAreas.length-1]])}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,i){if(!t)throw new Error(\"No content item defined\");if(n.utils.isFunction(t)&&(t=t()),t instanceof n.items.AbstractContentItem)return t;if(e.isPlainObject(t)&&t.type){var o=this.createContentItem(t,i);return o.callDownwards(\"_$init\"),o}throw new Error(\"Invalid contentItem\")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit(\"windowClosed\",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit(\"stateChanged\"),this.openPopouts=e)},_getAllContentItems:function(){var t=[],e=function(n){if(t.push(n),n.contentItems instanceof Array)for(var i=0;i<n.contentItems.length;i++)e(n.contentItems[i])};return e(this.root),t},_bindEvents:function(){this._isFullPage&&e(window).resize(this._resizeFunction),e(window).on(\"unload beforeunload\",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(n.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var i=n.utils.getQueryStringParam(\"gl-window\");i&&(this.isSubWindow=!0,t=localStorage.getItem(i),t=JSON.parse(t),t=(new n.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(i)),t=e.extend(!0,{},n.config.defaultConfig,t);var o=function(t){for(var e in t)\"props\"!==e&&\"object\"==typeof t[e]?o(t[e]):\"type\"===e&&\"react-component\"===t[e]&&(t.type=\"component\",t.componentName=\"lm-react-component\")};return o(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=e('<div class=\"lm_popin\" title=\"'+this.config.labels.popin+'\"><div class=\"lm_icon\"></div><div class=\"lm_bg\"></div></div>');t.click(n.utils.fnBind((function(){this.emit(\"popIn\")}),this)),document.title=n.utils.stripTags(this.config.content[0].title),e(\"head\").append(e(\"body link, body style, template, .gl_keep\")),this.container=e(\"body\").html(\"\").css(\"visibility\",\"visible\").append(t);document.body.offsetHeight;window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=e(this.container||\"body\");if(0===t.length)throw new Error(\"GoldenLayout container not found\");if(t.length>1)throw new Error(\"GoldenLayout more than one container element specified\");t[0]===document.body&&(this._isFullPage=!0,e(\"html, body\").css({height:\"100%\",margin:0,padding:0,overflow:\"hidden\"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?\"Missing setting 'content' on top level of configuration\":\"Configuration parameter 'content' must be an array\",new n.errors.ConfigurationError(e,t);if(t.content.length>1)throw e=\"Top level content can't contain more then one element.\",new n.errors.ConfigurationError(e,t);this.root=new n.items.Root(this,{content:t.content},this.container),this.root.callDownwards(\"_$init\"),\"__glMaximised\"===t.maximizedItemId&&this.root.getItemsById(t.maximizedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)&&this.container.is(\":visible\")){this._updatingColumnsResponsive=!0;for(var n=t-Math.max(Math.floor(this.width/e),1),i=this.root.contentItems[0],o=this._findAllStackContainers()[0],s=0;s<n;s++){var r=i.contentItems[i.contentItems.length-1];this._addChildContentItemsToContainer(o,r)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_useResponsiveLayout:function(){return this.config.settings&&(\"always\"==this.config.settings.responsiveMode||\"onload\"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(t,e){\"stack\"===e.type?e.contentItems.forEach((function(n){t.addChild(n),e.removeChild(n,!0)})):e.contentItems.forEach(n.utils.fnBind((function(e){this._addChildContentItemsToContainer(t,e)}),this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(t,e){e.contentItems.forEach(n.utils.fnBind((function(e){\"stack\"==e.type?t.push(e):e.isComponent||this._findAllStackContainersRecursive(t,e)}),this))}}),n.LayoutManager.default=n.LayoutManager,t.exports=n.LayoutManager,window.GoldenLayout=n.LayoutManager,n.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showMinimizeIcon:!1,showPopoutIcon:!0,showMaximizeIcon:!0,showCloseIcon:!0,responsiveMode:\"always\",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,mode:\"default\"},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:500,dragProxyHeight:500},labels:{close:\"close\",maximize:\"maximize\",restore:\"restore\",minimize:\"minimize\",popout:\"eject\",popin:\"pop in\",tabDropdown:\"additional tabs\"},workspacesOptions:{}},n.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:\"\",workspacesConfig:{}},n.container.ItemContainer=function(t,i,o){n.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=i,this.layoutManager=o,this.isHidden=!1,this._config=t,this._element=e(['<div class=\"lm_item_container\">','<div class=\"lm_content\"></div>',\"</div>\"].join(\"\")),this._contentElement=this._element.find(\".lm_content\")},n.utils.copy(n.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit(\"hide\"),this.isHidden=!0,this._element.hide()},show:function(){this.emit(\"show\"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit(\"shown\")},setSize:function(t,e){for(var n,i,o,s,r=this.parent,a=this;!r.isColumn&&!r.isRow;)if(a=r,(r=r.parent).isRoot)return!1;for(n=(\"height\"===(i=r.isColumn?\"height\":\"width\")?e:t)/(this[i]*(1/(a.config[i]/100)))*100,o=(a.config[i]-n)/(r.contentItems.length-1),s=0;s<r.contentItems.length;s++)r.contentItems[s]===a?r.contentItems[s].config[i]=n:r.contentItems[s].config[i]+=o;return r.callDownwards(\"setSize\"),!0},close:function(){this._config.isClosable&&(this.emit(\"close\"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(e.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent(\"stateChanged\")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var n=this._contentElement[0],i=n.offsetWidth-n.clientWidth,o=n.offsetHeight-n.clientHeight;this._contentElement.width(this.width-i).height(this.height-o),this.emit(\"resize\")}}}),n.errors.ConfigurationError=function(t,e){Error.call(this),this.name=\"Configuration Error\",this.message=t,this.node=e},n.errors.ConfigurationError.prototype=new Error,n.controls.BrowserPopout=function(t,e,i,o,s){n.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=i,this._indexInParent=o,this._layoutManager=s,this._popoutWindow=null,this._id=null,this._createWindow()},n.utils.copy(n.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,n;this._indexInParent;this._parentId&&(t=e.extend(!0,{},this.getGlInstance().toConfig()).content[0],(n=this._layoutManager.root.getItemsById(this._parentId)[0])||(n=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),n.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,i=this._createUrl(),o=Math.floor(1e6*Math.random()).toString(36),s=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:\"no\",toolbar:\"no\",location:\"no\",personalbar:\"no\",resizable:\"yes\",scrollbars:\"no\",status:\"no\"});if(this._popoutWindow=window.open(i,o,s),this._popoutWindow)e(this._popoutWindow).on(\"load\",n.utils.fnBind(this._positionWindow,this)).on(\"unload beforeunload\",n.utils.fnBind(this._onClose,this)),t=setInterval(n.utils.fnBind((function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))}),this),10);else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError){var r=new Error(\"Popout blocked\");throw r.type=\"popoutBlocked\",r}},_serializeWindowOptions:function(t){var e,n=[];for(e in t)n.push(e+\"=\"+t[e]);return n.join(\",\")},_createUrl:function(){var t,e={content:this._config},i=\"gl-window-config-\"+n.utils.getUniqueId();e=(new n.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(i,JSON.stringify(e))}catch(t){throw new Error(\"Error while writing to localStorage \"+t.toString())}return 1===(t=document.location.href.split(\"?\")).length?t[0]+\"?gl-window=\"+i:document.location.href+\"&gl-window=\"+i},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on(\"popIn\",this.popIn,this),this.emit(\"initialised\")},_onClose:function(){setTimeout(n.utils.fnBind(this.emit,this,[\"closed\"]),50)}}),n.controls.DragProxy=function(t,i,o,s,r,a){n.utils.EventEmitter.call(this),this._dragListener=o,this._layoutManager=s,this._contentItem=r,this._originalParent=a,this._area=null,this._lastValidArea=null,this._dragListener.on(\"drag\",this._onDrag,this),this._dragListener.on(\"dragStop\",this._onDrop,this),this.element=e(n.controls.DragProxy._template),a&&a._side&&(this._sided=a._sided,this.element.addClass(\"lm_\"+a._side),[\"right\",\"bottom\"].indexOf(a._side)>=0&&this.element.find(\".lm_content\").after(this.element.find(\".lm_header\"))),this.element.css({left:t,top:i}),this.element.find(\".lm_tab\").attr(\"title\",n.utils.stripTags(this._contentItem.config.title)),this.element.find(\".lm_title\").html(this._contentItem.config.title),this.childElementContainer=this.element.find(\".lm_content\"),this.childElementContainer.append(r.element),this._originalParent&&this._originalParent.layoutManager.config&&this._originalParent.layoutManager.config.settings&&this._originalParent.layoutManager.config.settings.disableDragProxy&&this.element.find(\".lm_content\").css(\"display\",\"none\"),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),e(document.body).append(this.element);var c=this._layoutManager.container.offset();this._minX=c.left,this._minY=c.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this._layoutManager.config.dimensions.dragProxyWidth,this._height=this._layoutManager.config.dimensions.dragProxyHeight,this._setDropPosition(t,i)},n.controls.DragProxy._template='<div class=\"lm_dragProxy\"><div class=\"lm_header\"><ul class=\"lm_tabs\"><li class=\"lm_tab lm_active\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><i class=\"lm_right\"></i></li></ul></div><div class=\"lm_content\"></div></div>',n.utils.copy(n.controls.DragProxy.prototype,{_onDrag:function(t,e,n){var i=(n=n.originalEvent&&n.originalEvent.touches?n.originalEvent.touches[0]:n).pageX,o=n.pageY;(i>this._minX&&i<this._maxX&&o>this._minY&&o<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(i,o)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area&&(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area))},_onDrop:function(t){this._layoutManager.dropTargetIndicator.hide(),this.element.find(\".lm_content\").css(\"display\",\"\"),null===this._area||t&&t.canceled?null===this._lastValidArea||t&&t.canceled?!this._originalParent||t&&t.canceled?this._contentItem._$destroy():this._originalParent.addChild(this._contentItem):this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):(this._area.contentItem._$onDrop(this._contentItem,this._area),this._originalParent&&this._area.contentItem!==this._originalParent&&this._layoutManager.emit(\"parentChanged\",this._contentItem,this._originalParent)),this.element.remove();const e=this._layoutManager._dragProxies.indexOf(this);e>-1&&this._layoutManager._dragProxies.splice(e,1),this._layoutManager.emit(\"itemDropped\",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){this._contentItem.callDownwards(\"_$show\")}}),n.controls.DragSource=function(t,e,n,i){this._element=t,this._itemConfig=e,this._layoutManager=n,this._dragListener=null,this._createDragListener(i)},n.utils.copy(n.controls.DragSource.prototype,{_createDragListener:function(t){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=t||new n.utils.DragListener(this._element),\"function\"==typeof this._dragListener.on&&(this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"dragStop\",this._createDragListener,this))},_onDragStart:function(t,i){var o=this._itemConfig;n.utils.isFunction(o)&&(o=o());var s=this._layoutManager._$normalizeContentItem(e.extend(!0,{},o)),r=new n.controls.DragProxy(t,i,this._dragListener,this._layoutManager,s,null);this._layoutManager.transitionIndicator.transitionElements(this._element,r.element)}}),n.controls.DropTargetIndicator=function(){this.element=e(n.controls.DropTargetIndicator._template),e(document.body).append(this.element)},n.controls.DropTargetIndicator._template='<div class=\"lm_dropTargetIndicator\"><div class=\"lm_inner\"><span></span><span></span><span></span></div></div>',n.utils.copy(n.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,n,i){this.highlightArea({x1:t,y1:e,x2:n,y2:i})},highlightArea:function(t){this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show()},hide:function(){this.element.hide()}}),n.controls.Header=function(t,i){if(n.utils.EventEmitter.call(this),this.layoutManager=t,this.element=e(n.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass(\"lm_selectable\"),this.element.on(\"click touchstart\",n.utils.fnBind(this._onHeaderClick,this))),\"workspace\"===this.layoutManager.config.settings.mode&&this.element.addClass(\"header_double\"),\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory){const t=this.element.children(\".lm_controls\")[0],e=this.element.children(\".lm_workspace_controls\")[0],n=this.element.children(\".lm_logo\")[0];this.layoutManager._componentFactory.createLogo&&this.layoutManager._componentFactory.createLogo({domNode:n}),this.layoutManager._componentFactory.createAddWorkspace&&this.layoutManager._componentFactory.createAddWorkspace({domNode:e}),this.layoutManager._componentFactory.createSystemButtons&&this.layoutManager._componentFactory.createSystemButtons({domNode:t})}this.tabsContainer=this.element.find(\".lm_tabs\"),this.tabDropdownContainer=this.element.find(\".lm_tabdropdown_list\"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(\".lm_controls\"),this.workspaceControlsContainer=\"workspace\"===this.layoutManager.config.settings.mode?this.element.find(\".lm_workspace_controls\"):void 0,this.tabsControlsContainer=\"workspace\"!==this.layoutManager.config.settings.mode?this.element.find(\".lm_tabs_controls\"):void 0,this.parent=i,this.parent.on(\"resize\",this._updateTabSizesWithoutDropdown,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=n.utils.fnBind(this._hideAdditionalTabsDropdown,this),e(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory&&this.layoutManager._componentFactory.createSystemButtons||this._createControls()},n.controls.Header._template=['<div class=\"lm_header\">','<div class=\"lm_logo\"></div>','<ul class=\"lm_tabs\"></ul>','<ul class=\"lm_workspace_controls\"></ul>','<ul class=\"lm_tabs_controls\"></ul>','<div class=\"move_area\"></div>','<ul class=\"lm_controls\"></ul>','<ul class=\"lm_tabdropdown_list\"></ul>',\"</div>\"].join(\"\"),n.utils.copy(n.controls.Header.prototype,{createTab:function(t,e){var i,o;for(o=0;o<this.tabs.length;o++)if(this.tabs[o].contentItem===t)return;if(i=new n.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(i),void this.tabsContainer.append(i.element);void 0===e&&(e=this.tabs.length),e>0?this.tabs[e-1].element.after(i.element):this.tabs[0].element.before(i.element),this.tabs.splice(e,0,i),this._updateTabSizesWithoutDropdown()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error(\"contentItem is not controlled by this header\")},setActiveContentItem:function(t){var e,n,i,o;for(e=0;e<this.tabs.length;e++)i=this.tabs[e].contentItem===t,this.tabs[e].setActive(i),!0===i&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(o=this.tabs[this.parent.config.activeItemIndex],n=this.parent.config.activeItemIndex;n>0;n--)this.tabs[n]=this.tabs[n-1];this.tabs[0]=o,this.parent.config.activeItemIndex=0}this._updateTabSizesWithoutDropdown(),this.parent.emitBubblingEvent(\"stateChanged\")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e=\"top\"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable())&&(this.closeButton.element[t?\"show\":\"hide\"](),!0)},_$destroy:function(){this.emit(\"destroy\",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();e(document).off(\"mouseup\",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,i,o,s,r,a,c,l;l=n.utils.fnBind(this._showAdditionalTabsDropdown,this),c=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new n.controls.HeaderButton(this,c,\"lm_tabdropdown\",l),this.tabDropdownButton.element.hide(),this._getHeaderSetting(\"popout\")&&(e=n.utils.fnBind(this._onPopoutClick,this),i=this._getHeaderSetting(\"popout\"),new n.controls.HeaderButton(this,i,\"lm_popout\",e)),this._getHeaderSetting(\"minimize\")&&(minimizeLabel=this._getHeaderSetting(\"minimize\"),minimizeButton=new n.controls.HeaderButton(this,minimizeLabel,\"lm_minimise\",void 0)),this._getHeaderSetting(\"maximize\")&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(r=n.utils.fnBind(this.parent.toggleMaximise,this.parent)),o=this._getHeaderSetting(\"maximize\"),a=new n.controls.HeaderButton(this,o,\"lm_maximise\",r),s=this._getHeaderSetting(\"restore\"),this.parent.on(\"maximized\",(function(){a.element.attr(\"title\",s)})),this.parent.on(\"minimized\",(function(){a.element.attr(\"title\",o)}))),this._isClosable()&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(t=n.utils.fnBind(this.parent.remove,this.parent)),i=this._getHeaderSetting(\"close\"),this.closeButton=new n.controls.HeaderButton(this,i,\"lm_close\",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){this.parent.emit(\"popoutRequested\")},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===t);this.element.css(!this.parent._sided?\"width\":\"height\",\"\");var e,n,i,o,s=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,r=0,a=0,c=0,l=this.layoutManager.config.settings.tabOverlapAllowance,d=!1,h=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,u=this.tabs[h];for(this.parent._sided&&(s=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,n=0;n<this.tabs.length;n++)if(e=this.tabs[n].element,this.tabsContainer.append(e),r+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),(a=h<=n?r:r+u.element.outerWidth()+parseInt(u.element.css(\"margin-right\"),10))>s){if(d)n===h&&(e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e));else if((c=h>0&&h<=n?(a-s)/(n-1):(a-s)/n)<l){for(i=0;i<=n;i++)o=i!==h&&0!==i?\"-\"+c+\"px\":\"\",this.tabs[i].element.css({\"z-index\":n-i,\"margin-left\":o});this._lastVisibleTabIndex=n,this.tabsContainer.append(e)}else d=!0;if(d&&n!==h){if(!t)return void this._updateTabSizes(!0);e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabDropdownContainer.append(e)}}else this._lastVisibleTabIndex=n,e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_updateTabSizesWithoutDropdown:function(t){if(0!==this.tabs.length){this.element.css(!this.parent._sided?\"width\":\"height\",\"\");this.element.outerWidth(),this.controlsContainer.outerWidth(),this._tabControlOffset;var e,n,i=0,o=(this.layoutManager.config.settings.tabOverlapAllowance,this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0),s=this.tabs[o];for(this.parent._sided&&this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset,n=0;n<this.tabs.length;n++)e=this.tabs[n].element,this.tabsContainer.append(e),i+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),o<=n?i:i+s.element.outerWidth()+parseInt(s.element.css(\"margin-right\"),10),e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}}}),n.controls.HeaderButton=function(t,n,i,o){this._header=t,this.element=e('<li class=\"'+i+'\" title=\"'+n+'\"></li>'),this._header.on(\"destroy\",this._$destroy,this),this._action=o,this.element.on(\"click touchstart\",this._action),this._header.controlsContainer.append(this.element)},n.utils.copy(n.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),n.controls.Splitter=function(t,e,i){this._isVertical=t,this._size=e,this._grabSize=i<e?e:i,this.element=this._createElement(),this._dragListener=new n.utils.DragListener(this.element)},n.utils.copy(n.controls.Splitter.prototype,{on:function(t,e,n){this._dragListener.on(t,e,n)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=e('<div class=\"lm_drag_handle\"></div>'),n=e('<div class=\"lm_splitter\"></div>');n.append(t);var i=this._grabSize-this._size,o=i/2;return this._isVertical?(t.css(\"top\",-o),t.css(\"height\",this._size+i),n.addClass(\"lm_vertical\"),n.height(this._size)):(t.css(\"left\",-o),t.css(\"width\",this._size+i),n.addClass(\"lm_horizontal\"),n.width(this._size)),n}}),n.controls.Tab=function(t,i){this.header=t,this.contentItem=i,this.element=e(n.controls.Tab._template),this.titleElement=this.element.find(\".lm_title\"),this.closeElement=this.element.find(\".lm_close_tab\"),this.closeElement[i.config.isClosable?\"show\":\"hide\"](),this.isActive=!1,this.setTitle(i.config.title),this.contentItem.on(\"titleChanged\",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,!0===this._layoutManager.config.settings.reorderEnabled&&!0===i.config.reorderEnabled&&(this._dragListener=new n.utils.DragListener(this.element),this._dragListener.on(\"dragStart\",this._onDragStart,this),this.contentItem.on(\"destroy\",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=n.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=n.utils.fnBind(this._onCloseClick,this),\"workspace\"===this._layoutManager.config.settings.mode&&i.config.noTabHeader&&this.element.hide(),this.element.on(\"mousedown touchstart\",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on(\"click touchstart\",this._onCloseClickFn),this.closeElement.on(\"mousedown\",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit(\"tab\",this),this.contentItem.layoutManager.emit(\"tabCreated\",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit(\"tab\",this))},n.controls.Tab._template='<li class=\"lm_tab\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><div class=\"lm_close_tab\"></div><i class=\"lm_right\"></i></li>',n.utils.copy(n.controls.Tab.prototype,{setTitle:function(t){this.element.attr(\"title\",n.utils.stripTags(t)),this.titleElement.html(t)},onCloseClick:void 0,setActive:function(t){t!==this.isActive&&(this.isActive=t,t?this.element.addClass(\"lm_active\"):this.element.removeClass(\"lm_active\"))},_$destroy:function(){this.element.off(\"mousedown touchstart\",this._onTabClickFn),this.closeElement.off(\"click touchstart\",this._onCloseClickFn),this._dragListener&&(this.contentItem.off(\"destroy\",this._dragListener.destroy,this._dragListener),this._dragListener.off(\"dragStart\",this._onDragStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximized&&this.contentItem.parent.toggleMaximise();const i=\"workspace\"===this.contentItem.layoutManager.config.settings.mode,o=this.contentItem.parent.header.tabs.length<2,s=!this.contentItem.config.windowId&&!this.contentItem.config.componentState.windowId;if(i&&o)return;if(!i&&s)return;const r=new n.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent);this._layoutManager._dragProxies.push(r)},_onTabClick:function(t){if(0===t.button||\"touchstart\"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){this.contentItem.layoutManager.emit(\"tabCloseRequested\",this),this.onCloseClick&&this.onCloseClick(t)},_onCloseMousedown:function(t){t.stopPropagation()}}),n.controls.TransitionIndicator=function(){this._element=e('<div class=\"lm_transition_indicator\"></div>'),e(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},n.utils.copy(n.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),i=(n.utils.now()-this._animationStartTime)/this._totalAnimationDuration,o={};if(i>=1)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)o[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*i;this._element.css(o),n.utils.animFrame(n.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),n.items.AbstractContentItem=function(t,e,i){n.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=i,this.isInitialised=!1,this.isMaximized=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.isVisible=!0,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=[\"stateChanged\"],this.on(n.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},n.utils.copy(n.items.AbstractContentItem.prototype,{setSize:function(){throw new Error(\"Abstract Method\")},callDownwards:function(t,e,n,i){var o;for(!0!==n&&!0!==i&&this[t].apply(this,e||[]),o=0;o<this.contentItems.length;o++)this.contentItems[o].callDownwards(t,e,n);!0===n&&!0!==i&&this[t].apply(this,e||[])},removeChild:function(t,e){var i=n.utils.indexOf(t,this.contentItems);if(-1===i)throw new Error(\"Can't remove child item. Unknown content item\");!0!==e&&this.contentItems[i]._$destroy(),this.contentItems.splice(i,1),this.config.content.splice(i,1),this.contentItems.length>0?this.callDownwards(\"setSize\"):this instanceof n.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){void 0===e&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,i){e=this.layoutManager._$normalizeContentItem(e);var o=n.utils.indexOf(t,this.contentItems),s=t.element[0].parentNode;if(-1===o)throw new Error(\"Can't replace child. oldChild is not child of this\");s.replaceChild(e.element[0],t.element[0]);const r=t.isVisible;!0===i&&(t.parent=null,t._$destroy()),this.contentItems[o]=e,e.parent=this,this.isStack&&(this.header.tabs[o].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),r||e._$hide(),this.callDownwards(\"setSize\")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent(\"stateChanged\"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximized?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximized=!this.isMaximized,this.emitBubblingEvent(\"stateChanged\")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass(\"lm_selected\"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass(\"lm_selected\"))},setTitle:function(t){this.config.title=t,this.emit(\"titleChanged\",t),this.emit(\"stateChanged\")},hasId:function(t){return!!this.config.id&&(\"string\"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==n.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?\"string\"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error(\"Id not found\");if(\"string\"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=n.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(t){var e=[],n=function(i){for(var o=0;o<i.contentItems.length;o++)!0===t(i.contentItems[o])&&e.push(i.contentItems[o]),n(i.contentItems[o])};return n(this),e},getItemsById:function(t){return this.getItemsByFilter((function(e){return e.config.id instanceof Array?-1!==n.utils.indexOf(t,e.config.id):e.config.id===t}))},getItemsByType:function(t){return this._$getItemsByProperty(\"type\",t)},getComponentsByName:function(t){var e,n=this._$getItemsByProperty(\"componentName\",t),i=[];for(e=0;e<n.length;e++)i.push(n[e].instance&&0!==Object.keys(n[e].instance).length?n[e].instance:n[e]);return i},_$getItemsByProperty:function(t,e){return this.getItemsByFilter((function(n){return n[t]===e}))},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,n){this.layoutManager.dropTargetIndicator.highlightArea(n)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents(\"hide\"),this.element.hide(),this.isVisible=!1,this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents(\"show\"),this.element.show(),this.isVisible=!0,this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,n,i=this.getItemsByType(\"stack\");for(n=0;n<i.length;n++)(e=i[n].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this.emitBubblingEvent(\"beforeItemDestroyed\"),this.callDownwards(\"_$destroy\",[],!0,!0),this.element.remove(),this.emitBubblingEvent(\"itemDestroyed\")},_$getArea:function(t){var e=(t=t||this.element).offset(),n=t.width(),i=t.height();return{x1:e.left,y1:e.top,x2:e.left+n,y2:e.top+i,surface:n*i,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent(\"itemCreated\"),this.emitBubblingEvent(this.type+\"Created\")},emitBubblingEvent:function(t){var e=new n.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,i;if(!(t.content instanceof Array))throw new n.errors.ConfigurationError(\"content must be an Array\",t);for(i=0;i<t.content.length;i++)e=this.layoutManager.createContentItem(t.content[i],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in n.config.itemDefaultConfig)void 0===t[e]&&(t[e]=n.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof n.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===n.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,n.utils.animFrame(n.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),n.items.Component=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,o);var s=t.getComponent(this.config.componentName),r=e.extend(!0,{},this.config.componentState||{});r.componentName=this.config.componentName,this.componentName=this.config.componentName,\"\"===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new n.container.ItemContainer(this.config,this,t),this.instance=new s(this.container,r),this.element=this.container._element},n.utils.extend(n.items.Component,n.items.AbstractContentItem),n.utils.copy(n.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(\":visible\")&&(this.emit(\"size-changed\",{width:this.element.width(),height:this.element.height()}),this.container._$setSize(this.element.width(),this.element.height()))},_$init:function(){n.items.AbstractContentItem.prototype._$init.call(this),this.container.emit(\"open\")},_$hide:function(){this.container.hide(),n.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),n.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),n.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit(\"destroy\",this),n.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),n.items.Root=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,null),this.isRoot=!0,this.type=\"root\",this.element=e('<div class=\"lm_goldenlayout lm_item lm_root\"></div>'),this.childElementContainer=this.element,this._containerElement=o,this._containerElement.append(this.element)},n.utils.extend(n.items.Root,n.items.AbstractContentItem),n.utils.copy(n.items.Root.prototype,{addChild:function(t){if(this.contentItems.length>0)throw new Error(\"Root node can only have a single child\");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},_$highlightDropZone:function(t,e,i){this.layoutManager.tabDropPlaceholder.remove(),n.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var i;if(t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),this.contentItems.length){var o=\"x\"==e.side[0]?\"row\":\"column\",s=\"x\"==e.side[0]?\"width\":\"height\",r=\"2\"==e.side[1],a=this.contentItems[0];if(!a instanceof n.items.RowOrColumn||a.type!=o){var c=this.layoutManager.createContentItem({type:o},this);this.replaceChild(a,c),c.addChild(t,r?0:void 0,!0),c.addChild(a,r?void 0:0,!0),a.config[s]=50,t.config[s]=50,c.callDownwards(\"setSize\")}else{var l=a.contentItems[r?0:a.contentItems.length-1];a.addChild(t,r?0:void 0,!0),l.config[s]*=.5,t.config[s]=l.config[s],a.callDownwards(\"setSize\")}}else this.addChild(t)}}),n.items.RowOrColumn=function(t,i,o,s){n.items.AbstractContentItem.call(this,i,o,s),this.isRow=!t,this.isColumn=t,this.element=e('<div class=\"lm_item lm_'+(t?\"column\":\"row\")+'\"></div>'),this.childElementContainer=this.element,this._splitterSize=i.config.dimensions.borderWidth,this._splitterGrabSize=i.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?\"height\":\"width\",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,this._layoutManager=i},n.utils.extend(n.items.RowOrColumn,n.items.AbstractContentItem),n.utils.copy(n.items.RowOrColumn.prototype,{addChild:function(t,e,i){var o,s,r,a;if(t=this.layoutManager._$normalizeContentItem(t,this),void 0===e&&(e=this.contentItems.length),this.contentItems.length>0?(a=this._createSplitter(Math.max(0,e-1)).element,e>0?(this.contentItems[e-1].element.after(a),a.after(t.element)):(this.contentItems[0].element.before(a),a.before(t.element))):this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t,e),o=1/this.contentItems.length*100,!0!==i){for(r=0;r<this.contentItems.length;r++)this.contentItems[r]===t?t.config[this._dimension]=o:(s=this.contentItems[r].config[this._dimension]*=(100-o)/100,this.contentItems[r].config[this._dimension]=s);this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")}else this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i,o,s=t.config[this._dimension],r=n.utils.indexOf(t,this.contentItems),a=Math.max(r-1,0);if(-1===r)throw new Error(\"Can't remove child. ContentItem is not child of this Row or Column\");for(this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1)),i=0;i<this.contentItems.length;i++)this.contentItems[i]!==t&&(this.contentItems[i].config[this._dimension]+=s/(this.contentItems.length-1));n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(o=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,o,!0)):(this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\"))},replaceChild:function(t,e){var i=t.config[this._dimension];e.config=e.config||{},e.config[this._dimension]=i,n.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent(\"stateChanged\"),this.emit(\"resize\")},_$init:function(){var t;if(!0!==this.isInitialised)for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();for(t=0;t<this.contentItems.length;t++)e.additionalPixel-t>0&&e.itemSizes[t]++,this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight))},_calculateAbsoluteSizes:function(){var t,e,n=(this.contentItems.length-1)*this._splitterSize,i=this.element.width(),o=this.element.height(),s=0,r=[];for(this._isColumn?o-=n:i-=n,t=0;t<this.contentItems.length;t++)s+=e=this._isColumn?Math.floor(o*(this.contentItems[t].config.height/100)):Math.floor(i*(this.contentItems[t].config.width/100)),r.push(e);return{itemSizes:r,additionalPixel:Math.floor((this._isColumn?o:i)-s),totalWidth:i,totalHeight:o}},_calculateRelativeSizes:function(){var t,e=0,n=[],i=this._isColumn?\"height\":\"width\";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[i]?e+=this.contentItems[t].config[i]:n.push(this.contentItems[t]);if(100!==Math.round(e))if(Math.round(e)<100&&n.length>0){for(t=0;t<n.length;t++)n[t].config[i]=(100-e)/n.length;this._respectMinItemWidth()}else{if(Math.round(e)>100)for(t=0;t<n.length;t++)n[t].config[i]=50,e+=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[i]=this.contentItems[t].config[i]/e*100;this._respectMinItemWidth()}else this._respectMinItemWidth()},_respectMinItemWidth:function(){var t,e,n,i,o=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,s=[],r=0,a=0,c=0,l=0,d=[];if(!(this._isColumn||!o||this.contentItems.length<=1)){t=this._calculateAbsoluteSizes();for(var h=0;h<this.contentItems.length;h++)this.contentItems[h],(l=t.itemSizes[h])<o?(a+=o-l,i={width:o}):(r+=l-o,i={width:l},s.push(i)),d.push(i);if(!(0===a||a>r)){for(e=a/r,c=a,h=0;h<s.length;h++)i=s[h],c-=n=Math.round((i.width-o)*e),i.width-=n;for(0!==c&&(d[d.length-1].width-=c),h=0;h<this.contentItems.length;h++)this.contentItems[h].config.width=d[h].width/t.totalWidth*100}}},_createSplitter:function(t){var e;return(e=new n.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on(\"drag\",n.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on(\"dragStop\",n.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on(\"dragStart\",n.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=n.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,n=0,i=0;i<t.length;++i)e=Math.max(t[i].minWidth||0,e),n=Math.max(t[i].minHeight||0,n);return{horizontal:e,vertical:n}},_onSplitterDragStart:function(t){var e=this._getItemsForSplitter(t),n=this.layoutManager.config.dimensions[this._isColumn?\"minItemHeight\":\"minItemWidth\"],i=this._getMinimumDimensions(e.before.config.content),o=this._isColumn?i.vertical:i.horizontal,s=this._getMinimumDimensions(e.after.config.content),r=this._isColumn?s.vertical:s.horizontal;this._splitterPosition=0,this._splitterMinPosition=-1*(e.before.element[this._dimension]()-(o||n)),this._splitterMaxPosition=e.after.element[this._dimension]()-(r||n)},_onSplitterDrag:function(t,e,n){var i=this._isColumn?n:e;i>this._splitterMinPosition&&i<this._splitterMaxPosition&&(this._splitterPosition=i,t.element.css(this._isColumn?\"top\":\"left\",i)),this._layoutManager.emit(\"splitterDragged\",t)},_onSplitterDragStop:function(t){var e=this._getItemsForSplitter(t),i=e.before.element[this._dimension](),o=e.after.element[this._dimension](),s=(this._splitterPosition+i)/(i+o),r=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=s*r,e.after.config[this._dimension]=(1-s)*r,t.element.css({top:0,left:0}),n.utils.animFrame(n.utils.fnBind(this.callDownwards,this,[\"setSize\"])),this._layoutManager.emit(\"splitterDragStopped\",t)}}),n.items.Stack=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,o),this.element=e('<div class=\"lm_item lm_stack\"></div>'),this._activeContentItem=null;var s=t.config;this._header={show:!0===s.settings.hasHeaders&&!1!==i.hasHeaders,popout:s.settings.showPopoutIcon&&s.labels.popout,maximize:s.settings.showMaximizeIcon&&s.labels.maximize,minimize:s.settings.showMinimizeIcon&&s.labels.minimize,close:s.settings.showCloseIcon&&s.labels.close},s.header&&n.utils.copy(this._header,s.header),i.header&&n.utils.copy(this._header,i.header),i.content&&i.content[0]&&i.content[0].header&&n.utils.copy(this._header,i.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=e('<div class=\"lm_items\"></div>'),this.header=new n.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},n.utils.extend(n.items.Stack,n.items.AbstractContentItem),n.utils.copy(n.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.header.element.height():0,n=this.element.width()-(this._sided?e:0),i=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(n),this.childElementContainer.height(i),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(n).height(i);this.emit(\"resize\"),this.emitBubblingEvent(\"stateChanged\")},_$init:function(){var t,e;if(!0!==this.isInitialised){for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(this.contentItems.length>0){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error(\"Configured activeItemIndex out of bounds\");this.setActiveContentItem(e)}}},setActiveContentItem:function(t){if(-1===n.utils.indexOf(t,this.contentItems))throw new Error(\"contentItem is not a child of this stack\");const e=this._activeContentItem;null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit(\"activeContentItemChanged\",t),this.layoutManager.emit(\"activeContentItemChanged\",t),e&&e.emit(\"focusLost\"),this.emitBubblingEvent(\"stateChanged\")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,i,o=!0){t=this.layoutManager._$normalizeContentItem(t,this),n.items.AbstractContentItem.prototype.addChild.call(this,t,i),this.childElementContainer.append(t.element),this.header.createTab(t,i),e(this.layoutManager.container).is(\":visible\")&&o?this.setActiveContentItem(t):t._$hide(),this.callDownwards(\"setSize\"),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i=n.utils.indexOf(t,this.contentItems);n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t&&(this.contentItems.length>0?this.setActiveContentItem(this.contentItems[Math.max(i-1,0)]):this._activeContentItem=null),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},_$validateClosability:function(){var t,e,n;for(t=this.header._isClosable(),n=0,e=this.contentItems.length;n<e&&t;n++)t=this.contentItems[n].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){n.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if(\"header\"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if(\"body\"!==this._dropSegment){var e,i,o,s=\"top\"===this._dropSegment||\"bottom\"===this._dropSegment,r=\"left\"===this._dropSegment||\"right\"===this._dropSegment,a=\"top\"===this._dropSegment||\"left\"===this._dropSegment,c=s&&this.parent.isColumn||r&&this.parent.isRow,l=s?\"column\":\"row\",d=s?\"height\":\"width\";t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),c?(e=n.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,a?e:e+1,!0),this.config[d]*=.5,t.config[d]=this.config[d],this.parent.callDownwards(\"setSize\")):(l=s?\"column\":\"row\",o=this.layoutManager.createContentItem({type:l},this),this.parent.replaceChild(this,o),o.addChild(t,a?0:void 0,!0),o.addChild(this,a?void 0:0,!0),this.config[d]=50,t.config[d]=50,o.callDownwards(\"setSize\"))}else this.addChild(t)},_$highlightDropZone:function(t,e){var n,i;for(n in this._contentAreaDimensions)if((i=this._contentAreaDimensions[n].hoverArea).x1<t&&i.x2>t&&i.y1<e&&i.y2>e)return void(\"header\"===n?(this._dropSegment=\"header\",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(n)))},_$getArea:function(){if(!1===this.element.is(\":visible\"))return null;var t=n.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),i=t.call(this,this.childElementContainer),o=i.x2-i.x1,s=i.y2-i.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}},t.call(this,this.element)):(\"workspace\"!==this.layoutManager.config.settings.mode&&(this._contentAreaDimensions.left={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x1+.25*o,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x1+.5*o,y2:i.y2}},this._contentAreaDimensions.top={hoverArea:{x1:i.x1+.25*o,y1:i.y1,x2:i.x1+.75*o,y2:i.y1+.5*s},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y1+.5*s}},this._contentAreaDimensions.right={hoverArea:{x1:i.x1+.75*o,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1+.5*o,y1:i.y1,x2:i.x2,y2:i.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:i.x1+.25*o,y1:i.y1+.5*s,x2:i.x1+.75*o,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1+.5*s,x2:i.x2,y2:i.y2}}),t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,n,i,o,s,r,a,c,l=this.header.tabs.length,d=!1;if(0===l)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(e=0;e<l;e++)if(s=(n=this.header.tabs[e].element).offset(),this._sided?(o=s.top,i=s.left,c=n.height()):(o=s.left,i=s.top,c=n.width()),t>o&&t<o+c){d=!0;break}if(!(!1===d&&t<o)){if(t<o+c/2?(this._dropIndex=e,n.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,l),n.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:i,x2:i+n.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});r=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:r,x2:r+this.layoutManager.tabDropPlaceholder.width(),y1:i,y2:i+n.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=[\"right\",\"left\",\"bottom\"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=[\"right\",\"left\"].indexOf(this._side)>=0,this.element.removeClass(\"lm_left lm_right lm_bottom\"),this._side&&this.element.addClass(\"lm_\"+this._side),this.element.find(\".lm_header\").length&&this.childElementContainer){var e=[\"right\",\"bottom\"].indexOf(this._side)>=0?\"before\":\"after\";this.header.element[e](this.childElementContainer),this.callDownwards(\"setSize\")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t}}),n.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},n.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},n.utils.ConfigMinifier=function(){if(this._keys=[\"settings\",\"hasHeaders\",\"constrainDragToContainer\",\"selectionEnabled\",\"dimensions\",\"borderWidth\",\"minItemHeight\",\"minItemWidth\",\"headerHeight\",\"dragProxyWidth\",\"dragProxyHeight\",\"labels\",\"close\",\"maximize\",\"minimize\",\"popout\",\"content\",\"componentName\",\"componentState\",\"id\",\"width\",\"type\",\"height\",\"isClosable\",\"title\",\"popoutWholeStack\",\"openPopouts\",\"parentId\",\"activeItemIndex\",\"reorderEnabled\",\"borderGrabWidth\"],this._keys.length>36)throw new Error(\"Too many keys in config minifier map\");this._values=[!0,!1,\"row\",\"column\",\"stack\",\"component\",\"close\",\"maximize\",\"minimize\",\"open in new window\"]},n.utils.copy(n.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_min\"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_max\"),e},_nextLevel:function(t,e,n){var i,o;for(i in t)t instanceof Array&&(i=parseInt(i,10)),t.hasOwnProperty(i)&&(o=this[n](i,this._keys),\"object\"==typeof t[i]?(e[o]=t[i]instanceof Array?[]:{},this._nextLevel(t[i],e[o],n)):e[o]=this[n](t[i],this._values))},_min:function(t,e){if(\"string\"==typeof t&&1===t.length)return\"___\"+t;var i=n.utils.indexOf(t,e);return-1===i?t:i.toString(36)},_max:function(t,e){return\"string\"==typeof t&&1===t.length?e[parseInt(t,36)]:\"string\"==typeof t&&\"___\"===t.substr(0,3)?t[3]:t}}),n.utils.EventHub=function(t){n.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(n.utils.EventEmitter.ALL_EVENT,n.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=n.utils.fnBind(this._onEventFromChild,this),e(window).on(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},n.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},n.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},n.utils.EventHub.prototype._propagateToParent=function(t){var e,n=\"gl_child_event\";document.createEvent?(e=window.opener.document.createEvent(\"HTMLEvents\")).initEvent(n,!0,!0):(e=window.opener.document.createEventObject()).eventType=n,e.eventName=n,e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent(\"on\"+e.eventType,e)},n.utils.EventHub.prototype._propagateToChildren=function(t){var e,n;for(n=0;n<this._layoutManager.openPopouts.length;n++)(e=this._layoutManager.openPopouts[n].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},n.utils.EventHub.prototype.destroy=function(){e(window).off(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on(\"open\",this._render,this),this._container.on(\"destroy\",this._destroy,this)},n.utils.copy(n.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off(\"open\",this._render,this),this._container.off(\"destroy\",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error(\"No react component name. type: react-component needs a field `component`\");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component \"'+e+'\" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},n=e.extend(t,this._container._config.props);return React.createElement(this._reactClass,n)}})}(window.$)}));function o(t){if(t&&t.errorHandling&&\"function\"!=typeof t.errorHandling&&\"log\"!==t.errorHandling&&\"silent\"!==t.errorHandling&&\"throw\"!==t.errorHandling)throw new Error('Invalid options passed to createRegistry. Prop errorHandling should be [\"log\" | \"silent\" | \"throw\" | (err) => void], but '+typeof t.errorHandling+\" was passed\");var e=t&&\"function\"==typeof t.errorHandling&&t.errorHandling,n={};function i(n,i){var o=n instanceof Error?n:new Error(n);if(e)e(o);else{var s='[ERROR] callback-registry: User callback for key \"'+i+'\" failed: '+o.stack;if(t)switch(t.errorHandling){case\"log\":return console.error(s);case\"silent\":return;case\"throw\":throw new Error(s)}console.error(s)}}return{add:function(t,e,o){var s=n[t];return s||(s=[],n[t]=s),s.push(e),o&&setTimeout((function(){o.forEach((function(o){var s;if(null===(s=n[t])||void 0===s?void 0:s.includes(e))try{Array.isArray(o)?e.apply(void 0,o):e.apply(void 0,[o])}catch(e){i(e,t)}}))}),0),function(){var i=n[t];i&&(0===(i=i.reduce((function(t,n,i){return n===e&&t.length===i||t.push(n),t}),[])).length?delete n[t]:n[t]=i)}},execute:function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var s=n[t];if(!s||0===s.length)return[];var r=[];return s.forEach((function(n){try{var o=n.apply(void 0,e);r.push(o)}catch(e){r.push(void 0),i(e,t)}})),r},clear:function(){n={}},clearKey:function(t){n[t]&&delete n[t]}}}o.default=o;var s=o;const r=t=>Array.isArray(t)?t[0]:t,a=(t=[])=>{const e=t=>\"component\"===t.type?t.id?[t]:[]:t.content.reduce(((t,n)=>t=[...t,...e(n)]),[]);return t.reduce(((t,n)=>[...t,...e(n)]),[])},c=t=>{const e=$(t)[0].getBoundingClientRect();return{x:Math.round(e.x),y:Math.round(e.y),left:Math.round(e.left),top:Math.round(e.top),width:Math.round(e.width),height:Math.round(e.height)}},l=t=>\"___workspace___\"+t;var d=new class{constructor(){this._idToLayout={}}get layouts(){return Object.values(this._idToLayout)}get workspaceIds(){return Object.keys(this._idToLayout)}get workspaceTitles(){return this.workspaceIds.map((t=>this.getWorkspaceTitle(t)))}set workspaceLayout(t){this._workspaceLayout=t}get workspaceLayout(){return this._workspaceLayout}get workspaceLayoutHeader(){return this._workspaceLayout.root.contentItems[0].header}getWorkspaceLayoutItemById(t){return this.workspaceLayout.root.getItemsById(t)[0]}getById(t){return t=r(t),this._idToLayout[t]}getByContainerId(t){return this._idToLayout[t]||this.getByContainerIdCore(t)}getWorkspaceTitle(t){const e=this.workspaceLayout.root.getItemsById(t)[0];return(null==e?void 0:e.tab.titleElement[0].innerText)||(null==e?void 0:e.config.title)}removeById(t){delete this._idToLayout[t]}removeLayout(t){this._idToLayout[t].layout.destroy(),this._idToLayout[t].layout=void 0}addOrUpdate(t,e,n){const i=this.getById(t);if(i)return i.layout=n,void(i.windows=this.mergeWindows(i.windows,e));this._idToLayout[t]={id:t,windows:e,layout:n}}getWindow(t){const e=r(t);return this.layouts.reduce(((t,n)=>t||n.windows.find((t=>t.id===e||t.windowId===e))),void 0)}getActiveWorkspace(){const t=this.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id;return this.getById(t)}addWindow(t,e){const n=this.getById(e);n.windows=n.windows.filter((e=>e.id!==t.id)),n.windows.push(t)}getByWindowId(t){return t=r(t),this.layouts.find((e=>e.windows.some((e=>e.id===t||e.windowId===t))))}getWindowContentItem(t){const e=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsById(t)[0]),void 0);if(e&&e.isComponent)return e;const n=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsByFilter((e=>e.isComponent&&e.config.componentState.windowId===t))[0]),void 0);return(null==n?void 0:n.isComponent)?n:void 0}getContainer(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e.layout),t)),[]).reduce(((e,n)=>e||n.root.getItemsById(t)[0]),void 0)}getWorkspaceContext(t){var e,n,i;const o=this.getById(t);return null===(i=null===(n=null===(e=null==o?void 0:o.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===i?void 0:i.context}getWorkspaceContentItem(t){return this.workspaceLayout.root.getItemsById(t)[0]}getByContainerIdCore(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e),t)),[]).find((e=>e.layout.root.getItemsById(t)[0]))}mergeWindows(t,e){return e.map((e=>{let n=e.windowId;if(!n){const i=t.find((t=>t.id===e.id));n=null==i?void 0:i.windowId}return Object.assign(Object.assign({},e),{windowId:n})}))}};class h{init(t){this.containerElement=$(t)[0],this.setupEvents()}setupEvents(){const t=new MutationObserver((t=>{Array.from(t).forEach((t=>{if(\"childList\"===t.type&&t.target.classList.contains(\"lm_tabs\")){const e=$(t.target);this.handleTabCountChanged(e,Array.from(t.removedNodes))}else if(\"attributes\"===t.type&&t.target.classList.contains(\"lm_stack\")&&\"style\"===t.attributeName){const e=$(t.target);this.handleTabHeaderResized(e)}}))}));return t.observe(this.containerElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"style\"],attributeOldValue:!1,characterData:!1,characterDataOldValue:!1}),()=>{t.disconnect()}}handleTabCountChanged(t,e){const n=t.children(),i=this.visibleTabs($(t));t.css(\"max-width\",200*i.length+\"px\");const o=t.width()/i.length;Array.from(n).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.75*o+\"px\"),e.length&&this.refreshTabClasses(t)}))}handleTabHeaderResized(t){const e=t.children(\".lm_header\").children(\".lm_tabs\"),n=this.visibleTabs($(e)),i=e.width()/n.length;Array.from(e.children()).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.65*i+\"px\"),this.refreshTabClasses(t)}))}refreshTabClasses(t){const e=$(t).outerWidth(),n=t.classList;e>=25&&e<35?(n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\"),n.add(\"lm_tab_small\")):e>=35?(n.remove(\"lm_tab_small\"),n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\")):e<25&&(n.remove(\"lm_tab_small\"),n.add(\"lm_tab_mini\"))}visibleTabs(t){return Array.from(t.children()).filter((t=>$(t).is(\":visible\")))}}var u=new class{constructor(){this.visibilityState={logo:void 0,addWorkspace:void 0,systemButtons:void 0,workspaceContents:[]},this.componentsFactory={},this._decoratedFactory={},this.callbackRegistry=s(),this.observer=new MutationObserver((t=>{Array.from(t).forEach((t=>{const e=t.target,n=this.getWorkspaceIdFromContents(e),i=\"none\"===e.style.display?\"workspace-contents-hidden\":\"workspace-contents-shown\";this.callbackRegistry.execute(i,n)}))}))}get decoratedFactory(){return this._decoratedFactory}init(t,e){this.componentsFactory=e,(null==e?void 0:e.createAddWorkspace)&&(this.decoratedFactory.createAddWorkspace=(...e)=>(this.visibilityState.addWorkspace=[...e,t],this.componentsFactory.createAddWorkspace(...this.visibilityState.addWorkspace))),(null==e?void 0:e.createLogo)&&(this.decoratedFactory.createLogo=(...e)=>(this.visibilityState.logo=[...e,t],this.componentsFactory.createLogo(...this.visibilityState.logo))),(null==e?void 0:e.createSystemButtons)&&(this.decoratedFactory.createSystemButtons=(...n)=>(this.visibilityState.systemButtons=[...n,t],e.createSystemButtons(...this.visibilityState.systemButtons))),(null==e?void 0:e.createWorkspaceContents)&&(this.decoratedFactory.createWorkspaceContents=(...t)=>{var n;return this.visibilityState.workspaceContents.push([...t]),this.subscribeForWorkspaceContentsVisibility(null===(n=t[0])||void 0===n?void 0:n.workspaceId),e.createWorkspaceContents(...t)})}reInitialize(t){(null==t?void 0:t.createAddWorkspace)&&this.visibilityState.addWorkspace&&t.createAddWorkspace(...this.visibilityState.addWorkspace),(null==t?void 0:t.createLogo)&&this.visibilityState.logo&&t.createLogo(...this.visibilityState.logo),(null==t?void 0:t.createSystemButtons)&&this.visibilityState.systemButtons&&t.createSystemButtons(...this.visibilityState.systemButtons),(null==t?void 0:t.createWorkspaceContents)&&this.visibilityState.workspaceContents.forEach((e=>{t.createWorkspaceContents(...e)})),this.componentsFactory=t}onWorkspaceContentsShown(t){this.callbackRegistry.add(\"workspace-contents-shown\",t)}onWorkspaceContentsHidden(t){this.callbackRegistry.add(\"workspace-contents-hidden\",t)}subscribeForWorkspaceContentsVisibility(t){const e=document.getElementById(\"nestHere\"+t);e&&this.observer.observe(e,{attributes:!0,attributeFilter:[\"style\"]})}getWorkspaceIdFromContents(t){return t.id.split(\"nestHere\")[1]}};const p=require(\"resize-observer-polyfill\").default||require(\"resize-observer-polyfill\");class m{constructor(t,e,n,i){this._maximizedId=\"__glMaximised\",this._workspaceLayoutElementId=\"#outter-layout-container\",this._registry=s(),this._emptyVisibleWindowName=\"emptyVisibleWindow\",this._stackMaximizeLabel=\"maximize\",this._stackRestoreLabel=\"restore\",this._options=n,this._emitter=t,this._stateResolver=e,this._configFactory=i}get emitter(){return this._emitter}get bounds(){return c(document.getElementById(\"outter-layout-container\"))}init(e){return t(this,void 0,void 0,(function*(){this._frameId=e.frameId;(new h).init(this._workspaceLayoutElementId),yield this.initWorkspaceConfig(e.workspaceLayout),this.refreshLayoutSize(),yield Promise.all(e.workspaceConfigs.map((e=>t(this,void 0,void 0,(function*(){yield this.initWorkspaceContents(e.id,e.config),this.emitter.raiseEvent(\"workspace-added\",{workspace:d.getById(e.id)})}))))),this.setupOuterLayout(),d.workspaceIds.forEach((t=>{this.setupContentLayouts(t)}))}))}addWindow(e,n){return t(this,void 0,void 0,(function*(){n=n||r(d.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id);const t=d.getByContainerId(n);if(!t.layout)return this.hideAddButton(t.id),void(yield this.initWorkspaceContents(t.id,e));const i=t.layout._maximizedItem;i&&i.toggleMaximise();let o=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];n&&n!==t.id&&(o=t.layout.root.getItemsById(n)[0]),o||(o=t.layout.root.getItemsByFilter((t=>t.isStack))[0]);const{placementId:s,windowId:c,url:l,appName:h}=this.getWindowInfoFromConfig(e);this.registerWindowComponent(t.layout,r(s));const u=o.getComponentsByName(this._emptyVisibleWindowName)[0];return new Promise((n=>{var i;const r=this.emitter.onContentComponentCreated((t=>{t.config.id===s&&(r(),n())}));if(\"stack\"===t.layout.root.contentItems[0].type&&\"component\"!==e.type&&(e=a([e])[0]),u&&!(null===(i=u.parent.config.workspacesConfig)||void 0===i?void 0:i.wrapper)){const t=this._configFactory.wrapInGroup([e]);return t.workspacesConfig.wrapper=!1,void u.parent.parent.replaceChild(u.parent,t)}u?u.parent.replaceChild(u,e):o.addChild(e)}))}))}addContainer(e,n){var i;return t(this,void 0,void 0,(function*(){const t=d.getByContainerId(n);if(!t.layout){const n=e.id||this._configFactory.getId();return e&&(e.id=n),this.hideAddButton(t.id),yield this.initWorkspaceContents(t.id,e),r(n)}const o=t.layout._maximizedItem;o&&o.toggleMaximise();let s=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];if(n&&(s=t.layout.root.getItemsById(n)[0]),s||(s=t.layout.root.getItemsByFilter((t=>t.isStack))[0]),t.id===n&&(\"column\"===e.type||\"stack\"===e.type?this.bundleWorkspace(t.id,\"row\"):\"row\"===e.type&&this.bundleWorkspace(t.id,\"column\"),s=t.layout.root.contentItems[0]),e.content&&a(e.content).forEach((e=>{this.registerWindowComponent(t.layout,r(e.id))})),\"component\"===s.type)throw new Error(\"The target item for add container can't be a component\");const c=s.contentItems.find((t=>\"stack\"===t.type&&!0===t.config.workspacesConfig.wrapper)),l=(null===(i=null==c?void 0:c.contentItems[0])||void 0===i?void 0:i.config.componentName)===this._emptyVisibleWindowName;return new Promise(((n,i)=>{let o=()=>{};const a=setTimeout((()=>{o(),i(`Component with id ${e.id} could not be created in 10000ms`)}),1e4);if(o=this.emitter.onContentItemCreated(((i,s)=>{i===t.id&&s.type===e.type&&(n(r(s.config.id)),o(),clearTimeout(a))})),1===(null==c?void 0:c.contentItems.length)&&l){const t=s.getComponentsByName(this._emptyVisibleWindowName)[0];t.parent.replaceChild(t,e)}else s.addChild(e)}))}))}closeContainer(t){(d.getByContainerId(t)||d.getByWindowId(t)).layout.root.getItemsById(t)[0].remove()}bundleWorkspace(t,e){const n=d.getById(t),i=n.layout.root.contentItems.map((t=>this._stateResolver.getContainerConfig(t.config.id))),o=n.layout.root.contentItems[0],s={type:e,content:i,workspacesConfig:{}};n.layout.root.replaceChild(o,s)}hideAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").hide()}showAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").show()}addWorkspace(e,n){var i,o;return t(this,void 0,void 0,(function*(){const t=d.workspaceLayout.root.getItemsByFilter((t=>t.isStack))[0],s={componentName:this._configFactory.getWorkspaceLayoutComponentName(e),type:\"component\",workspacesConfig:{},id:e,noTabHeader:null===(i=n.workspacesOptions)||void 0===i?void 0:i.noTabHeader,title:(null===(o=null==n?void 0:n.workspacesOptions)||void 0===o?void 0:o.title)||this._configFactory.getWorkspaceTitle(d.workspaceTitles)};this.registerWorkspaceComponent(e),t.addChild(s,void 0,!s.noTabHeader),yield this.initWorkspaceContents(e,n),this.setupContentLayouts(e),this.emitter.raiseEvent(\"workspace-added\",{workspace:d.getById(e)})}))}removeWorkspace(t){const e=d.getWorkspaceLayoutItemById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);d.removeById(t),e.remove()}changeTheme(t){const e=document.getElementsByTagName(\"html\")[0];\"light\"===t?e.classList.contains(t)||(e.classList.remove(\"dark\"),e.classList.add(t)):e.classList.contains(t)||(e.classList.remove(\"light\"),e.classList.add(t));const n=$(\"link[href='./dist/glue42-light-theme.css']\");(0===n.length?$(\"link[href='./dist/glue42-dark-theme.css']\"):n).attr(\"href\",`./dist/glue42-${t}-theme.css`)}getDragElement(){return $(\".lm_dragProxy\")[0]}setDragElementSize(t,e){const n=this.getDragElement();if(n){n.setAttribute(\"width\",t+\"px\"),n.setAttribute(\"height\",e+\"px\");const i=$(n).children(\".lm_content\").children(\".lm_item_container\")[0];i.setAttribute(\"width\",t+\"px\"),i.setAttribute(\"height\",e+\"px\"),i.setAttribute(\"style\",\"\")}else{const n=new MutationObserver((i=>{let o;Array.from(i).forEach((t=>{const e=$(t.addedNodes);o||(o=e.find(\".lm_dragProxy\"))})),o&&(n.disconnect(),this.setDragElementSize(t,e))}));n.observe($(\"body\")[0],{childList:!0,subtree:!0})}}removeLayoutElement(t){let e;return d.layouts.filter((t=>t.layout)).forEach((n=>{const i=n.layout.root.getItemsById(t)[0];i&&n.windows.find((e=>e.id===t))&&(n.windows=n.windows.filter((e=>e.id!==t)),i.remove(),e=n)})),e}setWindowTitle(t,e){const n=d.getWindowContentItem(t);n.setTitle(e),n.config.componentState.title=e}setWorkspaceTitle(t,e){d.getWorkspaceLayoutItemById(t).setTitle(e)}focusWindow(t){const e=d.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);const n=e.layout.root.getItemsById(t)[0];n.parent.setActiveContentItem(n)}focusWorkspace(t){const e=d.getWorkspaceLayoutItemById(t);e.parent.setActiveContentItem(e)}maximizeWindow(t){const e=d.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);const n=e.layout.root.getItemsById(t)[0];n.parent.hasId(this._maximizedId)||n.parent.toggleMaximise()}restoreWindow(t){const e=d.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);const n=e.layout.root.getItemsById(t)[0];n.parent.hasId(this._maximizedId)&&n.parent.toggleMaximise()}showLoadedWindow(e,n){return t(this,void 0,void 0,(function*(){yield this.waitForWindowContainer(e);const t=d.getWindowContentItem(e),i=d.getByWindowId(e),o=t.config;o.componentState.windowId=n,i.windows.find((t=>t.id===e)).windowId=n,t.parent.replaceChild(t,o)}))}isWindowVisible(t){t=r(t);return d.getWindowContentItem(t).parent.getActiveContentItem().config.id===t}initWorkspaceContents(t,e){if(!e||\"component\"!==e.type&&!e.content.length)return d.addOrUpdate(t,[]),this.showAddButton(t),Promise.resolve();const n=((t,e)=>{let n,i,o=0;const s=setTimeout((()=>{i()}),e||1e4);return{reject:t=>{clearTimeout(s),i(t)},signal:()=>{o++,o>=t&&(clearTimeout(s),n())},promise:new Promise(((t,e)=>{n=t,i=e}))}})(2);e.settings||(e.settings=this._configFactory.getDefaultWorkspaceSettings()),e.type&&\"workspace\"!==e.type&&(e={settings:this._configFactory.getDefaultWorkspaceSettings(),content:[{type:\"column\",content:[e],workspacesConfig:{}}]}),\"component\"!==e.type&&\"stack\"===e.content[0].type&&(e=Object.assign(Object.assign({},e),{content:[{type:\"column\",content:e.content,workspacesConfig:{}}]}));const o=new i(e,$(\"#nestHere\"+t));d.addOrUpdate(t,[]),this.registerEmptyWindowComponent(o,t),a(e.content).forEach((t=>{this.registerWindowComponent(o,r(t.id))}));const s=$(\"#nestHere\"+t);return o.on(\"initialised\",(()=>{const e=a(o.toConfig().content);d.addOrUpdate(t,e.map((t=>{const e=o.root.getItemsById(r(t.id))[0].element;return{id:r(t.id),bounds:c(e),windowId:t.componentState.windowId}})),o),this.emitter.raiseEventWithDynamicName(\"content-layout-initialised-\"+t),this.emitter.raiseEvent(\"content-layout-init\",{layout:o});const i=s.width(),l=s.height();o.updateSize(i,l),n.signal()})),o.on(\"stateChanged\",(()=>{this.emitter.raiseEvent(\"content-layout-state-changed\",{layoutId:t})})),o.on(\"itemCreated\",(e=>{var n;if(e.isComponent)e.on(\"size-changed\",(()=>{const n=d.getById(t).windows.find((t=>t.id===e.config.id));n&&(n.bounds=c(e.element));const i=e.config.id;this.emitter.raiseEvent(\"content-item-resized\",{target:e.element[0],id:r(i)})})),(e.config.componentName===this._emptyVisibleWindowName||(null===(n=e.parent)||void 0===n?void 0:n.config.workspacesConfig.wrapper))&&e.tab.header.position(!1);else{if(e.isRoot)return void(e.id&&e.id.length||e.addId(t));e.config.id&&e.config.id.length||e.addId(this._configFactory.getId())}this.emitter.raiseEvent(\"content-item-created\",{workspaceId:t,item:e})})),o.on(\"stackCreated\",(e=>{const n=document.createElement(\"li\");n.classList.add(\"lm_add_button\"),n.onclick=i=>{i.stopPropagation(),this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(e.config.id),workspaceId:t,bounds:c(n)}})};const i=$(e.element).children(\".lm_header\").children(\".lm_controls\").children(\".lm_maximise\");i.addClass(\"workspace_content\"),e.on(\"maximized\",(()=>{i.addClass(\"lm_restore\"),i.attr(\"title\",this._stackRestoreLabel),this.emitter.raiseEvent(\"stack-maximized\",{stack:e})})),e.on(\"minimized\",(()=>{i.removeClass(\"lm_restore\"),i.attr(\"title\",this._stackMaximizeLabel),this.emitter.raiseEvent(\"stack-restored\",{stack:e})})),this._options.disableCustomButtons||e.header.controlsContainer.prepend($(n)),e.on(\"activeContentItemChanged\",(()=>{const t=e.getActiveContentItem();if(!t.isComponent)return;const n=t.config.id,i=[{id:r(t.config.id),bounds:c(t.element),windowId:t.config.componentState.windowId,appName:t.config.componentState.appName,url:t.config.componentState.url}],o=e.header.tabs.reduce(((t,e)=>{const n=e.contentItem.config;if(\"component\"===n.type){const i={id:r(n.id),bounds:c(e.contentItem.element),windowId:n.componentState.windowId,appName:n.componentState.appName,url:n.componentState.url};t.push(i)}return t}),[]).filter((t=>t.id!==n));this.emitter.raiseEvent(\"selection-changed\",{toBack:o,toFront:i})})),e.on(\"popoutRequested\",(()=>{const t=e.getActiveContentItem();this.emitter.raiseEvent(\"eject-requested\",{item:t})}))})),o.on(\"tabCreated\",(t=>{t._dragListener.on(\"drag\",(()=>{this.emitter.raiseEvent(\"tab-drag\",{tab:t})})),t._dragListener.on(\"dragStart\",(()=>{this.emitter.raiseEvent(\"tab-drag-start\",{tab:t})})),t._dragListener.on(\"dragEnd\",(()=>{this.emitter.raiseEvent(\"tab-drag-end\",{tab:t})})),t.element.mousedown((()=>{this.emitter.raiseEvent(\"tab-element-mouse-down\",{tab:t})})),this.refreshTabSizeClass(t)})),o.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"tab-close-requested\",{item:t.contentItem})})),o.on(\"componentCreated\",(e=>{const i=this.emitter.raiseEvent(\"content-component-created\",{component:e,workspaceId:t});Array.isArray(i)?Promise.all(i).then((()=>{n.signal()})).catch((t=>n.reject(t))):i.then((()=>{n.signal()})).catch((t=>n.reject(t)))})),o.init(),n.promise}initWorkspaceConfig(e){return new Promise((n=>{e.settings.selectionEnabled=!0,d.workspaceLayout=new i(e,$(this._workspaceLayoutElementId),u.decoratedFactory);new p((t=>{Array.from(t).forEach((t=>{this.emitter.raiseEvent(\"outer-layout-container-resized\",{target:t.target})}))})).observe($(\"#outter-layout-container\")[0]),e.content[0].content.forEach((t=>{const e=t.id;this.registerWorkspaceComponent(r(e))})),d.workspaceLayout.on(\"initialised\",(()=>{this.emitter.raiseEvent(\"workspace-layout-initialised\",{}),n()})),d.workspaceLayout.on(\"stackCreated\",(e=>{var n;const i=e.header.controlsContainer.children(\".lm_close\")[0];i&&(i.onclick=()=>{this.emitter.raiseEvent(\"close-frame\",{})});const o=e.header.element[0];if(new MutationObserver((()=>{const t=this.getElementByClass(o,\"lm_add_button\");t&&u.decoratedFactory.createAddWorkspace&&(t.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-add-button-clicked\",{bounds:c(t)})})})).observe(e.header.element[0],{attributes:!1,childList:!0,subtree:!0}),!this._options.disableCustomButtons&&!(null===(n=u.decoratedFactory)||void 0===n?void 0:n.createAddWorkspace)){const t=document.createElement(\"li\");t.classList.add(\"lm_add_button\"),t.onclick=t=>{t.stopPropagation(),this._emitter.raiseEvent(\"workspace-add-button-clicked\",{})},e.header.workspaceControlsContainer.prepend($(t))}if(!u.decoratedFactory.createLogo){const t=document.createElement(\"span\");t.classList.add(\"logo_type\");const n=e.header.element[0].getElementsByClassName(\"lm_logo\")[0];n&&n.appendChild(t)}e.on(\"activeContentItemChanged\",(()=>t(this,void 0,void 0,(function*(){if(0===d.workspaceIds.length)return;const t=e.getActiveContentItem().config.id;yield this.waitForLayout(r(t));const n=d.workspaceIds.reduce(((t,e)=>[...t,...d.getById(e).windows]),[]);this.emitter.raiseEvent(\"workspace-selection-changed\",{workspace:d.getById(t),toBack:n})}))))})),d.workspaceLayout.on(\"itemCreated\",(t=>{t.isComponent&&t.on(\"size-changed\",(()=>{this.emitter.raiseEvent(\"workspace-content-container-resized\",{target:t,id:r(t.config.id)}),this.emitter.raiseEventWithDynamicName(\"workspace-content-container-resized-\"+t.config.id,t)}))})),d.workspaceLayout.on(\"tabCreated\",(t=>{const e=document.createElement(\"div\");e.classList.add(\"lm_saveButton\"),e.onclick=e=>{this.emitter.raiseEvent(\"workspace-save-requested\",{workspaceId:r(t.contentItem.config.id)})},this._options.disableCustomButtons||(t.element[0].prepend(e),t.element[0].onclick=t=>{-1!==t.composedPath().indexOf(e)&&document.activeElement.blur(),t.stopPropagation()}),this.refreshTabSizeClass(t)})),d.workspaceLayout.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"workspace-tab-close-requested\",{workspace:d.getById(t.contentItem.config.id)})})),d.workspaceLayout.init()}))}setupOuterLayout(){this.emitter.onOuterLayoutContainerResized((t=>{d.workspaceLayout.updateSize($(t).width(),$(t).height())}))}setupContentLayouts(t){this.emitter.onContentContainerResized((e=>{const n=d.getById(t).layout;n&&n.updateSize($(e.element).width(),$(e.element).height())}),t)}registerWindowComponent(t,e){this.registerComponent(t,\"app\"+e,(t=>{const n=document.createElement(\"div\");n.setAttribute(\"style\",\"height:100%;\"),n.id=\"app\"+e,t.getElement().append(n)}))}registerEmptyWindowComponent(t,e){this.registerComponent(t,this._emptyVisibleWindowName,(t=>{const n=document.createElement(\"div\");n.classList.add(\"empty-container-background\");const i=document.createElement(\"button\");i.classList.add(\"add-button\"),i.onclick=n=>{n.stopPropagation();const o=t.tab.contentItem,s=\"stack\"===o.parent.type?\"group\":o.parent.type;o.parent.config.workspacesConfig.wrapper?this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(o.parent.parent.config.id),workspaceId:e,parentType:o.parent.parent.type,bounds:c(i)}}):this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(o.parent.config.id),workspaceId:e,parentType:s,bounds:c(i)}})},n.append(i),t.getElement().append(n)}))}registerWorkspaceComponent(t){this.registerComponent(d.workspaceLayout,this._configFactory.getWorkspaceLayoutComponentName(t),(e=>{var n,i;const o=document.createElement(\"div\");o.setAttribute(\"style\",\"height:calc(100% - 1px); width:calc(100% - 1px);\"),o.id=\"nestHere\"+t;const s=document.createElement(\"button\");s.classList.add(\"add-button\"),s.onclick=n=>{n.stopPropagation();const i=e.tab.contentItem;this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(i.parent.id),workspaceId:t,bounds:c(s)}})},o.appendChild(s),(null===(n=u.decoratedFactory)||void 0===n?void 0:n.createWorkspaceContents)?(document.body.append(o),o.style.display=\"none\",null===(i=u.decoratedFactory)||void 0===i||i.createWorkspaceContents({workspaceId:t,domNode:e.getElement()[0]})):e.getElement().append(o),$(s).hide()}))}registerComponent(t,e,n){try{t.registerComponent(e,(function(t,e){n&&n(t,e)}))}catch(t){console.log(\"Tried to register and already existing component - \"+e)}}waitForLayout(t){return new Promise((e=>{const n=this._registry.add(\"content-layout-initialised-\"+t,(()=>{e(),n()}));d.getById(t)&&(e(),n())}))}waitForWindowContainer(t){return new Promise((e=>{const n=this.emitter.onContentComponentCreated((i=>{i.config.id===t&&(e(),n())}));d.getWindowContentItem(t)&&(e(),n())}))}getWindowInfoFromConfig(t){return\"component\"!==t.type?this.getWindowInfoFromConfig(t.content[0]):{placementId:r(t.id),windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url}}refreshLayoutSize(){const t=c($(this._workspaceLayoutElementId));d.workspaceLayout.updateSize(t.width,t.height)}refreshTabSizeClass(t){const e=t.header.tabs,n=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_small\"))),i=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_mini\")));n&&t.element.addClass(\"lm_tab_small\"),i&&t.element.addClass(\"lm_tab_mini\")}getElementByClass(t,e){const n=t.getElementsByClassName(e);if(n.length>1)throw new Error(`Multiple elements with class ${e} in element with id ${t.id} and class ${t.className} are not supported`);return n[0]}}class f{constructor(t){this._registry=t}onWorkspaceLayoutInit(t){return this._registry.add(\"workspace-layout-initialised\",t)}onContentLayoutInit(t){return this._registry.add(\"content-layout-init\",t)}onOuterLayoutContainerResized(t){return this._registry.add(\"outer-layout-container-resized\",t)}onContentContainerResized(t,e){return e?this._registry.add(\"workspace-content-container-resized-\"+e,t):this._registry.add(\"workspace-content-container-resized\",t)}onContentItemResized(t){return this._registry.add(\"content-item-resized\",t)}onContentComponentCreated(t){return this._registry.add(\"content-component-created\",t)}onFrameCloseRequested(t){return this._registry.add(\"close-frame\",t)}onRestoreRequested(t){return this._registry.add(\"restore-frame\",t)}onMaximizeRequested(t){return this._registry.add(\"maximize-frame\",t)}onMinimizeRequested(t){return this._registry.add(\"minimize-frame\",t)}onMoveAreaChanged(t){return this._registry.add(\"move-area-changed\",t)}onTabCloseRequested(t){return this._registry.add(\"tab-close-requested\",t)}onTabDragStart(t){return this._registry.add(\"tab-drag-start\",t)}onTabDrag(t){return this._registry.add(\"tab-drag\",t)}onTabDragEnd(t){return this._registry.add(\"tab-drag-end\",t)}onTabElementMouseDown(t){return this._registry.add(\"tab-element-mouse-down\",t)}onSelectionChanged(t){return this._registry.add(\"selection-changed\",t)}onWorkspaceAdded(t){return this._registry.add(\"workspace-added\",t)}onWorkspaceSelectionChanged(t){return this._registry.add(\"workspace-selection-changed\",t)}onWorkspaceTabCloseRequested(t){return this._registry.add(\"workspace-tab-close-requested\",t)}onAddButtonClicked(t){return this._registry.add(\"add-button-clicked\",t)}onContentLayoutStateChanged(t){return this._registry.add(\"content-layout-state-changed\",t)}onContentItemCreated(t){return this._registry.add(\"content-item-created\",t)}onWorkspaceAddButtonClicked(t){return this._registry.add(\"workspace-add-button-clicked\",t)}onWorkspaceSaveRequested(t){return this._registry.add(\"workspace-save-requested\",t)}onStackMaximized(t){return this._registry.add(\"stack-maximized\",t)}onStackRestored(t){return this._registry.add(\"stack-restored\",t)}onEjectRequested(t){return this._registry.add(\"eject-requested\",t)}raiseEvent(t,e){const n=this._registry.execute(t,...Object.values(e));return Array.isArray(n)&&n.some((t=>t&&t.then))||n&&!Array.isArray(n)&&n.then?n:Promise.resolve(n)}raiseEventWithDynamicName(t,...e){this._registry.execute(t,...e)}}var g=1;var y,v,w,_={nextValue:function(){return(g=(9301*g+49297)%233280)/233280},seed:function(t){g=t}},b=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-\";function C(){w=!1}function I(t){if(t){if(t!==y){if(t.length!==b.length)throw new Error(\"Custom alphabet for shortid must be \"+b.length+\" unique characters. You submitted \"+t.length+\" characters: \"+t);var e=t.split(\"\").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error(\"Custom alphabet for shortid must be \"+b.length+\" unique characters. These characters were not unique: \"+e.join(\", \"));y=t,C()}}else y!==b&&(y=b,C())}function x(){return w||(w=function(){y||I(b);for(var t,e=y.split(\"\"),n=[],i=_.nextValue();e.length>0;)i=_.nextValue(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join(\"\")}())}var k={get:function(){return y||b},characters:function(t){return I(t),y},seed:function(t){_.seed(t),v!==t&&(C(),v=t)},lookup:function(t){return x()[t]},shuffled:x},E=\"object\"==typeof window&&(window.crypto||window.msCrypto),S=E&&E.getRandomValues?function(t){return E.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},T=function(t,e,n){for(var i=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*i*n/e.length),s=\"\";;)for(var r=t(o),a=o;a--;)if((s+=e[r[a]&i]||\"\").length===+n)return s};var W,A,D=function(t){for(var e,n=0,i=\"\";!e;)i+=T(S,k.get(),1),e=t<Math.pow(16,n+1),n++;return i};var P=function(t){var e=\"\",n=Math.floor(.001*(Date.now()-1567752802062));return n===A?W++:(W=0,A=n),e+=D(7),e+=D(t),W>0&&(e+=D(W)),e+=D(n)};var M=function(t){return!(!t||\"string\"!=typeof t||t.length<6)&&!new RegExp(\"[^\"+k.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g,\"\\\\$&\")+\"]\").test(t)},L=n((function(t){var e=0;function n(){return P(e)}t.exports=n,t.exports.generate=n,t.exports.seed=function(e){return k.seed(e),t.exports},t.exports.worker=function(n){return e=n,t.exports},t.exports.characters=function(t){return void 0!==t&&k.characters(t),k.shuffled()},t.exports.isValid=M}));class F{constructor(t){this._registry=s(),this._idToFrame={},this._glue=t}startFrame(e,n,i,o){return t(this,void 0,void 0,(function*(){if(o=o||L.generate(),this._idToFrame[e])return this._idToFrame[e];if(!n)throw new Error(`The url of window with itemId ${e} is undefined`);const t=document.createElement(\"iframe\");return t.name=o+\"#wsp\",t.src=n,document.body.appendChild(t),this._registry.execute(\"frameLoaded\",e),t.setAttribute(\"id\",e),$(t).css(\"position\",\"absolute\"),this._idToFrame[e]=t,yield this.waitForWindow(o),t}))}moveFrame(t,e){const n=this._idToFrame[t],i=$(n);i.css(\"top\",e.top+\"px\"),i.css(\"left\",e.left+\"px\"),i.css(\"width\",e.width+\"px\"),i.css(\"height\",e.height+\"px\")}selectionChanged(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}maximizeTab(t){$(this._idToFrame[t]).addClass(\"maximized-active-tab\")}restoreTab(t){$(this._idToFrame[t]).removeClass(\"maximized-active-tab\")}selectionChangedDeep(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}bringToFront(t){$(this._idToFrame[t]).css(\"z-index\",\"999\")}remove(t){const e=this._idToFrame[t];if(e){delete this._idToFrame[t];try{e.contentWindow.dispatchEvent(new Event(\"beforeunload\"))}catch(t){}e.remove()}}onFrameLoaded(t){return this._registry.add(\"frameLoaded\",t)}onFrameContentClicked(t){return this._registry.add(\"frame-content-clicked\",t)}onWindowTitleChanged(t){return this._registry.add(\"window-title-changed\",t)}waitForWindow(t){return new Promise(((e,n)=>{let i=()=>{};const o=setTimeout((()=>{n(`Window with id ${t} did not appear in 5000ms`),i()}),5e3);i=this._glue.windows.onWindowAdded((n=>{n.id===t&&(i(),e(),clearTimeout(o))}));this._glue.windows.list().find((e=>e.id===t))&&(e(),i(),clearTimeout(o))}))}}var B=new class{constructor(){this.LAST_SESSION_KEY=\"lastSession\"}get(t){return JSON.parse(localStorage.getItem(t))}set(t,e){localStorage.setItem(t,JSON.stringify(e))}};var z=new class{get config(){return this._config}loadConfig(){const t=new URLSearchParams(window.location.search),e=t.get(\"emptyFrame\"),n=t.get(\"disableCustomButtons\"),i=t.get(\"workspaceName\"),o=t.get(\"workspaceNames\"),s=t.get(\"context\"),r=t.get(\"build\");let a,c=[];try{c=JSON.parse(o)||c}catch(t){}try{a=JSON.parse(s)}catch(t){}i&&c.push(i);const l={emptyFrame:null!=e&&void 0!==e,disableCustomButtons:null!=n&&void 0!==n,workspaceNames:c,context:a,build:null!=r};return this._config=l,this.cleanUpUrl(),l}cleanUpUrl(){const t=this.removeQueryParams(window.location.search,[\"emptyFrame\"]);window.history.replaceState(null,document.title,window.location.origin+window.location.pathname+t)}removeQueryParams(t,e){return e.forEach((e=>{const n=new URLSearchParams(t),i=n.get(e);Array.from(n.keys()).indexOf(e)>-1&&(t=t.replace(`${e}=${i}`,\"\"))})),\"&\"===t[t.length-1]&&(t=t.substr(0,t.length-1)),t=(t=t.replace(\"&&\",\"&\")).replace(\"?&\",\"?\")}};class N{constructor(t,e,n,i){this.resolver=t,this._glue=e,this._configFactory=n,this._configConverter=i,this._layoutsType=\"Workspace\",this._layoutComponentType=\"Workspace\"}getInitialConfig(){var e;return t(this,void 0,void 0,(function*(){if(this._initialWorkspaceConfig)return this._configFactory.generateInitialConfig([this._initialWorkspaceConfig]);const n=z.config;if(n.workspaceNames&&n.workspaceNames.length){const e=(yield Promise.all(n.workspaceNames.map((e=>t(this,void 0,void 0,(function*(){return yield this.getWorkspaceByName(e)})))))).map((t=>(t.config.workspacesOptions=t.config.workspacesOptions||{},t.config.workspacesOptions.context=t.layoutData.context,t.config))).filter((t=>t));if(e.length)return e.forEach(((t,e)=>{t.id=this._configFactory.getId(),t.workspacesOptions=t.workspacesOptions||{},n.context&&t.workspacesOptions.context?t.workspacesOptions.context=Object.assign(t.workspacesOptions.context,n.context):n.context&&(t.workspacesOptions.context=n.context),t.workspacesOptions.layoutName=n.workspaceNames[e]})),this._configFactory.generateInitialConfig(e)}else if(!(null===(e=z.config)||void 0===e?void 0:e.build)){const t=this.getLastSession();if(t&&t.length)return t.forEach((t=>{t&&(t.id=this._configFactory.getId())})),this._configFactory.generateInitialConfig(t)}return this._configFactory.getDefaultFrameConfig()}))}getLastSession(){return(B.get(B.LAST_SESSION_KEY)||[]).map((t=>(this.addWorkspaceIds(t),this.addWindowIds(t),this._configConverter.convertToRendererConfig(t))))}getSavedWorkspaceNames(){return t(this,void 0,void 0,(function*(){return(yield this._glue.layouts.getAll(this._layoutsType)).filter((t=>t.type===this._layoutsType)).map((t=>t.name))}))}export(){return t(this,void 0,void 0,(function*(){return this._glue.layouts.export(this._layoutsType)}))}getWorkspaceByName(e){return t(this,void 0,void 0,(function*(){const t=yield this._glue.layouts.get(e,this._layoutsType),n=t.components[0].state,i=this._configConverter.convertToRendererConfig(n);return this.addWorkspaceIds(i),this.addWindowIds(i),{config:i,layoutData:{metadata:t.metadata,name:e,context:n.context}}}))}delete(e){return t(this,void 0,void 0,(function*(){yield this._glue.layouts.remove(this._layoutsType,e)}))}save(e){return t(this,void 0,void 0,(function*(){const{workspace:t,title:n,name:i,saveContext:o}=e;if(!t.layout)throw new Error(\"An empty layout cannot be saved\");t.layout.config.workspacesOptions.name=i;const s=yield this.saveWorkspaceCore(t);n&&(s.config.title=n);let r={};if(o)try{r=(yield this.getWorkspaceContext(t.id))||{}}catch(t){}const a={name:i,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:s.children,config:s.config,context:r}}]};return yield this._glue.layouts.import([a],\"merge\"),a}))}generateLayout(e,n){return t(this,void 0,void 0,(function*(){if(!n.layout)throw new Error(\"An empty layout cannot be generated\");n.layout.config.workspacesOptions.name=e;const t=yield this.saveWorkspaceCore(n);return{name:e,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:t.children,config:t.config,context:{}}}]}}))}saveWorkspacesFrame(e){return t(this,void 0,void 0,(function*(){const t=e.map((t=>this.saveWorkspaceCoreSync(t))),n=yield Promise.all(t);B.set(B.LAST_SESSION_KEY,n)}))}setInitialWorkspaceConfig(t){this._initialWorkspaceConfig=t}saveWorkspaceCore(e){return t(this,void 0,void 0,(function*(){if(!e.layout)return;const t=this.resolver.getWorkspaceConfig(e.id);this.removeWorkspaceIds(t),yield this.applyWindowLayoutState(t);const n=this._configConverter.convertToAPIConfig(t);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}))}saveWorkspaceCoreSync(t){if(!t.layout)return;const e=this.resolver.getWorkspaceConfig(t.id);this.removeWorkspaceIds(e);const n=this._configConverter.convertToAPIConfig(e);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}windowSummariesToWindowLayout(t){const e=t=>{if(\"window\"===t.type)return delete t.config.isMaximized,delete t.config.isLoaded,delete t.config.isFocused,delete t.config.windowId,delete t.config.workspaceId,delete t.config.frameId,delete t.config.positionIndex,void(t.config.appName&&delete t.config.url);t.children.forEach((t=>e(t)))};e(t)}addWindowContexts(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"window\"!==e.type)yield Promise.all(e.children.map((t=>n(t))));else if(e.config.windowId){const t=this._glue.windows.findById(e.config.windowId);if(t){const n=yield t.getContext();e.config.context=Object.assign({},e.config.context||{},n)}}}));yield n(e)}))}workspaceSummaryToWorkspaceLayout(t){(null==t?void 0:t.config)&&(delete t.config.frameId,delete t.config.positionIndex)}addWindowUrlsToWindows(t){const e=t=>{var n,i;if(\"window\"!==t.type||t.config.url||t.config.appName)\"window\"!==t.type&&t.children.forEach((t=>e(t)));else{const e=this._glue.appManager.application(t.config.appName);t.config.url=null===(i=null===(n=null==e?void 0:e.userProperties)||void 0===n?void 0:n.details)||void 0===i?void 0:i.url}};e(t)}addWorkspaceIds(t){if(!t)return;const e=t=>{t.id=this._configFactory.getId(),t.type&&\"component\"===t.type&&(t.componentName=\"app\"+t.id),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}addWindowIds(t){if(!t)return;const e=t=>{\"component\"===t.type&&(t.componentState.windowId=this._configFactory.getId()),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceIds(t){const e=t=>{\"id\"in t&&delete t.id,\"component\"===(null==t?void 0:t.type)&&(t.componentName=\"placeHolderId\",t.title=\"placeHolderId\"),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceItemIds(t){const e=t=>{var n;\"id\"in t&&delete t.id,\"window\"!==t.type&&(null===(n=t.children)||void 0===n||n.forEach((t=>e(t))))};e(t)}applyWindowLayoutState(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"component\"===e.type){const t=yield this.getWindowLayoutState(e.windowId);e.componentState.layoutState=t}else e.content.forEach((t=>n(t)))}));yield Promise.all(e.content.map((e=>t(this,void 0,void 0,(function*(){yield n(e)})))))}))}getWorkspaceContext(e){return t(this,void 0,void 0,(function*(){return yield this._glue.contexts.get(l(e))}))}getWindowLayoutState(e){return t(this,void 0,void 0,(function*(){return Promise.resolve({windowId:e})}))}}class O{constructor(t,e){this._frameId=t,this._layoutEventEmitter=e}getWindowSummary(e){return t(this,void 0,void 0,(function*(){e=Array.isArray(e)?e[0]:e;let t=d.getWindowContentItem(e);return t||(yield this.waitForWindowContentItem(e),t=d.getWindowContentItem(e)),this.getWindowSummaryCore(t,e)}))}getWindowSummarySync(t,e){t=Array.isArray(t)?t[0]:t;const n=e||d.getWindowContentItem(t);return this.getWindowSummaryCore(n,t)}getWorkspaceConfig(t){const e=d.getById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);const n=e.layout?e.layout.toConfig():{workspacesOptions:{},content:[],id:t};return n.workspacesOptions.frameId=this._frameId,n.workspacesOptions.positionIndex=this.getWorkspaceTabIndex(t),n.workspacesOptions.title||(n.workspacesOptions.title=d.getWorkspaceTitle(t)),n.workspacesOptions.name=n.workspacesOptions.name||n.workspacesOptions.title,this.transformComponentsToWindowSummary(n),this.transformParentsToContainerSummary(n),n}getWorkspaceSummary(t){const e=this.getWorkspaceConfig(t),n=this.getWorkspaceTabIndex(t),i={frameId:this._frameId,positionIndex:n,title:d.getWorkspaceTitle(t),name:e.workspacesOptions.name||d.getWorkspaceTitle(t)};return e.workspacesOptions.layoutName&&(i.layoutName=e.workspacesOptions.layoutName),{config:i,id:t}}isWindowMaximized(t){const e=r(t),n=d.getWindowContentItem(e);return!!(null==n?void 0:n.parent.isMaximized)}isWindowSelected(t){const e=r(t),n=d.getWindowContentItem(e);return(null==n?void 0:n.parent.getActiveContentItem().config.id)===e}getContainerSummary(t){var e;t=r(t);const n=d.getByContainerId(t),i=d.getContainer(t),o=null===(e=i.parent)||void 0===e?void 0:e.contentItems.indexOf(i);return{itemId:t,config:{workspaceId:n.id,frameId:this._frameId,positionIndex:o||0}}}getContainerSummaryByReference(t,e){var n;const i=null===(n=t.parent)||void 0===n?void 0:n.contentItems.indexOf(t);return{itemId:r(t.config.id),config:{workspaceId:e,frameId:this._frameId,positionIndex:i||0}}}getContainerConfig(t){t=r(t);const e=(d.getByContainerId(t)||d.getByWindowId(t)).layout.toConfig();return this.findElementInConfig(t,e)}isWindowInWorkspace(t){return!!d.getWindowContentItem(t)}getFrameSnapshot(){const t=d.workspaceIds.map((t=>this.getWorkspaceSummary(t)));return{id:this._frameId,config:{},workspaces:t}}getSnapshot(t){try{return this.getWorkspaceConfig(t)}catch(t){return this.getFrameSnapshot()}}findElementInConfig(t,e){const n=e=>{if(e.id===t)return[e];return(\"component\"!==e.type?e.content:[]).reduce(((t,e)=>[...t,...n(e)]),[])};return n(e).find((t=>t.id))}getWorkspaceTabIndex(t){var e;const n=null===(e=d.workspaceLayout.root.getItemsById(t)[0])||void 0===e?void 0:e.parent;if(!n)return 0;return n.header.tabs.findIndex((e=>e.contentItem.config.id===t))}getWindowSummaryCore(t,e){const n=t.parent.getActiveContentItem().config.id===t.config.id,i=void 0!==t.config.componentState.windowId,o=this.getWindowPositionIndex(t),s=d.getByWindowId(e).id,{appName:a,url:c,windowId:l}=t.config.componentState,h=this.getUserFriendlyParent(t);return{itemId:r(t.config.id),parentId:r(h.config.id),config:{frameId:this._frameId,isFocused:n,isLoaded:i,positionIndex:o,workspaceId:s,windowId:l,isMaximized:this.isWindowMaximized(l),appName:a,url:c,title:t.config.title}}}getWindowPositionIndex(t){const e=t.parent.contentItems.indexOf(t);return-1===e?t.parent.contentItems.length:e}getUserFriendlyParent(t){return t.parent?t.parent.config.workspacesConfig.wrapper?this.getUserFriendlyParent(t.parent):t.parent:t}transformComponentsToWindowSummary(t){var e;if(\"component\"!==t.type||\"emptyVisibleWindow\"!==t.componentName){if(\"component\"===t.type){const e=this.getWindowSummarySync(t.id);return t.workspacesConfig=t.workspacesConfig||{},void(t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config))}null===(e=t.content)||void 0===e||e.map((t=>this.transformComponentsToWindowSummary(t)))}}transformParentsToContainerSummary(t){var e;if(\"component\"!==t.type){if(\"stack\"===t.type||\"row\"===t.type||\"column\"===t.type){const e=this.getContainerSummary(t.id);t.workspacesConfig=t.workspacesConfig||{},t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config)}null===(e=t.content)||void 0===e||e.map((t=>this.transformParentsToContainerSummary(t)))}}waitForWindowContentItem(t){return new Promise((e=>{const n=this._layoutEventEmitter.onContentComponentCreated((i=>{i.config.id===t&&(n(),e())}));d.getWindowContentItem(t)&&(n(),e())}))}}class R{constructor(){this._pattern=/^Untitled ([0-9]+)$/}getTitle(t,e=0){const n=t.filter((t=>this._pattern.test(t))).map((t=>parseInt(this._pattern.exec(t)[1],10)));return\"Untitled \"+((n.length?n.sort(((t,e)=>t-e))[n.length-1]:0)+1+e)}}class H{constructor(t){this._titleGenerator=new R,this._defaultWorkspaceLayoutSettings={showCloseIcon:!1,showMaximizeIcon:!1,showPopoutIcon:!1,disableDragProxy:!0,mode:\"workspace\"},this._glue=t}createEmptyVisibleWindowConfig(){return Object.assign(Object.assign({},this.createWindowConfigurationCore()),{componentState:{header:!1}})}createGDWindowConfig(t){const e=this.createWindowConfigurationCore(t.id);return Object.assign(Object.assign({},e),{componentName:\"app\"+e.id,windowId:t.windowId,title:t.title,componentState:{windowId:t.windowId,appName:t.appName,url:t.url,title:t.title,context:t.context}})}createApiWindow(t){return{id:Array.isArray(t.id)?t.id[0]:t.id,type:\"window\",config:{windowId:t.windowId,isMaximized:t.isMaximized,isLoaded:void 0!==t.windowId,isFocused:t.isFocused,appName:t.appName,url:t.url,title:t.title,workspaceId:t.workspaceId,frameId:t.frameId,positionIndex:t.positionIndex}}}getWorkspaceLayoutComponentName(t){return\"workspace\"+t}getWorkspaceTitle(t){return this._titleGenerator.getTitle(t)}getId(){return L.generate()}getDefaultWorkspaceSettings(){return{mode:\"default\",showCloseIcon:!1,showPopoutIcon:!0}}getDefaultFrameConfig(){const t=L.generate();return{frameId:void 0,workspaceConfigs:[{id:t,config:this.getDefaultWorkspaceConfig()}],workspaceLayout:{settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:[{type:\"component\",id:t,componentName:this.getWorkspaceLayoutComponentName(t),componentState:{},workspacesConfig:{},title:this.getWorkspaceTitle(d.workspaceTitles)}],workspacesConfig:{}}]}}}getDefaultWorkspaceConfig(){}generateInitialConfig(t){const e={settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:t.map((t=>{var e,n,i;const o=L.generate();return{workspacesConfig:{},type:\"component\",id:(null==t?void 0:t.id)||o,componentName:this.getWorkspaceLayoutComponentName(r(null==t?void 0:t.id)||o),componentState:{},noTabHeader:null===(e=null==t?void 0:t.workspacesOptions)||void 0===e?void 0:e.noTabHeader,title:(null===(n=null==t?void 0:t.workspacesOptions)||void 0===n?void 0:n.title)||(null===(i=null==t?void 0:t.workspacesOptions)||void 0===i?void 0:i.name)||this.getWorkspaceTitle(d.workspaceIds)}})),workspacesConfig:{}}]};return{frameId:void 0,workspaceConfigs:t.map(((t,n)=>{let i=null==t?void 0:t.id;return i||\"component\"===e.content[0].type||(i=e.content[0].content[n].id),{id:i,config:t}})),workspaceLayout:e}}wrapInGroup(t){return this.wrap(t,\"stack\")}getAppNameFromWindowId(t){const e=this._glue.appManager.instances().find((e=>e.agm.windowId===t));return null==e?void 0:e.application.name}createWindowConfigurationCore(t){return{workspacesConfig:{},type:\"component\",id:t||this.getId(),componentName:\"emptyVisibleWindow\"}}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}}class j{constructor(){this.registry=s()}onFrameEvent(t){return this.registry.add(\"frame\",t)}onWindowEvent(t){return this.registry.add(\"window\",t)}onContainerEvent(t){return this.registry.add(\"container\",t)}onWorkspaceEvent(t){return this.registry.add(\"workspace\",t)}raiseFrameEvent(t){this.registry.execute(\"frame\",t.action,t.payload)}raiseWindowEvent(t){this.registry.execute(\"window\",t.action,t.payload)}raiseContainerEvent(t){this.registry.execute(\"container\",t.action,t.payload)}raiseWorkspaceEvent(t){this.registry.execute(\"workspace\",t.action,t.payload)}}class q{constructor(t){this._configFactory=t,this.flat=t=>t.reduce(((t,e)=>[...t,...Array.isArray(e)?e:[e]]),[])}convertToRendererConfig(t){if(t)return this.convertToRendererConfigCore(t,void 0)}convertToAPIConfig(t){if(t)return this.convertToApiConfigCore(t)}convertToRendererConfigCore(t,e){var n,i,o,s,r;let a={type:t.type,content:[],workspacesOptions:t.config||{}};if(\"workspace\"!==t.type&&t.type||(a=this.applyDefaultRendererConfig({content:[],workspacesOptions:t.config})),\"workspace\"===t.type||!t.type){const e=t,{children:n}=e;return n.length>1&&n.every((t=>\"column\"===t.type))?a.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"row\")):n.length>1&&n.every((t=>\"row\"===t.type))?a.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"column\")):a.content.push(...n.map((t=>this.convertToRendererConfigCore(t,e)))),a}if(\"column\"===t.type||\"row\"===t.type)return a.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===a.content.length&&a.content.push(this.getGroupWithEmptyVisibleWindow()),a;if(\"group\"===t.type)return a.type=\"stack\",a.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===a.content.length&&a.content.push(this._configFactory.createEmptyVisibleWindowConfig()),a;if(\"window\"===t.type){let a=(null===(n=t.config)||void 0===n?void 0:n.appName)||t.appName;const c=null===(i=t.config)||void 0===i?void 0:i.windowId;!a&&c&&(a=this._configFactory.getAppNameFromWindowId(c));const l=this._configFactory.createGDWindowConfig({windowId:c,id:t.id,appName:a,url:(null===(o=t.config)||void 0===o?void 0:o.url)||t.url,title:(null===(s=t.config)||void 0===s?void 0:s.title)||t.title,context:(null===(r=t.config)||void 0===r?void 0:r.context)||t.context});return\"group\"!==e.type?(l.componentState.header=!1,this.wrap([l],\"stack\")):l}}convertToApiConfigCore(t){if(!t.type||\"workspace\"===t.type){t=t;const e=this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));return{id:r(t.id),config:t.workspacesOptions,children:e}}if(\"component\"===t.type&&\"emptyVisibleWindow\"===t.componentName)return[];if(\"component\"!==t.type&&t.workspacesConfig&&t.workspacesConfig.wrapper)return this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));if(\"component\"===t.type){const e=t.workspacesConfig;return this._configFactory.createApiWindow({id:t.id,isFocused:!1,isMaximized:e.isMaximized,windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url,frameId:e.frameId,workspaceId:e.workspaceId,title:e.title,positionIndex:e.positionIndex})}return{id:r(t.id),type:\"stack\"===t.type?\"group\":t.type,children:this.flat(t.content.map((t=>this.convertToApiConfigCore(t)))),config:{}}}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}applyDefaultRendererConfig(t){return Object.assign({settings:Object.assign({},this._configFactory.getDefaultWorkspaceSettings())},t)}getGroupWithEmptyVisibleWindow(){return this.wrap([this._configFactory.createEmptyVisibleWindowConfig()],\"stack\")}}class U{constructor(t,e,n){this._externalPopupManager=t,this._componentPopupManager=e,this._componentFactory=n}showAddWindowPopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddApplicationPopup)?this._componentPopupManager.showAddWindowPopup(e,n):this._externalPopupManager.showAddWindowPopup(e,n)}))}showOpenWorkspacePopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddWorkspacePopup)?this._componentPopupManager.showOpenWorkspacePopup(e):this._externalPopupManager.showOpenWorkspacePopup(e,n)}))}showSaveWorkspacePopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createSaveWorkspacePopup)?this._componentPopupManager.showSaveWorkspacePopup(e,n):this._externalPopupManager.showSaveWorkspacePopup(e,n)}))}hidePopup(){this._externalPopupManager.hidePopup(),this._componentFactory&&this._componentPopupManager.hidePopup()}}class V{constructor(t){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._showPopupMethod=\"T42.Workspaces.ShowPopup\",this._glue=t,this.initPopup(),this.registerHideMethod(),this.registerResizeMethod()}showAddWindowPopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._addApplicationType,n);this.showElement(this._popup,e,t)}))}showOpenWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._openWorkspaceType,n);this.showElement(this._popup,e,t)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._saveWorkspaceType,n);this.showElement(this._popup,e,t)}))}hidePopup(){$(this._popup).css(\"visibility\",\"hidden\")}initPopup(){}showElement(t,e,n){$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const i=t.getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t){const e=$(this._popup);t.height&&e.css(\"height\",t.height+\"px\"),t.width&&e.css(\"width\",t.width+\"px\");const n=this._popup.getBoundingClientRect(),i=document.body.getBoundingClientRect(),o=i.width-n.right-10,s=i.height-n.bottom-10;if(o<0){const t=e.css(\"left\"),n=parseInt(t.substring(0,t.length-2));e.css(\"left\",n+o)}if(s<0){const t=e.css(\"top\"),n=parseInt(t.substring(0,t.length-2));e.css(\"top\",n+s)}}getPopupSize(e,n){return t(this,void 0,void 0,(function*(){const t=this.getPopupInteropId(),i=this._glue.agm.servers().find((e=>e.windowId===t));return(yield this._glue.agm.invoke(this._showPopupMethod,{type:e,payload:n},i)).returned}))}registerHideMethod(){}registerResizeMethod(){}getPopupInteropId(){try{return this._popup.contentWindow.interopId||\"best\"}catch(t){console.warn(\"Could not get the popup interop id using best\")}return\"best\"}getPopupWindowTemplate(t){return`<iframe id=\"popup\" src=\"${t}\" class=\"popup\"></iframe>`}}class G{constructor(t,e){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._popupSizes={[this._addApplicationType]:{height:200,width:200},[this._openWorkspaceType]:{height:200,width:200},[this._saveWorkspaceType]:{height:200,width:200}},this.hidePopup=()=>(document.body.onclick=void 0,$(this._popup).css(\"visibility\",\"hidden\"),new Promise((t=>{var e;(null===(e=this._componentFactory)||void 0===e?void 0:e.hideSystemPopups)?this._componentFactory.hideSystemPopups(t):t()}))),this._componentFactory=t,this._frameId=e,this.initPopup()}showAddWindowPopup(e,{workspaceId:n,parentType:i,boxId:o}){return t(this,void 0,void 0,(function*(){yield this.showInternalAddAppPopup(e,o,n,i)}))}showOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.showInternalOpenWorkspacePopup(e)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.showInternalSaveWorkspacePopup(e,n)}))}showInternalSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._saveWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createSaveWorkspacePopup({domNode:this._popup,resizePopup:t=>this.resizePopup(t,this._saveWorkspaceType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:n.workspaceId,buildMode:n.buildMode})}))}showInternalOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._openWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createAddWorkspacePopup({domNode:this._popup,frameId:this._frameId,hidePopup:this.hidePopup,resizePopup:t=>this.resizePopup(t,this._openWorkspaceType,$(this._popup))})}))}showInternalAddAppPopup(e,n,i,o){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._addApplicationType);this.showElement(this._popup,e,t),this._componentFactory.createAddApplicationPopup({domNode:this._popup,boxId:n,resizePopup:t=>this.resizePopup(t,this._addApplicationType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:i,frameId:this._frameId})}))}initPopup(){this._popup=document.createElement(\"div\"),this._popup.classList.add(\"workspaces-system-popup\"),document.body.appendChild(this._popup)}showElement(t,e,n){document.body.onclick=t=>{-1===t.composedPath().indexOf(this._popup)&&this.hidePopup()},document.body.onblur=t=>{\"iframe\"===document.activeElement.tagName.toLowerCase()&&this.hidePopup()},$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const i=t.getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t,e,n){t.height&&(n.css(\"height\",t.height+\"px\"),this._popupSizes[e].height=t.height),t.width&&(n.css(\"width\",t.width+\"px\"),this._popupSizes[e].width=t.width);const i=n[0].getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;if(s<0){const t=n.css(\"left\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"left\",e+s)}if(r<0){const t=n.css(\"top\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"top\",e+r)}}getPopupSize(t){return this._popupSizes[t]}}var X=new class{constructor(){this._isLayoutInitialized=!1,this._initPromise=Promise.resolve(),this._workspacesEventEmitter=new j,this._titleGenerator=new R,this.getComponentBounds=()=>this._controller.bounds,this.subscribeForWindowClicked=t=>this._frameController.onFrameContentClicked(t),this.cleanUp=()=>{var t;if(this._isDisposing=!0,null===(t=z.config)||void 0===t?void 0:t.build)return;const e=[],n=d.workspaceIds.map((t=>{const n=d.getById(t);return e.push(...n.windows.map((t=>this.stateResolver.getWindowSummarySync(t.id)))),this.stateResolver.getWorkspaceSummary(t)}));e.forEach((t=>{this.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),n.forEach((t=>{this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId},workspaceSummary:t}})}));const i=d.layouts.filter((t=>{var e,n,i;return!(null===(i=null===(n=null===(e=t.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===i?void 0:i.noTabHeader)}));this._layoutsManager.saveWorkspacesFrame(i),this.workspacesEventEmitter.raiseFrameEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId}}})}}get stateResolver(){return this._stateResolver}get workspacesEventEmitter(){return this._workspacesEventEmitter}get initPromise(){return this._initPromise}get initialized(){return this._initialized}get frameId(){return this._frameId}init(t,e,n,i){this._glue=t,this._facade=n;const o=z.loadConfig();if(this._initialized)return void u.reInitialize(i);this._initialized=!0,this._frameId=e,this._configFactory=new H(t);const r=new q(this._configFactory);u.init(this._frameId,i);const a=new f(s());return this._stateResolver=new O(this._frameId,a),this._controller=new m(a,this._stateResolver,o,this._configFactory),this._frameController=new F(t),this._layoutsManager=new N(this.stateResolver,t,this._configFactory,r),this._popupManager=new U(new V(t),new G(i,e),i),o.emptyFrame||this.initLayout(),{cleanUp:this.cleanUp}}saveWorkspace(e,n,i){return t(this,void 0,void 0,(function*(){const t=d.getById(n)||d.getActiveWorkspace(),o=yield this._layoutsManager.save({name:e,workspace:t,title:e,saveContext:i});return t.layout.config.workspacesOptions.layoutName=e,t.layout.config.workspacesOptions.noTabHeader&&delete t.layout.config.workspacesOptions.noTabHeader,d.getWorkspaceLayoutItemById(n).setTitle(e),o}))}openWorkspace(e,n){return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getWorkspaceByName(e),i=t.config;return i.workspacesOptions.context=t.layoutData.context,(null==n?void 0:n.context)&&i.workspacesOptions.context?i.workspacesOptions.context=Object.assign(t.layoutData.context,null==n?void 0:n.context):(null==n?void 0:n.context)&&(i.workspacesOptions.context=null==n?void 0:n.context),(null==n?void 0:n.title)&&(i.workspacesOptions.title=null==n?void 0:n.title),i&&i.workspacesOptions&&!i.workspacesOptions.name&&(i.workspacesOptions.name=e),i&&(i.workspacesOptions=i.workspacesOptions||{},i.workspacesOptions.layoutName=t.layoutData.name),i&&void 0!==(null==n?void 0:n.noTabHeader)&&(i.workspacesOptions=i.workspacesOptions||{},i.workspacesOptions.noTabHeader=null==n?void 0:n.noTabHeader),this._isLayoutInitialized?e?(i.id=this._configFactory.getId(),yield this.addWorkspace(r(i.id),i),r(i.id)):void 0:(this._layoutsManager.setInitialWorkspaceConfig(i),this._initPromise=this.initLayout(),yield this._initPromise,r(i.id))}))}exportAllLayouts(){return this._layoutsManager.export()}deleteLayout(t){this._layoutsManager.delete(t)}maximizeItem(t){this._controller.maximizeWindow(t)}restoreItem(t){this._controller.restoreWindow(t)}closeItem(t){const e=d.getWindow(t),n=d.getContainer(t);if(this._frameId===t)d.workspaceIds.forEach((t=>this.closeWorkspace(d.getById(t))));else if(e){const e=d.getWindowContentItem(t);this.closeTab(e)}else if(n)this._controller.closeContainer(t);else{const e=d.getById(t);this.closeWorkspace(e)}}addContainer(t,e){return this._controller.addContainer(t,e)}addWindow(t,e){const n=d.getContainer(e);return n&&\"stack\"===n.type||\"component\"!==t.type||(t=this._configFactory.wrapInGroup([t])),this._controller.addWindow(t,e)}setItemTitle(t,e){d.getById(t)?this._controller.setWorkspaceTitle(t,e):this._controller.setWindowTitle(t,e)}eject(e){return t(this,void 0,void 0,(function*(){const{appName:t,url:n,windowId:i}=e.config.componentState,o=d.getWorkspaceContext(d.getByWindowId(e.config.id).id),s=this._glue.windows.findById(i),a=s?yield s.getContext():o;this.closeItem(r(e.config.id));const c=this.getUrlByAppName(t)||n;return{windowId:(yield this._glue.windows.open(`${t}_${i}`,c,{context:a,windowId:i})).id}}))}createWorkspace(e){return t(this,void 0,void 0,(function*(){if(!this._isLayoutInitialized)return e.id=this._configFactory.getId(),this._layoutsManager.setInitialWorkspaceConfig(e),this._initPromise=this.initLayout(),yield this._initPromise,r(e.id);const t=this._configFactory.getId();return yield this.addWorkspace(t,e),t}))}loadWindow(e){return t(this,void 0,void 0,(function*(){let t=d.getWindowContentItem(e),{windowId:n}=t.config.componentState;return n||(yield this.waitForFrameLoaded(e),t=d.getWindowContentItem(e),n=t.config.componentState.windowId),new Promise(((t,i)=>{n||i(`The window id of ${e} is missing`);let o=()=>{};const s=setTimeout((()=>{i(`Could not load window ${n} for 5000ms`),o()}),5e3);o=this._glue.windows.onWindowAdded((e=>{e.id===n&&(t({windowId:n}),o(),clearTimeout(s))}));this._glue.windows.list().find((t=>t.id===n))&&(t({windowId:n}),o(),clearTimeout(s))}))}))}focusItem(e){return t(this,void 0,void 0,(function*(){const t=d.getById(e);this._frameId===e?yield this._glue.windows.my().focus():t?this._controller.focusWorkspace(t.id):this._controller.focusWindow(e)}))}bundleWorkspace(t,e){this._controller.bundleWorkspace(t,e)}move(t){return this._glue.windows.my().moveTo(t.y,t.x)}getFrameSummary(t){const e=d.getByContainerId(t)||d.getByWindowId(t)||d.getById(t),n=this._frameId===t;return{id:e||n?this._frameId:\"none\"}}moveWindowTo(e,n){return t(this,void 0,void 0,(function*(){if(!(d.getByContainerId(n)||d.getById(n)))throw new Error(`Could not find container ${n} in frame ${this._frameId}`);const t=d.getWindowContentItem(e);if(!t)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);return this.closeTab(t),this._controller.addWindow(t.config,n)}))}generateWorkspaceLayout(t,e){const n=d.getById(e);if(!n)throw new Error(\"Could not find workspace with id \"+e);return this._layoutsManager.generateLayout(t,n)}unmount(){try{this._popupManager.hidePopup()}catch(t){console.warn(t)}}initLayout(){return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getInitialConfig();this.subscribeForPopups(),this.subscribeForLayout(),this._isLayoutInitialized=!0,yield Promise.all(t.workspaceConfigs.map((t=>{var e,n;return this._glue.contexts.set(l(t.id),(null===(n=null===(e=t.config)||void 0===e?void 0:e.workspacesOptions)||void 0===n?void 0:n.context)||{})}))),yield this._controller.init({frameId:this._frameId,workspaceLayout:t.workspaceLayout,workspaceConfigs:t.workspaceConfigs}),d.layouts.map((t=>t.layout)).filter((t=>t)).forEach((t=>this.reportLayoutStructure(t))),z.config.emptyFrame&&this._workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId}}})}))}subscribeForLayout(){this._controller.emitter.onContentComponentCreated(((e,n)=>t(this,void 0,void 0,(function*(){var t,i;if(\"emptyVisibleWindow\"===e.config.componentName)return;const o=d.getById(n),s=c(e.element),{componentState:a}=e.config,{title:l,appName:h}=a;let{windowId:u}=a;const p=r(e.config.id),m=this.getTitleByAppName(h),f=l||m||h,g=null===(t=null==e?void 0:e.config.componentState)||void 0===t?void 0:t.context;let y=this.getUrlByAppName(a.appName)||a.url;const v=!d.getWindow(p);if(!y&&u){const t=this._glue.windows.list().find((t=>t.id===u));y=yield t.getURL();d.getWindow(p).url=y}if(u=u||L.generate(),d.addWindow({id:p,bounds:s,windowId:u,url:y,appName:h},o.id),(null===(i=e.config.componentState)||void 0===i?void 0:i.context)&&delete e.config.componentState.context,e.config.componentState.url=y,f&&e.setTitle(f),v){const t=this.stateResolver.getWindowSummarySync(p,e);this.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:t}});const n=this._glue.windows.findById(u);if(n)try{yield n.close()}catch(t){}}try{yield this.notifyFrameWillStart(u,h,g,l),yield this._frameController.startFrame(p,y,void 0,u),e.config.componentState.windowId=u;this._glue.windows.findById(u).getTitle().then((t=>{e.setTitle(t)})).catch((t=>{console.warn(\"Failed while setting the window title\",t)})),this._frameController.moveFrame(p,c(e.element)),v&&this._workspacesEventEmitter.raiseWindowEvent({action:\"loaded\",payload:{windowSummary:yield this.stateResolver.getWindowSummary(p)}})}catch(t){e.config.componentState.windowId=void 0,y?this._frameController.moveFrame(p,c(e.element)):this.closeTab(e,!1);if(!d.getById(n))throw new Error(`Workspace ${n} failed ot initialize because none of the specified windows were able to load\\n                    Internal error: ${t}`)}})))),this._controller.emitter.onContentItemResized(((t,e)=>{this._frameController.moveFrame(e,c(t))})),this._controller.emitter.onTabCloseRequested((e=>t(this,void 0,void 0,(function*(){const t=d.getByWindowId(r(e.config.id));this.closeTab(e),this._controller.removeLayoutElement(r(e.config.id)),this._frameController.remove(r(e.config.id)),t.windows.length||this.checkForEmptyWorkspace(t)})))),this._controller.emitter.onWorkspaceTabCloseRequested((t=>{this.closeWorkspace(t)})),this._controller.emitter.onTabElementMouseDown((t=>{const e=c(t.contentItem.element),n=Math.min(e.width,800),i=Math.min(e.height,600);this._controller.setDragElementSize(n,i)})),this._controller.emitter.onTabDragStart((t=>{const e=this._controller.getDragElement();new MutationObserver((e=>{Array.from(e).forEach((e=>{if(\"attributes\"===e.type){const e=$(this._controller.getDragElement()).children(\".lm_content\").children(\".lm_item_container\"),n=c(e[0]),i=r(t.contentItem.config.id);this._frameController.moveFrame(i,n),this._frameController.bringToFront(i)}}))})).observe(e,{attributes:!0})})),this._controller.emitter.onTabDragEnd((t=>{const e=t.header.tabs.filter((e=>e.contentItem.config.id!==t.contentItem.config.id));this._frameController.selectionChanged([r(t.contentItem.id)],e.map((t=>r(t.contentItem.id))))})),this._controller.emitter.onSelectionChanged(((e,n)=>t(this,void 0,void 0,(function*(){this._popupManager.hidePopup(),this._frameController.selectionChanged(n.map((t=>t.id)),e.map((t=>t.id)))})))),this._controller.emitter.onWorkspaceAdded((t=>{var e;const n=d.workspaceIds.filter((e=>e!==t.id)).reduce(((t,e)=>[...t,...d.getById(e).windows]),[]);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),d.getActiveWorkspace().id===t.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),!t.layout)return void this._frameController.selectionChangedDeep([],n.map((t=>t.id)));const e=a(t.layout.toConfig().content);this._frameController.selectionChangedDeep(e.map((t=>r(t.id))),n.map((t=>t.id)))}if(!t.layout)return;const i=t.layout.config.workspacesOptions,o=i.title||i.name;o&&(null===(e=d.getWorkspaceLayoutItemById(t.id))||void 0===e||e.setTitle(o))})),this._controller.emitter.onWorkspaceSelectionChanged(((t,e)=>{if(this._popupManager.hidePopup(),!t.layout)return this._frameController.selectionChangedDeep([],e.map((t=>t.id))),void this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}});const n=a(t.layout.toConfig().content).filter((t=>this._controller.isWindowVisible(t.id)));this._frameController.selectionChangedDeep(n.map((t=>r(t.id))),e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}})})),this._controller.emitter.onAddButtonClicked((({laneId:e,workspaceId:n,bounds:i,parentType:o})=>t(this,void 0,void 0,(function*(){const t={boxId:e,workspaceId:n,parentType:o,frameId:this._frameId,peerId:this._glue.agm.instance.peerId,domNode:void 0,resizePopup:void 0,hidePopup:void 0};yield this._popupManager.showAddWindowPopup(i,t)})))),this._controller.emitter.onContentLayoutInit((t=>{this.reportLayoutStructure(t)})),this._controller.emitter.onWorkspaceAddButtonClicked((()=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,peerId:this._glue.agm.instance.windowId},e=d.workspaceLayoutHeader.element.find(\".lm_workspace_controls\").find(\".lm_add_button\"),n=c(e);yield this._popupManager.showOpenWorkspacePopup(n,t)})))),this._controller.emitter.onWorkspaceSaveRequested((e=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,workspaceId:e,peerId:this._glue.agm.instance.peerId,buildMode:z.config.build,domNode:void 0,resizePopup:void 0,hidePopup:void 0},n=d.getWorkspaceLayoutItemById(e).tab.element.find(\".lm_saveButton\"),i=c(n);yield this._popupManager.showSaveWorkspacePopup(i,t)})))),this._controller.emitter.onStackMaximized((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.maximizeTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onStackRestored((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.restoreTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onEjectRequested((t=>{if(!t.isComponent)throw new Error(\"Can't eject item of type \"+t.type);return this.eject(t)})),u.onWorkspaceContentsShown((t=>{const e=d.getActiveWorkspace();if(!(null==e?void 0:e.layout)||t!==e.id)return;const n=d.getWorkspaceContentItem(t),i=c(n.element);e.layout.updateSize(i.width,i.height);const o=e.layout.root.getItemsByFilter((t=>\"stack\"===t.type));this._frameController.selectionChangedDeep(o.map((t=>r(t.getActiveContentItem().config.id))),[])})),u.onWorkspaceContentsHidden((t=>{const e=d.getById(t);(null==e?void 0:e.layout)&&t===e.id&&this._frameController.selectionChangedDeep([],e.windows.map((t=>t.id)))}))}subscribeForPopups(){this._frameController.onFrameContentClicked((()=>{this._popupManager.hidePopup()})),this._frameController.onWindowTitleChanged(((t,e)=>{this.setItemTitle(t,e)}))}reportLayoutStructure(t){a(t.toConfig().content).forEach((e=>{const n=t.root.getItemsById(e.id)[0];this._frameController.moveFrame(r(n.config.id),c(n.element))}))}closeTab(t,e=!0){const n=r(t.config.id),i=d.getByWindowId(n),o=this.stateResolver.getWindowSummarySync(n);this._controller.removeLayoutElement(n),this._frameController.remove(n),this.notifyFrameWillClose(o.config.windowId,o.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:o}}),!i.windows.length&&e&&this.checkForEmptyWorkspace(i)}closeWorkspace(t){if(!t)throw new Error(\"Could not find a workspace to close\");const e=this.stateResolver.getWorkspaceSummary(t.id),n=t.windows.map((t=>{if(d.getWindowContentItem(t.id))return this.stateResolver.getWindowSummarySync(t.id)})).filter((t=>t));t.windows.forEach((t=>this._frameController.remove(t.id)));const i=this.checkForEmptyWorkspace(t);n.forEach((t=>{this.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),i||this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId}}})}addWorkspace(e,n){var i;return t(this,void 0,void 0,(function*(){yield this._glue.contexts.set(l(e),(null===(i=null==n?void 0:n.workspacesOptions)||void 0===i?void 0:i.context)||{}),yield this._controller.addWorkspace(e,n)}))}checkForEmptyWorkspace(t){var e;if(1===d.layouts.length){try{if(this._isLayoutInitialized)return this._facade.executeAfterControlIsDone((()=>{window.close()})),!0}catch(t){}t.windows=[],null===(e=t.layout)||void 0===e||e.destroy(),t.layout=void 0,this._controller.showAddButton(t.id);const n=d.getWorkspaceTitle(t.id),i=this._configFactory.getWorkspaceTitle(d.workspaceTitles.filter((t=>t!==n)));this._controller.setWorkspaceTitle(t.id,i)}else this._controller.removeWorkspace(t.id);return!1}waitForFrameLoaded(t){return new Promise(((e,n)=>{let i=()=>{};const o=setTimeout((()=>{i(),n(`Did not hear frame loaded for ${t} in 5000ms`)}),5e3);i=this.workspacesEventEmitter.onWindowEvent(((n,s)=>{\"loaded\"===n&&s.windowSummary.itemId===t&&(e(),clearTimeout(o),i())}))}))}getUrlByAppName(t){var e,n,i,o;return null===(o=null===(i=null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.userProperties)||void 0===i?void 0:i.details)||void 0===o?void 0:o.url}getTitleByAppName(t){var e,n;return null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.title}notifyFrameWillStart(t,e,n,i){return this._glue.interop.invoke(\"T42.Web.Platform.Control\",{domain:e?\"appManager\":\"windows\",operation:e?\"registerWorkspaceApp\":\"registerWorkspaceWindow\",data:{name:`${e||\"window\"}_${t}`,windowId:t,frameId:this.frameId,appName:e,context:n,title:i}})}notifyFrameWillClose(t,e){return this._glue.interop.invoke(\"T42.Web.Platform.Control\",{domain:e?\"appManager\":\"windows\",operation:e?\"unregisterWorkspaceApp\":\"unregisterWorkspaceWindow\",data:{windowId:t}})}};var Y=new class{constructor(){this._workspacesControlMethod=\"T42.Workspaces.Control\",this._workspacesEventMethod=\"T42.Workspaces.Events\",this._inDisposing=!1,this.handleControlCore=(e,n,i,o)=>t(this,void 0,void 0,(function*(){try{switch(yield X.initPromise,e.operation){case\"isWindowInWorkspace\":i(this.handleIsWindowInWorkspace(e.operationArguments));break;case\"addWindow\":i(yield this.handleAddWindow(e.operationArguments));break;case\"addContainer\":i(yield this.handleAddContainer(e.operationArguments));break;case\"getWorkspaceSnapshot\":i(this.handleGetWorkspaceSnapshot(e.operationArguments));break;case\"openWorkspace\":i(yield this.handleOpenWorkspace(e.operationArguments));break;case\"saveLayout\":i(yield this.handleSaveLayout(e.operationArguments));break;case\"exportAllLayouts\":i(yield this.handleExportAllLayouts());break;case\"deleteLayout\":this.handleDeleteLayout(e.operationArguments),i(void 0);break;case\"getAllWorkspacesSummaries\":i(this.handleGetAllWorkspaceSummaries());break;case\"maximizeItem\":this.handleMaximizeItem(e.operationArguments),i(void 0);break;case\"restoreItem\":this.handleRestoreItem(e.operationArguments),i(void 0);break;case\"closeItem\":this.handleCloseItem(e.operationArguments),i(void 0);break;case\"setItemTitle\":yield this.handleSetItemTitle(e.operationArguments),i(void 0);break;case\"addWorkspaceChildren\":yield this.handleAddWorkspaceChildren(e.operationArguments),i(void 0);break;case\"ejectWindow\":i(yield this.handleEject(e.operationArguments));break;case\"createWorkspace\":i(yield this.handleCreateWorkspace(e.operationArguments));break;case\"forceLoadWindow\":i(yield this.handleForceLoadWindow(e.operationArguments));break;case\"focusItem\":yield this.handleFocusItem(e.operationArguments),i(void 0);break;case\"bundleWorkspace\":this.handleBundleWorkspace(e.operationArguments),i(void 0);break;case\"getFrameSummary\":i(yield this.handleGetFrameSummary(e.operationArguments));break;case\"moveFrame\":yield this.handleMoveFrame(e.operationArguments),i(void 0);break;case\"getFrameSnapshot\":i(yield this.handleGetFrameSnapshot());break;case\"getSnapshot\":i(yield this.handleGetSnapshot(e.operationArguments));break;case\"moveWindowTo\":yield this.handleMoveWindowTo(e.operationArguments),i(void 0);break;case\"generateLayout\":i(yield this.handleGenerateLayout(e.operationArguments));break;case\"ping\":i(this.handlePing());break;default:o(\"Invalid operation - \"+e.operation)}}catch(t){o(t.message)}})),this.handleControl=(e,n,i,o)=>t(this,void 0,void 0,(function*(){const t=this.handleControlCore(e,n,i,o);this._controlPromise=t,yield t}))}init(e,n){return t(this,void 0,void 0,(function*(){this._frameId=n,this._glue=e,this._configFactory=new H(e),this._converter=new q(this._configFactory),this._glue&&(yield this.registerAgmMethods())}))}dispose(){this._inDisposing=!0}subscribeForWorkspaceEvents(){X.workspacesEventEmitter.onFrameEvent(((t,e)=>{this.publishEventData(t,e,\"frame\")})),X.workspacesEventEmitter.onWindowEvent(((t,e)=>{this.publishEventData(t,e,\"window\")})),X.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{this.publishEventData(t,e,\"workspace\")})),X.workspacesEventEmitter.onContainerEvent(((t,e)=>{this.publishEventData(t,e,\"box\")}))}executeAfterControlIsDone(t){this._controlPromise.finally((()=>t()))}registerAgmMethods(){return t(this,void 0,void 0,(function*(){yield this._glue.agm.registerAsync({name:this._workspacesControlMethod},this.handleControl)}))}handleOpenWorkspace(e){return t(this,void 0,void 0,(function*(){const t=yield X.openWorkspace(e.name,e.restoreOptions),n=X.stateResolver.getWorkspaceConfig(t),i=this._converter.convertToAPIConfig(n);return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}))}handleExportAllLayouts(){return t(this,void 0,void 0,(function*(){return{layouts:yield X.exportAllLayouts()}}))}handleSaveLayout(e){return t(this,void 0,void 0,(function*(){return yield X.saveWorkspace(e.name,e.workspaceId,e.saveContext)}))}handleDeleteLayout(t){X.deleteLayout(t.name)}handleGetWorkspaceSnapshot(t){const e=d.getById(t.itemId),n=X.stateResolver.getWorkspaceConfig(e.id),i=this._converter.convertToAPIConfig(n);return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}handleGetAllWorkspaceSummaries(){return{summaries:d.layouts.map((t=>X.stateResolver.getWorkspaceSummary(t.id)))}}handleCloseItem(t){X.closeItem(t.itemId)}handleRestoreItem(t){X.restoreItem(t.itemId)}handleMaximizeItem(t){X.maximizeItem(t.itemId)}handleAddContainer(e){return t(this,void 0,void 0,(function*(){const t=this._converter.convertToRendererConfig(e.definition);if(\"workspace\"===t.type)throw new Error(\"Unsuccessful conversion\");const n={id:r(t.id),content:t.content,type:t.type,workspacesConfig:t.workspacesConfig};return{itemId:yield X.addContainer(n,e.parentId)}}))}handleAddWindow(e){return t(this,void 0,void 0,(function*(){const t=this._configFactory.createGDWindowConfig({windowId:e.definition.windowId,id:void 0,appName:e.definition.appName,url:e.definition.url,context:e.definition.context});if(e.definition.windowId){const n=this._glue.windows.list().find((t=>t.id===e.definition.windowId)),i=yield n.getURL();t.componentState.url=i,t.componentState.appName=this._configFactory.getAppNameFromWindowId(n.id)}return yield X.addWindow(t,e.parentId),{itemId:r(t.id)}}))}handleSetItemTitle(t){X.setItemTitle(t.itemId,t.title)}handleAddWorkspaceChildren(e){return t(this,void 0,void 0,(function*(){const t=e.children.some((t=>\"row\"===t.type)),n=e.children.some((t=>\"column\"===t.type));if(n&&t)throw new Error(\"Can't add both row and column workspace children\");let i={type:\"column\",children:e.children};n&&(i={type:\"row\",children:e.children});const o=this._converter.convertToRendererConfig(i);yield X.addContainer(o,e.workspaceId)}))}handleEject(e){return t(this,void 0,void 0,(function*(){const t=d.getWindowContentItem(e.itemId);if(!t)throw new Error(\"Could not find item \"+e.itemId);return yield X.eject(t)}))}handleCreateWorkspace(e){return t(this,void 0,void 0,(function*(){const t=this._converter.convertToRendererConfig(e),n=yield X.createWorkspace(t),i=this._converter.convertToAPIConfig(X.stateResolver.getWorkspaceConfig(n));return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}))}handleForceLoadWindow(e){return t(this,void 0,void 0,(function*(){return yield X.loadWindow(e.itemId)}))}handleFocusItem(t){return X.focusItem(t.itemId)}handleBundleWorkspace(t){return X.bundleWorkspace(t.workspaceId,t.type)}handleIsWindowInWorkspace(t){return{inWorkspace:X.stateResolver.isWindowInWorkspace(t.itemId)}}handleGetFrameSummary(e){return t(this,void 0,void 0,(function*(){return X.getFrameSummary(e.itemId)}))}handleMoveFrame(e){return t(this,void 0,void 0,(function*(){yield X.move(e.location)}))}handleGetFrameSnapshot(){return X.stateResolver.getFrameSnapshot()}handleGetSnapshot(e){return t(this,void 0,void 0,(function*(){return X.stateResolver.getSnapshot(e.itemId)}))}handleMoveWindowTo(e){return t(this,void 0,void 0,(function*(){return X.moveWindowTo(e.itemId,e.containerId)}))}handleGenerateLayout(t){return X.generateWorkspaceLayout(t.name,t.workspaceId)}handlePing(){return{live:!this._inDisposing}}publishEventData(t,e,n){if(this._glue.agm.methods().some((t=>t.name===this._workspacesEventMethod))){const i={action:t,type:n,payload:e};this._glue.agm.invoke(this._workspacesEventMethod,i).catch((()=>{}))}}},J=n((function(t){\n/*!\n * jQuery JavaScript Library v3.5.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-05-04T22:49Z\n */\n!function(e,n){t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error(\"jQuery requires a window with a document\");return n(t)}}(\"undefined\"!=typeof window?window:e,(function(t,e){var n=[],i=Object.getPrototypeOf,o=n.slice,s=n.flat?function(t){return n.flat.call(t)}:function(t){return n.concat.apply([],t)},r=n.push,a=n.indexOf,c={},l=c.toString,d=c.hasOwnProperty,h=d.toString,u=h.call(Object),p={},m=function(t){return\"function\"==typeof t&&\"number\"!=typeof t.nodeType},f=function(t){return null!=t&&t===t.window},g=t.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function v(t,e,n){var i,o,s=(n=n||g).createElement(\"script\");if(s.text=t,e)for(i in y)(o=e[i]||e.getAttribute&&e.getAttribute(i))&&s.setAttribute(i,o);n.head.appendChild(s).parentNode.removeChild(s)}function w(t){return null==t?t+\"\":\"object\"==typeof t||\"function\"==typeof t?c[l.call(t)]||\"object\":typeof t}var _=\"3.5.1\",b=function(t,e){return new b.fn.init(t,e)};function C(t){var e=!!t&&\"length\"in t&&t.length,n=w(t);return!m(t)&&!f(t)&&(\"array\"===n||0===e||\"number\"==typeof e&&e>0&&e-1 in t)}b.fn=b.prototype={jquery:_,constructor:b,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=b.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return b.each(this,t)},map:function(t){return this.pushStack(b.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(b.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:n.sort,splice:n.splice},b.extend=b.fn.extend=function(){var t,e,n,i,o,s,r=arguments[0]||{},a=1,c=arguments.length,l=!1;for(\"boolean\"==typeof r&&(l=r,r=arguments[a]||{},a++),\"object\"==typeof r||m(r)||(r={}),a===c&&(r=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],\"__proto__\"!==e&&r!==i&&(l&&i&&(b.isPlainObject(i)||(o=Array.isArray(i)))?(n=r[e],s=o&&!Array.isArray(n)?[]:o||b.isPlainObject(n)?n:{},o=!1,r[e]=b.extend(l,s,i)):void 0!==i&&(r[e]=i));return r},b.extend({expando:\"jQuery\"+(_+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||\"[object Object]\"!==l.call(t))&&(!(e=i(t))||\"function\"==typeof(n=d.call(e,\"constructor\")&&e.constructor)&&h.call(n)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){v(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(C(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?b.merge(n,\"string\"==typeof t?[t]:t):r.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:a.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,s=t.length,r=!n;o<s;o++)!e(t[o],o)!==r&&i.push(t[o]);return i},map:function(t,e,n){var i,o,r=0,a=[];if(C(t))for(i=t.length;r<i;r++)null!=(o=e(t[r],r,n))&&a.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&a.push(o);return s(a)},guid:1,support:p}),\"function\"==typeof Symbol&&(b.fn[Symbol.iterator]=n[Symbol.iterator]),b.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),(function(t,e){c[\"[object \"+e+\"]\"]=e.toLowerCase()}));var I=\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\nfunction(t){var e,n,i,o,s,r,a,c,l,d,h,u,p,m,f,g,y,v,w,_=\"sizzle\"+1*new Date,b=t.document,C=0,I=0,x=ct(),k=ct(),E=ct(),S=ct(),T=function(t,e){return t===e&&(h=!0),0},W={}.hasOwnProperty,A=[],D=A.pop,P=A.push,M=A.push,L=A.slice,F=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},B=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",z=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",N=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",O=\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\"+N+\")(?:\"+z+\"*([*^$|!~]?=)\"+z+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+N+\"))|)\"+z+\"*\\\\]\",$=\":(\"+N+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+O+\")*)|.*)\\\\)|)\",R=new RegExp(z+\"+\",\"g\"),H=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]+$\",\"g\"),j=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*,[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),q=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*([>+~]|[\\\\x20\\\\t\\\\r\\\\n\\\\f])[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),U=new RegExp(z+\"|>\"),V=new RegExp($),G=new RegExp(\"^\"+N+\"$\"),X={ID:new RegExp(\"^#(\"+N+\")\"),CLASS:new RegExp(\"^\\\\.(\"+N+\")\"),TAG:new RegExp(\"^(\"+N+\"|[*])\"),ATTR:new RegExp(\"^\"+O),PSEUDO:new RegExp(\"^\"+$),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*(even|odd|(([+-]|)(\\\\d*)n|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:([+-]|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\\\\d+)|))[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+B+\")$\",\"i\"),needsContext:new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*((?:-\\\\d)?\\\\d*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,Q=/^[^{]+\\{\\s*\\[native \\w/,K=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,tt=/[+~]/,et=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),nt=function(t,e){var n=\"0x\"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,ot=function(t,e){return e?\"\\0\"===t?\"\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\" \":\"\\\\\"+t},st=function(){u()},rt=_t((function(t){return!0===t.disabled&&\"fieldset\"===t.nodeName.toLowerCase()}),{dir:\"parentNode\",next:\"legend\"});try{M.apply(A=L.call(b.childNodes),b.childNodes),A[b.childNodes.length].nodeType}catch(t){M={apply:A.length?function(t,e){P.apply(t,L.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,o){var s,a,l,d,h,m,y,v=e&&e.ownerDocument,b=e?e.nodeType:9;if(i=i||[],\"string\"!=typeof t||!t||1!==b&&9!==b&&11!==b)return i;if(!o&&(u(e),e=e||p,f)){if(11!==b&&(h=K.exec(t)))if(s=h[1]){if(9===b){if(!(l=e.getElementById(s)))return i;if(l.id===s)return i.push(l),i}else if(v&&(l=v.getElementById(s))&&w(e,l)&&l.id===s)return i.push(l),i}else{if(h[2])return M.apply(i,e.getElementsByTagName(t)),i;if((s=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return M.apply(i,e.getElementsByClassName(s)),i}if(n.qsa&&!S[t+\" \"]&&(!g||!g.test(t))&&(1!==b||\"object\"!==e.nodeName.toLowerCase())){if(y=t,v=e,1===b&&(U.test(t)||q.test(t))){for((v=tt.test(t)&&yt(e.parentNode)||e)===e&&n.scope||((d=e.getAttribute(\"id\"))?d=d.replace(it,ot):e.setAttribute(\"id\",d=_)),a=(m=r(t)).length;a--;)m[a]=(d?\"#\"+d:\":scope\")+\" \"+wt(m[a]);y=m.join(\",\")}try{return M.apply(i,v.querySelectorAll(y)),i}catch(e){S(t,!0)}finally{d===_&&e.removeAttribute(\"id\")}}}return c(t.replace(H,\"$1\"),e,i,o)}function ct(){var t=[];return function e(n,o){return t.push(n+\" \")>i.cacheLength&&delete e[t.shift()],e[n+\" \"]=o}}function lt(t){return t[_]=!0,t}function dt(t){var e=p.createElement(\"fieldset\");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split(\"|\"),o=n.length;o--;)i.attrHandle[n[o]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t}}function mt(t){return function(e){var n=e.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&e.type===t}}function ft(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function gt(t){return lt((function(e){return e=+e,lt((function(n,i){for(var o,s=t([],n.length,e),r=s.length;r--;)n[o=s[r]]&&(n[o]=!(i[o]=n[o]))}))}))}function yt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!Y.test(e||n&&n.nodeName||\"HTML\")},u=at.setDocument=function(t){var e,o,r=t?t.ownerDocument||t:b;return r!=p&&9===r.nodeType&&r.documentElement?(m=(p=r).documentElement,f=!s(p),b!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener(\"unload\",st,!1):o.attachEvent&&o.attachEvent(\"onunload\",st)),n.scope=dt((function(t){return m.appendChild(t).appendChild(p.createElement(\"div\")),void 0!==t.querySelectorAll&&!t.querySelectorAll(\":scope fieldset div\").length})),n.attributes=dt((function(t){return t.className=\"i\",!t.getAttribute(\"className\")})),n.getElementsByTagName=dt((function(t){return t.appendChild(p.createComment(\"\")),!t.getElementsByTagName(\"*\").length})),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=dt((function(t){return m.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute(\"id\")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode(\"id\");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var n,i,o,s=e.getElementById(t);if(s){if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s];for(o=e.getElementsByName(t),i=0;s=o[i++];)if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,s=e.getElementsByTagName(t);if(\"*\"===t){for(;n=s[o++];)1===n.nodeType&&i.push(n);return i}return s},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&f)return e.getElementsByClassName(t)},y=[],g=[],(n.qsa=Q.test(p.querySelectorAll))&&(dt((function(t){var e;m.appendChild(t).innerHTML=\"<a id='\"+_+\"'></a><select id='\"+_+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",t.querySelectorAll(\"[msallowcapture^='']\").length&&g.push(\"[*^$]=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\"[selected]\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:value|\"+B+\")\"),t.querySelectorAll(\"[id~=\"+_+\"-]\").length||g.push(\"~=\"),(e=p.createElement(\"input\")).setAttribute(\"name\",\"\"),t.appendChild(e),t.querySelectorAll(\"[name='']\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\":checked\").length||g.push(\":checked\"),t.querySelectorAll(\"a#\"+_+\"+*\").length||g.push(\".#.+[+~]\"),t.querySelectorAll(\"\\\\\\f\"),g.push(\"[\\\\r\\\\n\\\\f]\")})),dt((function(t){t.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var e=p.createElement(\"input\");e.setAttribute(\"type\",\"hidden\"),t.appendChild(e).setAttribute(\"name\",\"D\"),t.querySelectorAll(\"[name=d]\").length&&g.push(\"name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[*^$|!~]?=\"),2!==t.querySelectorAll(\":enabled\").length&&g.push(\":enabled\",\":disabled\"),m.appendChild(t).disabled=!0,2!==t.querySelectorAll(\":disabled\").length&&g.push(\":enabled\",\":disabled\"),t.querySelectorAll(\"*,:x\"),g.push(\",.*:\")}))),(n.matchesSelector=Q.test(v=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&dt((function(t){n.disconnectedMatch=v.call(t,\"*\"),v.call(t,\"[s!='']:x\"),y.push(\"!=\",$)})),g=g.length&&new RegExp(g.join(\"|\")),y=y.length&&new RegExp(y.join(\"|\")),e=Q.test(m.compareDocumentPosition),w=e||Q.test(m.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},T=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==p||t.ownerDocument==b&&w(b,t)?-1:e==p||e.ownerDocument==b&&w(b,e)?1:d?F(d,t)-F(d,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,r=[t],a=[e];if(!o||!s)return t==p?-1:e==p?1:o?-1:s?1:d?F(d,t)-F(d,e):0;if(o===s)return ut(t,e);for(n=t;n=n.parentNode;)r.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;r[i]===a[i];)i++;return i?ut(r[i],a[i]):r[i]==b?-1:a[i]==b?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(u(t),n.matchesSelector&&f&&!S[e+\" \"]&&(!y||!y.test(e))&&(!g||!g.test(e)))try{var i=v.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){S(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&u(t),w(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&u(t);var o=i.attrHandle[e.toLowerCase()],s=o&&W.call(i.attrHandle,e.toLowerCase())?o(t,e,!f):void 0;return void 0!==s?s:n.attributes||!f?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+\"\").replace(it,ot)},at.error=function(t){throw new Error(\"Syntax error, unrecognized expression: \"+t)},at.uniqueSort=function(t){var e,i=[],o=0,s=0;if(h=!n.detectDuplicates,d=!n.sortStable&&t.slice(0),t.sort(T),h){for(;e=t[s++];)e===t[s]&&(o=i.push(s));for(;o--;)t.splice(i[o],1)}return d=null,t},o=at.getText=function(t){var e,n=\"\",i=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if(\"string\"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[i++];)n+=o(e);return n},(i=at.selectors={cacheLength:50,createPseudo:lt,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||\"\").replace(et,nt),\"~=\"===t[2]&&(t[3]=\" \"+t[3]+\" \"),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),\"nth\"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(\"even\"===t[3]||\"odd\"===t[3])),t[5]=+(t[7]+t[8]||\"odd\"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||\"\":n&&V.test(n)&&(e=r(n,!0))&&(e=n.indexOf(\")\",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return\"*\"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=x[t+\" \"];return e||(e=new RegExp(\"(^|[\\\\x20\\\\t\\\\r\\\\n\\\\f])\"+t+\"(\"+z+\"|$)\"))&&x(t,(function(t){return e.test(\"string\"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute(\"class\")||\"\")}))},ATTR:function(t,e,n){return function(i){var o=at.attr(i,t);return null==o?\"!=\"===e:!e||(o+=\"\",\"=\"===e?o===n:\"!=\"===e?o!==n:\"^=\"===e?n&&0===o.indexOf(n):\"*=\"===e?n&&o.indexOf(n)>-1:\"$=\"===e?n&&o.slice(-n.length)===n:\"~=\"===e?(\" \"+o.replace(R,\" \")+\" \").indexOf(n)>-1:\"|=\"===e&&(o===n||o.slice(0,n.length+1)===n+\"-\"))}},CHILD:function(t,e,n,i,o){var s=\"nth\"!==t.slice(0,3),r=\"last\"!==t.slice(-4),a=\"of-type\"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,c){var l,d,h,u,p,m,f=s!==r?\"nextSibling\":\"previousSibling\",g=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!c&&!a,w=!1;if(g){if(s){for(;f;){for(u=e;u=u[f];)if(a?u.nodeName.toLowerCase()===y:1===u.nodeType)return!1;m=f=\"only\"===t&&!m&&\"nextSibling\"}return!0}if(m=[r?g.firstChild:g.lastChild],r&&v){for(w=(p=(l=(d=(h=(u=g)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===C&&l[1])&&l[2],u=p&&g.childNodes[p];u=++p&&u&&u[f]||(w=p=0)||m.pop();)if(1===u.nodeType&&++w&&u===e){d[t]=[C,p,w];break}}else if(v&&(w=p=(l=(d=(h=(u=e)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===C&&l[1]),!1===w)for(;(u=++p&&u&&u[f]||(w=p=0)||m.pop())&&((a?u.nodeName.toLowerCase()!==y:1!==u.nodeType)||!++w||(v&&((d=(h=u[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]=[C,w]),u!==e)););return(w-=o)===i||w%i==0&&w/i>=0}}},PSEUDO:function(t,e){var n,o=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error(\"unsupported pseudo: \"+t);return o[_]?o(e):o.length>1?(n=[t,t,\"\",e],i.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var i,s=o(t,e),r=s.length;r--;)t[i=F(t,s[r])]=!(n[i]=s[r])})):function(t){return o(t,0,n)}):o}},pseudos:{not:lt((function(t){var e=[],n=[],i=a(t.replace(H,\"$1\"));return i[_]?lt((function(t,e,n,o){for(var s,r=i(t,null,o,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))})):function(t,o,s){return e[0]=t,i(e,null,s,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||o(e)).indexOf(t)>-1}})),lang:lt((function(t){return G.test(t||\"\")||at.error(\"unsupported lang: \"+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=f?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(n=n.toLowerCase())===t||0===n.indexOf(t+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===m},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&!!t.checked||\"option\"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&\"button\"===t.type||\"button\"===e},text:function(t){var e;return\"input\"===t.nodeName.toLowerCase()&&\"text\"===t.type&&(null==(e=t.getAttribute(\"type\"))||\"text\"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:gt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=mt(e);function vt(){}function wt(t){for(var e=0,n=t.length,i=\"\";e<n;e++)i+=t[e].value;return i}function _t(t,e,n){var i=e.dir,o=e.next,s=o||i,r=n&&\"parentNode\"===s,a=I++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o);return!1}:function(e,n,c){var l,d,h,u=[C,a];if(c){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,c))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(d=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=d[s])&&l[0]===C&&l[1]===a)return u[2]=l[2];if(d[s]=u,u[2]=t(e,n,c))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function Ct(t,e,n,i,o){for(var s,r=[],a=0,c=t.length,l=null!=e;a<c;a++)(s=t[a])&&(n&&!n(s,i,o)||(r.push(s),l&&e.push(a)));return r}function It(t,e,n,i,o,s){return i&&!i[_]&&(i=It(i)),o&&!o[_]&&(o=It(o,s)),lt((function(s,r,a,c){var l,d,h,u=[],p=[],m=r.length,f=s||function(t,e,n){for(var i=0,o=e.length;i<o;i++)at(t,e[i],n);return n}(e||\"*\",a.nodeType?[a]:a,[]),g=!t||!s&&e?f:Ct(f,u,t,a,c),y=n?o||(s?t:m||i)?[]:r:g;if(n&&n(g,y,a,c),i)for(l=Ct(y,p),i(l,[],a,c),d=l.length;d--;)(h=l[d])&&(y[p[d]]=!(g[p[d]]=h));if(s){if(o||t){if(o){for(l=[],d=y.length;d--;)(h=y[d])&&l.push(g[d]=h);o(null,y=[],l,c)}for(d=y.length;d--;)(h=y[d])&&(l=o?F(s,h):u[d])>-1&&(s[l]=!(r[l]=h))}}else y=Ct(y===r?y.splice(m,y.length):y),o?o(null,r,y,c):M.apply(r,y)}))}function xt(t){for(var e,n,o,s=t.length,r=i.relative[t[0].type],a=r||i.relative[\" \"],c=r?1:0,d=_t((function(t){return t===e}),a,!0),h=_t((function(t){return F(e,t)>-1}),a,!0),u=[function(t,n,i){var o=!r&&(i||n!==l)||((e=n).nodeType?d(t,n,i):h(t,n,i));return e=null,o}];c<s;c++)if(n=i.relative[t[c].type])u=[_t(bt(u),n)];else{if((n=i.filter[t[c].type].apply(null,t[c].matches))[_]){for(o=++c;o<s&&!i.relative[t[o].type];o++);return It(c>1&&bt(u),c>1&&wt(t.slice(0,c-1).concat({value:\" \"===t[c-2].type?\"*\":\"\"})).replace(H,\"$1\"),n,c<o&&xt(t.slice(c,o)),o<s&&xt(t=t.slice(o)),o<s&&wt(t))}u.push(n)}return bt(u)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,r=at.tokenize=function(t,e){var n,o,s,r,a,c,l,d=k[t+\" \"];if(d)return e?0:d.slice(0);for(a=t,c=[],l=i.preFilter;a;){for(r in n&&!(o=j.exec(a))||(o&&(a=a.slice(o[0].length)||a),c.push(s=[])),n=!1,(o=q.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(H,\" \")}),a=a.slice(n.length)),i.filter)!(o=X[r].exec(a))||l[r]&&!(o=l[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):k(t,c).slice(0)},a=at.compile=function(t,e){var n,o=[],s=[],a=E[t+\" \"];if(!a){for(e||(e=r(t)),n=e.length;n--;)(a=xt(e[n]))[_]?o.push(a):s.push(a);(a=E(t,function(t,e){var n=e.length>0,o=t.length>0,s=function(s,r,a,c,d){var h,m,g,y=0,v=\"0\",w=s&&[],_=[],b=l,I=s||o&&i.find.TAG(\"*\",d),x=C+=null==b?1:Math.random()||.1,k=I.length;for(d&&(l=r==p||r||d);v!==k&&null!=(h=I[v]);v++){if(o&&h){for(m=0,r||h.ownerDocument==p||(u(h),a=!f);g=t[m++];)if(g(h,r||p,a)){c.push(h);break}d&&(C=x)}n&&((h=!g&&h)&&y--,s&&w.push(h))}if(y+=v,n&&v!==y){for(m=0;g=e[m++];)g(w,_,r,a);if(s){if(y>0)for(;v--;)w[v]||_[v]||(_[v]=D.call(c));_=Ct(_)}M.apply(c,_),d&&!s&&_.length>0&&y+e.length>1&&at.uniqueSort(c)}return d&&(C=x,l=b),w};return n?lt(s):s}(s,o))).selector=t}return a},c=at.select=function(t,e,n,o){var s,c,l,d,h,u=\"function\"==typeof t&&t,p=!o&&r(t=u.selector||t);if(n=n||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&\"ID\"===(l=c[0]).type&&9===e.nodeType&&f&&i.relative[c[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(s=X.needsContext.test(t)?0:c.length;s--&&(l=c[s],!i.relative[d=l.type]);)if((h=i.find[d])&&(o=h(l.matches[0].replace(et,nt),tt.test(c[0].type)&&yt(e.parentNode)||e))){if(c.splice(s,1),!(t=o.length&&wt(c)))return M.apply(n,o),n;break}}return(u||a(t,p))(o,e,!f,n,!e||tt.test(t)&&yt(e.parentNode)||e),n},n.sortStable=_.split(\"\").sort(T).join(\"\")===_,n.detectDuplicates=!!h,u(),n.sortDetached=dt((function(t){return 1&t.compareDocumentPosition(p.createElement(\"fieldset\"))})),dt((function(t){return t.innerHTML=\"<a href='#'></a>\",\"#\"===t.firstChild.getAttribute(\"href\")}))||ht(\"type|href|height|width\",(function(t,e,n){if(!n)return t.getAttribute(e,\"type\"===e.toLowerCase()?1:2)})),n.attributes&&dt((function(t){return t.innerHTML=\"<input/>\",t.firstChild.setAttribute(\"value\",\"\"),\"\"===t.firstChild.getAttribute(\"value\")}))||ht(\"value\",(function(t,e,n){if(!n&&\"input\"===t.nodeName.toLowerCase())return t.defaultValue})),dt((function(t){return null==t.getAttribute(\"disabled\")}))||ht(B,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(t);b.find=I,b.expr=I.selectors,b.expr[\":\"]=b.expr.pseudos,b.uniqueSort=b.unique=I.uniqueSort,b.text=I.getText,b.isXMLDoc=I.isXML,b.contains=I.contains,b.escapeSelector=I.escape;var x=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&b(t).is(n))break;i.push(t)}return i},k=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},E=b.expr.match.needsContext;function S(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var T=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function W(t,e,n){return m(e)?b.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?b.grep(t,(function(t){return t===e!==n})):\"string\"!=typeof e?b.grep(t,(function(t){return a.call(e,t)>-1!==n})):b.filter(e,t,n)}b.filter=function(t,e,n){var i=e[0];return n&&(t=\":not(\"+t+\")\"),1===e.length&&1===i.nodeType?b.find.matchesSelector(i,t)?[i]:[]:b.find.matches(t,b.grep(e,(function(t){return 1===t.nodeType})))},b.fn.extend({find:function(t){var e,n,i=this.length,o=this;if(\"string\"!=typeof t)return this.pushStack(b(t).filter((function(){for(e=0;e<i;e++)if(b.contains(o[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)b.find(t,o[e],n);return i>1?b.uniqueSort(n):n},filter:function(t){return this.pushStack(W(this,t||[],!1))},not:function(t){return this.pushStack(W(this,t||[],!0))},is:function(t){return!!W(this,\"string\"==typeof t&&E.test(t)?b(t):t||[],!1).length}});var A,D=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(b.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||A,\"string\"==typeof t){if(!(i=\"<\"===t[0]&&\">\"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof b?e[0]:e,b.merge(this,b.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:g,!0)),T.test(i[1])&&b.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(o=g.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(b):b.makeArray(t,this)}).prototype=b.fn,A=b(g);var P=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function L(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}b.fn.extend({has:function(t){var e=b(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(b.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,o=this.length,s=[],r=\"string\"!=typeof t&&b(t);if(!E.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&b.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?b.uniqueSort(s):s)},index:function(t){return t?\"string\"==typeof t?a.call(b(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),b.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return x(t,\"parentNode\")},parentsUntil:function(t,e,n){return x(t,\"parentNode\",n)},next:function(t){return L(t,\"nextSibling\")},prev:function(t){return L(t,\"previousSibling\")},nextAll:function(t){return x(t,\"nextSibling\")},prevAll:function(t){return x(t,\"previousSibling\")},nextUntil:function(t,e,n){return x(t,\"nextSibling\",n)},prevUntil:function(t,e,n){return x(t,\"previousSibling\",n)},siblings:function(t){return k((t.parentNode||{}).firstChild,t)},children:function(t){return k(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(S(t,\"template\")&&(t=t.content||t),b.merge([],t.childNodes))}},(function(t,e){b.fn[t]=function(n,i){var o=b.map(this,e,n);return\"Until\"!==t.slice(-5)&&(i=n),i&&\"string\"==typeof i&&(o=b.filter(i,o)),this.length>1&&(M[t]||b.uniqueSort(o),P.test(t)&&o.reverse()),this.pushStack(o)}}));var F=/[^\\x20\\t\\r\\n\\f]+/g;function B(t){return t}function z(t){throw t}function N(t,e,n,i){var o;try{t&&m(o=t.promise)?o.call(t).done(e).fail(n):t&&m(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}b.Callbacks=function(t){t=\"string\"==typeof t?function(t){var e={};return b.each(t.match(F)||[],(function(t,n){e[n]=!0})),e}(t):b.extend({},t);var e,n,i,o,s=[],r=[],a=-1,c=function(){for(o=o||t.once,i=e=!0;r.length;a=-1)for(n=r.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=s.length,n=!1);t.memory||(n=!1),e=!1,o&&(s=n?[]:\"\")},l={add:function(){return s&&(n&&!e&&(a=s.length-1,r.push(n)),function e(n){b.each(n,(function(n,i){m(i)?t.unique&&l.has(i)||s.push(i):i&&i.length&&\"string\"!==w(i)&&e(i)}))}(arguments),n&&!e&&c()),this},remove:function(){return b.each(arguments,(function(t,e){for(var n;(n=b.inArray(e,s,n))>-1;)s.splice(n,1),n<=a&&a--})),this},has:function(t){return t?b.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=r=[],s=n=\"\",this},disabled:function(){return!s},lock:function(){return o=r=[],n||e||(s=n=\"\"),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],r.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},b.extend({Deferred:function(e){var n=[[\"notify\",\"progress\",b.Callbacks(\"memory\"),b.Callbacks(\"memory\"),2],[\"resolve\",\"done\",b.Callbacks(\"once memory\"),b.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",b.Callbacks(\"once memory\"),b.Callbacks(\"once memory\"),1,\"rejected\"]],i=\"pending\",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return b.Deferred((function(e){b.each(n,(function(n,i){var o=m(t[i[4]])&&t[i[4]];s[i[1]]((function(){var t=o&&o.apply(this,arguments);t&&m(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+\"With\"](this,o?[t]:arguments)}))})),t=null})).promise()},then:function(e,i,o){var s=0;function r(e,n,i,o){return function(){var a=this,c=arguments,l=function(){var t,l;if(!(e<s)){if((t=i.apply(a,c))===n.promise())throw new TypeError(\"Thenable self-resolution\");l=t&&(\"object\"==typeof t||\"function\"==typeof t)&&t.then,m(l)?o?l.call(t,r(s,n,B,o),r(s,n,z,o)):(s++,l.call(t,r(s,n,B,o),r(s,n,z,o),r(s,n,B,n.notifyWith))):(i!==B&&(a=void 0,c=[t]),(o||n.resolveWith)(a,c))}},d=o?l:function(){try{l()}catch(t){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(t,d.stackTrace),e+1>=s&&(i!==z&&(a=void 0,c=[t]),n.rejectWith(a,c))}};e?d():(b.Deferred.getStackHook&&(d.stackTrace=b.Deferred.getStackHook()),t.setTimeout(d))}}return b.Deferred((function(t){n[0][3].add(r(0,t,m(o)?o:B,t.notifyWith)),n[1][3].add(r(0,t,m(e)?e:B)),n[2][3].add(r(0,t,m(i)?i:z))})).promise()},promise:function(t){return null!=t?b.extend(t,o):o}},s={};return b.each(n,(function(t,e){var r=e[2],a=e[5];o[e[1]]=r.add,a&&r.add((function(){i=a}),n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+\"With\"](this===s?void 0:this,arguments),this},s[e[0]+\"With\"]=r.fireWith})),o.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,n=e,i=Array(n),s=o.call(arguments),r=b.Deferred(),a=function(t){return function(n){i[t]=this,s[t]=arguments.length>1?o.call(arguments):n,--e||r.resolveWith(i,s)}};if(e<=1&&(N(t,r.done(a(n)).resolve,r.reject,!e),\"pending\"===r.state()||m(s[n]&&s[n].then)))return r.then();for(;n--;)N(s[n],a(n),r.reject);return r.promise()}});var O=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&O.test(e.name)&&t.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,n)},b.readyException=function(e){t.setTimeout((function(){throw e}))};var $=b.Deferred();function R(){g.removeEventListener(\"DOMContentLoaded\",R),t.removeEventListener(\"load\",R),b.ready()}b.fn.ready=function(t){return $.then(t).catch((function(t){b.readyException(t)})),this},b.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==t&&--b.readyWait>0||$.resolveWith(g,[b]))}}),b.ready.then=$.then,\"complete\"===g.readyState||\"loading\"!==g.readyState&&!g.documentElement.doScroll?t.setTimeout(b.ready):(g.addEventListener(\"DOMContentLoaded\",R),t.addEventListener(\"load\",R));var H=function(t,e,n,i,o,s,r){var a=0,c=t.length,l=null==n;if(\"object\"===w(n))for(a in o=!0,n)H(t,e,a,n[a],!0,s,r);else if(void 0!==i&&(o=!0,m(i)||(r=!0),l&&(r?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(b(t),n)})),e))for(;a<c;a++)e(t[a],n,r?i:i.call(t[a],a,e(t[a],n)));return o?t:l?e.call(t):c?e(t[0],n):s},j=/^-ms-/,q=/-([a-z])/g;function U(t,e){return e.toUpperCase()}function V(t){return t.replace(j,\"ms-\").replace(q,U)}var G=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=b.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},G(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if(\"string\"==typeof e)o[V(e)]=n;else for(i in e)o[V(i)]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][V(e)]},access:function(t,e,n){return void 0===e||e&&\"string\"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(V):(e=V(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||b.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!b.isEmptyObject(e)}};var Y=new X,J=new X,Z=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function K(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i=\"data-\"+e.replace(Q,\"-$&\").toLowerCase(),\"string\"==typeof(n=t.getAttribute(i))){try{n=function(t){return\"true\"===t||\"false\"!==t&&(\"null\"===t?null:t===+t+\"\"?+t:Z.test(t)?JSON.parse(t):t)}(n)}catch(t){}J.set(t,e,n)}else n=void 0;return n}b.extend({hasData:function(t){return J.hasData(t)||Y.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return Y.access(t,e,n)},_removeData:function(t,e){Y.remove(t,e)}}),b.fn.extend({data:function(t,e){var n,i,o,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(o=J.get(s),1===s.nodeType&&!Y.get(s,\"hasDataAttrs\"))){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf(\"data-\")&&(i=V(i.slice(5)),K(s,i,o[i]));Y.set(s,\"hasDataAttrs\",!0)}return o}return\"object\"==typeof t?this.each((function(){J.set(this,t)})):H(this,(function(e){var n;if(s&&void 0===e)return void 0!==(n=J.get(s,t))||void 0!==(n=K(s,t))?n:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),b.extend({queue:function(t,e,n){var i;if(t)return e=(e||\"fx\")+\"queue\",i=Y.get(t,e),n&&(!i||Array.isArray(n)?i=Y.access(t,e,b.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||\"fx\";var n=b.queue(t,e),i=n.length,o=n.shift(),s=b._queueHooks(t,e);\"inprogress\"===o&&(o=n.shift(),i--),o&&(\"fx\"===e&&n.unshift(\"inprogress\"),delete s.stop,o.call(t,(function(){b.dequeue(t,e)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+\"queueHooks\";return Y.get(t,n)||Y.access(t,n,{empty:b.Callbacks(\"once memory\").add((function(){Y.remove(t,[e+\"queue\",n])}))})}}),b.fn.extend({queue:function(t,e){var n=2;return\"string\"!=typeof t&&(e=t,t=\"fx\",n--),arguments.length<n?b.queue(this[0],t):void 0===e?this:this.each((function(){var n=b.queue(this,t,e);b._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==n[0]&&b.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){b.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||\"fx\",[])},promise:function(t,e){var n,i=1,o=b.Deferred(),s=this,r=this.length,a=function(){--i||o.resolveWith(s,[s])};for(\"string\"!=typeof t&&(e=t,t=void 0),t=t||\"fx\";r--;)(n=Y.get(s[r],t+\"queueHooks\"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}});var tt=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,et=new RegExp(\"^(?:([+-])=|)(\"+tt+\")([a-z%]*)$\",\"i\"),nt=[\"Top\",\"Right\",\"Bottom\",\"Left\"],it=g.documentElement,ot=function(t){return b.contains(t.ownerDocument,t)},st={composed:!0};it.getRootNode&&(ot=function(t){return b.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return\"none\"===(t=e||t).style.display||\"\"===t.style.display&&ot(t)&&\"none\"===b.css(t,\"display\")};function at(t,e,n,i){var o,s,r=20,a=i?function(){return i.cur()}:function(){return b.css(t,e,\"\")},c=a(),l=n&&n[3]||(b.cssNumber[e]?\"\":\"px\"),d=t.nodeType&&(b.cssNumber[e]||\"px\"!==l&&+c)&&et.exec(b.css(t,e));if(d&&d[3]!==l){for(c/=2,l=l||d[3],d=+c||1;r--;)b.style(t,e,d+l),(1-s)*(1-(s=a()/c||.5))<=0&&(r=0),d/=s;d*=2,b.style(t,e,d+l),n=n||[]}return n&&(d=+d||+c||0,o=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=d,i.end=o)),o}var ct={};function lt(t){var e,n=t.ownerDocument,i=t.nodeName,o=ct[i];return o||(e=n.body.appendChild(n.createElement(i)),o=b.css(e,\"display\"),e.parentNode.removeChild(e),\"none\"===o&&(o=\"block\"),ct[i]=o,o)}function dt(t,e){for(var n,i,o=[],s=0,r=t.length;s<r;s++)(i=t[s]).style&&(n=i.style.display,e?(\"none\"===n&&(o[s]=Y.get(i,\"display\")||null,o[s]||(i.style.display=\"\")),\"\"===i.style.display&&rt(i)&&(o[s]=lt(i))):\"none\"!==n&&(o[s]=\"none\",Y.set(i,\"display\",n)));for(s=0;s<r;s++)null!=o[s]&&(t[s].style.display=o[s]);return t}b.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return\"boolean\"==typeof t?t?this.show():this.hide():this.each((function(){rt(this)?b(this).show():b(this).hide()}))}});var ht,ut,pt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,ft=/^$|^module$|\\/(?:java|ecma)script/i;ht=g.createDocumentFragment().appendChild(g.createElement(\"div\")),(ut=g.createElement(\"input\")).setAttribute(\"type\",\"radio\"),ut.setAttribute(\"checked\",\"checked\"),ut.setAttribute(\"name\",\"t\"),ht.appendChild(ut),p.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML=\"<textarea>x</textarea>\",p.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML=\"<option></option>\",p.option=!!ht.lastChild;var gt={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function yt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||\"*\"):void 0!==t.querySelectorAll?t.querySelectorAll(e||\"*\"):[],void 0===e||e&&S(t,e)?b.merge([t],n):n}function vt(t,e){for(var n=0,i=t.length;n<i;n++)Y.set(t[n],\"globalEval\",!e||Y.get(e[n],\"globalEval\"))}gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,p.option||(gt.optgroup=gt.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var wt=/<|&#?\\w+;/;function _t(t,e,n,i,o){for(var s,r,a,c,l,d,h=e.createDocumentFragment(),u=[],p=0,m=t.length;p<m;p++)if((s=t[p])||0===s)if(\"object\"===w(s))b.merge(u,s.nodeType?[s]:s);else if(wt.test(s)){for(r=r||h.appendChild(e.createElement(\"div\")),a=(mt.exec(s)||[\"\",\"\"])[1].toLowerCase(),c=gt[a]||gt._default,r.innerHTML=c[1]+b.htmlPrefilter(s)+c[2],d=c[0];d--;)r=r.lastChild;b.merge(u,r.childNodes),(r=h.firstChild).textContent=\"\"}else u.push(e.createTextNode(s));for(h.textContent=\"\",p=0;s=u[p++];)if(i&&b.inArray(s,i)>-1)o&&o.push(s);else if(l=ot(s),r=yt(h.appendChild(s),\"script\"),l&&vt(r),n)for(d=0;s=r[d++];)ft.test(s.type||\"\")&&n.push(s);return h}var bt=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,It=/^([^.]*)(?:\\.(.+)|)/;function xt(){return!0}function kt(){return!1}function Et(t,e){return t===function(){try{return g.activeElement}catch(t){}}()==(\"focus\"===e)}function St(t,e,n,i,o,s){var r,a;if(\"object\"==typeof e){for(a in\"string\"!=typeof n&&(i=i||n,n=void 0),e)St(t,a,n,i,e[a],s);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&(\"string\"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=kt;else if(!o)return t;return 1===s&&(r=o,(o=function(t){return b().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=b.guid++)),t.each((function(){b.event.add(this,e,o,i,n)}))}function Tt(t,e,n){n?(Y.set(t,e,!1),b.event.add(t,e,{namespace:!1,handler:function(t){var i,s,r=Y.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(b.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=o.call(arguments),Y.set(this,e,r),i=n(this,e),this[e](),r!==(s=Y.get(this,e))||i?Y.set(this,e,!1):s={},r!==s)return t.stopImmediatePropagation(),t.preventDefault(),s.value}else r.length&&(Y.set(this,e,{value:b.event.trigger(b.extend(r[0],b.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,e)&&b.event.add(t,e,xt)}b.event={global:{},add:function(t,e,n,i,o){var s,r,a,c,l,d,h,u,p,m,f,g=Y.get(t);if(G(t))for(n.handler&&(n=(s=n).handler,o=s.selector),o&&b.find.matchesSelector(it,o),n.guid||(n.guid=b.guid++),(c=g.events)||(c=g.events=Object.create(null)),(r=g.handle)||(r=g.handle=function(e){return void 0!==b&&b.event.triggered!==e.type?b.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||\"\").match(F)||[\"\"]).length;l--;)p=f=(a=It.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p&&(h=b.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=b.event.special[p]||{},d=b.extend({type:p,origType:f,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&b.expr.match.needsContext.test(o),namespace:m.join(\".\")},s),(u=c[p])||((u=c[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,m,r)||t.addEventListener&&t.addEventListener(p,r)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?u.splice(u.delegateCount++,0,d):u.push(d),b.event.global[p]=!0)},remove:function(t,e,n,i,o){var s,r,a,c,l,d,h,u,p,m,f,g=Y.hasData(t)&&Y.get(t);if(g&&(c=g.events)){for(l=(e=(e||\"\").match(F)||[\"\"]).length;l--;)if(p=f=(a=It.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p){for(h=b.event.special[p]||{},u=c[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp(\"(^|\\\\.)\"+m.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),r=s=u.length;s--;)d=u[s],!o&&f!==d.origType||n&&n.guid!==d.guid||a&&!a.test(d.namespace)||i&&i!==d.selector&&(\"**\"!==i||!d.selector)||(u.splice(s,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(t,d));r&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,m,g.handle)||b.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)b.event.remove(t,p+e[l],n,i,!0);b.isEmptyObject(c)&&Y.remove(t,\"handle events\")}},dispatch:function(t){var e,n,i,o,s,r,a=new Array(arguments.length),c=b.event.fix(t),l=(Y.get(this,\"events\")||Object.create(null))[c.type]||[],d=b.event.special[c.type]||{};for(a[0]=c,e=1;e<arguments.length;e++)a[e]=arguments[e];if(c.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,c)){for(r=b.event.handlers.call(this,c,l),e=0;(o=r[e++])&&!c.isPropagationStopped();)for(c.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==s.namespace&&!c.rnamespace.test(s.namespace)||(c.handleObj=s,c.data=s.data,void 0!==(i=((b.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,a))&&!1===(c.result=i)&&(c.preventDefault(),c.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,c),c.result}},handlers:function(t,e){var n,i,o,s,r,a=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!(\"click\"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==t.type||!0!==l.disabled)){for(s=[],r={},n=0;n<c;n++)void 0===r[o=(i=e[n]).selector+\" \"]&&(r[o]=i.needsContext?b(o,this).index(l)>-1:b.find(o,this,null,[l]).length),r[o]&&s.push(i);s.length&&a.push({elem:l,handlers:s})}return l=this,c<e.length&&a.push({elem:l,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(b.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[b.expando]?t:new b.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return pt.test(e.type)&&e.click&&S(e,\"input\")&&Tt(e,\"click\",xt),!1},trigger:function(t){var e=this||t;return pt.test(e.type)&&e.click&&S(e,\"input\")&&Tt(e,\"click\"),!0},_default:function(t){var e=t.target;return pt.test(e.type)&&e.click&&S(e,\"input\")&&Y.get(e,\"click\")||S(e,\"a\")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},b.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},b.Event=function(t,e){if(!(this instanceof b.Event))return new b.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&b.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&bt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},b.event.addProp),b.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){b.event.special[t]={setup:function(){return Tt(this,t,Et),!1},trigger:function(){return Tt(this,t),!0},delegateType:e}})),b.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},(function(t,e){b.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,s=t.handleObj;return o&&(o===i||b.contains(i,o))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}})),b.fn.extend({on:function(t,e,n,i){return St(this,t,e,n,i)},one:function(t,e,n,i){return St(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,b(t.delegateTarget).off(i.namespace?i.origType+\".\"+i.namespace:i.origType,i.selector,i.handler),this;if(\"object\"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&\"function\"!=typeof e||(n=e,e=void 0),!1===n&&(n=kt),this.each((function(){b.event.remove(this,t,n,e)}))}});var Wt=/<script|<style|<link/i,At=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Dt=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Pt(t,e){return S(t,\"table\")&&S(11!==e.nodeType?e:e.firstChild,\"tr\")&&b(t).children(\"tbody\")[0]||t}function Mt(t){return t.type=(null!==t.getAttribute(\"type\"))+\"/\"+t.type,t}function Lt(t){return\"true/\"===(t.type||\"\").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute(\"type\"),t}function Ft(t,e){var n,i,o,s,r,a;if(1===e.nodeType){if(Y.hasData(t)&&(a=Y.get(t).events))for(o in Y.remove(e,\"handle events\"),a)for(n=0,i=a[o].length;n<i;n++)b.event.add(e,o,a[o][n]);J.hasData(t)&&(s=J.access(t),r=b.extend({},s),J.set(e,r))}}function Bt(t,e){var n=e.nodeName.toLowerCase();\"input\"===n&&pt.test(t.type)?e.checked=t.checked:\"input\"!==n&&\"textarea\"!==n||(e.defaultValue=t.defaultValue)}function zt(t,e,n,i){e=s(e);var o,r,a,c,l,d,h=0,u=t.length,f=u-1,g=e[0],y=m(g);if(y||u>1&&\"string\"==typeof g&&!p.checkClone&&At.test(g))return t.each((function(o){var s=t.eq(o);y&&(e[0]=g.call(this,o,s.html())),zt(s,e,n,i)}));if(u&&(r=(o=_t(e,t[0].ownerDocument,!1,t,i)).firstChild,1===o.childNodes.length&&(o=r),r||i)){for(c=(a=b.map(yt(o,\"script\"),Mt)).length;h<u;h++)l=o,h!==f&&(l=b.clone(l,!0,!0),c&&b.merge(a,yt(l,\"script\"))),n.call(t[h],l,h);if(c)for(d=a[a.length-1].ownerDocument,b.map(a,Lt),h=0;h<c;h++)l=a[h],ft.test(l.type||\"\")&&!Y.access(l,\"globalEval\")&&b.contains(d,l)&&(l.src&&\"module\"!==(l.type||\"\").toLowerCase()?b._evalUrl&&!l.noModule&&b._evalUrl(l.src,{nonce:l.nonce||l.getAttribute(\"nonce\")},d):v(l.textContent.replace(Dt,\"\"),l,d))}return t}function Nt(t,e,n){for(var i,o=e?b.filter(e,t):t,s=0;null!=(i=o[s]);s++)n||1!==i.nodeType||b.cleanData(yt(i)),i.parentNode&&(n&&ot(i)&&vt(yt(i,\"script\")),i.parentNode.removeChild(i));return t}b.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,o,s,r,a=t.cloneNode(!0),c=ot(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||b.isXMLDoc(t)))for(r=yt(a),i=0,o=(s=yt(t)).length;i<o;i++)Bt(s[i],r[i]);if(e)if(n)for(s=s||yt(t),r=r||yt(a),i=0,o=s.length;i<o;i++)Ft(s[i],r[i]);else Ft(t,a);return(r=yt(a,\"script\")).length>0&&vt(r,!c&&yt(t,\"script\")),a},cleanData:function(t){for(var e,n,i,o=b.event.special,s=0;void 0!==(n=t[s]);s++)if(G(n)){if(e=n[Y.expando]){if(e.events)for(i in e.events)o[i]?b.event.remove(n,i):b.removeEvent(n,i,e.handle);n[Y.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),b.fn.extend({detach:function(t){return Nt(this,t,!0)},remove:function(t){return Nt(this,t)},text:function(t){return H(this,(function(t){return void 0===t?b.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return zt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)}))},prepend:function(){return zt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return zt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return zt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(b.cleanData(yt(t,!1)),t.textContent=\"\");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return b.clone(this,t,e)}))},html:function(t){return H(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if(\"string\"==typeof t&&!Wt.test(t)&&!gt[(mt.exec(t)||[\"\",\"\"])[1].toLowerCase()]){t=b.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(b.cleanData(yt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return zt(this,arguments,(function(e){var n=this.parentNode;b.inArray(this,t)<0&&(b.cleanData(yt(this)),n&&n.replaceChild(e,this))}),t)}}),b.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},(function(t,e){b.fn[t]=function(t){for(var n,i=[],o=b(t),s=o.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),b(o[a])[e](n),r.apply(i,n.get());return this.pushStack(i)}}));var Ot=new RegExp(\"^(\"+tt+\")(?!px)[a-z%]+$\",\"i\"),$t=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Rt=function(t,e,n){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in i=n.call(t),e)t.style[o]=s[o];return i},Ht=new RegExp(nt.join(\"|\"),\"i\");function jt(t,e,n){var i,o,s,r,a=t.style;return(n=n||$t(t))&&(\"\"!==(r=n.getPropertyValue(e)||n[e])||ot(t)||(r=b.style(t,e)),!p.pixelBoxStyles()&&Ot.test(r)&&Ht.test(e)&&(i=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+\"\":r}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){l.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",d.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",it.appendChild(l).appendChild(d);var e=t.getComputedStyle(d);i=\"1%\"!==e.top,c=12===n(e.marginLeft),d.style.right=\"60%\",r=36===n(e.right),o=36===n(e.width),d.style.position=\"absolute\",s=12===n(d.offsetWidth/3),it.removeChild(l),d=null}}function n(t){return Math.round(parseFloat(t))}var i,o,s,r,a,c,l=g.createElement(\"div\"),d=g.createElement(\"div\");d.style&&(d.style.backgroundClip=\"content-box\",d.cloneNode(!0).style.backgroundClip=\"\",p.clearCloneStyle=\"content-box\"===d.style.backgroundClip,b.extend(p,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,n,i,o;return null==a&&(e=g.createElement(\"table\"),n=g.createElement(\"tr\"),i=g.createElement(\"div\"),e.style.cssText=\"position:absolute;left:-11111px\",n.style.height=\"1px\",i.style.height=\"9px\",it.appendChild(e).appendChild(n).appendChild(i),o=t.getComputedStyle(n),a=parseInt(o.height)>3,it.removeChild(e)),a}}))}();var Ut=[\"Webkit\",\"Moz\",\"ms\"],Vt=g.createElement(\"div\").style,Gt={};function Xt(t){var e=b.cssProps[t]||Gt[t];return e||(t in Vt?t:Gt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Ut.length;n--;)if((t=Ut[n]+e)in Vt)return t}(t)||t)}var Yt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Zt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Qt={letterSpacing:\"0\",fontWeight:\"400\"};function Kt(t,e,n){var i=et.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||\"px\"):e}function te(t,e,n,i,o,s){var r=\"width\"===e?1:0,a=0,c=0;if(n===(i?\"border\":\"content\"))return 0;for(;r<4;r+=2)\"margin\"===n&&(c+=b.css(t,n+nt[r],!0,o)),i?(\"content\"===n&&(c-=b.css(t,\"padding\"+nt[r],!0,o)),\"margin\"!==n&&(c-=b.css(t,\"border\"+nt[r]+\"Width\",!0,o))):(c+=b.css(t,\"padding\"+nt[r],!0,o),\"padding\"!==n?c+=b.css(t,\"border\"+nt[r]+\"Width\",!0,o):a+=b.css(t,\"border\"+nt[r]+\"Width\",!0,o));return!i&&s>=0&&(c+=Math.max(0,Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-s-c-a-.5))||0),c}function ee(t,e,n){var i=$t(t),o=(!p.boxSizingReliable()||n)&&\"border-box\"===b.css(t,\"boxSizing\",!1,i),s=o,r=jt(t,e,i),a=\"offset\"+e[0].toUpperCase()+e.slice(1);if(Ot.test(r)){if(!n)return r;r=\"auto\"}return(!p.boxSizingReliable()&&o||!p.reliableTrDimensions()&&S(t,\"tr\")||\"auto\"===r||!parseFloat(r)&&\"inline\"===b.css(t,\"display\",!1,i))&&t.getClientRects().length&&(o=\"border-box\"===b.css(t,\"boxSizing\",!1,i),(s=a in t)&&(r=t[a])),(r=parseFloat(r)||0)+te(t,e,n||(o?\"border\":\"content\"),s,i,r)+\"px\"}function ne(t,e,n,i,o){return new ne.prototype.init(t,e,n,i,o)}b.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=jt(t,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,r,a=V(e),c=Jt.test(e),l=t.style;if(c||(e=Xt(a)),r=b.cssHooks[e]||b.cssHooks[a],void 0===n)return r&&\"get\"in r&&void 0!==(o=r.get(t,!1,i))?o:l[e];\"string\"===(s=typeof n)&&(o=et.exec(n))&&o[1]&&(n=at(t,e,o),s=\"number\"),null!=n&&n==n&&(\"number\"!==s||c||(n+=o&&o[3]||(b.cssNumber[a]?\"\":\"px\")),p.clearCloneStyle||\"\"!==n||0!==e.indexOf(\"background\")||(l[e]=\"inherit\"),r&&\"set\"in r&&void 0===(n=r.set(t,n,i))||(c?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var o,s,r,a=V(e);return Jt.test(e)||(e=Xt(a)),(r=b.cssHooks[e]||b.cssHooks[a])&&\"get\"in r&&(o=r.get(t,!0,n)),void 0===o&&(o=jt(t,e,i)),\"normal\"===o&&e in Qt&&(o=Qt[e]),\"\"===n||n?(s=parseFloat(o),!0===n||isFinite(s)?s||0:o):o}}),b.each([\"height\",\"width\"],(function(t,e){b.cssHooks[e]={get:function(t,n,i){if(n)return!Yt.test(b.css(t,\"display\"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,i):Rt(t,Zt,(function(){return ee(t,e,i)}))},set:function(t,n,i){var o,s=$t(t),r=!p.scrollboxSize()&&\"absolute\"===s.position,a=(r||i)&&\"border-box\"===b.css(t,\"boxSizing\",!1,s),c=i?te(t,e,i,a,s):0;return a&&r&&(c-=Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-te(t,e,\"border\",!1,s)-.5)),c&&(o=et.exec(n))&&\"px\"!==(o[3]||\"px\")&&(t.style[e]=n,n=b.css(t,e)),Kt(0,n,c)}}})),b.cssHooks.marginLeft=qt(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(jt(t,\"marginLeft\"))||t.getBoundingClientRect().left-Rt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+\"px\"})),b.each({margin:\"\",padding:\"\",border:\"Width\"},(function(t,e){b.cssHooks[t+e]={expand:function(n){for(var i=0,o={},s=\"string\"==typeof n?n.split(\" \"):[n];i<4;i++)o[t+nt[i]+e]=s[i]||s[i-2]||s[0];return o}},\"margin\"!==t&&(b.cssHooks[t+e].set=Kt)})),b.fn.extend({css:function(t,e){return H(this,(function(t,e,n){var i,o,s={},r=0;if(Array.isArray(e)){for(i=$t(t),o=e.length;r<o;r++)s[e[r]]=b.css(t,e[r],!1,i);return s}return void 0!==n?b.style(t,e,n):b.css(t,e)}),t,e,arguments.length>1)}}),b.Tween=ne,ne.prototype={constructor:ne,init:function(t,e,n,i,o,s){this.elem=t,this.prop=n,this.easing=o||b.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(b.cssNumber[n]?\"\":\"px\")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,n=ne.propHooks[this.prop];return this.options.duration?this.pos=e=b.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=b.css(t.elem,t.prop,\"\"))&&\"auto\"!==e?e:0},set:function(t){b.fx.step[t.prop]?b.fx.step[t.prop](t):1!==t.elem.nodeType||!b.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:b.style(t.elem,t.prop,t.now+t.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},b.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:\"swing\"},b.fx=ne.prototype.init,b.fx.step={};var ie,oe,se=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function ae(){oe&&(!1===g.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ae):t.setTimeout(ae,b.fx.interval),b.fx.tick())}function ce(){return t.setTimeout((function(){ie=void 0})),ie=Date.now()}function le(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o[\"margin\"+(n=nt[i])]=o[\"padding\"+n]=t;return e&&(o.opacity=o.width=t),o}function de(t,e,n){for(var i,o=(he.tweeners[e]||[]).concat(he.tweeners[\"*\"]),s=0,r=o.length;s<r;s++)if(i=o[s].call(n,e,t))return i}function he(t,e,n){var i,o,s=0,r=he.prefilters.length,a=b.Deferred().always((function(){delete c.elem})),c=function(){if(o)return!1;for(var e=ie||ce(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),s=0,r=l.tweens.length;s<r;s++)l.tweens[s].run(i);return a.notifyWith(t,[l,i,n]),i<1&&r?n:(r||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:b.extend({},e),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||ce(),duration:n.duration,tweens:[],createTween:function(e,n){var i=b.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),d=l.props;for(!function(t,e){var n,i,o,s,r;for(n in t)if(o=e[i=V(n)],s=t[n],Array.isArray(s)&&(o=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),(r=b.cssHooks[i])&&\"expand\"in r)for(n in s=r.expand(s),delete t[i],s)n in t||(t[n]=s[n],e[n]=o);else e[i]=o}(d,l.opts.specialEasing);s<r;s++)if(i=he.prefilters[s].call(l,t,d,l.opts))return m(i.stop)&&(b._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return b.map(d,de,l),m(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),b.fx.timer(b.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}b.Animation=b.extend(he,{tweeners:{\"*\":[function(t,e){var n=this.createTween(t,e);return at(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){m(t)?(e=t,t=[\"*\"]):t=t.match(F);for(var n,i=0,o=t.length;i<o;i++)n=t[i],he.tweeners[n]=he.tweeners[n]||[],he.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,o,s,r,a,c,l,d,h=\"width\"in e||\"height\"in e,u=this,p={},m=t.style,f=t.nodeType&&rt(t),g=Y.get(t,\"fxshow\");for(i in n.queue||(null==(r=b._queueHooks(t,\"fx\")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,u.always((function(){u.always((function(){r.unqueued--,b.queue(t,\"fx\").length||r.empty.fire()}))}))),e)if(o=e[i],se.test(o)){if(delete e[i],s=s||\"toggle\"===o,o===(f?\"hide\":\"show\")){if(\"show\"!==o||!g||void 0===g[i])continue;f=!0}p[i]=g&&g[i]||b.style(t,i)}if((c=!b.isEmptyObject(e))||!b.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(l=g&&g.display)&&(l=Y.get(t,\"display\")),\"none\"===(d=b.css(t,\"display\"))&&(l?d=l:(dt([t],!0),l=t.style.display||l,d=b.css(t,\"display\"),dt([t]))),(\"inline\"===d||\"inline-block\"===d&&null!=l)&&\"none\"===b.css(t,\"float\")&&(c||(u.done((function(){m.display=l})),null==l&&(d=m.display,l=\"none\"===d?\"\":d)),m.display=\"inline-block\")),n.overflow&&(m.overflow=\"hidden\",u.always((function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]}))),c=!1,p)c||(g?\"hidden\"in g&&(f=g.hidden):g=Y.access(t,\"fxshow\",{display:l}),s&&(g.hidden=!f),f&&dt([t],!0),u.done((function(){for(i in f||dt([t]),Y.remove(t,\"fxshow\"),p)b.style(t,i,p[i])}))),c=de(f?g[i]:0,i,u),i in g||(g[i]=c.start,f&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),b.speed=function(t,e,n){var i=t&&\"object\"==typeof t?b.extend({},t):{complete:n||!n&&e||m(t)&&t,duration:t,easing:n&&e||e&&!m(e)&&e};return b.fx.off?i.duration=0:\"number\"!=typeof i.duration&&(i.duration in b.fx.speeds?i.duration=b.fx.speeds[i.duration]:i.duration=b.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue=\"fx\"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&b.dequeue(this,i.queue)},i},b.fn.extend({fadeTo:function(t,e,n,i){return this.filter(rt).css(\"opacity\",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=b.isEmptyObject(t),s=b.speed(e,n,i),r=function(){var e=he(this,b.extend({},t),s);(o||Y.get(this,\"finish\"))&&e.stop(!0)};return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return\"string\"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||\"fx\",[]),this.each((function(){var e=!0,o=null!=t&&t+\"queueHooks\",s=b.timers,r=Y.get(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&re.test(o)&&i(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=t&&s[o].queue!==t||(s[o].anim.stop(n),e=!1,s.splice(o,1));!e&&n||b.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||\"fx\"),this.each((function(){var e,n=Y.get(this),i=n[t+\"queue\"],o=n[t+\"queueHooks\"],s=b.timers,r=i?i.length:0;for(n.finish=!0,b.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),b.each([\"toggle\",\"show\",\"hide\"],(function(t,e){var n=b.fn[e];b.fn[e]=function(t,i,o){return null==t||\"boolean\"==typeof t?n.apply(this,arguments):this.animate(le(e,!0),t,i,o)}})),b.each({slideDown:le(\"show\"),slideUp:le(\"hide\"),slideToggle:le(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},(function(t,e){b.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),b.timers=[],b.fx.tick=function(){var t,e=0,n=b.timers;for(ie=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||b.fx.stop(),ie=void 0},b.fx.timer=function(t){b.timers.push(t),b.fx.start()},b.fx.interval=13,b.fx.start=function(){oe||(oe=!0,ae())},b.fx.stop=function(){oe=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(e,n){return e=b.fx&&b.fx.speeds[e]||e,n=n||\"fx\",this.queue(n,(function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}}))},function(){var t=g.createElement(\"input\"),e=g.createElement(\"select\").appendChild(g.createElement(\"option\"));t.type=\"checkbox\",p.checkOn=\"\"!==t.value,p.optSelected=e.selected,(t=g.createElement(\"input\")).value=\"t\",t.type=\"radio\",p.radioValue=\"t\"===t.value}();var ue,pe=b.expr.attrHandle;b.fn.extend({attr:function(t,e){return H(this,b.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){b.removeAttr(this,t)}))}}),b.extend({attr:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?b.prop(t,e,n):(1===s&&b.isXMLDoc(t)||(o=b.attrHooks[e.toLowerCase()]||(b.expr.match.bool.test(e)?ue:void 0)),void 0!==n?null===n?void b.removeAttr(t,e):o&&\"set\"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+\"\"),n):o&&\"get\"in o&&null!==(i=o.get(t,e))?i:null==(i=b.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&\"radio\"===e&&S(t,\"input\")){var n=t.value;return t.setAttribute(\"type\",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(F);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),ue={set:function(t,e,n){return!1===e?b.removeAttr(t,n):t.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\\w+/g),(function(t,e){var n=pe[e]||b.find.attr;pe[e]=function(t,e,i){var o,s,r=e.toLowerCase();return i||(s=pe[r],pe[r]=o,o=null!=n(t,e,i)?r:null,pe[r]=s),o}}));var me=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;function ge(t){return(t.match(F)||[]).join(\" \")}function ye(t){return t.getAttribute&&t.getAttribute(\"class\")||\"\"}function ve(t){return Array.isArray(t)?t:\"string\"==typeof t&&t.match(F)||[]}b.fn.extend({prop:function(t,e){return H(this,b.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[b.propFix[t]||t]}))}}),b.extend({prop:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&b.isXMLDoc(t)||(e=b.propFix[e]||e,o=b.propHooks[e]),void 0!==n?o&&\"set\"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&\"get\"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=b.find.attr(t,\"tabindex\");return e?parseInt(e,10):me.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:\"htmlFor\",class:\"className\"}}),p.optSelected||(b.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),b.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],(function(){b.propFix[this.toLowerCase()]=this})),b.fn.extend({addClass:function(t){var e,n,i,o,s,r,a,c=0;if(m(t))return this.each((function(e){b(this).addClass(t.call(this,e,ye(this)))}));if((e=ve(t)).length)for(;n=this[c++];)if(o=ye(n),i=1===n.nodeType&&\" \"+ge(o)+\" \"){for(r=0;s=e[r++];)i.indexOf(\" \"+s+\" \")<0&&(i+=s+\" \");o!==(a=ge(i))&&n.setAttribute(\"class\",a)}return this},removeClass:function(t){var e,n,i,o,s,r,a,c=0;if(m(t))return this.each((function(e){b(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr(\"class\",\"\");if((e=ve(t)).length)for(;n=this[c++];)if(o=ye(n),i=1===n.nodeType&&\" \"+ge(o)+\" \"){for(r=0;s=e[r++];)for(;i.indexOf(\" \"+s+\" \")>-1;)i=i.replace(\" \"+s+\" \",\" \");o!==(a=ge(i))&&n.setAttribute(\"class\",a)}return this},toggleClass:function(t,e){var n=typeof t,i=\"string\"===n||Array.isArray(t);return\"boolean\"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(n){b(this).toggleClass(t.call(this,n,ye(this),e),e)})):this.each((function(){var e,o,s,r;if(i)for(o=0,s=b(this),r=ve(t);e=r[o++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&\"boolean\"!==n||((e=ye(this))&&Y.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===t?\"\":Y.get(this,\"__className__\")||\"\"))}))},hasClass:function(t){var e,n,i=0;for(e=\" \"+t+\" \";n=this[i++];)if(1===n.nodeType&&(\" \"+ge(ye(n))+\" \").indexOf(e)>-1)return!0;return!1}});var we=/\\r/g;b.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=m(t),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?t.call(this,n,b(this).val()):t)?o=\"\":\"number\"==typeof o?o+=\"\":Array.isArray(o)&&(o=b.map(o,(function(t){return null==t?\"\":t+\"\"}))),(e=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&\"set\"in e&&void 0!==e.set(this,o,\"value\")||(this.value=o))}))):o?(e=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()])&&\"get\"in e&&void 0!==(n=e.get(o,\"value\"))?n:\"string\"==typeof(n=o.value)?n.replace(we,\"\"):null==n?\"\":n:void 0}}),b.extend({valHooks:{option:{get:function(t){var e=b.find.attr(t,\"value\");return null!=e?e:ge(b.text(t))}},select:{get:function(t){var e,n,i,o=t.options,s=t.selectedIndex,r=\"select-one\"===t.type,a=r?null:[],c=r?s+1:o.length;for(i=s<0?c:r?s:0;i<c;i++)if(((n=o[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!S(n.parentNode,\"optgroup\"))){if(e=b(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,s=b.makeArray(e),r=o.length;r--;)((i=o[r]).selected=b.inArray(b.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),b.each([\"radio\",\"checkbox\"],(function(){b.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=b.inArray(b(t).val(),e)>-1}},p.checkOn||(b.valHooks[this].get=function(t){return null===t.getAttribute(\"value\")?\"on\":t.value})})),p.focusin=\"onfocusin\"in t;var _e=/^(?:focusinfocus|focusoutblur)$/,be=function(t){t.stopPropagation()};b.extend(b.event,{trigger:function(e,n,i,o){var s,r,a,c,l,h,u,p,y=[i||g],v=d.call(e,\"type\")?e.type:e,w=d.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(r=p=a=i=i||g,3!==i.nodeType&&8!==i.nodeType&&!_e.test(v+b.event.triggered)&&(v.indexOf(\".\")>-1&&(w=v.split(\".\"),v=w.shift(),w.sort()),l=v.indexOf(\":\")<0&&\"on\"+v,(e=e[b.expando]?e:new b.Event(v,\"object\"==typeof e&&e)).isTrigger=o?2:3,e.namespace=w.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+w.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:b.makeArray(n,[e]),u=b.event.special[v]||{},o||!u.trigger||!1!==u.trigger.apply(i,n))){if(!o&&!u.noBubble&&!f(i)){for(c=u.delegateType||v,_e.test(c+v)||(r=r.parentNode);r;r=r.parentNode)y.push(r),a=r;a===(i.ownerDocument||g)&&y.push(a.defaultView||a.parentWindow||t)}for(s=0;(r=y[s++])&&!e.isPropagationStopped();)p=r,e.type=s>1?c:u.bindType||v,(h=(Y.get(r,\"events\")||Object.create(null))[e.type]&&Y.get(r,\"handle\"))&&h.apply(r,n),(h=l&&r[l])&&h.apply&&G(r)&&(e.result=h.apply(r,n),!1===e.result&&e.preventDefault());return e.type=v,o||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(y.pop(),n)||!G(i)||l&&m(i[v])&&!f(i)&&((a=i[l])&&(i[l]=null),b.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,be),i[v](),e.isPropagationStopped()&&p.removeEventListener(v,be),b.event.triggered=void 0,a&&(i[l]=a)),e.result}},simulate:function(t,e,n){var i=b.extend(new b.Event,n,{type:t,isSimulated:!0});b.event.trigger(i,null,e)}}),b.fn.extend({trigger:function(t,e){return this.each((function(){b.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return b.event.trigger(t,e,n,!0)}}),p.focusin||b.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){var n=function(t){b.event.simulate(e,t.target,b.event.fix(t))};b.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,o=Y.access(i,e);o||i.addEventListener(t,n,!0),Y.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,o=Y.access(i,e)-1;o?Y.access(i,e,o):(i.removeEventListener(t,n,!0),Y.remove(i,e))}}}));var Ce=t.location,Ie={guid:Date.now()},xe=/\\?/;b.parseXML=function(e){var n;if(!e||\"string\"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,\"text/xml\")}catch(t){n=void 0}return n&&!n.getElementsByTagName(\"parsererror\").length||b.error(\"Invalid XML: \"+e),n};var ke=/\\[\\]$/,Ee=/\\r?\\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;function We(t,e,n,i){var o;if(Array.isArray(e))b.each(e,(function(e,o){n||ke.test(t)?i(t,o):We(t+\"[\"+(\"object\"==typeof o&&null!=o?e:\"\")+\"]\",o,n,i)}));else if(n||\"object\"!==w(e))i(t,e);else for(o in e)We(t+\"[\"+o+\"]\",e[o],n,i)}b.param=function(t,e){var n,i=[],o=function(t,e){var n=m(e)?e():e;i[i.length]=encodeURIComponent(t)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==t)return\"\";if(Array.isArray(t)||t.jquery&&!b.isPlainObject(t))b.each(t,(function(){o(this.name,this.value)}));else for(n in t)We(n,t[n],e,o);return i.join(\"&\")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=b.prop(this,\"elements\");return t?b.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!b(this).is(\":disabled\")&&Te.test(this.nodeName)&&!Se.test(t)&&(this.checked||!pt.test(t))})).map((function(t,e){var n=b(this).val();return null==n?null:Array.isArray(n)?b.map(n,(function(t){return{name:e.name,value:t.replace(Ee,\"\\r\\n\")}})):{name:e.name,value:n.replace(Ee,\"\\r\\n\")}})).get()}});var Ae=/%20/g,De=/#.*$/,Pe=/([?&])_=[^&]*/,Me=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Le=/^(?:GET|HEAD)$/,Fe=/^\\/\\//,Be={},ze={},Ne=\"*/\".concat(\"*\"),Oe=g.createElement(\"a\");function $e(t){return function(e,n){\"string\"!=typeof e&&(n=e,e=\"*\");var i,o=0,s=e.toLowerCase().match(F)||[];if(m(n))for(;i=s[o++];)\"+\"===i[0]?(i=i.slice(1)||\"*\",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Re(t,e,n,i){var o={},s=t===ze;function r(a){var c;return o[a]=!0,b.each(t[a]||[],(function(t,a){var l=a(e,n,i);return\"string\"!=typeof l||s||o[l]?s?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)})),c}return r(e.dataTypes[0])||!o[\"*\"]&&r(\"*\")}function He(t,e){var n,i,o=b.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&b.extend(!0,t,i),t}Oe.href=Ce.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":Ne,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?He(He(t,b.ajaxSettings),e):He(b.ajaxSettings,t)},ajaxPrefilter:$e(Be),ajaxTransport:$e(ze),ajax:function(e,n){\"object\"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,s,r,a,c,l,d,h,u,p=b.ajaxSetup({},n),m=p.context||p,f=p.context&&(m.nodeType||m.jquery)?b(m):b.event,y=b.Deferred(),v=b.Callbacks(\"once memory\"),w=p.statusCode||{},_={},C={},I=\"canceled\",x={readyState:0,getResponseHeader:function(t){var e;if(l){if(!r)for(r={};e=Me.exec(s);)r[e[1].toLowerCase()+\" \"]=(r[e[1].toLowerCase()+\" \"]||[]).concat(e[2]);e=r[t.toLowerCase()+\" \"]}return null==e?null:e.join(\", \")},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=C[t.toLowerCase()]=C[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)x.always(t[x.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||I;return i&&i.abort(e),k(0,e),this}};if(y.promise(x),p.url=((e||p.url||Ce.href)+\"\").replace(Fe,Ce.protocol+\"//\"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||\"*\").toLowerCase().match(F)||[\"\"],null==p.crossDomain){c=g.createElement(\"a\");try{c.href=p.url,c.href=c.href,p.crossDomain=Oe.protocol+\"//\"+Oe.host!=c.protocol+\"//\"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&\"string\"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),Re(Be,p,n,x),l)return x;for(h in(d=b.event&&p.global)&&0==b.active++&&b.event.trigger(\"ajaxStart\"),p.type=p.type.toUpperCase(),p.hasContent=!Le.test(p.type),o=p.url.replace(De,\"\"),p.hasContent?p.data&&p.processData&&0===(p.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(p.data=p.data.replace(Ae,\"+\")):(u=p.url.slice(o.length),p.data&&(p.processData||\"string\"==typeof p.data)&&(o+=(xe.test(o)?\"&\":\"?\")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Pe,\"$1\"),u=(xe.test(o)?\"&\":\"?\")+\"_=\"+Ie.guid+++u),p.url=o+u),p.ifModified&&(b.lastModified[o]&&x.setRequestHeader(\"If-Modified-Since\",b.lastModified[o]),b.etag[o]&&x.setRequestHeader(\"If-None-Match\",b.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&x.setRequestHeader(\"Content-Type\",p.contentType),x.setRequestHeader(\"Accept\",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(\"*\"!==p.dataTypes[0]?\", \"+Ne+\"; q=0.01\":\"\"):p.accepts[\"*\"]),p.headers)x.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,x,p)||l))return x.abort();if(I=\"abort\",v.add(p.complete),x.done(p.success),x.fail(p.error),i=Re(ze,p,n,x)){if(x.readyState=1,d&&f.trigger(\"ajaxSend\",[x,p]),l)return x;p.async&&p.timeout>0&&(a=t.setTimeout((function(){x.abort(\"timeout\")}),p.timeout));try{l=!1,i.send(_,k)}catch(t){if(l)throw t;k(-1,t)}}else k(-1,\"No Transport\");function k(e,n,r,c){var h,u,g,_,C,I=n;l||(l=!0,a&&t.clearTimeout(a),i=void 0,s=c||\"\",x.readyState=e>0?4:0,h=e>=200&&e<300||304===e,r&&(_=function(t,e,n){for(var i,o,s,r,a=t.contents,c=t.dataTypes;\"*\"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader(\"Content-Type\"));if(i)for(o in a)if(a[o]&&a[o].test(i)){c.unshift(o);break}if(c[0]in n)s=c[0];else{for(o in n){if(!c[0]||t.converters[o+\" \"+c[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==c[0]&&c.unshift(s),n[s]}(p,x,r)),!h&&b.inArray(\"script\",p.dataTypes)>-1&&(p.converters[\"text script\"]=function(){}),_=function(t,e,n,i){var o,s,r,a,c,l={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)l[r.toLowerCase()]=t.converters[r];for(s=d.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=s,s=d.shift())if(\"*\"===s)s=c;else if(\"*\"!==c&&c!==s){if(!(r=l[c+\" \"+s]||l[\"* \"+s]))for(o in l)if((a=o.split(\" \"))[1]===s&&(r=l[c+\" \"+a[0]]||l[\"* \"+a[0]])){!0===r?r=l[o]:!0!==l[o]&&(s=a[0],d.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:\"parsererror\",error:r?t:\"No conversion from \"+c+\" to \"+s}}}return{state:\"success\",data:e}}(p,_,x,h),h?(p.ifModified&&((C=x.getResponseHeader(\"Last-Modified\"))&&(b.lastModified[o]=C),(C=x.getResponseHeader(\"etag\"))&&(b.etag[o]=C)),204===e||\"HEAD\"===p.type?I=\"nocontent\":304===e?I=\"notmodified\":(I=_.state,u=_.data,h=!(g=_.error))):(g=I,!e&&I||(I=\"error\",e<0&&(e=0))),x.status=e,x.statusText=(n||I)+\"\",h?y.resolveWith(m,[u,I,x]):y.rejectWith(m,[x,I,g]),x.statusCode(w),w=void 0,d&&f.trigger(h?\"ajaxSuccess\":\"ajaxError\",[x,p,h?u:g]),v.fireWith(m,[x,I]),d&&(f.trigger(\"ajaxComplete\",[x,p]),--b.active||b.event.trigger(\"ajaxStop\")))}return x},getJSON:function(t,e,n){return b.get(t,e,n,\"json\")},getScript:function(t,e){return b.get(t,void 0,e,\"script\")}}),b.each([\"get\",\"post\"],(function(t,e){b[e]=function(t,n,i,o){return m(n)&&(o=o||i,i=n,n=void 0),b.ajax(b.extend({url:t,type:e,dataType:o,data:n,success:i},b.isPlainObject(t)&&t))}})),b.ajaxPrefilter((function(t){var e;for(e in t.headers)\"content-type\"===e.toLowerCase()&&(t.contentType=t.headers[e]||\"\")})),b._evalUrl=function(t,e,n){return b.ajax({url:t,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(t){b.globalEval(t,e,n)}})},b.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=b(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){b(this).wrapInner(t.call(this,e))})):this.each((function(){var e=b(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(n){b(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not(\"body\").each((function(){b(this).replaceWith(this.childNodes)})),this}}),b.expr.pseudos.hidden=function(t){return!b.expr.pseudos.visible(t)},b.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},qe=b.ajaxSettings.xhr();p.cors=!!qe&&\"withCredentials\"in qe,p.ajax=qe=!!qe,b.ajaxTransport((function(e){var n,i;if(p.cors||qe&&!e.crossDomain)return{send:function(o,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o[\"X-Requested-With\"]||(o[\"X-Requested-With\"]=\"XMLHttpRequest\"),o)a.setRequestHeader(r,o[r]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,\"abort\"===t?a.abort():\"error\"===t?\"number\"!=typeof a.status?s(0,\"error\"):s(a.status,a.statusText):s(je[a.status]||a.status,a.statusText,\"text\"!==(a.responseType||\"text\")||\"string\"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n(\"error\"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){n&&i()}))},n=n(\"abort\");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}})),b.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),b.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(t){return b.globalEval(t),t}}}),b.ajaxPrefilter(\"script\",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type=\"GET\")})),b.ajaxTransport(\"script\",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,o){e=b(\"<script>\").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on(\"load error\",n=function(t){e.remove(),n=null,t&&o(\"error\"===t.type?404:200,t.type)}),g.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ue,Ve=[],Ge=/(=)\\?(?=&|$)|\\?\\?/;b.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var t=Ve.pop()||b.expando+\"_\"+Ie.guid++;return this[t]=!0,t}}),b.ajaxPrefilter(\"json jsonp\",(function(e,n,i){var o,s,r,a=!1!==e.jsonp&&(Ge.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Ge.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return o=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ge,\"$1\"+o):!1!==e.jsonp&&(e.url+=(xe.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+o),e.converters[\"script json\"]=function(){return r||b.error(o+\" was not called\"),r[0]},e.dataTypes[0]=\"json\",s=t[o],t[o]=function(){r=arguments},i.always((function(){void 0===s?b(t).removeProp(o):t[o]=s,e[o]&&(e.jsonpCallback=n.jsonpCallback,Ve.push(o)),r&&m(s)&&s(r[0]),r=s=void 0})),\"script\"})),p.createHTMLDocument=((Ue=g.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Ue.childNodes.length),b.parseHTML=function(t,e,n){return\"string\"!=typeof t?[]:(\"boolean\"==typeof e&&(n=e,e=!1),e||(p.createHTMLDocument?((i=(e=g.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=g.location.href,e.head.appendChild(i)):e=g),s=!n&&[],(o=T.exec(t))?[e.createElement(o[1])]:(o=_t([t],e,s),s&&s.length&&b(s).remove(),b.merge([],o.childNodes)));var i,o,s},b.fn.load=function(t,e,n){var i,o,s,r=this,a=t.indexOf(\" \");return a>-1&&(i=ge(t.slice(a)),t=t.slice(0,a)),m(e)?(n=e,e=void 0):e&&\"object\"==typeof e&&(o=\"POST\"),r.length>0&&b.ajax({url:t,type:o||\"GET\",dataType:\"html\",data:e}).done((function(t){s=arguments,r.html(i?b(\"<div>\").append(b.parseHTML(t)).find(i):t)})).always(n&&function(t,e){r.each((function(){n.apply(this,s||[t.responseText,e,t])}))}),this},b.expr.pseudos.animated=function(t){return b.grep(b.timers,(function(e){return t===e.elem})).length},b.offset={setOffset:function(t,e,n){var i,o,s,r,a,c,l=b.css(t,\"position\"),d=b(t),h={};\"static\"===l&&(t.style.position=\"relative\"),a=d.offset(),s=b.css(t,\"top\"),c=b.css(t,\"left\"),(\"absolute\"===l||\"fixed\"===l)&&(s+c).indexOf(\"auto\")>-1?(r=(i=d.position()).top,o=i.left):(r=parseFloat(s)||0,o=parseFloat(c)||0),m(e)&&(e=e.call(t,n,b.extend({},a))),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+o),\"using\"in e?e.using.call(t,h):(\"number\"==typeof h.top&&(h.top+=\"px\"),\"number\"==typeof h.left&&(h.left+=\"px\"),d.css(h))}},b.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){b.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],o={top:0,left:0};if(\"fixed\"===b.css(i,\"position\"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&\"static\"===b.css(t,\"position\");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((o=b(t).offset()).top+=b.css(t,\"borderTopWidth\",!0),o.left+=b.css(t,\"borderLeftWidth\",!0))}return{top:e.top-o.top-b.css(i,\"marginTop\",!0),left:e.left-o.left-b.css(i,\"marginLeft\",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&\"static\"===b.css(t,\"position\");)t=t.offsetParent;return t||it}))}}),b.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},(function(t,e){var n=\"pageYOffset\"===e;b.fn[t]=function(i){return H(this,(function(t,i,o){var s;if(f(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===o)return s?s[e]:t[i];s?s.scrollTo(n?s.pageXOffset:o,n?o:s.pageYOffset):t[i]=o}),t,i,arguments.length)}})),b.each([\"top\",\"left\"],(function(t,e){b.cssHooks[e]=qt(p.pixelPosition,(function(t,n){if(n)return n=jt(t,e),Ot.test(n)?b(t).position()[e]+\"px\":n}))})),b.each({Height:\"height\",Width:\"width\"},(function(t,e){b.each({padding:\"inner\"+t,content:e,\"\":\"outer\"+t},(function(n,i){b.fn[i]=function(o,s){var r=arguments.length&&(n||\"boolean\"!=typeof o),a=n||(!0===o||!0===s?\"margin\":\"border\");return H(this,(function(e,n,o){var s;return f(e)?0===i.indexOf(\"outer\")?e[\"inner\"+t]:e.document.documentElement[\"client\"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body[\"scroll\"+t],s[\"scroll\"+t],e.body[\"offset\"+t],s[\"offset\"+t],s[\"client\"+t])):void 0===o?b.css(e,n,a):b.style(e,n,o,a)}),e,r?o:void 0,r)}}))})),b.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],(function(t,e){b.fn[e]=function(t){return this.on(e,t)}})),b.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,\"**\"):this.off(e,t||\"**\",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),b.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),(function(t,e){b.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Xe=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;b.proxy=function(t,e){var n,i,s;if(\"string\"==typeof e&&(n=t[e],e=t,t=n),m(t))return i=o.call(arguments,2),(s=function(){return t.apply(e||this,i.concat(o.call(arguments)))}).guid=t.guid=t.guid||b.guid++,s},b.holdReady=function(t){t?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=S,b.isFunction=m,b.isWindow=f,b.camelCase=V,b.type=w,b.now=Date.now,b.isNumeric=function(t){var e=b.type(t);return(\"number\"===e||\"string\"===e)&&!isNaN(t-parseFloat(t))},b.trim=function(t){return null==t?\"\":(t+\"\").replace(Xe,\"\")};var Ye=t.jQuery,Je=t.$;return b.noConflict=function(e){return t.$===b&&(t.$=Je),e&&t.jQuery===b&&(t.jQuery=Ye),b},void 0===e&&(t.jQuery=t.$=b),b}))}));let Z;window.$=J,window.addEventListener(\"beforeunload\",(()=>(Y.dispose(),Z&&Z(),\"Are you sure you want to leave? changes will be lost\")));const Q={init:(t,e)=>{if(X.initialized)return void X.init(t,t.agm.instance.windowId,Y,e);Y.subscribeForWorkspaceEvents();const n=X.init(t,t.agm.instance.windowId,Y,e);return Z=n.cleanUp,Y.init(t,t.agm.instance.windowId).then((()=>{z.config.emptyFrame||X.workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:t.agm.instance.windowId}}})})).catch(console.warn),X},getFrameId:()=>X.frameId,notifyMoveAreaChanged:()=>{},getComponentBounds:()=>X.getComponentBounds(),registerPopup:t=>\"\",removePopup:t=>{},removePopupById:t=>{},unmount:()=>{X.unmount()},subscribeForWindowFocused:t=>X.subscribeForWindowClicked(t),notifyWorkspacePopupChanged:t=>{}};export default Q;\n//# sourceMappingURL=export.js.map\n","import workspacesManager from \"@glue42/workspaces-ui-core\";\r\nimport { Bounds, WorkspacesManager } from \"./types/internal\";\r\n\r\ndeclare const window: Window & { workspacesManager: WorkspacesManager };\r\n\r\nclass WorkspacesManagerDecorator {\r\n    public init(glue: any, componentFactory: any) {\r\n        if (window.workspacesManager) {\r\n            window.workspacesManager.init(componentFactory);\r\n        } else {\r\n            workspacesManager.init(glue, componentFactory);\r\n        }\r\n    }\r\n\r\n    public getFrameId() {\r\n      return  (window.workspacesManager || workspacesManager).getFrameId();\r\n    }\r\n\r\n    public notifyMoveAreaChanged() {\r\n        (window.workspacesManager || workspacesManager).notifyMoveAreaChanged();\r\n    }\r\n\r\n    public notifyWorkspacePopupChanged(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).notifyWorkspacePopupChanged(element);\r\n    }\r\n\r\n    public getComponentBounds(): Bounds {\r\n        return (window.workspacesManager || workspacesManager).getComponentBounds();\r\n    }\r\n\r\n    public registerPopup(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).registerPopup(element);\r\n    }\r\n\r\n    public removePopup(element: HTMLElement): void {\r\n        return (window.workspacesManager || workspacesManager).removePopup(element);\r\n    }\r\n\r\n    public removePopupById(elementId: string): void {\r\n        return (window.workspacesManager || workspacesManager).removePopupById(elementId);\r\n    }\r\n\r\n    public subscribeForWindowFocused(cb: () => any): () => void {\r\n        return (window.workspacesManager || workspacesManager).subscribeForWindowFocused(cb);\r\n    }\r\n\r\n    public unmount(): void {\r\n        return (window.workspacesManager || workspacesManager).unmount();\r\n    }\r\n}\r\n\r\nexport default new WorkspacesManagerDecorator();","import React, { useEffect, useLayoutEffect, forwardRef, useState, useRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useOnEscape = function useOnEscape(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler();\n    };\n\n    document.addEventListener('keyup', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\nvar useRepositionOnResize = function useRepositionOnResize(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener() {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n    return function () {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\nvar useOnClickOutside = function useOnClickOutside(ref, handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      var refs = Array.isArray(ref) ? ref : [ref];\n      var contains = false;\n      refs.forEach(function (r) {\n        if (!r.current || r.current.contains(event.target)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n}; // Make sure that user is not able TAB out of the Modal content on Open\n\nvar useTabbing = function useTabbing(contentRef, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        var _contentRef$current;\n\n        var els = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n        var focusableEls = Array.prototype.slice.call(els);\n\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar Style = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto'\n    }\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999\n    }\n  }\n};\n\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom'];\n\nvar getCoordinatesForPosition = function getCoordinatesForPosition(triggerBounding, ContentBounding, position, //PopupPosition | PopupPosition[],\narrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(180deg)  translateX(50%)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(0deg) translateY(-100%) translateX(-50%)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(90deg)  translateY(50%) translateX(-25%)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(-90deg)  translateY(-150%) translateX(25%)\";\n      arrowTop = '50%';\n      break;\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n};\n\nvar getTooltipBoundary = function getTooltipBoundary(keepTooltipInside) {\n  // add viewport\n  var boundingBox = {\n    top: 0,\n    left: 0,\n\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight\n  };\n\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    var selector = document.querySelector(keepTooltipInside);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null) throw new Error(keepTooltipInside + \" selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\");\n    }\n\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nvar calculatePosition = function calculatePosition(triggerBounding, ContentBounding, position, arrow, _ref2, keepTooltipInside) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)'\n  };\n  var i = 0;\n  var wrapperBox = getTooltipBoundary(keepTooltipInside);\n  var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n  if (keepTooltipInside || Array.isArray(position)) positions = [].concat(positions, POSITION_TYPES); // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nvar popupIdCounter = 0;\n\nvar getRootPopup = function getRootPopup() {\n  var PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nvar Popup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? null : _ref$trigger,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? function () {} : _ref$onOpen,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      _ref$open = _ref.open,\n      open = _ref$open === void 0 ? undefined : _ref$open,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$nested = _ref.nested,\n      nested = _ref$nested === void 0 ? false : _ref$nested,\n      _ref$closeOnDocumentC = _ref.closeOnDocumentClick,\n      closeOnDocumentClick = _ref$closeOnDocumentC === void 0 ? true : _ref$closeOnDocumentC,\n      _ref$repositionOnResi = _ref.repositionOnResize,\n      repositionOnResize = _ref$repositionOnResi === void 0 ? true : _ref$repositionOnResi,\n      _ref$closeOnEscape = _ref.closeOnEscape,\n      closeOnEscape = _ref$closeOnEscape === void 0 ? true : _ref$closeOnEscape,\n      _ref$on = _ref.on,\n      on = _ref$on === void 0 ? ['click'] : _ref$on,\n      _ref$contentStyle = _ref.contentStyle,\n      contentStyle = _ref$contentStyle === void 0 ? {} : _ref$contentStyle,\n      _ref$arrowStyle = _ref.arrowStyle,\n      arrowStyle = _ref$arrowStyle === void 0 ? {} : _ref$arrowStyle,\n      _ref$overlayStyle = _ref.overlayStyle,\n      overlayStyle = _ref$overlayStyle === void 0 ? {} : _ref$overlayStyle,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom center' : _ref$position,\n      _ref$modal = _ref.modal,\n      modal = _ref$modal === void 0 ? false : _ref$modal,\n      _ref$lockScroll = _ref.lockScroll,\n      lockScroll = _ref$lockScroll === void 0 ? false : _ref$lockScroll,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? true : _ref$arrow,\n      _ref$offsetX = _ref.offsetX,\n      offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n      _ref$offsetY = _ref.offsetY,\n      offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY,\n      _ref$mouseEnterDelay = _ref.mouseEnterDelay,\n      mouseEnterDelay = _ref$mouseEnterDelay === void 0 ? 100 : _ref$mouseEnterDelay,\n      _ref$mouseLeaveDelay = _ref.mouseLeaveDelay,\n      mouseLeaveDelay = _ref$mouseLeaveDelay === void 0 ? 100 : _ref$mouseLeaveDelay,\n      _ref$keepTooltipInsid = _ref.keepTooltipInside,\n      keepTooltipInside = _ref$keepTooltipInsid === void 0 ? false : _ref$keepTooltipInsid,\n      children = _ref.children;\n\n  var _useState = useState(open || defaultOpen),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var triggerRef = useRef(null);\n  var contentRef = useRef(null);\n  var arrowRef = useRef(null);\n  var focusedElBeforeOpen = useRef(null);\n  var popupId = useRef(\"popup-\" + ++popupIdCounter);\n  var isModal = modal ? true : !trigger;\n  var timeOut = useRef(0);\n  useIsomorphicLayoutEffect(function () {\n    if (isOpen) {\n      focusedElBeforeOpen.current = document.activeElement;\n      setPosition();\n      focusContentOnOpen(); // for accessibility\n\n      lockScrolll();\n    } else {\n      resetScroll();\n    }\n\n    return function () {\n      clearTimeout(timeOut.current);\n    };\n  }, [isOpen]); // for uncontrolled popup we need to sync isOpen with open prop\n\n  useEffect(function () {\n    if (typeof open === 'boolean') {\n      if (open) openPopup();else closePopup();\n    }\n  }, [open, disabled]);\n\n  var openPopup = function openPopup() {\n    if (isOpen || disabled) return;\n    setIsOpen(true);\n    setTimeout(onOpen, 0);\n  };\n\n  var closePopup = function closePopup() {\n    if (!isOpen || disabled) return;\n    setIsOpen(false);\n    if (isModal) focusedElBeforeOpen.current.focus();\n    setTimeout(onClose, 0);\n  };\n\n  var togglePopup = function togglePopup(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isOpen) openPopup();else closePopup();\n  };\n\n  var onMouseEnter = function onMouseEnter() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(openPopup, mouseEnterDelay);\n  };\n\n  var onContextMenu = function onContextMenu(event) {\n    event === null || event === void 0 ? void 0 : event.preventDefault();\n    togglePopup();\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(closePopup, mouseLeaveDelay);\n  };\n\n  var lockScrolll = function lockScrolll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n  };\n\n  var resetScroll = function resetScroll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'auto';\n  };\n\n  var focusContentOnOpen = function focusContentOnOpen() {\n    var _contentRef$current;\n\n    var focusableEls = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n    var firstEl = Array.prototype.slice.call(focusableEls)[0];\n    firstEl === null || firstEl === void 0 ? void 0 : firstEl.focus();\n  };\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: function open() {\n        openPopup();\n      },\n      close: function close() {\n        closePopup();\n      },\n      toggle: function toggle() {\n        togglePopup();\n      }\n    };\n  }); // set Position\n\n  var setPosition = function setPosition() {\n    if (isModal || !isOpen) return;\n    if (!(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(contentRef === null || contentRef === void 0 ? void 0 : contentRef.current)) return; /// show error as one of ref is undefined\n\n    var trigger = triggerRef.current.getBoundingClientRect();\n    var content = contentRef.current.getBoundingClientRect();\n    var cords = calculatePosition(trigger, content, position, arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    }, keepTooltipInside);\n    contentRef.current.style.top = cords.top + window.scrollY + \"px\";\n    contentRef.current.style.left = cords.left + window.scrollX + \"px\";\n\n    if (arrow && !!arrowRef.current) {\n      var _arrowStyle$top, _arrowStyle$left;\n\n      arrowRef.current.style.transform = cords.transform;\n      arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n      arrowRef.current.style.setProperty('-webkit-transform', cords.transform);\n      arrowRef.current.style.top = ((_arrowStyle$top = arrowStyle.top) === null || _arrowStyle$top === void 0 ? void 0 : _arrowStyle$top.toString()) || cords.arrowTop;\n      arrowRef.current.style.left = ((_arrowStyle$left = arrowStyle.left) === null || _arrowStyle$left === void 0 ? void 0 : _arrowStyle$left.toString()) || cords.arrowLeft;\n    }\n  }; // hooks\n\n\n  useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n\n  useTabbing(contentRef, isOpen && isModal);\n  useRepositionOnResize(setPosition, repositionOnResize);\n  useOnClickOutside(!!trigger ? [contentRef, triggerRef] : [contentRef], closePopup, closeOnDocumentClick && !nested); // we need to add a ne\n  // render the trigger element and add events\n\n  var renderTrigger = function renderTrigger() {\n    var triggerProps = {\n      key: 'T',\n      ref: triggerRef,\n      'aria-describedby': popupId.current\n    };\n    var onAsArray = Array.isArray(on) ? on : [on];\n\n    for (var i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case 'click':\n          triggerProps.onClick = togglePopup;\n          break;\n\n        case 'right-click':\n          triggerProps.onContextMenu = onContextMenu;\n          break;\n\n        case 'hover':\n          triggerProps.onMouseEnter = onMouseEnter;\n          triggerProps.onMouseLeave = onMouseLeave;\n          break;\n\n        case 'focus':\n          triggerProps.onFocus = onMouseEnter;\n          triggerProps.onBlur = onMouseLeave;\n          break;\n      }\n    }\n\n    if (typeof trigger === 'function') {\n      var comp = trigger(isOpen);\n      return !!trigger && React.cloneElement(comp, triggerProps);\n    }\n\n    return !!trigger && React.cloneElement(trigger, triggerProps);\n  };\n\n  var addWarperAction = function addWarperAction() {\n    var popupContentStyle = isModal ? Style.popupContent.modal : Style.popupContent.tooltip;\n    var childrenElementProps = {\n      className: \"popup-content \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-content\";\n      }).join(' ') : ''),\n      style: _extends({}, popupContentStyle, contentStyle, {\n        pointerEvents: 'auto'\n      }),\n      ref: contentRef,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n      }\n    };\n\n    if (!modal && on.indexOf('hover') >= 0) {\n      childrenElementProps.onMouseEnter = onMouseEnter;\n      childrenElementProps.onMouseLeave = onMouseLeave;\n    }\n\n    return childrenElementProps;\n  };\n\n  var renderContent = function renderContent() {\n    return React.createElement(\"div\", Object.assign({}, addWarperAction(), {\n      key: \"C\",\n      role: isModal ? 'dialog' : 'tooltip',\n      id: popupId.current\n    }), arrow && !isModal && React.createElement(\"div\", {\n      ref: arrowRef,\n      style: Style.popupArrow\n    }, React.createElement(\"svg\", {\n      \"data-testid\": \"arrow\",\n      className: \"popup-arrow \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-arrow\";\n      }).join(' ') : ''),\n      viewBox: \"0 0 32 16\",\n      style: _extends({\n        position: 'absolute'\n      }, arrowStyle)\n    }, React.createElement(\"path\", {\n      d: \"M16 0l16 16H0z\",\n      fill: \"currentcolor\"\n    }))), children && typeof children === 'function' ? children(closePopup, isOpen) : children);\n  };\n\n  var overlay = !(on.indexOf('hover') >= 0);\n  var ovStyle = isModal ? Style.overlay.modal : Style.overlay.tooltip;\n  var content = [overlay && React.createElement(\"div\", {\n    key: \"O\",\n    \"data-testid\": \"overlay\",\n    \"data-popup\": isModal ? 'modal' : 'tooltip',\n    className: \"popup-overlay \" + (className !== '' ? className.split(' ').map(function (c) {\n      return c + \"-overlay\";\n    }).join(' ') : ''),\n    style: _extends({}, ovStyle, overlayStyle, {\n      pointerEvents: closeOnDocumentClick && nested || isModal ? 'auto' : 'none'\n    }),\n    onClick: closeOnDocumentClick && nested ? closePopup : undefined,\n    tabIndex: -1\n  }, isModal && renderContent()), !isModal && renderContent()];\n  return React.createElement(React.Fragment, null, renderTrigger(), isOpen && ReactDOM.createPortal(content, getRootPopup()));\n});\n\nexport default Popup;\nexport { Popup };\n//# sourceMappingURL=reactjs-popup.esm.js.map\n","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspacePopupProps } from \"./types/internal\";\r\nimport Popup from \"reactjs-popup\";\r\nimport WorkspacePopupContent from \"./WorkspaceContentPopup\";\r\nimport { PopupActions } from \"reactjs-popup/dist/types\";\r\n\r\nconst WorkspacePopup: React.FC<WorkspacePopupProps> = ({ children, innerContentStyle, popupRef, ...props }) => {\r\n    const ref = popupRef || React.createRef<PopupActions>();\r\n    const [shouldClose, setShouldClose] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldClose) {\r\n            return;\r\n        }\r\n\r\n        ref.current?.close();\r\n        setShouldClose(false);\r\n    }, [shouldClose]);\r\n\r\n    return (\r\n        <Popup ref={ref} {...props}>\r\n            <WorkspacePopupContent innerContentStyle={innerContentStyle} close={() => setShouldClose(true)} children={children} />\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default WorkspacePopup;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { PortalProps } from \"./types/internal\";\r\n\r\nclass Portal extends React.Component<PortalProps> {\r\n    render() {\r\n        return ReactDOM.createPortal(this.props.children, this.props.domNode);\r\n    }\r\n}\r\n\r\nexport default Portal;","import React from \"react\";\r\nimport { WorkspacesWrapperProps } from \"./types/internal\";\r\nimport withGlueInstance from \"./withGlueInstance\";\r\nimport workspacesManager from \"./workspacesManager\";\r\n\r\nconst templateId = \"workspaces-react-wrapper-template\";\r\nconst workspacesInnerContainerId = \"outter-layout-container\";\r\n\r\nclass WorkspacesWrapper extends React.Component<WorkspacesWrapperProps> {\r\n    containerRef: HTMLElement | null;\r\n\r\n    componentDidMount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n        if (!placeholder) {\r\n            const template = document.createElement(\"template\");\r\n            template.id = templateId;\r\n            const glContainer = document.createElement(\"div\");\r\n\r\n            glContainer.id = workspacesInnerContainerId;\r\n            glContainer.style.overflow = \"hidden\";\r\n            glContainer.style.width = \"100%\";\r\n            glContainer.style.height = \"100%\";\r\n            template.content.appendChild(glContainer);\r\n            document.body.appendChild(template);\r\n            placeholder = template;\r\n        }\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n        this.containerRef.appendChild(placeholder.content);\r\n\r\n        const componentFactory = {\r\n            createLogo: this.props.onCreateLogoRequested,\r\n            createAddWorkspace: this.props.onCreateAddWorkspaceRequested,\r\n            createSystemButtons: this.props.onCreateSystemButtonsRequested,\r\n            createWorkspaceContents: this.props.onCreateWorkspaceContentsRequested,\r\n            createSaveWorkspacePopup: this.props.onCreateSaveWorkspacePopupRequested,\r\n            createAddApplicationPopup: this.props.onCreateAddApplicationPopupRequested,\r\n            createAddWorkspacePopup: this.props.onCreateAddWorkspacePopupRequested,\r\n            hideSystemPopups: this.props.onHideSystemPopupsRequested,\r\n            externalPopupApplications: this.props.externalPopupApplications\r\n        };\r\n        workspacesManager.init(this.props.glue, componentFactory);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n\r\n        placeholder?.content.appendChild(this.containerRef.children[0]);\r\n\r\n        workspacesManager.unmount();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={(r) => this.containerRef = r} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withGlueInstance(WorkspacesWrapper);","import React from \"react\";\r\nimport AddApplicationPopup from \"./defaultComponents/popups/addApplication/AddApplicationPopup\";\r\nimport AddWorkspacePopup from \"./defaultComponents/popups/addWorkspace/AddWorkspacePopup\";\r\nimport SaveWorkspacePopup from \"./defaultComponents/popups/saveWorkspace/SaveWorkspacePopup\";\r\nimport Portal from \"./Portal\";\r\nimport { AddApplicationPopupProps, CreateElementRequestOptions, ElementCreationWrapperState, AddWorkspacePopupProps, SaveWorkspacePopupProps, WorkspacesProps, CreateWorkspaceContentsRequestOptions } from \"./types/internal\";\r\nimport WorkspacesWrapper from \"./WorkspacesWrapper\";\r\n\r\nclass WorkspacesElementCreationWrapper extends React.Component<WorkspacesProps, ElementCreationWrapperState> {\r\n    constructor(props: WorkspacesProps) {\r\n        super(props);\r\n        this.state = {\r\n            logo: undefined,\r\n            addWorkspace: undefined,\r\n            systemButtons: undefined,\r\n            workspaceContents: [],\r\n            saveWorkspacePopup: undefined,\r\n            addApplicationPopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }\r\n    }\r\n\r\n    onCreateLogoRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.logo) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                logo: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateAddWorkspaceRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.addWorkspace) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspace: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSystemButtonsRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.systemButtons) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                systemButtons: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateWorkspaceContentsRequested = (options: CreateWorkspaceContentsRequestOptions) => {\r\n        if (this.state.workspaceContents.some(wc => wc.domNode === options.domNode)) {\r\n            return;\r\n        }\r\n\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                workspaceContents: [\r\n                    ...s.workspaceContents,\r\n                    options\r\n                ]\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSaveWorkspaceRequested = (options: CreateElementRequestOptions & SaveWorkspacePopupProps) => {\r\n        if (options === this.state.saveWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                saveWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddApplicationRequested = (options: CreateElementRequestOptions & AddApplicationPopupProps) => {\r\n        if (options === this.state.addApplicationPopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addApplicationPopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddWorkspacePopupRequested = (options: CreateElementRequestOptions & AddWorkspacePopupProps) => {\r\n        if (options === this.state.addWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onHideSystemPopups = (cb: () => void) => {\r\n        this.setState((s) => ({\r\n            ...s,\r\n            addApplicationPopup: undefined,\r\n            saveWorkspacePopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }), cb);\r\n    }\r\n\r\n    renderLogoComponent = () => {\r\n        const LogoCustomElement = this.props.components?.header?.LogoComponent;\r\n        if (!LogoCustomElement || (!this.state.logo || !this.state.logo.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.logo;\r\n        return <Portal domNode={domNode}><LogoCustomElement {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspaceComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.header?.AddWorkspaceComponent;\r\n\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspace || !this.state.addWorkspace.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.addWorkspace;\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderSystemButtonsComponent = () => {\r\n        const SystemButtonsCustomComponent = this.props.components?.header?.SystemButtonsComponent;\r\n        if (!SystemButtonsCustomComponent || (!this.state.systemButtons || !this.state.systemButtons.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.systemButtons;\r\n\r\n        return <Portal domNode={domNode}><SystemButtonsCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderWorskpaceContents = () => {\r\n        const WorkspaceContentsComponent = this.props.components?.WorkspaceContents;\r\n\r\n        return this.state.workspaceContents.map((wc) => {\r\n            if (!WorkspaceContentsComponent || !wc.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = wc;\r\n            return <Portal key={options.workspaceId} domNode={domNode}><WorkspaceContentsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderSaveWorkspacePopupComponent = () => {\r\n        const SaveWorkspaceCustomComponent = this.props.components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        if (!SaveWorkspaceCustomComponent || (!this.state.saveWorkspacePopup || !this.state.saveWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.saveWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><SaveWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddApplicationPopupComponent = () => {\r\n        const AddApplicationCustomComponent = this.props.components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        if (!AddApplicationCustomComponent || (!this.state.addApplicationPopup || !this.state.addApplicationPopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.addApplicationPopup;\r\n\r\n        return <Portal domNode={domNode}><AddApplicationCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspacePopupComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspacePopup || !this.state.addWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n        const { domNode, callback, ...options } = this.state.addWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    render() {\r\n        const { components, glue, ...additionalProperties } = this.props;\r\n        const addApplicationComponent = components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        const saveWorkspaceComponent = components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        const addWorkspaceComponent = components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n\r\n        const onCreateAddApplicationRequested = addApplicationComponent && typeof addApplicationComponent !== \"string\" ?\r\n            this.onCreateAddApplicationRequested : undefined;\r\n\r\n        const onCreateAddWorkspacePopupRequested = addWorkspaceComponent && typeof addWorkspaceComponent !== \"string\" ?\r\n            this.onCreateAddWorkspacePopupRequested : undefined;\r\n\r\n        const onCreateSaveWorkspaceRequested = saveWorkspaceComponent && typeof saveWorkspaceComponent !== \"string\" ?\r\n            this.onCreateSaveWorkspaceRequested : undefined;\r\n\r\n        const addApplication = typeof addApplicationComponent === \"string\" ? addApplicationComponent : undefined;\r\n        const saveWorkspace = typeof saveWorkspaceComponent === \"string\" ? saveWorkspaceComponent : undefined;\r\n        const addWorkspace = typeof addWorkspaceComponent === \"string\" ? addWorkspaceComponent : undefined;\r\n\r\n        const externalPopupApplications = {\r\n            addApplication,\r\n            saveWorkspace,\r\n            addWorkspace\r\n        }\r\n\r\n        return (\r\n            <div {...additionalProperties} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n                {this.renderLogoComponent()}\r\n                {this.renderAddWorkspaceComponent()}\r\n                {this.renderSystemButtonsComponent()}\r\n                {this.renderWorskpaceContents()}\r\n                {this.renderSaveWorkspacePopupComponent()}\r\n                {this.renderAddApplicationPopupComponent()}\r\n                {this.renderAddWorkspacePopupComponent()}\r\n                <WorkspacesWrapper\r\n                    onCreateSystemButtonsRequested={components?.header?.SystemButtonsComponent ? this.onCreateSystemButtonsRequested : undefined}\r\n                    onCreateAddWorkspaceRequested={components?.header?.AddWorkspaceComponent ? this.onCreateAddWorkspaceRequested : undefined}\r\n                    onCreateLogoRequested={components?.header?.LogoComponent ? this.onCreateLogoRequested : undefined}\r\n                    onCreateWorkspaceContentsRequested={components?.WorkspaceContents ? this.onCreateWorkspaceContentsRequested : undefined}\r\n                    onCreateSaveWorkspacePopupRequested={onCreateSaveWorkspaceRequested}\r\n                    onCreateAddApplicationPopupRequested={onCreateAddApplicationRequested}\r\n                    onCreateAddWorkspacePopupRequested={onCreateAddWorkspacePopupRequested}\r\n                    onHideSystemPopupsRequested={this.onHideSystemPopups}\r\n                    externalPopupApplications={externalPopupApplications}\r\n                    glue={glue}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WorkspacesElementCreationWrapper;\r\n","import AddWorkspaceButton from './defaultComponents/AddWorkspaceButton';\r\nimport CloseFrameButton from './defaultComponents/CloseFrameButton';\r\nimport GlueLogo from './defaultComponents/GlueLogo';\r\nimport MaximizeFrameButton from './defaultComponents/MaximizeFrameButton';\r\nimport MinimizeFrameButton from './defaultComponents/MinimizeFrameButton';\r\nimport AddApplicationPopup from './defaultComponents/popups/addApplication/AddApplicationPopup';\r\nimport AddWorkspacePopup from './defaultComponents/popups/addWorkspace/AddWorkspacePopup';\r\nimport SaveWorkspacePopup from './defaultComponents/popups/saveWorkspace/SaveWorkspacePopup';\r\nimport WorkspaceContents from \"./defaultComponents/WorkspaceContents\";\r\nimport useWorkspacePopup from './useWorkspacePopup';\r\nimport useWorkspaceWindowClicked from './useWorkspaceWindowClicked';\r\n\r\nimport WorkspacePopup from './WorkspacePopup';\r\nimport {\r\n    Bounds,\r\n    WorkspacesManager,\r\n    WorkspacesProps,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps\r\n} from './types/internal';\r\nimport WorkspacesElementCreationWrapper from './WorkspacesElementCreationWrapper'\r\nimport workspacesManager from './workspacesManager';\r\n\r\nexport {\r\n    SaveWorkspacePopup,\r\n    AddWorkspacePopup,\r\n    AddApplicationPopup,\r\n    CloseFrameButton,\r\n    GlueLogo,\r\n    MaximizeFrameButton,\r\n    MinimizeFrameButton,\r\n    AddWorkspaceButton,\r\n    WorkspacePopup,\r\n    useWorkspacePopup,\r\n    useWorkspaceWindowClicked,\r\n    WorkspaceContents\r\n};\r\nexport const notifyMoveAreaChanged: () => void = () => workspacesManager?.notifyMoveAreaChanged();\r\nexport const getComponentBounds: () => Bounds = () => workspacesManager?.getComponentBounds();\r\nexport const getFrameId: () => string = () => workspacesManager?.getFrameId();\r\n\r\nexport {\r\n    WorkspacesProps,\r\n    Bounds,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps\r\n};\r\nexport default WorkspacesElementCreationWrapper;","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.desktop = global.desktop || {}, global.desktop.browser = factory()));\n}(this, (function () { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics$1 = function(d, b) {\r\n        extendStatics$1 = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics$1(d, b);\r\n    };\r\n\r\n    function __extends$1(d, b) {\r\n        extendStatics$1(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign$1 = function() {\r\n        __assign$1 = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign$1.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter$1(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator$1(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\r\n\r\n    function __spreadArrays() {\r\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n                r[k] = a[j];\r\n        return r;\r\n    }\n\n    var MetricTypes = {\r\n        STRING: 1,\r\n        NUMBER: 2,\r\n        TIMESTAMP: 3,\r\n        OBJECT: 4\r\n    };\n\n    function getMetricTypeByValue(metric) {\r\n        if (metric.type === MetricTypes.TIMESTAMP) {\r\n            return \"timestamp\";\r\n        }\r\n        else if (metric.type === MetricTypes.NUMBER) {\r\n            return \"number\";\r\n        }\r\n        else if (metric.type === MetricTypes.STRING) {\r\n            return \"string\";\r\n        }\r\n        else if (metric.type === MetricTypes.OBJECT) {\r\n            return \"object\";\r\n        }\r\n        return \"unknown\";\r\n    }\r\n    function getTypeByValue(value) {\r\n        if (value.constructor === Date) {\r\n            return \"timestamp\";\r\n        }\r\n        else if (typeof value === \"number\") {\r\n            return \"number\";\r\n        }\r\n        else if (typeof value === \"string\") {\r\n            return \"string\";\r\n        }\r\n        else if (typeof value === \"object\") {\r\n            return \"object\";\r\n        }\r\n        else {\r\n            return \"string\";\r\n        }\r\n    }\r\n    function serializeMetric(metric) {\r\n        var serializedMetrics = {};\r\n        var type = getMetricTypeByValue(metric);\r\n        if (type === \"object\") {\r\n            var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n                var innerType = getTypeByValue(metric.value[key]);\r\n                if (innerType === \"object\") {\r\n                    var composite = defineNestedComposite(metric.value[key]);\r\n                    memo[key] = {\r\n                        type: \"object\",\r\n                        description: \"\",\r\n                        context: {},\r\n                        composite: composite,\r\n                    };\r\n                }\r\n                else {\r\n                    memo[key] = {\r\n                        type: innerType,\r\n                        description: \"\",\r\n                        context: {},\r\n                    };\r\n                }\r\n                return memo;\r\n            }, {});\r\n            serializedMetrics.composite = values;\r\n        }\r\n        serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n        serializedMetrics.type = type;\r\n        serializedMetrics.description = metric.description;\r\n        serializedMetrics.context = {};\r\n        return serializedMetrics;\r\n    }\r\n    function defineNestedComposite(values) {\r\n        return Object.keys(values).reduce(function (memo, key) {\r\n            var type = getTypeByValue(values[key]);\r\n            if (type === \"object\") {\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: defineNestedComposite(values[key]),\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: type,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n    }\r\n    function normalizeMetricName(name) {\r\n        if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n            return \"/\" + name;\r\n        }\r\n        else {\r\n            return name;\r\n        }\r\n    }\r\n    function getMetricValueByType(metric) {\r\n        var type = getMetricTypeByValue(metric);\r\n        if (type === \"timestamp\") {\r\n            return Date.now();\r\n        }\r\n        else {\r\n            return publishNestedComposite(metric.value);\r\n        }\r\n    }\r\n    function publishNestedComposite(values) {\r\n        if (typeof values !== \"object\") {\r\n            return values;\r\n        }\r\n        return Object.keys(values).reduce(function (memo, key) {\r\n            var value = values[key];\r\n            if (typeof value === \"object\" && value.constructor !== Date) {\r\n                memo[key] = publishNestedComposite(value);\r\n            }\r\n            else if (value.constructor === Date) {\r\n                memo[key] = new Date(value).getTime();\r\n            }\r\n            else if (value.constructor === Boolean) {\r\n                memo[key] = value.toString();\r\n            }\r\n            else {\r\n                memo[key] = value;\r\n            }\r\n            return memo;\r\n        }, {});\r\n    }\r\n    function flatten(arr) {\r\n        return arr.reduce(function (flat, toFlatten) {\r\n            return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n        }, []);\r\n    }\r\n    function getHighestState(arr) {\r\n        return arr.sort(function (a, b) {\r\n            if (!a.state) {\r\n                return 1;\r\n            }\r\n            if (!b.state) {\r\n                return -1;\r\n            }\r\n            return b.state - a.state;\r\n        })[0];\r\n    }\r\n    function aggregateDescription(arr) {\r\n        var msg = \"\";\r\n        arr.forEach(function (m, idx, a) {\r\n            var path = m.path.join(\".\");\r\n            if (idx === a.length - 1) {\r\n                msg += path + \".\" + m.name + \": \" + m.description;\r\n            }\r\n            else {\r\n                msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n            }\r\n        });\r\n        if (msg.length > 100) {\r\n            return msg.slice(0, 100) + \"...\";\r\n        }\r\n        else {\r\n            return msg;\r\n        }\r\n    }\r\n    function composeMsgForRootStateMetric(system) {\r\n        var aggregatedState = system.root.getAggregateState();\r\n        var merged = flatten(aggregatedState);\r\n        var highestState = getHighestState(merged);\r\n        var aggregateDesc = aggregateDescription(merged);\r\n        return {\r\n            description: aggregateDesc,\r\n            value: highestState.state,\r\n        };\r\n    }\n\n    function gw3 (connection, config) {\r\n        var _this = this;\r\n        if (!connection || typeof connection !== \"object\") {\r\n            throw new Error(\"Connection is required parameter\");\r\n        }\r\n        var joinPromise;\r\n        var session;\r\n        var init = function (repo) {\r\n            var resolveReadyPromise;\r\n            joinPromise = new Promise(function (resolve) {\r\n                resolveReadyPromise = resolve;\r\n            });\r\n            session = connection.domain(\"metrics\");\r\n            session.onJoined(function (reconnect) {\r\n                if (!reconnect && resolveReadyPromise) {\r\n                    resolveReadyPromise();\r\n                    resolveReadyPromise = undefined;\r\n                }\r\n                var rootStateMetric = {\r\n                    name: \"/State\",\r\n                    type: \"object\",\r\n                    composite: {\r\n                        Description: {\r\n                            type: \"string\",\r\n                            description: \"\",\r\n                        },\r\n                        Value: {\r\n                            type: \"number\",\r\n                            description: \"\",\r\n                        },\r\n                    },\r\n                    description: \"System state\",\r\n                    context: {},\r\n                };\r\n                var defineRootMetricsMsg = {\r\n                    type: \"define\",\r\n                    metrics: [rootStateMetric],\r\n                };\r\n                session.send(defineRootMetricsMsg);\r\n                if (reconnect) {\r\n                    replayRepo(repo);\r\n                }\r\n            });\r\n            session.join({\r\n                system: config.system,\r\n                service: config.service,\r\n                instance: config.instance\r\n            });\r\n        };\r\n        var replayRepo = function (repo) {\r\n            replaySystem(repo.root);\r\n        };\r\n        var replaySystem = function (system) {\r\n            createSystem(system);\r\n            system.metrics.forEach(function (m) {\r\n                createMetric(m);\r\n            });\r\n            system.subSystems.forEach(function (ss) {\r\n                replaySystem(ss);\r\n            });\r\n        };\r\n        var createSystem = function (system) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var metric, createMetricsMsg;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (system.parent === undefined) {\r\n                            return [2];\r\n                        }\r\n                        return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        metric = {\r\n                            name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                            type: \"object\",\r\n                            composite: {\r\n                                Description: {\r\n                                    type: \"string\",\r\n                                    description: \"\",\r\n                                },\r\n                                Value: {\r\n                                    type: \"number\",\r\n                                    description: \"\",\r\n                                },\r\n                            },\r\n                            description: \"System state\",\r\n                            context: {},\r\n                        };\r\n                        createMetricsMsg = {\r\n                            type: \"define\",\r\n                            metrics: [metric],\r\n                        };\r\n                        session.send(createMetricsMsg);\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var updateSystem = function (system, state) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var shadowedUpdateMetric, stateObj, rootMetric;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        shadowedUpdateMetric = {\r\n                            type: \"publish\",\r\n                            values: [{\r\n                                    name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                    value: {\r\n                                        Description: state.description,\r\n                                        Value: state.state,\r\n                                    },\r\n                                    timestamp: Date.now(),\r\n                                }],\r\n                        };\r\n                        session.send(shadowedUpdateMetric);\r\n                        stateObj = composeMsgForRootStateMetric(system);\r\n                        rootMetric = {\r\n                            type: \"publish\",\r\n                            peer_id: connection.peerId,\r\n                            values: [{\r\n                                    name: \"/State\",\r\n                                    value: {\r\n                                        Description: stateObj.description,\r\n                                        Value: stateObj.value,\r\n                                    },\r\n                                    timestamp: Date.now(),\r\n                                }],\r\n                        };\r\n                        session.send(rootMetric);\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var createMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var metricClone, m, createMetricsMsg;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        metricClone = cloneMetric(metric);\r\n                        return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        m = serializeMetric(metricClone);\r\n                        createMetricsMsg = {\r\n                            type: \"define\",\r\n                            metrics: [m],\r\n                        };\r\n                        session.send(createMetricsMsg);\r\n                        if (typeof metricClone.value !== \"undefined\") {\r\n                            updateMetricCore(metricClone);\r\n                        }\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var updateMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var metricClone;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        metricClone = cloneMetric(metric);\r\n                        return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        updateMetricCore(metricClone);\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var updateMetricCore = function (metric) {\r\n            if (canUpdate()) {\r\n                var value = getMetricValueByType(metric);\r\n                var publishMetricsMsg = {\r\n                    type: \"publish\",\r\n                    values: [{\r\n                            name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                            value: value,\r\n                            timestamp: Date.now(),\r\n                        }],\r\n                };\r\n                return session.sendFireAndForget(publishMetricsMsg);\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n        var cloneMetric = function (metric) {\r\n            var metricClone = __assign$1({}, metric);\r\n            if (typeof metric.value === \"object\" && metric.value !== null) {\r\n                metricClone.value = __assign$1({}, metric.value);\r\n            }\r\n            return metricClone;\r\n        };\r\n        var canUpdate = function () {\r\n            var _a;\r\n            try {\r\n                var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n                return func();\r\n            }\r\n            catch (_b) {\r\n                return true;\r\n            }\r\n        };\r\n        return {\r\n            init: init,\r\n            createSystem: createSystem,\r\n            updateSystem: updateSystem,\r\n            createMetric: createMetric,\r\n            updateMetric: updateMetric,\r\n        };\r\n    }\n\n    var Helpers = {\r\n        validate: function (definition, parent, transport) {\r\n            if (definition === null || typeof definition !== \"object\") {\r\n                throw new Error(\"Missing definition\");\r\n            }\r\n            if (parent === null || typeof parent !== \"object\") {\r\n                throw new Error(\"Missing parent\");\r\n            }\r\n            if (transport === null || typeof transport !== \"object\") {\r\n                throw new Error(\"Missing transport\");\r\n            }\r\n        },\r\n    };\n\n    var BaseMetric = (function () {\r\n        function BaseMetric(definition, system, transport, value, type) {\r\n            this.definition = definition;\r\n            this.system = system;\r\n            this.transport = transport;\r\n            this.value = value;\r\n            this.type = type;\r\n            this.path = [];\r\n            Helpers.validate(definition, system, transport);\r\n            this.path = system.path.slice(0);\r\n            this.path.push(system.name);\r\n            this.name = definition.name;\r\n            this.description = definition.description;\r\n            transport.createMetric(this);\r\n        }\r\n        Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n            get: function () {\r\n                var _a;\r\n                return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n            get: function () { return this.system.path + \"/\" + name; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        BaseMetric.prototype.update = function (newValue) {\r\n            this.value = newValue;\r\n            return this.transport.updateMetric(this);\r\n        };\r\n        return BaseMetric;\r\n    }());\n\n    var NumberMetric = (function (_super) {\r\n        __extends$1(NumberMetric, _super);\r\n        function NumberMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n        }\r\n        NumberMetric.prototype.incrementBy = function (num) {\r\n            this.update(this.value + num);\r\n        };\r\n        NumberMetric.prototype.increment = function () {\r\n            this.incrementBy(1);\r\n        };\r\n        NumberMetric.prototype.decrement = function () {\r\n            this.incrementBy(-1);\r\n        };\r\n        NumberMetric.prototype.decrementBy = function (num) {\r\n            this.incrementBy(num * -1);\r\n        };\r\n        return NumberMetric;\r\n    }(BaseMetric));\n\n    var ObjectMetric = (function (_super) {\r\n        __extends$1(ObjectMetric, _super);\r\n        function ObjectMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n        }\r\n        ObjectMetric.prototype.update = function (newValue) {\r\n            this.mergeValues(newValue);\r\n            return this.transport.updateMetric(this);\r\n        };\r\n        ObjectMetric.prototype.mergeValues = function (values) {\r\n            var _this = this;\r\n            return Object.keys(this.value).forEach(function (k) {\r\n                if (typeof values[k] !== \"undefined\") {\r\n                    _this.value[k] = values[k];\r\n                }\r\n            });\r\n        };\r\n        return ObjectMetric;\r\n    }(BaseMetric));\n\n    var StringMetric = (function (_super) {\r\n        __extends$1(StringMetric, _super);\r\n        function StringMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n        }\r\n        return StringMetric;\r\n    }(BaseMetric));\n\n    var TimestampMetric = (function (_super) {\r\n        __extends$1(TimestampMetric, _super);\r\n        function TimestampMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n        }\r\n        TimestampMetric.prototype.now = function () {\r\n            this.update(new Date());\r\n        };\r\n        return TimestampMetric;\r\n    }(BaseMetric));\n\n    function system(name, repo, protocol, parent, description) {\r\n        if (!repo) {\r\n            throw new Error(\"Repository is required\");\r\n        }\r\n        if (!protocol) {\r\n            throw new Error(\"Transport is required\");\r\n        }\r\n        var _transport = protocol;\r\n        var _name = name;\r\n        var _description = description || \"\";\r\n        var _repo = repo;\r\n        var _parent = parent;\r\n        var _path = _buildPath(parent);\r\n        var _state = {};\r\n        var id = _arrayToString(_path, \"/\") + name;\r\n        var root = repo.root;\r\n        var _subSystems = [];\r\n        var _metrics = [];\r\n        function subSystem(nameSystem, descriptionSystem) {\r\n            if (!nameSystem || nameSystem.length === 0) {\r\n                throw new Error(\"name is required\");\r\n            }\r\n            var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n            if (match.length > 0) {\r\n                return match[0];\r\n            }\r\n            var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n            _subSystems.push(_system);\r\n            return _system;\r\n        }\r\n        function setState(state, stateDescription) {\r\n            _state = { state: state, description: stateDescription };\r\n            _transport.updateSystem(me, _state);\r\n        }\r\n        function stringMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function numberMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function objectMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function timestampMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n            var metricDef = { name: \"\" };\r\n            if (typeof metricObject === \"string\") {\r\n                metricDef = { name: metricObject };\r\n            }\r\n            else {\r\n                metricDef = metricObject;\r\n            }\r\n            var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n            if (matching.length > 0) {\r\n                var existing = matching[0];\r\n                if (existing.type !== expectedType) {\r\n                    throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n                }\r\n                if (typeof value !== \"undefined\") {\r\n                    existing\r\n                        .update(value)\r\n                        .catch(function () { });\r\n                }\r\n                return existing;\r\n            }\r\n            var metric = createMetric(metricDef);\r\n            _metrics.push(metric);\r\n            return metric;\r\n        }\r\n        function _buildPath(shadowedSystem) {\r\n            if (!shadowedSystem || !shadowedSystem.parent) {\r\n                return [];\r\n            }\r\n            var path = _buildPath(shadowedSystem.parent);\r\n            path.push(shadowedSystem.name);\r\n            return path;\r\n        }\r\n        function _arrayToString(path, separator) {\r\n            return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n        }\r\n        function getAggregateState() {\r\n            var aggState = [];\r\n            if (Object.keys(_state).length > 0) {\r\n                aggState.push({\r\n                    name: _name,\r\n                    path: _path,\r\n                    state: _state.state,\r\n                    description: _state.description,\r\n                });\r\n            }\r\n            _subSystems.forEach(function (shadowedSubSystem) {\r\n                var result = shadowedSubSystem.getAggregateState();\r\n                if (result.length > 0) {\r\n                    aggState.push.apply(aggState, result);\r\n                }\r\n            });\r\n            return aggState;\r\n        }\r\n        var me = {\r\n            get name() {\r\n                return _name;\r\n            },\r\n            get description() {\r\n                return _description;\r\n            },\r\n            get repo() {\r\n                return _repo;\r\n            },\r\n            get parent() {\r\n                return _parent;\r\n            },\r\n            path: _path,\r\n            id: id,\r\n            root: root,\r\n            get subSystems() {\r\n                return _subSystems;\r\n            },\r\n            get metrics() {\r\n                return _metrics;\r\n            },\r\n            subSystem: subSystem,\r\n            getState: function () {\r\n                return _state;\r\n            },\r\n            setState: setState,\r\n            stringMetric: stringMetric,\r\n            timestampMetric: timestampMetric,\r\n            objectMetric: objectMetric,\r\n            numberMetric: numberMetric,\r\n            getAggregateState: getAggregateState,\r\n        };\r\n        _transport.createSystem(me);\r\n        return me;\r\n    }\n\n    var Repository = (function () {\r\n        function Repository(options, protocol) {\r\n            protocol.init(this);\r\n            this.root = system(\"\", this, protocol);\r\n            this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n        }\r\n        Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n            if (typeof navigator !== \"undefined\") {\r\n                rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n            }\r\n            if (useClickStream && typeof document !== \"undefined\") {\r\n                var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n                var documentClickHandler = function (e) {\r\n                    if (!e.target) {\r\n                        return;\r\n                    }\r\n                    var target = e.target;\r\n                    clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                        type: \"click\",\r\n                        timestamp: new Date(),\r\n                        target: {\r\n                            className: e.target ? target.className : \"\",\r\n                            id: target.id,\r\n                            type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                            href: target.href || \"\",\r\n                        },\r\n                    });\r\n                };\r\n                clickStream_1.objectMetric(\"Page\", {\r\n                    title: document.title,\r\n                    page: window.location.href,\r\n                });\r\n                if (document.addEventListener) {\r\n                    document.addEventListener(\"click\", documentClickHandler);\r\n                }\r\n                else {\r\n                    document.attachEvent(\"onclick\", documentClickHandler);\r\n                }\r\n            }\r\n            var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n            var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n            var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n            if (typeof window !== \"undefined\") {\r\n                if (typeof window.location !== \"undefined\") {\r\n                    var startUrl = window.location.href;\r\n                    urlMetric.update(startUrl);\r\n                }\r\n                if (typeof window.glue42gd !== \"undefined\") {\r\n                    appNameMetric.update(window.glue42gd.appName);\r\n                }\r\n            }\r\n        };\r\n        return Repository;\r\n    }());\n\n    var NullProtocol = (function () {\r\n        function NullProtocol() {\r\n        }\r\n        NullProtocol.prototype.init = function (repo) {\r\n        };\r\n        NullProtocol.prototype.createSystem = function (system) {\r\n            return Promise.resolve();\r\n        };\r\n        NullProtocol.prototype.updateSystem = function (metric, state) {\r\n            return Promise.resolve();\r\n        };\r\n        NullProtocol.prototype.createMetric = function (metric) {\r\n            return Promise.resolve();\r\n        };\r\n        NullProtocol.prototype.updateMetric = function (metric) {\r\n            return Promise.resolve();\r\n        };\r\n        return NullProtocol;\r\n    }());\n\n    var PerfTracker = (function () {\r\n        function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n            this.api = api;\r\n            this.lastCount = 0;\r\n            this.initialPublishTimeout = 10 * 1000;\r\n            this.publishInterval = 60 * 1000;\r\n            this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n            this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n            this.scheduleCollection();\r\n            this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n        }\r\n        PerfTracker.prototype.scheduleCollection = function () {\r\n            var _this = this;\r\n            setTimeout(function () {\r\n                _this.collect();\r\n                setInterval(function () {\r\n                    _this.collect();\r\n                }, _this.publishInterval);\r\n            }, this.initialPublishTimeout);\r\n        };\r\n        PerfTracker.prototype.collect = function () {\r\n            try {\r\n                this.collectMemory();\r\n                this.collectEntries();\r\n            }\r\n            catch (_a) {\r\n            }\r\n        };\r\n        PerfTracker.prototype.collectMemory = function () {\r\n            var memory = window.performance.memory;\r\n            this.system.stringMetric(\"memory\", JSON.stringify({\r\n                totalJSHeapSize: memory.totalJSHeapSize,\r\n                usedJSHeapSize: memory.usedJSHeapSize\r\n            }));\r\n        };\r\n        PerfTracker.prototype.collectEntries = function () {\r\n            var allEntries = window.performance.getEntries();\r\n            if (allEntries.length <= this.lastCount) {\r\n                return;\r\n            }\r\n            this.lastCount = allEntries.length;\r\n            this.system.stringMetric(\"entries\", JSON.stringify(allEntries));\r\n        };\r\n        return PerfTracker;\r\n    }());\n\n    var metrics = (function (options) {\r\n        var protocol;\r\n        if (!options.connection || typeof options.connection !== \"object\") {\r\n            protocol = new NullProtocol();\r\n        }\r\n        else {\r\n            protocol = gw3(options.connection, options);\r\n        }\r\n        var repo = new Repository(options, protocol);\r\n        var rootSystem = repo.root;\r\n        if (!options.disableAutoAppSystem) {\r\n            rootSystem = rootSystem.subSystem(\"App\");\r\n        }\r\n        var api = addFAVSupport(rootSystem);\r\n        initPerf(api, options.pagePerformanceMetrics);\r\n        return api;\r\n    });\r\n    var perf;\r\n    function initPerf(api, config) {\r\n        var _a, _b;\r\n        if (typeof window === \"undefined\") {\r\n            return;\r\n        }\r\n        var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n        if (perfConfig) {\r\n            config = perfConfig;\r\n        }\r\n        if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n            perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n        }\r\n    }\r\n    function addFAVSupport(system) {\r\n        var reportingSystem = system.subSystem(\"reporting\");\r\n        var def = {\r\n            name: \"features\"\r\n        };\r\n        var featureMetric;\r\n        var featureMetricFunc = function (name, action, payload) {\r\n            if (typeof name === \"undefined\" || name === \"\") {\r\n                throw new Error(\"name is mandatory\");\r\n            }\r\n            else if (typeof action === \"undefined\" || action === \"\") {\r\n                throw new Error(\"action is mandatory\");\r\n            }\r\n            else if (typeof payload === \"undefined\" || payload === \"\") {\r\n                throw new Error(\"payload is mandatory\");\r\n            }\r\n            if (!featureMetric) {\r\n                featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n            }\r\n            else {\r\n                featureMetric.update({\r\n                    name: name,\r\n                    action: action,\r\n                    payload: payload\r\n                });\r\n            }\r\n        };\r\n        system.featureMetric = featureMetricFunc;\r\n        return system;\r\n    }\n\n    function createRegistry(options) {\r\n        if (options && options.errorHandling\r\n            && typeof options.errorHandling !== \"function\"\r\n            && options.errorHandling !== \"log\"\r\n            && options.errorHandling !== \"silent\"\r\n            && options.errorHandling !== \"throw\") {\r\n            throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n        }\r\n        var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n        var callbacks = {};\r\n        function add(key, callback, replayArgumentsArr) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                callbacksForKey = [];\r\n                callbacks[key] = callbacksForKey;\r\n            }\r\n            callbacksForKey.push(callback);\r\n            if (replayArgumentsArr) {\r\n                setTimeout(function () {\r\n                    replayArgumentsArr.forEach(function (replayArgument) {\r\n                        var _a;\r\n                        if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                            try {\r\n                                if (Array.isArray(replayArgument)) {\r\n                                    callback.apply(undefined, replayArgument);\r\n                                }\r\n                                else {\r\n                                    callback.apply(undefined, [replayArgument]);\r\n                                }\r\n                            }\r\n                            catch (err) {\r\n                                _handleError(err, key);\r\n                            }\r\n                        }\r\n                    });\r\n                }, 0);\r\n            }\r\n            return function () {\r\n                var allForKey = callbacks[key];\r\n                if (!allForKey) {\r\n                    return;\r\n                }\r\n                allForKey = allForKey.reduce(function (acc, element, index) {\r\n                    if (!(element === callback && acc.length === index)) {\r\n                        acc.push(element);\r\n                    }\r\n                    return acc;\r\n                }, []);\r\n                if (allForKey.length === 0) {\r\n                    delete callbacks[key];\r\n                }\r\n                else {\r\n                    callbacks[key] = allForKey;\r\n                }\r\n            };\r\n        }\r\n        function execute(key) {\r\n            var argumentsArr = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                argumentsArr[_i - 1] = arguments[_i];\r\n            }\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey || callbacksForKey.length === 0) {\r\n                return [];\r\n            }\r\n            var results = [];\r\n            callbacksForKey.forEach(function (callback) {\r\n                try {\r\n                    var result = callback.apply(undefined, argumentsArr);\r\n                    results.push(result);\r\n                }\r\n                catch (err) {\r\n                    results.push(undefined);\r\n                    _handleError(err, key);\r\n                }\r\n            });\r\n            return results;\r\n        }\r\n        function _handleError(exceptionArtifact, key) {\r\n            var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n            if (_userErrorHandler) {\r\n                _userErrorHandler(errParam);\r\n                return;\r\n            }\r\n            var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n            if (options) {\r\n                switch (options.errorHandling) {\r\n                    case \"log\":\r\n                        return console.error(msg);\r\n                    case \"silent\":\r\n                        return;\r\n                    case \"throw\":\r\n                        throw new Error(msg);\r\n                }\r\n            }\r\n            console.error(msg);\r\n        }\r\n        function clear() {\r\n            callbacks = {};\r\n        }\r\n        function clearKey(key) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                return;\r\n            }\r\n            delete callbacks[key];\r\n        }\r\n        return {\r\n            add: add,\r\n            execute: execute,\r\n            clear: clear,\r\n            clearKey: clearKey\r\n        };\r\n    }\r\n    createRegistry.default = createRegistry;\r\n    var lib = createRegistry;\n\n    var InProcTransport = (function () {\r\n        function InProcTransport(settings, logger) {\r\n            var _this = this;\r\n            this.registry = lib();\r\n            this.gw = settings.facade;\r\n            this.gw.connect(function (_client, message) {\r\n                _this.messageHandler(message);\r\n            }).then(function (client) {\r\n                _this.client = client;\r\n            });\r\n        }\r\n        Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n            get: function () {\r\n                return true;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        InProcTransport.prototype.sendObject = function (msg) {\r\n            if (this.client) {\r\n                this.client.send(msg);\r\n                return Promise.resolve(undefined);\r\n            }\r\n            else {\r\n                return Promise.reject(\"not connected\");\r\n            }\r\n        };\r\n        InProcTransport.prototype.send = function (_msg) {\r\n            return Promise.reject(\"not supported\");\r\n        };\r\n        InProcTransport.prototype.onMessage = function (callback) {\r\n            return this.registry.add(\"onMessage\", callback);\r\n        };\r\n        InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n            callback(true);\r\n        };\r\n        InProcTransport.prototype.close = function () {\r\n            return Promise.resolve();\r\n        };\r\n        InProcTransport.prototype.open = function () {\r\n            return Promise.resolve();\r\n        };\r\n        InProcTransport.prototype.name = function () {\r\n            return \"in-memory\";\r\n        };\r\n        InProcTransport.prototype.reconnect = function () {\r\n            return Promise.resolve();\r\n        };\r\n        InProcTransport.prototype.messageHandler = function (msg) {\r\n            this.registry.execute(\"onMessage\", msg);\r\n        };\r\n        return InProcTransport;\r\n    }());\n\n    var SharedWorkerTransport = (function () {\r\n        function SharedWorkerTransport(workerFile, logger) {\r\n            var _this = this;\r\n            this.logger = logger;\r\n            this.registry = lib();\r\n            this.worker = new SharedWorker(workerFile);\r\n            this.worker.port.onmessage = function (e) {\r\n                _this.messageHandler(e.data);\r\n            };\r\n        }\r\n        Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n            get: function () {\r\n                return true;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n            this.worker.port.postMessage(msg);\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.send = function (_msg) {\r\n            return Promise.reject(\"not supported\");\r\n        };\r\n        SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n            return this.registry.add(\"onMessage\", callback);\r\n        };\r\n        SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n            callback(true);\r\n        };\r\n        SharedWorkerTransport.prototype.close = function () {\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.open = function () {\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.name = function () {\r\n            return \"shared-worker\";\r\n        };\r\n        SharedWorkerTransport.prototype.reconnect = function () {\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n            this.registry.execute(\"onMessage\", msg);\r\n        };\r\n        return SharedWorkerTransport;\r\n    }());\n\n    var Utils = (function () {\r\n        function Utils() {\r\n        }\r\n        Utils.getGDMajorVersion = function () {\r\n            if (typeof window === \"undefined\") {\r\n                return undefined;\r\n            }\r\n            if (!window.glueDesktop) {\r\n                return undefined;\r\n            }\r\n            if (!window.glueDesktop.version) {\r\n                return undefined;\r\n            }\r\n            var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n            return isNaN(ver) ? undefined : ver;\r\n        };\r\n        Utils.isNode = function () {\r\n            if (typeof Utils._isNode !== \"undefined\") {\r\n                return Utils._isNode;\r\n            }\r\n            if (typeof window !== \"undefined\") {\r\n                Utils._isNode = false;\r\n                return false;\r\n            }\r\n            try {\r\n                Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n            }\r\n            catch (e) {\r\n                Utils._isNode = false;\r\n            }\r\n            return Utils._isNode;\r\n        };\r\n        return Utils;\r\n    }());\n\n    var PromiseWrapper = (function () {\r\n        function PromiseWrapper() {\r\n            var _this = this;\r\n            this.rejected = false;\r\n            this.resolved = false;\r\n            this.promise = new Promise(function (resolve, reject) {\r\n                _this.resolve = function (t) {\r\n                    _this.resolved = true;\r\n                    resolve(t);\r\n                };\r\n                _this.reject = function (err) {\r\n                    _this.rejected = true;\r\n                    reject(err);\r\n                };\r\n            });\r\n        }\r\n        PromiseWrapper.delay = function (time) {\r\n            return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n        };\r\n        Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n            get: function () {\r\n                return this.rejected || this.resolved;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return PromiseWrapper;\r\n    }());\n\n    var timers = {};\r\n    function getAllTimers() {\r\n        return timers;\r\n    }\r\n    function timer (timerName) {\r\n        var existing = timers[timerName];\r\n        if (existing) {\r\n            return existing;\r\n        }\r\n        var marks = [];\r\n        function now() {\r\n            return new Date().getTime();\r\n        }\r\n        var startTime = now();\r\n        mark(\"start\", startTime);\r\n        var endTime;\r\n        var period;\r\n        function stop() {\r\n            endTime = now();\r\n            mark(\"end\", endTime);\r\n            period = endTime - startTime;\r\n            return period;\r\n        }\r\n        function mark(name, time) {\r\n            var currentTime = time !== null && time !== void 0 ? time : now();\r\n            var diff = 0;\r\n            if (marks.length > 0) {\r\n                diff = currentTime - marks[marks.length - 1].time;\r\n            }\r\n            marks.push({ name: name, time: currentTime, diff: diff });\r\n        }\r\n        var timerObj = {\r\n            get startTime() {\r\n                return startTime;\r\n            },\r\n            get endTime() {\r\n                return endTime;\r\n            },\r\n            get period() {\r\n                return period;\r\n            },\r\n            stop: stop,\r\n            mark: mark,\r\n            marks: marks\r\n        };\r\n        timers[timerName] = timerObj;\r\n        return timerObj;\r\n    }\n\n    var WebSocketConstructor = Utils.isNode() ? null : window.WebSocket;\r\n    var WS = (function () {\r\n        function WS(settings, logger) {\r\n            this.startupTimer = timer(\"connection\");\r\n            this._running = true;\r\n            this._registry = lib();\r\n            this.wsRequests = [];\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            if (!this.settings.ws) {\r\n                throw new Error(\"ws is missing\");\r\n            }\r\n        }\r\n        WS.prototype.onMessage = function (callback) {\r\n            return this._registry.add(\"onMessage\", callback);\r\n        };\r\n        WS.prototype.send = function (msg, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.waitForSocketConnection(function () {\r\n                    var _a;\r\n                    try {\r\n                        (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                        resolve();\r\n                    }\r\n                    catch (e) {\r\n                        reject(e);\r\n                    }\r\n                }, reject);\r\n            });\r\n        };\r\n        WS.prototype.open = function () {\r\n            var _this = this;\r\n            this.logger.info(\"opening ws...\");\r\n            this._running = true;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.waitForSocketConnection(resolve, reject);\r\n            });\r\n        };\r\n        WS.prototype.close = function () {\r\n            this._running = false;\r\n            if (this.ws) {\r\n                this.ws.close();\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n        WS.prototype.onConnectedChanged = function (callback) {\r\n            return this._registry.add(\"onConnectedChanged\", callback);\r\n        };\r\n        WS.prototype.name = function () {\r\n            return \"ws \" + this.settings.ws;\r\n        };\r\n        WS.prototype.reconnect = function () {\r\n            var _a;\r\n            (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n            var pw = new PromiseWrapper();\r\n            this.waitForSocketConnection(function () {\r\n                pw.resolve();\r\n            });\r\n            return pw.promise;\r\n        };\r\n        WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n            var _a;\r\n            failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n            if (!this._running) {\r\n                failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n                return;\r\n            }\r\n            if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n                callback();\r\n                return;\r\n            }\r\n            this.wsRequests.push({ callback: callback, failed: failed });\r\n            if (this.wsRequests.length > 1) {\r\n                return;\r\n            }\r\n            this.openSocket();\r\n        };\r\n        WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var _a;\r\n                var _this = this;\r\n                return __generator$1(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            this.startupTimer.mark(\"opening-socket\");\r\n                            if (retryInterval === undefined) {\r\n                                retryInterval = this.settings.reconnectInterval;\r\n                            }\r\n                            if (retriesLeft !== undefined) {\r\n                                if (retriesLeft === 0) {\r\n                                    this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                    return [2];\r\n                                }\r\n                                this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                            }\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            _b.trys.push([1, 3, , 4]);\r\n                            return [4, this.initiateSocket()];\r\n                        case 2:\r\n                            _b.sent();\r\n                            this.startupTimer.mark(\"socket-initiated\");\r\n                            this.notifyForSocketState();\r\n                            return [3, 4];\r\n                        case 3:\r\n                            _a = _b.sent();\r\n                            setTimeout(function () {\r\n                                var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                                _this.openSocket(retryInterval, retries);\r\n                            }, retryInterval);\r\n                            return [3, 4];\r\n                        case 4: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        WS.prototype.initiateSocket = function () {\r\n            var _this = this;\r\n            var pw = new PromiseWrapper();\r\n            this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n            this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n            this.ws.onerror = function (err) {\r\n                var reason = \"\";\r\n                try {\r\n                    reason = JSON.stringify(err);\r\n                }\r\n                catch (error) {\r\n                    var seen_1 = new WeakSet();\r\n                    var replacer = function (key, value) {\r\n                        if (typeof value === \"object\" && value !== null) {\r\n                            if (seen_1.has(value)) {\r\n                                return;\r\n                            }\r\n                            seen_1.add(value);\r\n                        }\r\n                        return value;\r\n                    };\r\n                    reason = JSON.stringify(err, replacer);\r\n                }\r\n                pw.reject(\"error\");\r\n                _this.notifyStatusChanged(false, reason);\r\n            };\r\n            this.ws.onclose = function (err) {\r\n                _this.logger.info(\"ws closed \" + err);\r\n                pw.reject(\"closed\");\r\n                _this.notifyStatusChanged(false);\r\n            };\r\n            this.ws.onopen = function () {\r\n                var _a;\r\n                _this.startupTimer.mark(\"ws-opened\");\r\n                _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n                pw.resolve();\r\n                _this.notifyStatusChanged(true);\r\n            };\r\n            this.ws.onmessage = function (message) {\r\n                _this._registry.execute(\"onMessage\", message.data);\r\n            };\r\n            return pw.promise;\r\n        };\r\n        WS.prototype.notifyForSocketState = function (error) {\r\n            this.wsRequests.forEach(function (wsRequest) {\r\n                if (error) {\r\n                    if (wsRequest.failed) {\r\n                        wsRequest.failed(error);\r\n                    }\r\n                }\r\n                else {\r\n                    wsRequest.callback();\r\n                }\r\n            });\r\n            this.wsRequests = [];\r\n        };\r\n        WS.prototype.notifyStatusChanged = function (status, reason) {\r\n            this._registry.execute(\"onConnectedChanged\", status, reason);\r\n        };\r\n        return WS;\r\n    }());\n\n    function createCommonjsModule(fn, module) {\n    \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n    }\n\n    // Found this seed-based random generator somewhere\n    // Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\n    var seed = 1;\n\n    /**\n     * return a random number based on a seed\n     * @param seed\n     * @returns {number}\n     */\n    function getNextValue() {\n        seed = (seed * 9301 + 49297) % 233280;\n        return seed/(233280.0);\n    }\n\n    function setSeed(_seed_) {\n        seed = _seed_;\n    }\n\n    var randomFromSeed = {\n        nextValue: getNextValue,\n        seed: setSeed\n    };\n\n    var ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n    var alphabet;\n    var previousSeed;\n\n    var shuffled;\n\n    function reset() {\n        shuffled = false;\n    }\n\n    function setCharacters(_alphabet_) {\n        if (!_alphabet_) {\n            if (alphabet !== ORIGINAL) {\n                alphabet = ORIGINAL;\n                reset();\n            }\n            return;\n        }\n\n        if (_alphabet_ === alphabet) {\n            return;\n        }\n\n        if (_alphabet_.length !== ORIGINAL.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n        }\n\n        var unique = _alphabet_.split('').filter(function(item, ind, arr){\n           return ind !== arr.lastIndexOf(item);\n        });\n\n        if (unique.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n        }\n\n        alphabet = _alphabet_;\n        reset();\n    }\n\n    function characters(_alphabet_) {\n        setCharacters(_alphabet_);\n        return alphabet;\n    }\n\n    function setSeed$1(seed) {\n        randomFromSeed.seed(seed);\n        if (previousSeed !== seed) {\n            reset();\n            previousSeed = seed;\n        }\n    }\n\n    function shuffle() {\n        if (!alphabet) {\n            setCharacters(ORIGINAL);\n        }\n\n        var sourceArray = alphabet.split('');\n        var targetArray = [];\n        var r = randomFromSeed.nextValue();\n        var characterIndex;\n\n        while (sourceArray.length > 0) {\n            r = randomFromSeed.nextValue();\n            characterIndex = Math.floor(r * sourceArray.length);\n            targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n        }\n        return targetArray.join('');\n    }\n\n    function getShuffled() {\n        if (shuffled) {\n            return shuffled;\n        }\n        shuffled = shuffle();\n        return shuffled;\n    }\n\n    /**\n     * lookup shuffled letter\n     * @param index\n     * @returns {string}\n     */\n    function lookup(index) {\n        var alphabetShuffled = getShuffled();\n        return alphabetShuffled[index];\n    }\n\n    var alphabet_1 = {\n        characters: characters,\n        seed: setSeed$1,\n        lookup: lookup,\n        shuffled: getShuffled\n    };\n\n    var crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\n    function randomByte() {\n        if (!crypto || !crypto.getRandomValues) {\n            return Math.floor(Math.random() * 256) & 0x30;\n        }\n        var dest = new Uint8Array(1);\n        crypto.getRandomValues(dest);\n        return dest[0] & 0x30;\n    }\n\n    var randomByteBrowser = randomByte;\n\n    function encode(lookup, number) {\n        var loopCounter = 0;\n        var done;\n\n        var str = '';\n\n        while (!done) {\n            str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n            done = number < (Math.pow(16, loopCounter + 1 ) );\n            loopCounter++;\n        }\n        return str;\n    }\n\n    var encode_1 = encode;\n\n    /**\n     * Decode the id to get the version and worker\n     * Mainly for debugging and testing.\n     * @param id - the shortid-generated id.\n     */\n    function decode(id) {\n        var characters = alphabet_1.shuffled();\n        return {\n            version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n            worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n        };\n    }\n\n    var decode_1 = decode;\n\n    function isShortId(id) {\n        if (!id || typeof id !== 'string' || id.length < 6 ) {\n            return false;\n        }\n\n        var characters = alphabet_1.characters();\n        var len = id.length;\n        for(var i = 0; i < len;i++) {\n            if (characters.indexOf(id[i]) === -1) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var isValid = isShortId;\n\n    var lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n    // Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n    // This number should be updated every year or so to keep the generated id short.\n    // To regenerate `new Date() - 0` and bump the version. Always bump the version!\n    var REDUCE_TIME = 1459707606518;\n\n    // don't change unless we change the algos or REDUCE_TIME\n    // must be an integer and less than 16\n    var version = 6;\n\n    // if you are using cluster or multiple servers use this to make each instance\n    // has a unique value for worker\n    // Note: I don't know if this is automatically set when using third\n    // party cluster solutions such as pm2.\n    var clusterWorkerId =  0;\n\n    // Counter is used when shortid is called multiple times in one second.\n    var counter;\n\n    // Remember the last time shortid was called in case counter is needed.\n    var previousSeconds;\n\n    /**\n     * Generate unique id\n     * Returns string id\n     */\n    function generate() {\n\n        var str = '';\n\n        var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n        if (seconds === previousSeconds) {\n            counter++;\n        } else {\n            counter = 0;\n            previousSeconds = seconds;\n        }\n\n        str = str + encode_1(alphabet_1.lookup, version);\n        str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n        if (counter > 0) {\n            str = str + encode_1(alphabet_1.lookup, counter);\n        }\n        str = str + encode_1(alphabet_1.lookup, seconds);\n\n        return str;\n    }\n\n\n    /**\n     * Set the seed.\n     * Highly recommended if you don't want people to try to figure out your id schema.\n     * exposed as shortid.seed(int)\n     * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n     */\n    function seed(seedValue) {\n        alphabet_1.seed(seedValue);\n        return module.exports;\n    }\n\n    /**\n     * Set the cluster worker or machine id\n     * exposed as shortid.worker(int)\n     * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n     * returns shortid module so it can be chained.\n     */\n    function worker(workerId) {\n        clusterWorkerId = workerId;\n        return module.exports;\n    }\n\n    /**\n     *\n     * sets new characters to use in the alphabet\n     * returns the shuffled alphabet\n     */\n    function characters(newCharacters) {\n        if (newCharacters !== undefined) {\n            alphabet_1.characters(newCharacters);\n        }\n\n        return alphabet_1.shuffled();\n    }\n\n\n    // Export all other functions as properties of the generate function\n    module.exports = generate;\n    module.exports.generate = generate;\n    module.exports.seed = seed;\n    module.exports.worker = worker;\n    module.exports.characters = characters;\n    module.exports.decode = decode_1;\n    module.exports.isValid = isValid;\n    });\n    var lib_1 = lib$1.generate;\n    var lib_2 = lib$1.seed;\n    var lib_3 = lib$1.worker;\n    var lib_4 = lib$1.characters;\n    var lib_5 = lib$1.decode;\n    var lib_6 = lib$1.isValid;\n\n    var shortid = lib$1;\n\n    function domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n        if (domain == null) {\r\n            domain = \"global\";\r\n        }\r\n        successMessages = successMessages || [\"success\"];\r\n        errorMessages = errorMessages || [\"error\"];\r\n        var isJoined = false;\r\n        var tryReconnecting = false;\r\n        var _latestOptions;\r\n        var _connectionOn = false;\r\n        var callbacks = lib();\r\n        connection.disconnected(handleConnectionDisconnected);\r\n        connection.loggedIn(handleConnectionLoggedIn);\r\n        connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n        connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n        connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n        if (successMessages) {\r\n            successMessages.forEach(function (sm) {\r\n                connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n            });\r\n        }\r\n        if (errorMessages) {\r\n            errorMessages.forEach(function (sm) {\r\n                connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n            });\r\n        }\r\n        var requestsMap = {};\r\n        function join(options) {\r\n            _latestOptions = options;\r\n            return new Promise(function (resolve, reject) {\r\n                if (isJoined) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n                var joinPromise;\r\n                if (domain === \"global\") {\r\n                    joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n                }\r\n                else {\r\n                    logger.debug(\"joining domain \" + domain);\r\n                    var joinMsg = {\r\n                        type: \"join\",\r\n                        destination: domain,\r\n                        domain: \"global\",\r\n                        options: options,\r\n                    };\r\n                    joinPromise = send(joinMsg);\r\n                }\r\n                joinPromise\r\n                    .then(function () {\r\n                    handleJoined();\r\n                    resolve();\r\n                })\r\n                    .catch(function (err) {\r\n                    logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                    reject(err);\r\n                });\r\n            });\r\n        }\r\n        function leave() {\r\n            if (domain === \"global\") {\r\n                return Promise.resolve();\r\n            }\r\n            logger.debug(\"stopping session \" + domain + \"...\");\r\n            var leaveMsg = {\r\n                type: \"leave\",\r\n                destination: domain,\r\n                domain: \"global\",\r\n            };\r\n            tryReconnecting = false;\r\n            return send(leaveMsg).then(function () {\r\n                isJoined = false;\r\n                callbacks.execute(\"onLeft\");\r\n            });\r\n        }\r\n        function handleJoined() {\r\n            logger.debug(\"did join \" + domain);\r\n            isJoined = true;\r\n            var wasReconnect = tryReconnecting;\r\n            tryReconnecting = false;\r\n            callbacks.execute(\"onJoined\", wasReconnect);\r\n        }\r\n        function handleConnectionDisconnected() {\r\n            _connectionOn = false;\r\n            logger.debug(\"connection is down\");\r\n            isJoined = false;\r\n            tryReconnecting = true;\r\n            callbacks.execute(\"onLeft\", { disconnected: true });\r\n        }\r\n        function handleConnectionLoggedIn() {\r\n            _connectionOn = true;\r\n            if (tryReconnecting) {\r\n                logger.debug(\"connection is now up - trying to reconnect...\");\r\n                join(_latestOptions);\r\n            }\r\n        }\r\n        function onJoined(callback) {\r\n            if (isJoined) {\r\n                callback(false);\r\n            }\r\n            return callbacks.add(\"onJoined\", callback);\r\n        }\r\n        function onLeft(callback) {\r\n            if (!isJoined) {\r\n                callback();\r\n            }\r\n            return callbacks.add(\"onLeft\", callback);\r\n        }\r\n        function handleErrorMessage(msg) {\r\n            if (domain !== msg.domain) {\r\n                return;\r\n            }\r\n            var requestId = msg.request_id;\r\n            if (!requestId) {\r\n                return;\r\n            }\r\n            var entry = requestsMap[requestId];\r\n            if (!entry) {\r\n                return;\r\n            }\r\n            entry.error(msg);\r\n        }\r\n        function handleSuccessMessage(msg) {\r\n            if (msg.domain !== domain) {\r\n                return;\r\n            }\r\n            var requestId = msg.request_id;\r\n            if (!requestId) {\r\n                return;\r\n            }\r\n            var entry = requestsMap[requestId];\r\n            if (!entry) {\r\n                return;\r\n            }\r\n            entry.success(msg);\r\n        }\r\n        function getNextRequestId() {\r\n            return shortid();\r\n        }\r\n        function send(msg, tag, options) {\r\n            options = options || {};\r\n            msg.request_id = msg.request_id || getNextRequestId();\r\n            msg.domain = msg.domain || domain;\r\n            if (!options.skipPeerId) {\r\n                msg.peer_id = connection.peerId;\r\n            }\r\n            var requestId = msg.request_id;\r\n            return new Promise(function (resolve, reject) {\r\n                requestsMap[requestId] = {\r\n                    success: function (successMsg) {\r\n                        delete requestsMap[requestId];\r\n                        successMsg._tag = tag;\r\n                        resolve(successMsg);\r\n                    },\r\n                    error: function (errorMsg) {\r\n                        logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                        delete requestsMap[requestId];\r\n                        errorMsg._tag = tag;\r\n                        reject(errorMsg);\r\n                    },\r\n                };\r\n                connection\r\n                    .send(msg, options)\r\n                    .catch(function (err) {\r\n                    requestsMap[requestId].error({ err: err });\r\n                });\r\n            });\r\n        }\r\n        function sendFireAndForget(msg) {\r\n            msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n            msg.domain = msg.domain || domain;\r\n            msg.peer_id = connection.peerId;\r\n            return connection.send(msg);\r\n        }\r\n        return {\r\n            join: join,\r\n            leave: leave,\r\n            onJoined: onJoined,\r\n            onLeft: onLeft,\r\n            send: send,\r\n            sendFireAndForget: sendFireAndForget,\r\n            on: function (type, callback) {\r\n                connection.on(type, function (msg) {\r\n                    if (msg.domain !== domain) {\r\n                        return;\r\n                    }\r\n                    try {\r\n                        callback(msg);\r\n                    }\r\n                    catch (e) {\r\n                        logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                    }\r\n                });\r\n            },\r\n            loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n            connected: function (callback) { return connection.connected(callback); },\r\n            disconnected: function (callback) { return connection.disconnected(callback); },\r\n            get peerId() {\r\n                return connection.peerId;\r\n            },\r\n            get domain() {\r\n                return domain;\r\n            },\r\n        };\r\n    }\n\n    var GW3ProtocolImpl = (function () {\r\n        function GW3ProtocolImpl(connection, settings, logger) {\r\n            var _this = this;\r\n            this.connection = connection;\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            this.protocolVersion = 3;\r\n            this.datePrefix = \"#T42_DATE#\";\r\n            this.datePrefixLen = this.datePrefix.length;\r\n            this.dateMinLen = this.datePrefixLen + 1;\r\n            this.datePrefixFirstChar = this.datePrefix[0];\r\n            this.registry = lib();\r\n            this._isLoggedIn = false;\r\n            this.shouldTryLogin = true;\r\n            this.initialLogin = true;\r\n            this.initialLoginAttempts = 3;\r\n            this.sessions = [];\r\n            connection.disconnected(function () {\r\n                _this.handleDisconnected();\r\n            });\r\n            this.ping();\r\n        }\r\n        Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n            get: function () {\r\n                return this._isLoggedIn;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n            var _this = this;\r\n            var msg = JSON.parse(message, function (key, value) {\r\n                if (typeof value !== \"string\") {\r\n                    return value;\r\n                }\r\n                if (value.length < _this.dateMinLen) {\r\n                    return value;\r\n                }\r\n                if (value[0] !== _this.datePrefixFirstChar) {\r\n                    return value;\r\n                }\r\n                if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                    return value;\r\n                }\r\n                try {\r\n                    var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                    if (isNaN(milliseconds)) {\r\n                        return value;\r\n                    }\r\n                    return new Date(milliseconds);\r\n                }\r\n                catch (ex) {\r\n                    return value;\r\n                }\r\n            });\r\n            return {\r\n                msg: msg,\r\n                msgType: msg.type,\r\n            };\r\n        };\r\n        GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n            var oldToJson = Date.prototype.toJSON;\r\n            try {\r\n                var datePrefix_1 = this.datePrefix;\r\n                Date.prototype.toJSON = function () {\r\n                    return datePrefix_1 + this.getTime();\r\n                };\r\n                var result = JSON.stringify(message);\r\n                return result;\r\n            }\r\n            finally {\r\n                Date.prototype.toJSON = oldToJson;\r\n            }\r\n        };\r\n        GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n            if (!message.type) {\r\n                throw new Error(\"Object should have type property\");\r\n            }\r\n            return {\r\n                msg: message,\r\n                msgType: message.type,\r\n            };\r\n        };\r\n        GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n            return message;\r\n        };\r\n        GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n                return __generator$1(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            this.logger.debug(\"logging in...\");\r\n                            this.loginConfig = config;\r\n                            if (!this.loginConfig) {\r\n                                this.loginConfig = { username: \"\", password: \"\" };\r\n                            }\r\n                            this.shouldTryLogin = true;\r\n                            authentication = {};\r\n                            this.connection.gatewayToken = config.gatewayToken;\r\n                            if (!config.gatewayToken) return [3, 5];\r\n                            if (!reconnect) return [3, 4];\r\n                            _c.label = 1;\r\n                        case 1:\r\n                            _c.trys.push([1, 3, , 4]);\r\n                            return [4, this.getNewGWToken()];\r\n                        case 2:\r\n                            token = _c.sent();\r\n                            config.gatewayToken = token;\r\n                            return [3, 4];\r\n                        case 3:\r\n                            e_1 = _c.sent();\r\n                            this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                            return [3, 4];\r\n                        case 4:\r\n                            authentication.method = \"gateway-token\";\r\n                            authentication.token = config.gatewayToken;\r\n                            this.connection.gatewayToken = config.gatewayToken;\r\n                            return [3, 10];\r\n                        case 5:\r\n                            if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                            authentication.provider = \"win\";\r\n                            authentication.method = \"access-token\";\r\n                            if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                            _a = authentication;\r\n                            return [4, config.flowCallback(config.sessionId, null)];\r\n                        case 6:\r\n                            _a.token =\r\n                                (_c.sent())\r\n                                    .data\r\n                                    .toString(\"base64\");\r\n                            return [3, 8];\r\n                        case 7: throw new Error(\"Invalid SSPI config\");\r\n                        case 8: return [3, 10];\r\n                        case 9:\r\n                            if (config.token) {\r\n                                authentication.method = \"access-token\";\r\n                                authentication.token = config.token;\r\n                            }\r\n                            else if (config.username) {\r\n                                authentication.method = \"secret\";\r\n                                authentication.login = config.username;\r\n                                authentication.secret = config.password;\r\n                            }\r\n                            else {\r\n                                throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                            }\r\n                            _c.label = 10;\r\n                        case 10:\r\n                            helloMsg = {\r\n                                type: \"hello\",\r\n                                identity: this.settings.identity,\r\n                                authentication: authentication\r\n                            };\r\n                            if (config.sessionId) {\r\n                                helloMsg.request_id = config.sessionId;\r\n                            }\r\n                            this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                                \"welcome\",\r\n                                \"token\",\r\n                                \"authentication-request\"\r\n                            ]);\r\n                            sendOptions = { skipPeerId: true };\r\n                            if (this.initialLogin) {\r\n                                sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                                sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                            }\r\n                            _c.label = 11;\r\n                        case 11:\r\n                            _c.trys.push([11, 19, 20, 21]);\r\n                            welcomeMsg = void 0;\r\n                            _c.label = 12;\r\n                        case 12:\r\n                            return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                        case 13:\r\n                            msg = _c.sent();\r\n                            if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                            token = Buffer.from(msg.authentication.token, \"base64\");\r\n                            if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                            _b = helloMsg.authentication;\r\n                            return [4, config.flowCallback(config.sessionId, token)];\r\n                        case 14:\r\n                            _b.token =\r\n                                (_c.sent())\r\n                                    .data\r\n                                    .toString(\"base64\");\r\n                            _c.label = 15;\r\n                        case 15:\r\n                            helloMsg.request_id = config.sessionId;\r\n                            return [3, 12];\r\n                        case 16:\r\n                            if (msg.type === \"welcome\") {\r\n                                welcomeMsg = msg;\r\n                                return [3, 18];\r\n                            }\r\n                            else if (msg.type === \"error\") {\r\n                                throw new Error(\"Authentication failed: \" + msg.reason);\r\n                            }\r\n                            else {\r\n                                throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                            }\r\n                        case 17: return [3, 12];\r\n                        case 18:\r\n                            this.initialLogin = false;\r\n                            this.logger.info(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                            this.connection.peerId = welcomeMsg.peer_id;\r\n                            this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                            this.connection.availableDomains = welcomeMsg.available_domains;\r\n                            if (welcomeMsg.options) {\r\n                                this.connection.token = welcomeMsg.options.access_token;\r\n                                this.connection.info = welcomeMsg.options.info;\r\n                            }\r\n                            this.setLoggedIn(true);\r\n                            return [2, welcomeMsg.resolved_identity];\r\n                        case 19:\r\n                            err_1 = _c.sent();\r\n                            this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                            throw err_1;\r\n                        case 20:\r\n                            if (config && config.flowCallback && config.sessionId) {\r\n                                config.flowCallback(config.sessionId, null);\r\n                            }\r\n                            return [7];\r\n                        case 21: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3ProtocolImpl.prototype.logout = function () {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var promises;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.logger.debug(\"logging out...\");\r\n                            this.shouldTryLogin = false;\r\n                            if (this.pingTimer) {\r\n                                clearTimeout(this.pingTimer);\r\n                            }\r\n                            promises = this.sessions.map(function (session) {\r\n                                session.leave();\r\n                            });\r\n                            return [4, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n            if (this._isLoggedIn) {\r\n                callback();\r\n            }\r\n            return this.registry.add(\"onLoggedIn\", callback);\r\n        };\r\n        GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n            var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n            if (!session) {\r\n                session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n                this.sessions.push(session);\r\n            }\r\n            return session;\r\n        };\r\n        GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n            var _this = this;\r\n            this.setLoggedIn(false);\r\n            var tryToLogin = this.shouldTryLogin;\r\n            if (tryToLogin && this.initialLogin) {\r\n                if (this.initialLoginAttempts <= 0) {\r\n                    return;\r\n                }\r\n                this.initialLoginAttempts--;\r\n            }\r\n            this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n            if (this.shouldTryLogin) {\r\n                if (!this.loginConfig) {\r\n                    throw new Error(\"no login info\");\r\n                }\r\n                this.connection.login(this.loginConfig, true)\r\n                    .catch(function () {\r\n                    setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n                });\r\n            }\r\n        };\r\n        GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n            this._isLoggedIn = value;\r\n            if (this._isLoggedIn) {\r\n                this.registry.execute(\"onLoggedIn\");\r\n            }\r\n        };\r\n        GW3ProtocolImpl.prototype.ping = function () {\r\n            var _this = this;\r\n            if (!this.shouldTryLogin) {\r\n                return;\r\n            }\r\n            if (this._isLoggedIn) {\r\n                this.connection.send({ type: \"ping\" });\r\n            }\r\n            this.pingTimer = setTimeout(function () {\r\n                _this.ping();\r\n            }, 30 * 1000);\r\n        };\r\n        GW3ProtocolImpl.prototype.authToken = function () {\r\n            var createTokenReq = {\r\n                type: \"create-token\"\r\n            };\r\n            if (!this.globalDomain) {\r\n                return Promise.reject(new Error(\"no global domain session\"));\r\n            }\r\n            return this.globalDomain.send(createTokenReq)\r\n                .then(function (res) {\r\n                return res.token;\r\n            });\r\n        };\r\n        GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n            if (typeof window !== undefined) {\r\n                var glue42gd = window.glue42gd;\r\n                if (glue42gd) {\r\n                    return glue42gd.getGWToken();\r\n                }\r\n            }\r\n            return Promise.reject(new Error(\"not running in GD\"));\r\n        };\r\n        return GW3ProtocolImpl;\r\n    }());\n\n    var MessageReplayerImpl = (function () {\r\n        function MessageReplayerImpl(specs) {\r\n            this.specsNames = [];\r\n            this.messages = {};\r\n            this.subs = {};\r\n            this.subsRefCount = {};\r\n            this.specs = {};\r\n            for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n                var spec = specs_1[_i];\r\n                this.specs[spec.name] = spec;\r\n                this.specsNames.push(spec.name);\r\n            }\r\n        }\r\n        MessageReplayerImpl.prototype.init = function (connection) {\r\n            var _this = this;\r\n            this.connection = connection;\r\n            for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n                var name_1 = _a[_i];\r\n                var _loop_1 = function (type) {\r\n                    var refCount = this_1.subsRefCount[type];\r\n                    if (!refCount) {\r\n                        refCount = 0;\r\n                    }\r\n                    refCount += 1;\r\n                    this_1.subsRefCount[type] = refCount;\r\n                    if (refCount > 1) {\r\n                        return \"continue\";\r\n                    }\r\n                    var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                    this_1.subs[type] = sub;\r\n                };\r\n                var this_1 = this;\r\n                for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                    var type = _c[_b];\r\n                    _loop_1(type);\r\n                }\r\n            }\r\n        };\r\n        MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n            if (this.isDone || !msg) {\r\n                return;\r\n            }\r\n            for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n                var name_2 = _a[_i];\r\n                if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                    var messages = this.messages[name_2] || [];\r\n                    this.messages[name_2] = messages;\r\n                    messages.push(msg);\r\n                }\r\n            }\r\n        };\r\n        MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n            var _a;\r\n            if (callback) {\r\n                (this.messages[name] || []).forEach(callback);\r\n            }\r\n            delete this.messages[name];\r\n            for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n                var type = _b[_i];\r\n                this.subsRefCount[type] -= 1;\r\n                if (this.subsRefCount[type] <= 0) {\r\n                    (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                    delete this.subs[type];\r\n                    delete this.subsRefCount[type];\r\n                }\r\n            }\r\n            delete this.specs[name];\r\n            if (!this.specs.length) {\r\n                this.isDone = true;\r\n            }\r\n        };\r\n        return MessageReplayerImpl;\r\n    }());\n\n    var Connection = (function () {\r\n        function Connection(settings, logger) {\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            this.messageHandlers = {};\r\n            this.ids = 1;\r\n            this.registry = lib();\r\n            this._connected = false;\r\n            this.isTrace = false;\r\n            settings = settings || {};\r\n            settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n            settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n            if (settings.inproc) {\r\n                this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n            }\r\n            else if (settings.sharedWorker) {\r\n                this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n            }\r\n            else if (settings.ws !== undefined) {\r\n                this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n            }\r\n            else {\r\n                throw new Error(\"No connection information specified\");\r\n            }\r\n            this.isTrace = logger.canPublish(\"trace\");\r\n            logger.info(\"starting with \" + this.transport.name() + \" transport\");\r\n            this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n            this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n            this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n            if (settings.replaySpecs && settings.replaySpecs.length) {\r\n                this.replayer = new MessageReplayerImpl(settings.replaySpecs);\r\n                this.replayer.init(this);\r\n            }\r\n        }\r\n        Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n            get: function () {\r\n                var _a;\r\n                return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Connection.prototype.send = function (message, options) {\r\n            if (this.transport.sendObject &&\r\n                this.transport.isObjectBasedTransport) {\r\n                var msg = this.protocol.createObjectMessage(message);\r\n                if (this.isTrace) {\r\n                    this.logger.trace(\">> \" + JSON.stringify(msg));\r\n                }\r\n                return this.transport.sendObject(msg, options);\r\n            }\r\n            else {\r\n                var strMessage = this.protocol.createStringMessage(message);\r\n                if (this.isTrace) {\r\n                    this.logger.trace(\">> \" + strMessage);\r\n                }\r\n                return this.transport.send(strMessage, options);\r\n            }\r\n        };\r\n        Connection.prototype.on = function (type, messageHandler) {\r\n            type = type.toLowerCase();\r\n            if (this.messageHandlers[type] === undefined) {\r\n                this.messageHandlers[type] = {};\r\n            }\r\n            var id = this.ids++;\r\n            this.messageHandlers[type][id] = messageHandler;\r\n            return {\r\n                type: type,\r\n                id: id,\r\n            };\r\n        };\r\n        Connection.prototype.off = function (info) {\r\n            delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n        };\r\n        Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n            get: function () {\r\n                return this.protocol.isLoggedIn;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Connection.prototype.connected = function (callback) {\r\n            var _this = this;\r\n            return this.protocol.loggedIn(function () {\r\n                callback(_this.settings.ws || _this.settings.sharedWorker || \"\");\r\n            });\r\n        };\r\n        Connection.prototype.disconnected = function (callback) {\r\n            return this.registry.add(\"disconnected\", callback);\r\n        };\r\n        Connection.prototype.login = function (authRequest, reconnect) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var identity;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.transport.open()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            timer(\"connection\").mark(\"transport-opened\");\r\n                            identity = this.protocol.login(authRequest, reconnect);\r\n                            timer(\"connection\").mark(\"protocol-logged-in\");\r\n                            return [2, identity];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Connection.prototype.logout = function () {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.protocol.logout()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4, this.transport.close()];\r\n                        case 2:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Connection.prototype.loggedIn = function (callback) {\r\n            return this.protocol.loggedIn(callback);\r\n        };\r\n        Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n            return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n        };\r\n        Connection.prototype.authToken = function () {\r\n            return this.protocol.authToken();\r\n        };\r\n        Connection.prototype.reconnect = function () {\r\n            return this.transport.reconnect();\r\n        };\r\n        Connection.prototype.distributeMessage = function (message, type) {\r\n            var _this = this;\r\n            var handlers = this.messageHandlers[type.toLowerCase()];\r\n            if (handlers !== undefined) {\r\n                Object.keys(handlers).forEach(function (handlerId) {\r\n                    var handler = handlers[handlerId];\r\n                    if (handler !== undefined) {\r\n                        try {\r\n                            handler(message);\r\n                        }\r\n                        catch (error) {\r\n                            try {\r\n                                _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                            }\r\n                            catch (loggerError) {\r\n                                console.log(\"Message handler failed\", error);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        Connection.prototype.handleConnectionChanged = function (connected) {\r\n            if (this._connected === connected) {\r\n                return;\r\n            }\r\n            this._connected = connected;\r\n            if (connected) {\r\n                this.registry.execute(\"connected\");\r\n            }\r\n            else {\r\n                this.registry.execute(\"disconnected\");\r\n            }\r\n        };\r\n        Connection.prototype.handleTransportMessage = function (msg) {\r\n            var msgObj;\r\n            if (typeof msg === \"string\") {\r\n                msgObj = this.protocol.processStringMessage(msg);\r\n            }\r\n            else {\r\n                msgObj = this.protocol.processObjectMessage(msg);\r\n            }\r\n            if (this.isTrace) {\r\n                this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n            }\r\n            this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n        };\r\n        return Connection;\r\n    }());\n\n    var order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\n    var Logger = (function () {\r\n        function Logger(name, parent, logFn) {\r\n            this.name = name;\r\n            this.parent = parent;\r\n            this.subLoggers = [];\r\n            this.logFn = console;\r\n            this.customLogFn = false;\r\n            this.name = name;\r\n            if (parent) {\r\n                this.path = parent.path + \".\" + name;\r\n            }\r\n            else {\r\n                this.path = name;\r\n            }\r\n            this.loggerFullName = \"[\" + this.path + \"]\";\r\n            this.includeTimeAndLevel = !logFn;\r\n            if (logFn) {\r\n                this.logFn = logFn;\r\n                this.customLogFn = true;\r\n            }\r\n        }\r\n        Logger.prototype.subLogger = function (name) {\r\n            var existingSub = this.subLoggers.filter(function (subLogger) {\r\n                return subLogger.name === name;\r\n            })[0];\r\n            if (existingSub !== undefined) {\r\n                return existingSub;\r\n            }\r\n            Object.keys(this).forEach(function (key) {\r\n                if (key === name) {\r\n                    throw new Error(\"This sub logger name is not allowed.\");\r\n                }\r\n            });\r\n            var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n            this.subLoggers.push(sub);\r\n            return sub;\r\n        };\r\n        Logger.prototype.publishLevel = function (level) {\r\n            var _a;\r\n            if (level) {\r\n                this._publishLevel = level;\r\n            }\r\n            return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n        };\r\n        Logger.prototype.consoleLevel = function (level) {\r\n            var _a;\r\n            if (level) {\r\n                this._consoleLevel = level;\r\n            }\r\n            return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n        };\r\n        Logger.prototype.log = function (message, level, error) {\r\n            this.publishMessage(level || \"info\", message, error);\r\n        };\r\n        Logger.prototype.trace = function (message) {\r\n            this.log(message, \"trace\");\r\n        };\r\n        Logger.prototype.debug = function (message) {\r\n            this.log(message, \"debug\");\r\n        };\r\n        Logger.prototype.info = function (message) {\r\n            this.log(message, \"info\");\r\n        };\r\n        Logger.prototype.warn = function (message) {\r\n            this.log(message, \"warn\");\r\n        };\r\n        Logger.prototype.error = function (message, err) {\r\n            this.log(message, \"error\");\r\n        };\r\n        Logger.prototype.canPublish = function (level, compareWith) {\r\n            var levelIdx = order.indexOf(level);\r\n            var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n            return levelIdx >= restrictionIdx;\r\n        };\r\n        Logger.prototype.publishMessage = function (level, message, error) {\r\n            var loggerName = this.loggerFullName;\r\n            if (level === \"error\" && !error) {\r\n                var e = new Error();\r\n                if (e.stack) {\r\n                    message =\r\n                        message +\r\n                            \"\\n\" +\r\n                            e.stack\r\n                                .split(\"\\n\")\r\n                                .slice(3)\r\n                                .join(\"\\n\");\r\n                }\r\n            }\r\n            if (this.canPublish(level, this.publishLevel())) {\r\n                var interop = Logger.Interop;\r\n                if (interop) {\r\n                    try {\r\n                        if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                            interop.invoke(Logger.InteropMethodName, {\r\n                                msg: \"\" + message,\r\n                                logger: loggerName,\r\n                                level: level\r\n                            });\r\n                        }\r\n                    }\r\n                    catch (_a) {\r\n                    }\r\n                }\r\n            }\r\n            if (this.canPublish(level)) {\r\n                var prefix = \"\";\r\n                if (this.includeTimeAndLevel) {\r\n                    var date = new Date();\r\n                    var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                    prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n                }\r\n                var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n                switch (level) {\r\n                    case \"trace\":\r\n                        this.logFn.debug(toPrint);\r\n                        break;\r\n                    case \"debug\":\r\n                        if (this.logFn.debug) {\r\n                            this.logFn.debug(toPrint);\r\n                        }\r\n                        else {\r\n                            this.logFn.log(toPrint);\r\n                        }\r\n                        break;\r\n                    case \"info\":\r\n                        this.logFn.info(toPrint);\r\n                        break;\r\n                    case \"warn\":\r\n                        this.logFn.warn(toPrint);\r\n                        break;\r\n                    case \"error\":\r\n                        this.logFn.error(toPrint, error);\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n        Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n        return Logger;\r\n    }());\n\n    var GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\n    var GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\n    var GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\n    var GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\n    var GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\n    var GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\n    var GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\n    var GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\n    var GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\n    var GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\n    var GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\n    var GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\n    var GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\n    var ContextMessageReplaySpec = {\r\n        get name() {\r\n            return \"context\";\r\n        },\r\n        get types() {\r\n            return [\r\n                GW_MESSAGE_CREATE_CONTEXT,\r\n                GW_MESSAGE_ACTIVITY_CREATED,\r\n                GW_MESSAGE_ACTIVITY_DESTROYED,\r\n                GW_MESSAGE_CONTEXT_CREATED,\r\n                GW_MESSAGE_CONTEXT_ADDED,\r\n                GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n                GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n                GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n                GW_MESSAGE_DESTROY_CONTEXT,\r\n                GW_MESSAGE_CONTEXT_DESTROYED,\r\n                GW_MESSAGE_UPDATE_CONTEXT,\r\n                GW_MESSAGE_CONTEXT_UPDATED,\r\n                GW_MESSAGE_JOINED_ACTIVITY\r\n            ];\r\n        }\r\n    };\n\n    var version = \"5.2.7\";\n\n    function prepareConfig (configuration, ext, glue42gd) {\r\n        var _a, _b, _c, _d, _e;\r\n        var nodeStartingContext;\r\n        if (Utils.isNode()) {\r\n            var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n            if (startingContextString) {\r\n                try {\r\n                    nodeStartingContext = JSON.parse(startingContextString);\r\n                }\r\n                catch (_f) {\r\n                }\r\n            }\r\n        }\r\n        function getConnection() {\r\n            var _a, _b, _c, _d;\r\n            var gwConfig = configuration.gateway;\r\n            var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n            var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n            var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n            var defaultWs = \"ws://localhost:8385\";\r\n            var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n            var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n            var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n            if (glue42gd) {\r\n                ws = glue42gd.gwURL;\r\n            }\r\n            if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n                ws = nodeStartingContext.gwURL;\r\n            }\r\n            if (!ws && !sharedWorker && !inproc) {\r\n                ws = defaultWs;\r\n            }\r\n            var instanceId;\r\n            var windowId;\r\n            var pid;\r\n            var environment;\r\n            var region;\r\n            var appName = getApplication();\r\n            var uniqueAppName = appName;\r\n            if (typeof glue42gd !== \"undefined\") {\r\n                windowId = glue42gd.windowId;\r\n                pid = glue42gd.pid;\r\n                if (glue42gd.env) {\r\n                    environment = glue42gd.env.env;\r\n                    region = glue42gd.env.region;\r\n                }\r\n                uniqueAppName = (_b = glue42gd.application) !== null && _b !== void 0 ? _b : \"glue-app\";\r\n                instanceId = glue42gd.appInstanceId;\r\n            }\r\n            else if (Utils.isNode()) {\r\n                pid = process.pid;\r\n                if (nodeStartingContext) {\r\n                    environment = nodeStartingContext.env;\r\n                    region = nodeStartingContext.region;\r\n                    instanceId = nodeStartingContext.instanceId;\r\n                }\r\n            }\r\n            else {\r\n                windowId = window.name || shortid();\r\n            }\r\n            var replaySpecs = (_d = (_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.replaySpecs) !== null && _d !== void 0 ? _d : [];\r\n            replaySpecs.push(ContextMessageReplaySpec);\r\n            return {\r\n                identity: {\r\n                    application: uniqueAppName,\r\n                    applicationName: appName,\r\n                    windowId: windowId,\r\n                    instance: instanceId,\r\n                    process: pid,\r\n                    region: region,\r\n                    environment: environment,\r\n                    api: ext.version || version\r\n                },\r\n                reconnectInterval: reconnectInterval,\r\n                ws: ws,\r\n                sharedWorker: sharedWorker,\r\n                inproc: inproc,\r\n                protocolVersion: protocolVersion,\r\n                reconnectAttempts: reconnectAttempts,\r\n                replaySpecs: replaySpecs,\r\n            };\r\n        }\r\n        function getApplication() {\r\n            if (configuration.application) {\r\n                return configuration.application;\r\n            }\r\n            if (glue42gd) {\r\n                return glue42gd.applicationName;\r\n            }\r\n            var uid = shortid();\r\n            if (Utils.isNode()) {\r\n                if (nodeStartingContext) {\r\n                    return nodeStartingContext.applicationConfig.name;\r\n                }\r\n                return \"NodeJS\" + uid;\r\n            }\r\n            if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n                return document.title + (\" (\" + uid + \")\");\r\n            }\r\n            return uid;\r\n        }\r\n        function getAuth() {\r\n            var _a, _b;\r\n            if (typeof configuration.auth === \"string\") {\r\n                return {\r\n                    token: configuration.auth\r\n                };\r\n            }\r\n            if (configuration.auth) {\r\n                return configuration.auth;\r\n            }\r\n            if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n                return {\r\n                    gatewayToken: nodeStartingContext.gwToken\r\n                };\r\n            }\r\n            if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.inproc) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.sharedWorker)) {\r\n                return {\r\n                    username: \"glue42\", password: \"glue42\"\r\n                };\r\n            }\r\n        }\r\n        function getLogger() {\r\n            var _a, _b;\r\n            var config = configuration.logger;\r\n            var defaultLevel = \"warn\";\r\n            if (!config) {\r\n                config = defaultLevel;\r\n            }\r\n            var gdConsoleLevel;\r\n            if (glue42gd) {\r\n                gdConsoleLevel = glue42gd.consoleLogLevel;\r\n            }\r\n            if (typeof config === \"string\") {\r\n                return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n            }\r\n            return {\r\n                console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n                publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n            };\r\n        }\r\n        var connection = getConnection();\r\n        var application = getApplication();\r\n        if (typeof window !== \"undefined\") {\r\n            var windowAsAny = window;\r\n            var containerApplication = windowAsAny.htmlContainer ?\r\n                windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n            if (containerApplication) {\r\n                application = containerApplication;\r\n            }\r\n        }\r\n        return {\r\n            bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n            application: application,\r\n            auth: getAuth(),\r\n            logger: getLogger(),\r\n            connection: connection,\r\n            metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n            contexts: (_d = configuration.contexts) !== null && _d !== void 0 ? _d : true,\r\n            version: ext.version || version,\r\n            libs: (_e = ext.libs) !== null && _e !== void 0 ? _e : [],\r\n            customLogger: configuration.customLogger\r\n        };\r\n    }\n\n    var GW3ContextData = (function () {\r\n        function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n            this.updateCallbacks = {};\r\n            this.contextId = contextId;\r\n            this.name = name;\r\n            this.isAnnounced = isAnnounced;\r\n            this.activityId = activityId;\r\n            this.context = {};\r\n        }\r\n        GW3ContextData.prototype.hasCallbacks = function () {\r\n            return Object.keys(this.updateCallbacks).length > 0;\r\n        };\r\n        GW3ContextData.prototype.getState = function () {\r\n            if (this.isAnnounced && this.hasCallbacks()) {\r\n                return 3;\r\n            }\r\n            if (this.isAnnounced) {\r\n                return 2;\r\n            }\r\n            if (this.hasCallbacks()) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        };\r\n        return GW3ContextData;\r\n    }());\n\n    function applyContextDelta(context, delta, logger) {\r\n        try {\r\n            if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n                logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n            }\r\n            if (!delta) {\r\n                return context;\r\n            }\r\n            if (delta.reset) {\r\n                context = __assign$1({}, delta.reset);\r\n                return context;\r\n            }\r\n            context = deepClone(context, undefined);\r\n            if (delta.commands) {\r\n                for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                    var command = _a[_i];\r\n                    if (command.type === \"remove\") {\r\n                        deletePath(context, command.path);\r\n                    }\r\n                    else if (command.type === \"set\") {\r\n                        setValueToPath(context, command.value, command.path);\r\n                    }\r\n                }\r\n                return context;\r\n            }\r\n            var added_1 = delta.added;\r\n            var updated_1 = delta.updated;\r\n            var removed = delta.removed;\r\n            if (added_1) {\r\n                Object.keys(added_1).forEach(function (key) {\r\n                    context[key] = added_1[key];\r\n                });\r\n            }\r\n            if (updated_1) {\r\n                Object.keys(updated_1).forEach(function (key) {\r\n                    mergeObjectsProperties(key, context, updated_1);\r\n                });\r\n            }\r\n            if (removed) {\r\n                removed.forEach(function (key) {\r\n                    delete context[key];\r\n                });\r\n            }\r\n            return context;\r\n        }\r\n        catch (e) {\r\n            logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n            return context;\r\n        }\r\n    }\r\n    function deepClone(obj, hash) {\r\n        hash = hash || new WeakMap();\r\n        if (Object(obj) !== obj) {\r\n            return obj;\r\n        }\r\n        if (obj instanceof Set) {\r\n            return new Set(obj);\r\n        }\r\n        if (hash.has(obj)) {\r\n            return hash.get(obj);\r\n        }\r\n        var result = obj instanceof Date ? new Date(obj)\r\n            : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n                : obj.constructor ? new obj.constructor()\r\n                    : Object.create(null);\r\n        hash.set(obj, result);\r\n        if (obj instanceof Map) {\r\n            Array.from(obj, function (_a) {\r\n                var key = _a[0], val = _a[1];\r\n                return result.set(key, deepClone(val, hash));\r\n            });\r\n        }\r\n        return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n            var _a;\r\n            return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n        })));\r\n    }\r\n    var mergeObjectsProperties = function (key, what, withWhat) {\r\n        var right = withWhat[key];\r\n        if (right === undefined) {\r\n            return what;\r\n        }\r\n        var left = what[key];\r\n        if (!left || !right) {\r\n            what[key] = right;\r\n            return what;\r\n        }\r\n        if (typeof left === \"string\" ||\r\n            typeof left === \"number\" ||\r\n            typeof left === \"boolean\" ||\r\n            typeof right === \"string\" ||\r\n            typeof right === \"number\" ||\r\n            typeof right === \"boolean\" ||\r\n            Array.isArray(left) ||\r\n            Array.isArray(right)) {\r\n            what[key] = right;\r\n            return what;\r\n        }\r\n        what[key] = Object.assign({}, left, right);\r\n        return what;\r\n    };\r\n    function deepEqual(x, y) {\r\n        if (x === y) {\r\n            return true;\r\n        }\r\n        if (!(x instanceof Object) || !(y instanceof Object)) {\r\n            return false;\r\n        }\r\n        if (x.constructor !== y.constructor) {\r\n            return false;\r\n        }\r\n        for (var p in x) {\r\n            if (!x.hasOwnProperty(p)) {\r\n                continue;\r\n            }\r\n            if (!y.hasOwnProperty(p)) {\r\n                return false;\r\n            }\r\n            if (x[p] === y[p]) {\r\n                continue;\r\n            }\r\n            if (typeof (x[p]) !== \"object\") {\r\n                return false;\r\n            }\r\n            if (!deepEqual(x[p], y[p])) {\r\n                return false;\r\n            }\r\n        }\r\n        for (var p in y) {\r\n            if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    function setValueToPath(obj, value, path) {\r\n        var pathArr = path.split(\".\");\r\n        var i;\r\n        for (i = 0; i < pathArr.length - 1; i++) {\r\n            if (!obj[pathArr[i]]) {\r\n                obj[pathArr[i]] = {};\r\n            }\r\n            if (typeof obj[pathArr[i]] !== \"object\") {\r\n                obj[pathArr[i]] = {};\r\n            }\r\n            obj = obj[pathArr[i]];\r\n        }\r\n        obj[pathArr[i]] = value;\r\n    }\r\n    function deletePath(obj, path) {\r\n        var pathArr = path.split(\".\");\r\n        var i;\r\n        for (i = 0; i < pathArr.length - 1; i++) {\r\n            if (!obj[pathArr[i]]) {\r\n                return;\r\n            }\r\n            obj = obj[pathArr[i]];\r\n        }\r\n        delete obj[pathArr[i]];\r\n    }\n\n    var GW3Bridge = (function () {\r\n        function GW3Bridge(config) {\r\n            var _this = this;\r\n            var _a;\r\n            this._contextNameToData = {};\r\n            this._gw3Subscriptions = [];\r\n            this._nextCallbackSubscriptionNumber = 0;\r\n            this._contextNameToId = {};\r\n            this._contextIdToName = {};\r\n            this._protocolVersion = undefined;\r\n            this._connection = config.connection;\r\n            this._logger = config.logger;\r\n            this._gw3Session = this._connection.domain(\"global\", [\r\n                GW_MESSAGE_CONTEXT_CREATED,\r\n                GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n                GW_MESSAGE_CONTEXT_DESTROYED,\r\n                GW_MESSAGE_CONTEXT_UPDATED,\r\n            ]);\r\n            this.subscribeToContextCreatedMessages();\r\n            this.subscribeToContextUpdatedMessages();\r\n            this.subscribeToContextDestroyedMessages();\r\n            (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n                var type = message.type;\r\n                if (!type) {\r\n                    return;\r\n                }\r\n                if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                    type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                    type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                    _this.handleContextCreatedMessage(message);\r\n                }\r\n                else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                    type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                    type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                    _this.handleContextUpdatedMessage(message);\r\n                }\r\n                else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                    type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                    _this.handleContextDestroyedMessage(message);\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n            get: function () {\r\n                var _a;\r\n                if (!this._protocolVersion) {\r\n                    var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                    this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n                }\r\n                return this._protocolVersion;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n            get: function () {\r\n                return this.protocolVersion >= 2;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GW3Bridge.prototype.dispose = function () {\r\n            for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n                var sub = _a[_i];\r\n                this._connection.off(sub);\r\n            }\r\n            this._gw3Subscriptions.length = 0;\r\n            for (var contextName in this._contextNameToData) {\r\n                if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                    delete this._contextNameToData[contextName];\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.createContext = function (name, data) {\r\n            var _this = this;\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_CREATE_CONTEXT,\r\n                domain: \"global\",\r\n                name: name,\r\n                data: data,\r\n                lifetime: \"retained\",\r\n            })\r\n                .then(function (createContextMsg) {\r\n                _this._contextNameToId[name] = createContextMsg.context_id;\r\n                _this._contextIdToName[createContextMsg.context_id] = name;\r\n                var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n                contextData.isAnnounced = true;\r\n                contextData.name = name;\r\n                contextData.contextId = createContextMsg.context_id;\r\n                contextData.context = data;\r\n                _this._contextNameToData[name] = contextData;\r\n                return createContextMsg.context_id;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.all = function () {\r\n            var _this = this;\r\n            return Object.keys(this._contextNameToData)\r\n                .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n        };\r\n        GW3Bridge.prototype.update = function (name, delta) {\r\n            var _a;\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var contextData, currentContext, calculatedDelta;\r\n                var _this = this;\r\n                return __generator$1(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            contextData = this._contextNameToData[name];\r\n                            if (!contextData || !contextData.isAnnounced) {\r\n                                return [2, this.createContext(name, delta)];\r\n                            }\r\n                            currentContext = contextData.context;\r\n                            if (!!contextData.hasCallbacks()) return [3, 2];\r\n                            return [4, this.get(contextData.name)];\r\n                        case 1:\r\n                            currentContext = _b.sent();\r\n                            _b.label = 2;\r\n                        case 2:\r\n                            calculatedDelta = this.protocolVersion === 2 ?\r\n                                this.calculateContextDeltaV2(currentContext, delta) :\r\n                                this.calculateContextDeltaV1(currentContext, delta);\r\n                            if (!Object.keys(calculatedDelta.added).length\r\n                                && !Object.keys(calculatedDelta.updated).length\r\n                                && !calculatedDelta.removed.length\r\n                                && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                                return [2, Promise.resolve()];\r\n                            }\r\n                            return [2, this._gw3Session\r\n                                    .send({\r\n                                    type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                    domain: \"global\",\r\n                                    context_id: contextData.contextId,\r\n                                    delta: calculatedDelta,\r\n                                }, {}, { skipPeerId: false })\r\n                                    .then(function (gwResponse) {\r\n                                    _this.handleUpdated(contextData, calculatedDelta, {\r\n                                        updaterId: gwResponse.peer_id\r\n                                    });\r\n                                })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.set = function (name, data) {\r\n            var _this = this;\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                return this.createContext(name, data);\r\n            }\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n                delta: { reset: data },\r\n            }, {}, { skipPeerId: false })\r\n                .then(function (gwResponse) {\r\n                _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.setPath = function (name, path, value) {\r\n            if (!this.setPathSupported) {\r\n                return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n            }\r\n            return this.setPaths(name, [{ path: path, value: value }]);\r\n        };\r\n        GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n            var _this = this;\r\n            if (!this.setPathSupported) {\r\n                return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n            }\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                var obj = {};\r\n                for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                    var pathValue = pathValues_1[_i];\r\n                    setValueToPath(obj, pathValue.value, pathValue.path);\r\n                }\r\n                return this.createContext(name, obj);\r\n            }\r\n            var commands = [];\r\n            for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n                var pathValue = pathValues_2[_a];\r\n                if (pathValue.value === null) {\r\n                    commands.push({ type: \"remove\", path: pathValue.path });\r\n                }\r\n                else {\r\n                    commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n                }\r\n            }\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n                delta: { commands: commands }\r\n            }, {}, { skipPeerId: false })\r\n                .then(function (gwResponse) {\r\n                _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.get = function (name) {\r\n            var _this = this;\r\n            var _a;\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                return Promise.resolve({});\r\n            }\r\n            if (contextData && !contextData.hasCallbacks()) {\r\n                return new Promise(function (resolve, _) { return __awaiter$1(_this, void 0, void 0, function () {\r\n                    var _this = this;\r\n                    return __generator$1(this, function (_a) {\r\n                        this.subscribe(name, function (data, _d, _r, un) {\r\n                            _this.unsubscribe(un);\r\n                            resolve(data);\r\n                        });\r\n                        return [2];\r\n                    });\r\n                }); });\r\n            }\r\n            var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n            return Promise.resolve(context);\r\n        };\r\n        GW3Bridge.prototype.subscribe = function (name, callback) {\r\n            var thisCallbackSubscriptionNumber = this._nextCallbackSubscriptionNumber;\r\n            this._nextCallbackSubscriptionNumber += 1;\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData ||\r\n                !contextData.isAnnounced) {\r\n                contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n                this._contextNameToData[name] = contextData;\r\n                contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            if (!hadCallbacks) {\r\n                if (!contextData.joinedActivity) {\r\n                    if (contextData.context && contextData.sentExplicitSubscription) {\r\n                        var clone = deepClone(contextData.context);\r\n                        callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                        return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                    }\r\n                    return this.sendSubscribe(contextData)\r\n                        .then(function () { return thisCallbackSubscriptionNumber; });\r\n                }\r\n                else {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n            }\r\n            else {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n            for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n                var name_1 = _a[_i];\r\n                var contextId = this._contextNameToId[name_1];\r\n                var contextData = this._contextNameToData[name_1];\r\n                if (!contextData) {\r\n                    return;\r\n                }\r\n                var hadCallbacks = contextData.hasCallbacks();\r\n                delete contextData.updateCallbacks[subscriptionKey];\r\n                if (contextData.isAnnounced &&\r\n                    hadCallbacks &&\r\n                    !contextData.hasCallbacks() &&\r\n                    contextData.sentExplicitSubscription) {\r\n                    this.sendUnsubscribe(contextData);\r\n                }\r\n                if (!contextData.isAnnounced &&\r\n                    !contextData.hasCallbacks()) {\r\n                    delete this._contextNameToData[name_1];\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.destroy = function (name) {\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData) {\r\n                return Promise.reject(\"context with \" + name + \" does not exist\");\r\n            }\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_DESTROY_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n            var oldContext = contextData.context;\r\n            contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n            if (this._contextNameToData[contextData.name] === contextData &&\r\n                !deepEqual(oldContext, contextData.context)) {\r\n                this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n            var createdMessageTypes = [\r\n                GW_MESSAGE_CONTEXT_ADDED,\r\n                GW_MESSAGE_CONTEXT_CREATED,\r\n                GW_MESSAGE_ACTIVITY_CREATED,\r\n            ];\r\n            for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n                var createdMessageType = createdMessageTypes_1[_i];\r\n                var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n                this._gw3Subscriptions.push(sub);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n            var createdMessageType = contextCreatedMsg.type;\r\n            if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n                this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n            }\r\n            else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n                this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n                this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n            }\r\n            else ;\r\n            var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n            if (!name) {\r\n                throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n            }\r\n            if (!this._contextNameToId[name]) {\r\n                throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n            }\r\n            var contextData = this._contextNameToData[name];\r\n            if (contextData) {\r\n                if (contextData.isAnnounced) {\r\n                    return;\r\n                }\r\n                else {\r\n                    if (!contextData.hasCallbacks()) {\r\n                        throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                    }\r\n                    contextData.isAnnounced = true;\r\n                    contextData.contextId = contextCreatedMsg.context_id;\r\n                    contextData.activityId = contextCreatedMsg.activity_id;\r\n                    if (!contextData.sentExplicitSubscription) {\r\n                        this.sendSubscribe(contextData);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this._contextNameToData[name] = contextData =\r\n                    new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n            var updatedMessageTypes = [\r\n                GW_MESSAGE_CONTEXT_UPDATED,\r\n                GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n                GW_MESSAGE_JOINED_ACTIVITY,\r\n            ];\r\n            for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n                var updatedMessageType = updatedMessageTypes_1[_i];\r\n                var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n                this._gw3Subscriptions.push(sub);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n            var updatedMessageType = contextUpdatedMsg.type;\r\n            var contextId = contextUpdatedMsg.context_id;\r\n            var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n            var justSeen = !contextData || !contextData.isAnnounced;\r\n            if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                if (!contextData) {\r\n                    contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                    this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                    this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n                }\r\n                else {\r\n                    contextData.contextId = contextId;\r\n                    contextData.isAnnounced = true;\r\n                    contextData.activityId = contextUpdatedMsg.activity_id;\r\n                }\r\n                contextData.joinedActivity = true;\r\n            }\r\n            else {\r\n                if (!contextData || !contextData.isAnnounced) {\r\n                    if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                        contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                        contextData.sentExplicitSubscription = true;\r\n                        this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                        this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                        this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                    }\r\n                    else {\r\n                        this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n            var oldContext = contextData.context;\r\n            if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                contextData.context = contextUpdatedMsg.data || {};\r\n            }\r\n            else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n            }\r\n            else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n                contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n            }\r\n            else {\r\n                throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n            }\r\n            if (justSeen ||\r\n                !deepEqual(contextData.context, oldContext) ||\r\n                updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n            }\r\n        };\r\n        GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n            delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n            if (delta.commands) {\r\n                delta.added = delta.updated = delta.reset = {};\r\n                delta.removed = [];\r\n                for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                    var command = _a[_i];\r\n                    if (command.type === \"remove\") {\r\n                        if (command.path.indexOf(\".\") === -1) {\r\n                            delta.removed.push(command.path);\r\n                        }\r\n                        setValueToPath(delta.updated, null, command.path);\r\n                    }\r\n                    else if (command.type === \"set\") {\r\n                        setValueToPath(delta.updated, command.value, command.path);\r\n                    }\r\n                }\r\n            }\r\n            for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n                if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                    try {\r\n                        var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                        updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                    }\r\n                    catch (err) {\r\n                        this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n            var destroyedMessageTypes = [\r\n                GW_MESSAGE_CONTEXT_DESTROYED,\r\n                GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            ];\r\n            for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n                var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n                var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n                this._gw3Subscriptions.push(sub);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n            var destroyedMessageType = destroyedMsg.type;\r\n            var contextId;\r\n            var name;\r\n            if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                name = destroyedMsg.activity_id;\r\n                contextId = this._contextNameToId[name];\r\n                if (!contextId) {\r\n                    this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                    return;\r\n                }\r\n            }\r\n            else {\r\n                contextId = destroyedMsg.context_id;\r\n                name = this._contextIdToName[contextId];\r\n                if (!name) {\r\n                    this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                    return;\r\n                }\r\n            }\r\n            delete this._contextIdToName[contextId];\r\n            delete this._contextNameToId[name];\r\n            var contextData = this._contextNameToData[name];\r\n            delete this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n                return;\r\n            }\r\n        };\r\n        GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n            contextData.sentExplicitSubscription = true;\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n            contextData.sentExplicitSubscription = false;\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n            var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n            if (from) {\r\n                for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                    var x = _a[_i];\r\n                    if (Object.keys(to).indexOf(x) !== -1\r\n                        && to[x] !== null\r\n                        && !deepEqual(from[x], to[x])) {\r\n                        delta.updated[x] = to[x];\r\n                    }\r\n                }\r\n            }\r\n            for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n                var x = _c[_b];\r\n                if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                    if (to[x] !== null) {\r\n                        delta.added[x] = to[x];\r\n                    }\r\n                }\r\n                else if (to[x] === null) {\r\n                    delta.removed.push(x);\r\n                }\r\n            }\r\n            return delta;\r\n        };\r\n        GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n            var _a, _b;\r\n            var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n            for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n                var x = _c[_i];\r\n                if (to[x] !== null) {\r\n                    var fromX = from ? from[x] : null;\r\n                    if (!deepEqual(fromX, to[x])) {\r\n                        (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                    }\r\n                }\r\n                else {\r\n                    (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n                }\r\n            }\r\n            return delta;\r\n        };\r\n        return GW3Bridge;\r\n    }());\n\n    var ContextsModule = (function () {\r\n        function ContextsModule(config) {\r\n            this._bridge = new GW3Bridge(config);\r\n        }\r\n        ContextsModule.prototype.all = function () {\r\n            return this._bridge.all();\r\n        };\r\n        ContextsModule.prototype.update = function (name, data) {\r\n            this.checkName(name);\r\n            this.checkData(data);\r\n            return this._bridge.update(name, data);\r\n        };\r\n        ContextsModule.prototype.set = function (name, data) {\r\n            this.checkName(name);\r\n            this.checkData(data);\r\n            return this._bridge.set(name, data);\r\n        };\r\n        ContextsModule.prototype.setPath = function (name, path, data) {\r\n            this.checkName(name);\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(data);\r\n                return this.set(name, data);\r\n            }\r\n            return this._bridge.setPath(name, path, data);\r\n        };\r\n        ContextsModule.prototype.setPaths = function (name, paths) {\r\n            this.checkName(name);\r\n            if (!Array.isArray(paths)) {\r\n                throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n            }\r\n            for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n                var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n                this.checkPath(path);\r\n                var isTopLevelPath = path === \"\";\r\n                if (isTopLevelPath) {\r\n                    this.checkData(value);\r\n                }\r\n            }\r\n            return this._bridge.setPaths(name, paths);\r\n        };\r\n        ContextsModule.prototype.subscribe = function (name, callback) {\r\n            var _this = this;\r\n            this.checkName(name);\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(\"Please provide the callback as a function!\");\r\n            }\r\n            return this._bridge\r\n                .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n                .then(function (key) {\r\n                return function () {\r\n                    _this._bridge.unsubscribe(key);\r\n                };\r\n            });\r\n        };\r\n        ContextsModule.prototype.get = function (name) {\r\n            this.checkName(name);\r\n            return this._bridge.get(name);\r\n        };\r\n        ContextsModule.prototype.ready = function () {\r\n            return Promise.resolve(this);\r\n        };\r\n        ContextsModule.prototype.destroy = function (name) {\r\n            this.checkName(name);\r\n            return this._bridge.destroy(name);\r\n        };\r\n        Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n            get: function () {\r\n                return this._bridge.setPathSupported;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ContextsModule.prototype.checkName = function (name) {\r\n            if (typeof name !== \"string\" || name === \"\") {\r\n                throw new Error(\"Please provide the name as a non-empty string!\");\r\n            }\r\n        };\r\n        ContextsModule.prototype.checkPath = function (path) {\r\n            if (typeof path !== \"string\") {\r\n                throw new Error(\"Please provide the path as a dot delimited string!\");\r\n            }\r\n        };\r\n        ContextsModule.prototype.checkData = function (data) {\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Please provide the data as an object!\");\r\n            }\r\n        };\r\n        return ContextsModule;\r\n    }());\n\n    function promisify (promise, successCallback, errorCallback) {\r\n        if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n            return promise;\r\n        }\r\n        if (typeof successCallback !== \"function\") {\r\n            successCallback = function () { };\r\n        }\r\n        else if (typeof errorCallback !== \"function\") {\r\n            errorCallback = function () { };\r\n        }\r\n        return promise.then(successCallback, errorCallback);\r\n    }\n\n    function rejectAfter(ms, promise, error) {\r\n        if (ms === void 0) { ms = 0; }\r\n        var timeout;\r\n        promise.finally(function () {\r\n            if (timeout) {\r\n                clearTimeout(timeout);\r\n            }\r\n        });\r\n        return new Promise(function (resolve, reject) {\r\n            timeout = setTimeout(function () { return reject(error); }, ms);\r\n        });\r\n    }\n\n    var InvokeStatus;\r\n    (function (InvokeStatus) {\r\n        InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n        InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n    })(InvokeStatus || (InvokeStatus = {}));\r\n    var Client = (function () {\r\n        function Client(protocol, repo, instance, configuration) {\r\n            this.protocol = protocol;\r\n            this.repo = repo;\r\n            this.instance = instance;\r\n            this.configuration = configuration;\r\n        }\r\n        Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n            var _this = this;\r\n            var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n                var _a;\r\n                options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n                _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n            };\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var successProxy = function (sub) {\r\n                    resolve(sub);\r\n                };\r\n                var errorProxy = function (err) {\r\n                    reject(err);\r\n                };\r\n                if (!method) {\r\n                    reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                    return;\r\n                }\r\n                var methodDef;\r\n                if (typeof method === \"string\") {\r\n                    methodDef = { name: method };\r\n                }\r\n                else {\r\n                    methodDef = method;\r\n                }\r\n                if (!methodDef.name) {\r\n                    reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                    return;\r\n                }\r\n                if (options === undefined) {\r\n                    options = {};\r\n                }\r\n                var target = options.target;\r\n                if (target === undefined) {\r\n                    target = \"best\";\r\n                }\r\n                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                    reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                    return;\r\n                }\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = options.method_response_timeout;\r\n                    if (options.methodResponseTimeout === undefined) {\r\n                        options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                    }\r\n                }\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                    if (options.waitTimeoutMs === undefined) {\r\n                        options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                    }\r\n                }\r\n                var delayStep = 500;\r\n                var delayTillNow = 0;\r\n                var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                if (currentServers.length > 0) {\r\n                    callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n                }\r\n                else {\r\n                    var retry_1 = function () {\r\n                        if (!target || !(options.waitTimeoutMs)) {\r\n                            return;\r\n                        }\r\n                        delayTillNow += delayStep;\r\n                        currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                        if (currentServers.length > 0) {\r\n                            var streamInfo = currentServers[0].methods[0];\r\n                            callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                        }\r\n                        else if (delayTillNow >= options.waitTimeoutMs) {\r\n                            var def = typeof method === \"string\" ? { name: method } : method;\r\n                            callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                        }\r\n                        else {\r\n                            setTimeout(retry_1, delayStep);\r\n                        }\r\n                    };\r\n                    setTimeout(retry_1, delayStep);\r\n                }\r\n            });\r\n            return promisify(promise, successCallback, errorCallback);\r\n        };\r\n        Client.prototype.servers = function (methodFilter) {\r\n            var filterCopy = methodFilter === undefined\r\n                ? undefined\r\n                : __assign$1({}, methodFilter);\r\n            return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n                return serverMethodMap.server.instance;\r\n            });\r\n        };\r\n        Client.prototype.methods = function (methodFilter) {\r\n            if (typeof methodFilter === \"string\") {\r\n                methodFilter = { name: methodFilter };\r\n            }\r\n            else {\r\n                methodFilter = __assign$1({}, methodFilter);\r\n            }\r\n            return this.getMethods(methodFilter);\r\n        };\r\n        Client.prototype.methodsForInstance = function (instance) {\r\n            return this.getMethodsForInstance(instance);\r\n        };\r\n        Client.prototype.methodAdded = function (callback) {\r\n            return this.repo.onMethodAdded(callback);\r\n        };\r\n        Client.prototype.methodRemoved = function (callback) {\r\n            return this.repo.onMethodRemoved(callback);\r\n        };\r\n        Client.prototype.serverAdded = function (callback) {\r\n            return this.repo.onServerAdded(callback);\r\n        };\r\n        Client.prototype.serverRemoved = function (callback) {\r\n            return this.repo.onServerRemoved(function (server, reason) {\r\n                callback(server, reason);\r\n            });\r\n        };\r\n        Client.prototype.serverMethodAdded = function (callback) {\r\n            return this.repo.onServerMethodAdded(function (server, method) {\r\n                callback({ server: server, method: method });\r\n            });\r\n        };\r\n        Client.prototype.serverMethodRemoved = function (callback) {\r\n            return this.repo.onServerMethodRemoved(function (server, method) {\r\n                callback({ server: server, method: method });\r\n            });\r\n        };\r\n        Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var getInvokePromise;\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    getInvokePromise = function () { return __awaiter$1(_this, void 0, void 0, function () {\r\n                        var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                        var _this = this;\r\n                        var _a;\r\n                        return __generator$1(this, function (_b) {\r\n                            switch (_b.label) {\r\n                                case 0:\r\n                                    if (typeof methodFilter === \"string\") {\r\n                                        methodDefinition = { name: methodFilter };\r\n                                    }\r\n                                    else {\r\n                                        methodDefinition = __assign$1({}, methodFilter);\r\n                                    }\r\n                                    if (!methodDefinition.name) {\r\n                                        return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                    }\r\n                                    if (!argumentObj) {\r\n                                        argumentObj = {};\r\n                                    }\r\n                                    if (!target) {\r\n                                        target = \"best\";\r\n                                    }\r\n                                    if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                        return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                    }\r\n                                    if (!additionalOptions) {\r\n                                        additionalOptions = {};\r\n                                    }\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                        if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                            additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                        }\r\n                                    }\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                        if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                            additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                        }\r\n                                    }\r\n                                    if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                        return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                    }\r\n                                    if (typeof argumentObj !== \"object\") {\r\n                                        return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                    }\r\n                                    serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                    if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                    _b.label = 1;\r\n                                case 1:\r\n                                    _b.trys.push([1, 3, , 4]);\r\n                                    return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                                case 2:\r\n                                    serversMethodMap = _b.sent();\r\n                                    return [3, 4];\r\n                                case 3:\r\n                                    err_1 = _b.sent();\r\n                                    method = __assign$1(__assign$1({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [] });\r\n                                    errorObj = {\r\n                                        method: method,\r\n                                        called_with: argumentObj,\r\n                                        message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                        executed_by: undefined,\r\n                                        returned: undefined,\r\n                                        status: undefined,\r\n                                    };\r\n                                    return [2, Promise.reject(errorObj)];\r\n                                case 4:\r\n                                    timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                    additionalOptionsCopy = additionalOptions;\r\n                                    invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                        var invId = shortid();\r\n                                        var method = serversMethodPair.methods[0];\r\n                                        var server = serversMethodPair.server;\r\n                                        var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                        return Promise.race([\r\n                                            invokePromise,\r\n                                            rejectAfter(timeout, invokePromise, {\r\n                                                invocationId: invId,\r\n                                                message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                                status: InvokeStatus.Error,\r\n                                            })\r\n                                        ]);\r\n                                    });\r\n                                    return [4, Promise.all(invokePromises)];\r\n                                case 5:\r\n                                    invocationMessages = _b.sent();\r\n                                    results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                    allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                    if (allRejected) {\r\n                                        return [2, Promise.reject(results)];\r\n                                    }\r\n                                    return [2, results];\r\n                            }\r\n                        });\r\n                    }); };\r\n                    return [2, promisify(getInvokePromise(), success, error)];\r\n                });\r\n            });\r\n        };\r\n        Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n            var all_return_values = invocationResults\r\n                .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n                .reduce(function (allValues, currentValue) {\r\n                allValues = __spreadArrays(allValues, [\r\n                    {\r\n                        executed_by: currentValue.instance,\r\n                        returned: currentValue.result,\r\n                        called_with: calledWith,\r\n                        method: method,\r\n                        message: currentValue.message,\r\n                        status: currentValue.status,\r\n                    }\r\n                ]);\r\n                return allValues;\r\n            }, []);\r\n            var all_errors = invocationResults\r\n                .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n                .reduce(function (allErrors, currError) {\r\n                allErrors = __spreadArrays(allErrors, [\r\n                    {\r\n                        executed_by: currError.instance,\r\n                        called_with: calledWith,\r\n                        name: method.name,\r\n                        message: currError.message,\r\n                    }\r\n                ]);\r\n                return allErrors;\r\n            }, []);\r\n            var invResult = invocationResults[0];\r\n            var result = {\r\n                method: method,\r\n                called_with: calledWith,\r\n                returned: invResult.result,\r\n                executed_by: invResult.instance,\r\n                all_return_values: all_return_values,\r\n                all_errors: all_errors,\r\n                message: invResult.message,\r\n                status: invResult.status\r\n            };\r\n            return result;\r\n        };\r\n        Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (additionalOptions.waitTimeoutMs === 0) {\r\n                    reject();\r\n                    return;\r\n                }\r\n                var delayStep = 500;\r\n                var delayTillNow = 0;\r\n                var retry = function () {\r\n                    delayTillNow += delayStep;\r\n                    var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                    if (serversMethodMap.length > 0) {\r\n                        clearInterval(interval);\r\n                        resolve(serversMethodMap);\r\n                    }\r\n                    else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                        clearInterval(interval);\r\n                        reject();\r\n                        return;\r\n                    }\r\n                };\r\n                var interval = setInterval(retry, delayStep);\r\n            });\r\n        };\r\n        Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n            var _this = this;\r\n            if (typeof target === \"string\") {\r\n                if (target === \"all\") {\r\n                    return __spreadArrays(serverMethodMap);\r\n                }\r\n                else if (target === \"best\") {\r\n                    var localMachine = serverMethodMap\r\n                        .find(function (s) { return s.server.instance.isLocal; });\r\n                    if (localMachine) {\r\n                        return [localMachine];\r\n                    }\r\n                    if (serverMethodMap[0] !== undefined) {\r\n                        return [serverMethodMap[0]];\r\n                    }\r\n                }\r\n                else if (target === \"skipMine\") {\r\n                    return serverMethodMap.filter(function (_a) {\r\n                        var server = _a.server;\r\n                        return server.instance.peerId !== _this.instance.peerId;\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                var targetArray = void 0;\r\n                if (!Array.isArray(target)) {\r\n                    targetArray = [target];\r\n                }\r\n                else {\r\n                    targetArray = target;\r\n                }\r\n                var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                    var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                        return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                    });\r\n                    return matches.concat(myMatches);\r\n                }, []);\r\n                return allServersMatching;\r\n            }\r\n            return [];\r\n        };\r\n        Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n            return this.containsProps(instanceFilter, instanceDefinition);\r\n        };\r\n        Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n            return this.containsProps(methodFilter, methodDefinition);\r\n        };\r\n        Client.prototype.containsProps = function (filter, repoMethod) {\r\n            var filterProps = Object.keys(filter)\r\n                .filter(function (prop) {\r\n                return filter[prop] !== undefined\r\n                    && typeof filter[prop] !== \"function\"\r\n                    && prop !== \"object_types\"\r\n                    && prop !== \"display_name\"\r\n                    && prop !== \"id\"\r\n                    && prop !== \"gatewayId\"\r\n                    && prop !== \"identifier\"\r\n                    && prop[0] !== \"_\";\r\n            });\r\n            return filterProps.reduce(function (isMatch, prop) {\r\n                var filterValue = filter[prop];\r\n                var repoMethodValue = repoMethod[prop];\r\n                if (prop === \"objectTypes\") {\r\n                    var containsAllFromFilter = function (filterObjTypes, repoObjectTypes) {\r\n                        var objTypeToContains = filterObjTypes.reduce(function (object, objType) {\r\n                            object[objType] = false;\r\n                            return object;\r\n                        }, {});\r\n                        repoObjectTypes.forEach(function (repoObjType) {\r\n                            if (objTypeToContains[repoObjType] !== undefined) {\r\n                                objTypeToContains[repoObjType] = true;\r\n                            }\r\n                        });\r\n                        var filterIsFullfilled = function () { return Object.keys(objTypeToContains).reduce(function (isFullfiled, objType) {\r\n                            if (!objTypeToContains[objType]) {\r\n                                isFullfiled = false;\r\n                            }\r\n                            return isFullfiled;\r\n                        }, true); };\r\n                        return filterIsFullfilled();\r\n                    };\r\n                    if (filterValue.length > repoMethodValue.length\r\n                        || containsAllFromFilter(filterValue, repoMethodValue) === false) {\r\n                        isMatch = false;\r\n                    }\r\n                }\r\n                else if (String(filterValue).toLowerCase() !== String(repoMethodValue).toLowerCase()) {\r\n                    isMatch = false;\r\n                }\r\n                return isMatch;\r\n            }, true);\r\n        };\r\n        Client.prototype.getMethods = function (methodFilter) {\r\n            var _this = this;\r\n            if (methodFilter === undefined) {\r\n                return this.repo.getMethods();\r\n            }\r\n            var methods = this.repo.getMethods().filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            return methods;\r\n        };\r\n        Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n            var _this = this;\r\n            var allServers = this.repo.getServers();\r\n            var matchingServers = allServers.filter(function (server) {\r\n                return _this.instanceMatch(instanceFilter, server.instance);\r\n            });\r\n            if (matchingServers.length === 0) {\r\n                return [];\r\n            }\r\n            var resultMethodsObject = {};\r\n            if (matchingServers.length === 1) {\r\n                resultMethodsObject = matchingServers[0].methods;\r\n            }\r\n            else {\r\n                matchingServers.forEach(function (server) {\r\n                    Object.keys(server.methods).forEach(function (methodKey) {\r\n                        var method = server.methods[methodKey];\r\n                        resultMethodsObject[method.identifier] = method;\r\n                    });\r\n                });\r\n            }\r\n            return Object.keys(resultMethodsObject)\r\n                .map(function (key) {\r\n                return resultMethodsObject[key];\r\n            });\r\n        };\r\n        Client.prototype.getServers = function (methodFilter) {\r\n            var _this = this;\r\n            var servers = this.repo.getServers();\r\n            if (methodFilter === undefined) {\r\n                return servers.map(function (server) {\r\n                    return { server: server, methods: [] };\r\n                });\r\n            }\r\n            return servers.reduce(function (prev, current) {\r\n                var methodsForServer = _this.repo.getServerMethodsById(current.id);\r\n                var matchingMethods = methodsForServer.filter(function (method) {\r\n                    return _this.methodMatch(methodFilter, method);\r\n                });\r\n                if (matchingMethods.length > 0) {\r\n                    prev.push({ server: current, methods: matchingMethods });\r\n                }\r\n                return prev;\r\n            }, []);\r\n        };\r\n        Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n            var serversMethodMap = this.getServers(methodFilter);\r\n            return this.filterByTarget(target, serversMethodMap);\r\n        };\r\n        return Client;\r\n    }());\n\n    var ServerSubscription = (function () {\r\n        function ServerSubscription(protocol, repoMethod, subscription) {\r\n            this.protocol = protocol;\r\n            this.repoMethod = repoMethod;\r\n            this.subscription = subscription;\r\n        }\r\n        Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n            get: function () {\r\n                if (!this.repoMethod.stream) {\r\n                    throw new Error(\"no stream\");\r\n                }\r\n                return this.repoMethod.stream;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n            get: function () { return this.subscription.arguments || {}; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n            get: function () { return this.subscription.branchKey; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n            get: function () {\r\n                if (!this.subscription.instance) {\r\n                    throw new Error(\"no instance\");\r\n                }\r\n                return this.subscription.instance;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ServerSubscription.prototype.close = function () {\r\n            this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n        };\r\n        ServerSubscription.prototype.push = function (data) {\r\n            this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n        };\r\n        return ServerSubscription;\r\n    }());\n\n    var Request = (function () {\r\n        function Request(protocol, repoMethod, requestContext) {\r\n            this.protocol = protocol;\r\n            this.repoMethod = repoMethod;\r\n            this.requestContext = requestContext;\r\n            this.arguments = requestContext.arguments;\r\n            this.instance = requestContext.instance;\r\n        }\r\n        Request.prototype.accept = function () {\r\n            this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n        };\r\n        Request.prototype.acceptOnBranch = function (branch) {\r\n            this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n        };\r\n        Request.prototype.reject = function (reason) {\r\n            this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n        };\r\n        return Request;\r\n    }());\n\n    var ServerStreaming = (function () {\r\n        function ServerStreaming(protocol, server) {\r\n            var _this = this;\r\n            this.protocol = protocol;\r\n            this.server = server;\r\n            protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n            protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n            protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n        }\r\n        ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n            if (!(repoMethod &&\r\n                repoMethod.streamCallbacks &&\r\n                typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n                return;\r\n            }\r\n            var request = new Request(this.protocol, repoMethod, requestContext);\r\n            repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n        };\r\n        ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n            if (!(repoMethod &&\r\n                repoMethod.streamCallbacks &&\r\n                typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n                return;\r\n            }\r\n            var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n            repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n        };\r\n        ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n            if (!(repoMethod &&\r\n                repoMethod.streamCallbacks &&\r\n                typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n                return;\r\n            }\r\n            var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n            repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n        };\r\n        return ServerStreaming;\r\n    }());\n\n    var ServerBranch = (function () {\r\n        function ServerBranch(key, protocol, repoMethod) {\r\n            this.key = key;\r\n            this.protocol = protocol;\r\n            this.repoMethod = repoMethod;\r\n        }\r\n        ServerBranch.prototype.subscriptions = function () {\r\n            var _this = this;\r\n            var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n            return subList.map(function (sub) {\r\n                return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n            });\r\n        };\r\n        ServerBranch.prototype.close = function () {\r\n            this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n        };\r\n        ServerBranch.prototype.push = function (data) {\r\n            this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n        };\r\n        return ServerBranch;\r\n    }());\n\n    var ServerStream = (function () {\r\n        function ServerStream(_protocol, _repoMethod, _server) {\r\n            this._protocol = _protocol;\r\n            this._repoMethod = _repoMethod;\r\n            this._server = _server;\r\n            this.name = this._repoMethod.definition.name;\r\n        }\r\n        ServerStream.prototype.branches = function (key) {\r\n            var _this = this;\r\n            var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n            if (key) {\r\n                if (bList.indexOf(key) > -1) {\r\n                    return new ServerBranch(key, this._protocol, this._repoMethod);\r\n                }\r\n                return undefined;\r\n            }\r\n            else {\r\n                return bList.map(function (branchKey) {\r\n                    return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n                });\r\n            }\r\n        };\r\n        ServerStream.prototype.branch = function (key) {\r\n            return this.branches(key);\r\n        };\r\n        ServerStream.prototype.subscriptions = function () {\r\n            var _this = this;\r\n            var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n            return subList.map(function (sub) {\r\n                return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n            });\r\n        };\r\n        Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n            get: function () {\r\n                var def2 = this._repoMethod.definition;\r\n                return {\r\n                    accepts: def2.accepts,\r\n                    description: def2.description,\r\n                    displayName: def2.displayName,\r\n                    name: def2.name,\r\n                    objectTypes: def2.objectTypes,\r\n                    returns: def2.returns,\r\n                    supportsStreaming: def2.supportsStreaming,\r\n                };\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ServerStream.prototype.close = function () {\r\n            this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n            this._server.unregister(this._repoMethod.definition, true);\r\n        };\r\n        ServerStream.prototype.push = function (data, branches) {\r\n            if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n                throw new Error(\"invalid branches should be string or string array\");\r\n            }\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Invalid arguments. Data must be an object.\");\r\n            }\r\n            this._protocol.server.pushData(this._repoMethod, data, branches);\r\n        };\r\n        ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n            this._repoMethod = repoMethod;\r\n        };\r\n        return ServerStream;\r\n    }());\n\n    var Server = (function () {\r\n        function Server(protocol, serverRepository) {\r\n            this.protocol = protocol;\r\n            this.serverRepository = serverRepository;\r\n            this.invocations = 0;\r\n            this.currentlyUnregistering = {};\r\n            this.streaming = new ServerStreaming(protocol, this);\r\n            this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n        }\r\n        Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (!streamDef) {\r\n                    reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                    return;\r\n                }\r\n                var streamMethodDefinition;\r\n                if (typeof streamDef === \"string\") {\r\n                    streamMethodDefinition = { name: \"\" + streamDef };\r\n                }\r\n                else {\r\n                    streamMethodDefinition = __assign$1({}, streamDef);\r\n                }\r\n                if (!streamMethodDefinition.name) {\r\n                    return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n                }\r\n                var nameAlreadyExists = _this.serverRepository.getList()\r\n                    .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n                if (nameAlreadyExists) {\r\n                    return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n                }\r\n                streamMethodDefinition.supportsStreaming = true;\r\n                if (!callbacks) {\r\n                    callbacks = {};\r\n                }\r\n                if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                    callbacks.subscriptionRequestHandler = function (request) {\r\n                        request.accept();\r\n                    };\r\n                }\r\n                var repoMethod = _this.serverRepository.add({\r\n                    definition: streamMethodDefinition,\r\n                    streamCallbacks: callbacks,\r\n                    protocolState: {},\r\n                });\r\n                _this.protocol.server.createStream(repoMethod)\r\n                    .then(function () {\r\n                    var streamUserObject;\r\n                    if (existingStream) {\r\n                        streamUserObject = existingStream;\r\n                        existingStream.updateRepoMethod(repoMethod);\r\n                    }\r\n                    else {\r\n                        streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                    }\r\n                    repoMethod.stream = streamUserObject;\r\n                    resolve(streamUserObject);\r\n                })\r\n                    .catch(function (err) {\r\n                    if (repoMethod.repoId) {\r\n                        _this.serverRepository.remove(repoMethod.repoId);\r\n                    }\r\n                    reject(err);\r\n                });\r\n            });\r\n            return promisify(promise, successCallback, errorCallback);\r\n        };\r\n        Server.prototype.register = function (methodDefinition, callback) {\r\n            var _this = this;\r\n            if (!methodDefinition) {\r\n                return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n            }\r\n            if (typeof callback !== \"function\") {\r\n                return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n            }\r\n            var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter$1(_this, void 0, void 0, function () {\r\n                var result, resultValue, e_1;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 4, , 5]);\r\n                            result = callback(context.args, context.instance);\r\n                            if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                            return [4, result];\r\n                        case 1:\r\n                            resultValue = _a.sent();\r\n                            resultCallback(undefined, resultValue);\r\n                            return [3, 3];\r\n                        case 2:\r\n                            resultCallback(undefined, result);\r\n                            _a.label = 3;\r\n                        case 3: return [3, 5];\r\n                        case 4:\r\n                            e_1 = _a.sent();\r\n                            if (!e_1) {\r\n                                e_1 = \"\";\r\n                            }\r\n                            resultCallback(e_1, e_1);\r\n                            return [3, 5];\r\n                        case 5: return [2];\r\n                    }\r\n                });\r\n            }); };\r\n            wrappedCallbackFunction.userCallback = callback;\r\n            return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n        };\r\n        Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n            if (!methodDefinition) {\r\n                return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n            }\r\n            if (typeof callback !== \"function\") {\r\n                return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n            }\r\n            var wrappedCallback = function (context, resultCallback) {\r\n                try {\r\n                    var resultCalled_1 = false;\r\n                    var success = function (result) {\r\n                        if (!resultCalled_1) {\r\n                            resultCallback(undefined, result);\r\n                        }\r\n                        resultCalled_1 = true;\r\n                    };\r\n                    var error = function (e) {\r\n                        if (!resultCalled_1) {\r\n                            if (!e) {\r\n                                e = \"\";\r\n                            }\r\n                            resultCallback(e, e);\r\n                        }\r\n                        resultCalled_1 = true;\r\n                    };\r\n                    var methodResult = callback(context.args, context.instance, success, error);\r\n                    if (methodResult && typeof methodResult.then === \"function\") {\r\n                        methodResult\r\n                            .then(success)\r\n                            .catch(error);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    resultCallback(e, undefined);\r\n                }\r\n            };\r\n            wrappedCallback.userCallbackAsync = callback;\r\n            return this.registerCore(methodDefinition, wrappedCallback);\r\n        };\r\n        Server.prototype.unregister = function (methodFilter, forStream) {\r\n            if (forStream === void 0) { forStream = false; }\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var methodDefinition, methodToBeRemoved;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (methodFilter === undefined) {\r\n                                return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                            }\r\n                            if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                            return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                        case 2:\r\n                            if (typeof methodFilter === \"string\") {\r\n                                methodDefinition = { name: methodFilter };\r\n                            }\r\n                            else {\r\n                                methodDefinition = methodFilter;\r\n                            }\r\n                            if (methodDefinition.name === undefined) {\r\n                                return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                            }\r\n                            methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                                return serverMethod.definition.name === methodDefinition.name\r\n                                    && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                            });\r\n                            if (!methodToBeRemoved) {\r\n                                return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                            }\r\n                            return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                        case 3:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var methodsOrStreamsToRemove;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                                .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                                .filter(function (serverMethod) {\r\n                                return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                            });\r\n                            if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                                return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                            }\r\n                            return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n            var _this = this;\r\n            var methodUnregPromises = [];\r\n            methodsToRemove.forEach(function (method) {\r\n                var promise = _this.protocol.server.unregister(method)\r\n                    .then(function () {\r\n                    if (method.repoId) {\r\n                        _this.serverRepository.remove(method.repoId);\r\n                    }\r\n                });\r\n                methodUnregPromises.push(promise);\r\n                _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n            });\r\n            return Promise.all(methodUnregPromises);\r\n        };\r\n        Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var timeout;\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                    this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                        delete _this.currentlyUnregistering[methodName];\r\n                    });\r\n                    return [2];\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.registerCore = function (method, theFunction) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof method === \"string\") {\r\n                                methodDefinition = { name: \"\" + method };\r\n                            }\r\n                            else {\r\n                                methodDefinition = __assign$1({}, method);\r\n                            }\r\n                            if (!methodDefinition.name) {\r\n                                return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                            }\r\n                            unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                            if (!unregisterInProgress) return [3, 2];\r\n                            return [4, unregisterInProgress];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            nameAlreadyExists = this.serverRepository.getList()\r\n                                .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                            if (nameAlreadyExists) {\r\n                                return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                            }\r\n                            if (methodDefinition.supportsStreaming) {\r\n                                return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                            }\r\n                            repoMethod = this.serverRepository.add({\r\n                                definition: methodDefinition,\r\n                                theFunction: theFunction,\r\n                                protocolState: {},\r\n                            });\r\n                            return [2, this.protocol.server.register(repoMethod)\r\n                                    .catch(function (err) {\r\n                                    if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                        _this.serverRepository.remove(repoMethod.repoId);\r\n                                    }\r\n                                    throw err;\r\n                                })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n            var _this = this;\r\n            if (!methodToExecute || !methodToExecute.theFunction) {\r\n                return;\r\n            }\r\n            methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n                if (err !== undefined && err !== null) {\r\n                    if (err.message && typeof err.message === \"string\") {\r\n                        err = err.message;\r\n                    }\r\n                    else if (typeof err !== \"string\") {\r\n                        try {\r\n                            err = JSON.stringify(err);\r\n                        }\r\n                        catch (unStrException) {\r\n                            err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                        }\r\n                    }\r\n                }\r\n                if (!result) {\r\n                    result = {};\r\n                }\r\n                else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                    result = { _value: result };\r\n                }\r\n                _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n            });\r\n        };\r\n        return Server;\r\n    }());\n\n    var InstanceWrapper = (function () {\r\n        function InstanceWrapper(instance, connection) {\r\n            var _this = this;\r\n            this.wrapped = {\r\n                getMethods: getMethods,\r\n                getStreams: getStreams,\r\n            };\r\n            if (instance) {\r\n                this.refreshWrappedObject(instance);\r\n            }\r\n            if (connection) {\r\n                connection.loggedIn(function () {\r\n                    _this.refresh(connection);\r\n                });\r\n                this.refresh(connection);\r\n            }\r\n        }\r\n        InstanceWrapper.prototype.unwrap = function () {\r\n            return this.wrapped;\r\n        };\r\n        InstanceWrapper.prototype.refresh = function (connection) {\r\n            if (!connection) {\r\n                return;\r\n            }\r\n            var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n            var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n            this.refreshWrappedObject(instance);\r\n        };\r\n        InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n            var _a, _b, _c;\r\n            this.wrapped.user = resolvedIdentity.user;\r\n            this.wrapped.instance = resolvedIdentity.instance;\r\n            this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n            this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n            this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n            this.wrapped.machine = resolvedIdentity.machine;\r\n            this.wrapped.environment = resolvedIdentity.environment;\r\n            this.wrapped.region = resolvedIdentity.region;\r\n            this.wrapped.windowId = resolvedIdentity.windowId;\r\n            this.wrapped.isLocal = true;\r\n            this.wrapped.api = resolvedIdentity.api;\r\n            this.wrapped.service = resolvedIdentity.service;\r\n            this.wrapped.peerId = resolvedIdentity.peerId;\r\n        };\r\n        return InstanceWrapper;\r\n    }());\r\n    function getMethods() {\r\n        var _a;\r\n        return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this);\r\n    }\r\n    function getStreams() {\r\n        var _a;\r\n        return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n    }\n\n    var ClientRepository = (function () {\r\n        function ClientRepository(logger) {\r\n            this.logger = logger;\r\n            this.servers = {};\r\n            this.methodsCount = {};\r\n            this.callbacks = lib();\r\n        }\r\n        ClientRepository.prototype.addServer = function (info, serverId) {\r\n            this.logger.debug(\"adding server \" + serverId);\r\n            var current = this.servers[serverId];\r\n            if (current) {\r\n                return current.id;\r\n            }\r\n            var wrapper = new InstanceWrapper(info);\r\n            var serverEntry = {\r\n                id: serverId,\r\n                methods: {},\r\n                instance: wrapper.unwrap(),\r\n                wrapper: wrapper,\r\n            };\r\n            this.servers[serverId] = serverEntry;\r\n            this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n            return serverId;\r\n        };\r\n        ClientRepository.prototype.removeServerById = function (id, reason) {\r\n            var _this = this;\r\n            var server = this.servers[id];\r\n            if (!server) {\r\n                this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n                return;\r\n            }\r\n            else {\r\n                this.logger.debug(\"removing server \" + id);\r\n            }\r\n            Object.keys(server.methods).forEach(function (methodId) {\r\n                _this.removeServerMethod(id, methodId);\r\n            });\r\n            delete this.servers[id];\r\n            this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n        };\r\n        ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n            var server = this.servers[serverId];\r\n            if (!server) {\r\n                throw new Error(\"server does not exists\");\r\n            }\r\n            if (server.methods[method.id]) {\r\n                return;\r\n            }\r\n            var identifier = this.createMethodIdentifier(method);\r\n            var that = this;\r\n            var methodDefinition = {\r\n                identifier: identifier,\r\n                gatewayId: method.id,\r\n                name: method.name,\r\n                displayName: method.display_name,\r\n                description: method.description,\r\n                version: method.version,\r\n                objectTypes: method.object_types || [],\r\n                accepts: method.input_signature,\r\n                returns: method.result_signature,\r\n                supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n                getServers: function () {\r\n                    return that.getServersByMethod(identifier);\r\n                }\r\n            };\r\n            methodDefinition.object_types = methodDefinition.objectTypes;\r\n            methodDefinition.display_name = methodDefinition.displayName;\r\n            methodDefinition.version = methodDefinition.version;\r\n            server.methods[method.id] = methodDefinition;\r\n            if (!this.methodsCount[identifier]) {\r\n                this.methodsCount[identifier] = 0;\r\n                this.callbacks.execute(\"onMethodAdded\", methodDefinition);\r\n            }\r\n            this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n            this.callbacks.execute(\"onServerMethodAdded\", server.instance, methodDefinition);\r\n            return methodDefinition;\r\n        };\r\n        ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n            var server = this.servers[serverId];\r\n            if (!server) {\r\n                throw new Error(\"server does not exists\");\r\n            }\r\n            var method = server.methods[methodId];\r\n            delete server.methods[methodId];\r\n            this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n            if (this.methodsCount[method.identifier] === 0) {\r\n                this.callbacks.execute(\"onMethodRemoved\", method);\r\n            }\r\n            this.callbacks.execute(\"onServerMethodRemoved\", server.instance, method);\r\n        };\r\n        ClientRepository.prototype.getMethods = function () {\r\n            var _this = this;\r\n            var allMethods = {};\r\n            Object.keys(this.servers).forEach(function (serverId) {\r\n                var server = _this.servers[serverId];\r\n                Object.keys(server.methods).forEach(function (methodId) {\r\n                    var method = server.methods[methodId];\r\n                    allMethods[method.identifier] = method;\r\n                });\r\n            });\r\n            var methodsAsArray = Object.keys(allMethods).map(function (id) {\r\n                return allMethods[id];\r\n            });\r\n            return methodsAsArray;\r\n        };\r\n        ClientRepository.prototype.getServers = function () {\r\n            var _this = this;\r\n            var allServers = [];\r\n            Object.keys(this.servers).forEach(function (serverId) {\r\n                var server = _this.servers[serverId];\r\n                allServers.push(server);\r\n            });\r\n            return allServers;\r\n        };\r\n        ClientRepository.prototype.getServerMethodsById = function (serverId) {\r\n            var server = this.servers[serverId];\r\n            return Object.keys(server.methods).map(function (id) {\r\n                return server.methods[id];\r\n            });\r\n        };\r\n        ClientRepository.prototype.onServerAdded = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n            var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n            return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n        };\r\n        ClientRepository.prototype.onMethodAdded = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n            var methodsToReplay = this.getMethods();\r\n            return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n        };\r\n        ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n            var unsubCalled = false;\r\n            var servers = this.getServers();\r\n            setTimeout(function () {\r\n                servers.forEach(function (server) {\r\n                    var methods = server.methods;\r\n                    Object.keys(methods).forEach(function (methodId) {\r\n                        if (!unsubCalled) {\r\n                            callback(server.instance, methods[methodId]);\r\n                        }\r\n                    });\r\n                });\r\n            }, 0);\r\n            return function () {\r\n                unsubCalled = true;\r\n                unsubscribeFunc();\r\n            };\r\n        };\r\n        ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n            return unsubscribeFunc;\r\n        };\r\n        ClientRepository.prototype.onServerRemoved = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n            return unsubscribeFunc;\r\n        };\r\n        ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n            return unsubscribeFunc;\r\n        };\r\n        ClientRepository.prototype.getServerById = function (id) {\r\n            return this.servers[id];\r\n        };\r\n        ClientRepository.prototype.reset = function () {\r\n            var _this = this;\r\n            Object.keys(this.servers).forEach(function (key) {\r\n                _this.removeServerById(key, \"reset\");\r\n            });\r\n            this.servers = {};\r\n            this.methodsCount = {};\r\n        };\r\n        ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n            var accepts = methodInfo.input_signature !== undefined ? methodInfo.input_signature : \"\";\r\n            var returns = methodInfo.result_signature !== undefined ? methodInfo.result_signature : \"\";\r\n            return (methodInfo.name + accepts + returns).toLowerCase();\r\n        };\r\n        ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n            var _this = this;\r\n            var allServers = [];\r\n            Object.keys(this.servers).forEach(function (serverId) {\r\n                var server = _this.servers[serverId];\r\n                Object.keys(server.methods).forEach(function (methodId) {\r\n                    var methodInfo = server.methods[methodId];\r\n                    if (methodInfo.identifier === identifier) {\r\n                        allServers.push(server.instance);\r\n                    }\r\n                });\r\n            });\r\n            return allServers;\r\n        };\r\n        ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n            var unsubCalled = false;\r\n            setTimeout(function () {\r\n                collectionToReplay.forEach(function (item) {\r\n                    if (!unsubCalled) {\r\n                        callback(item);\r\n                    }\r\n                });\r\n            }, 0);\r\n            return function () {\r\n                unsubCalled = true;\r\n                unsubscribeFunc();\r\n            };\r\n        };\r\n        return ClientRepository;\r\n    }());\n\n    var ServerRepository = (function () {\r\n        function ServerRepository() {\r\n            this.nextId = 0;\r\n            this.methods = [];\r\n        }\r\n        ServerRepository.prototype.add = function (method) {\r\n            method.repoId = String(this.nextId);\r\n            this.nextId += 1;\r\n            this.methods.push(method);\r\n            return method;\r\n        };\r\n        ServerRepository.prototype.remove = function (repoId) {\r\n            if (typeof repoId !== \"string\") {\r\n                return new TypeError(\"Expecting a string\");\r\n            }\r\n            this.methods = this.methods.filter(function (m) {\r\n                return m.repoId !== repoId;\r\n            });\r\n        };\r\n        ServerRepository.prototype.getById = function (id) {\r\n            if (typeof id !== \"string\") {\r\n                return undefined;\r\n            }\r\n            return this.methods.find(function (m) {\r\n                return m.repoId === id;\r\n            });\r\n        };\r\n        ServerRepository.prototype.getList = function () {\r\n            return this.methods.map(function (m) { return m; });\r\n        };\r\n        ServerRepository.prototype.length = function () {\r\n            return this.methods.length;\r\n        };\r\n        ServerRepository.prototype.reset = function () {\r\n            this.methods = [];\r\n        };\r\n        return ServerRepository;\r\n    }());\n\n    var SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\n    var SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\n    var SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\n    var ServerStreaming$1 = (function () {\r\n        function ServerStreaming(session, repository, serverRepository) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.repository = repository;\r\n            this.serverRepository = serverRepository;\r\n            this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n            this.callbacks = lib();\r\n            this.nextStreamId = 0;\r\n            session.on(\"add-interest\", function (msg) {\r\n                _this.handleAddInterest(msg);\r\n            });\r\n            session.on(\"remove-interest\", function (msg) {\r\n                _this.handleRemoveInterest(msg);\r\n            });\r\n        }\r\n        ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n            if (typeof branch !== \"string\") {\r\n                branch = \"\";\r\n            }\r\n            if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n                throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n            }\r\n            if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n                throw new TypeError(\"The streaming method is missing its branches.\");\r\n            }\r\n            var streamId = this.getStreamId(streamingMethod, branch);\r\n            var key = requestContext.msg.subscription_id;\r\n            var subscription = {\r\n                id: key,\r\n                arguments: requestContext.arguments,\r\n                instance: requestContext.instance,\r\n                branchKey: branch,\r\n                streamId: streamId,\r\n                subscribeMsg: requestContext.msg,\r\n            };\r\n            streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n            this.session.sendFireAndForget({\r\n                type: \"accepted\",\r\n                subscription_id: key,\r\n                stream_id: streamId,\r\n            });\r\n            this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n            if (typeof reason !== \"string\") {\r\n                reason = \"\";\r\n            }\r\n            this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n        };\r\n        ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n            var _this = this;\r\n            if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n                return;\r\n            }\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Invalid arguments. Data must be an object.\");\r\n            }\r\n            if (typeof branches === \"string\") {\r\n                branches = [branches];\r\n            }\r\n            else if (!Array.isArray(branches) || branches.length <= 0) {\r\n                branches = [];\r\n            }\r\n            var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n                .filter(function (br) {\r\n                if (!branches || branches.length === 0) {\r\n                    return true;\r\n                }\r\n                return branches.indexOf(br.key) >= 0;\r\n            }).map(function (br) {\r\n                return br.streamId;\r\n            });\r\n            streamIdList.forEach(function (streamId) {\r\n                var publishMessage = {\r\n                    type: \"publish\",\r\n                    stream_id: streamId,\r\n                    data: data,\r\n                };\r\n                _this.session.sendFireAndForget(publishMessage);\r\n            });\r\n        };\r\n        ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Invalid arguments. Data must be an object.\");\r\n            }\r\n            var postMessage = {\r\n                type: \"post\",\r\n                subscription_id: subscription.id,\r\n                data: data,\r\n            };\r\n            this.session.sendFireAndForget(postMessage);\r\n        };\r\n        ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n            if (streamingMethod.protocolState.subscriptionsMap) {\r\n                delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n            }\r\n            var dropSubscriptionMessage = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping a single subscription\",\r\n            };\r\n            this.session.sendFireAndForget(dropSubscriptionMessage);\r\n            var subscriber = subscription.instance;\r\n            this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n            var _this = this;\r\n            if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n                return;\r\n            }\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return;\r\n            }\r\n            var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n            var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n                .map(function (key) {\r\n                return subscriptionsMap[key];\r\n            });\r\n            if (typeof branchKey === \"string\") {\r\n                subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                    return sub.branchKey === branchKey;\r\n                });\r\n            }\r\n            subscriptionsToClose.forEach(function (subscription) {\r\n                delete subscriptionsMap[subscription.id];\r\n                var drop = {\r\n                    type: \"drop-subscription\",\r\n                    subscription_id: subscription.id,\r\n                    reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n                };\r\n                _this.session.sendFireAndForget(drop);\r\n            });\r\n        };\r\n        ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n            if (typeof streamingMethod !== \"object\") {\r\n                return [];\r\n            }\r\n            var subscriptions = [];\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return [];\r\n            }\r\n            var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n            var allSubscriptions = Object.keys(subscriptionsMap)\r\n                .map(function (key) {\r\n                return subscriptionsMap[key];\r\n            });\r\n            if (typeof branchKey !== \"string\") {\r\n                subscriptions = allSubscriptions;\r\n            }\r\n            else {\r\n                subscriptions = allSubscriptions.filter(function (sub) {\r\n                    return sub.branchKey === branchKey;\r\n                });\r\n            }\r\n            return subscriptions;\r\n        };\r\n        ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n            if (typeof streamingMethod !== \"object\") {\r\n                return [];\r\n            }\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return [];\r\n            }\r\n            var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n            var allSubscriptions = Object.keys(subscriptionsMap)\r\n                .map(function (key) {\r\n                return subscriptionsMap[key];\r\n            });\r\n            var result = [];\r\n            allSubscriptions.forEach(function (sub) {\r\n                var branch = \"\";\r\n                if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                    branch = sub.branchKey;\r\n                }\r\n                if (result.indexOf(branch) === -1) {\r\n                    result.push(branch);\r\n                }\r\n            });\r\n            return result;\r\n        };\r\n        ServerStreaming.prototype.onSubAdded = function (callback) {\r\n            this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n        };\r\n        ServerStreaming.prototype.onSubRequest = function (callback) {\r\n            this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n        };\r\n        ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n            this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n        };\r\n        ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n            var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n            if (typeof msg.subscription_id !== \"string\" ||\r\n                typeof streamingMethod !== \"object\") {\r\n                return;\r\n            }\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return;\r\n            }\r\n            if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n                return;\r\n            }\r\n            var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n            delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n            this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n            this.callbacks.add(eventName, handlerFunc);\r\n        };\r\n        ServerStreaming.prototype.getNextStreamId = function () {\r\n            return this.nextStreamId++ + \"\";\r\n        };\r\n        ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n            var caller = this.repository.getServerById(msg.caller_id);\r\n            var instance = caller.instance;\r\n            var requestContext = {\r\n                msg: msg,\r\n                arguments: msg.arguments_kv || {},\r\n                instance: instance,\r\n            };\r\n            var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n            if (streamingMethod === undefined) {\r\n                var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n                this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n                return;\r\n            }\r\n            if (streamingMethod.protocolState.subscriptionsMap &&\r\n                streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n                this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n                return;\r\n            }\r\n            this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n            var errorMessage = {\r\n                type: \"error\",\r\n                reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n                reason: reason,\r\n                request_id: subscriptionId,\r\n            };\r\n            this.session.sendFireAndForget(errorMessage);\r\n        };\r\n        ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n            if (typeof branchKey !== \"string\") {\r\n                branchKey = \"\";\r\n            }\r\n            if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n                throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n            }\r\n            var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n                return branch.key === branchKey;\r\n            })[0];\r\n            var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n            if (typeof streamId !== \"string\" || streamId === \"\") {\r\n                streamId = this.getNextStreamId();\r\n                streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n            }\r\n            return streamId;\r\n        };\r\n        return ServerStreaming;\r\n    }());\n\n    var ServerProtocol = (function () {\r\n        function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.clientRepository = clientRepository;\r\n            this.serverRepository = serverRepository;\r\n            this.logger = logger;\r\n            this.callbacks = lib();\r\n            this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n            this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n        }\r\n        ServerProtocol.prototype.createStream = function (repoMethod) {\r\n            repoMethod.protocolState.subscriptionsMap = {};\r\n            repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n            return this.register(repoMethod, true);\r\n        };\r\n        ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n            var _this = this;\r\n            var methodDef = repoMethod.definition;\r\n            var flags = { streaming: isStreaming || false };\r\n            var registerMsg = {\r\n                type: \"register\",\r\n                methods: [{\r\n                        id: repoMethod.repoId,\r\n                        name: methodDef.name,\r\n                        display_name: methodDef.displayName,\r\n                        description: methodDef.description,\r\n                        version: methodDef.version,\r\n                        flags: flags,\r\n                        object_types: methodDef.objectTypes || methodDef.object_types,\r\n                        input_signature: methodDef.accepts,\r\n                        result_signature: methodDef.returns,\r\n                        restrictions: undefined,\r\n                    }],\r\n            };\r\n            return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n                .then(function () {\r\n                _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n            })\r\n                .catch(function (msg) {\r\n                _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n                throw msg;\r\n            });\r\n        };\r\n        ServerProtocol.prototype.onInvoked = function (callback) {\r\n            this.callbacks.add(\"onInvoked\", callback);\r\n        };\r\n        ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n            var msg;\r\n            if (err || err === \"\") {\r\n                msg = {\r\n                    type: \"error\",\r\n                    request_id: invocationId,\r\n                    reason_uri: \"agm.errors.client_error\",\r\n                    reason: err,\r\n                    context: result,\r\n                    peer_id: undefined,\r\n                };\r\n            }\r\n            else {\r\n                msg = {\r\n                    type: \"yield\",\r\n                    invocation_id: invocationId,\r\n                    peer_id: this.session.peerId,\r\n                    result: result,\r\n                    request_id: undefined,\r\n                };\r\n            }\r\n            this.session.sendFireAndForget(msg);\r\n        };\r\n        ServerProtocol.prototype.unregister = function (method) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var msg;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            msg = {\r\n                                type: \"unregister\",\r\n                                methods: [method.repoId],\r\n                            };\r\n                            return [4, this.session.send(msg)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ServerProtocol.prototype.getBranchList = function (method) {\r\n            return this.streaming.getBranchList(method);\r\n        };\r\n        ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n            return this.streaming.getSubscriptionList(method, branchKey);\r\n        };\r\n        ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n            this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n        };\r\n        ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n            this.streaming.pushData(method, data, branches);\r\n        };\r\n        ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n            this.streaming.pushDataToSingle(method, subscription, data);\r\n        };\r\n        ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n            this.streaming.closeSingleSubscription(method, subscription);\r\n        };\r\n        ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n            this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n        };\r\n        ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n            this.streaming.rejectRequest(requestContext, method, reason);\r\n        };\r\n        ServerProtocol.prototype.onSubRequest = function (callback) {\r\n            this.streaming.onSubRequest(callback);\r\n        };\r\n        ServerProtocol.prototype.onSubAdded = function (callback) {\r\n            this.streaming.onSubAdded(callback);\r\n        };\r\n        ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n            this.streaming.onSubRemoved(callback);\r\n        };\r\n        ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n            var invocationId = msg.invocation_id;\r\n            var callerId = msg.caller_id;\r\n            var methodId = msg.method_id;\r\n            var args = msg.arguments_kv;\r\n            var methodList = this.serverRepository.getList();\r\n            var method = methodList.filter(function (m) {\r\n                return m.repoId === methodId;\r\n            })[0];\r\n            if (method === undefined) {\r\n                return;\r\n            }\r\n            var client = this.clientRepository.getServerById(callerId).instance;\r\n            var invocationArgs = { args: args, instance: client };\r\n            this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n        };\r\n        return ServerProtocol;\r\n    }());\n\n    var UserSubscription = (function () {\r\n        function UserSubscription(repository, subscriptionData) {\r\n            this.repository = repository;\r\n            this.subscriptionData = subscriptionData;\r\n        }\r\n        Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n            get: function () {\r\n                return this.subscriptionData.params.arguments || {};\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this.subscriptionData.trackedServers\r\n                    .filter(function (pair) { return pair.subscriptionId; })\r\n                    .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n            get: function () {\r\n                return this.servers[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n            get: function () {\r\n                return this.subscriptionData.method;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        UserSubscription.prototype.onData = function (dataCallback) {\r\n            if (typeof dataCallback !== \"function\") {\r\n                throw new TypeError(\"The data callback must be a function.\");\r\n            }\r\n            this.subscriptionData.handlers.onData.push(dataCallback);\r\n            if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n                this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                    dataCallback(dataItem);\r\n                });\r\n            }\r\n        };\r\n        UserSubscription.prototype.onClosed = function (closedCallback) {\r\n            if (typeof closedCallback !== \"function\") {\r\n                throw new TypeError(\"The callback must be a function.\");\r\n            }\r\n            this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n        };\r\n        UserSubscription.prototype.onFailed = function (callback) {\r\n        };\r\n        UserSubscription.prototype.onConnected = function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                throw new TypeError(\"The callback must be a function.\");\r\n            }\r\n            this.subscriptionData.handlers.onConnected.push(callback);\r\n        };\r\n        UserSubscription.prototype.close = function () {\r\n            this.subscriptionData.close();\r\n        };\r\n        UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n            this.subscriptionData = newSub;\r\n        };\r\n        return UserSubscription;\r\n    }());\n\n    var STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\n    var STATUS_SUBSCRIBED = \"subscribed\";\r\n    var ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\n    var ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\n    var ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\n    var ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\n    var ClientStreaming = (function () {\r\n        function ClientStreaming(session, repository, logger) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.repository = repository;\r\n            this.logger = logger;\r\n            this.subscriptionsList = {};\r\n            this.subscriptionIdToLocalKeyMap = {};\r\n            this.nextSubLocalKey = 0;\r\n            this.handleErrorSubscribing = function (errorResponse) {\r\n                var tag = errorResponse._tag;\r\n                var subLocalKey = tag.subLocalKey;\r\n                var pendingSub = _this.subscriptionsList[subLocalKey];\r\n                if (typeof pendingSub !== \"object\") {\r\n                    return;\r\n                }\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return server.serverId !== tag.serverId;\r\n                });\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    clearTimeout(pendingSub.timeoutId);\r\n                    if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                        var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                            ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                            \" No reason given.\";\r\n                        var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                            JSON.stringify(pendingSub.params.arguments) :\r\n                            \"{}\";\r\n                        pendingSub.error({\r\n                            message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                            called_with: pendingSub.params.arguments,\r\n                            method: pendingSub.method,\r\n                        });\r\n                    }\r\n                    else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                        _this.callOnClosedHandlers(pendingSub);\r\n                    }\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            };\r\n            this.handleSubscribed = function (msg) {\r\n                var subLocalKey = msg._tag.subLocalKey;\r\n                var pendingSub = _this.subscriptionsList[subLocalKey];\r\n                if (typeof pendingSub !== \"object\") {\r\n                    return;\r\n                }\r\n                var serverId = msg._tag.serverId;\r\n                var acceptingServer = pendingSub.trackedServers\r\n                    .filter(function (server) {\r\n                    return server.serverId === serverId;\r\n                })[0];\r\n                if (typeof acceptingServer !== \"object\") {\r\n                    return;\r\n                }\r\n                acceptingServer.subscriptionId = msg.subscription_id;\r\n                _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n                var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n                pendingSub.status = STATUS_SUBSCRIBED;\r\n                if (isFirstResponse) {\r\n                    var reconnect = false;\r\n                    var sub = pendingSub.subscription;\r\n                    if (sub) {\r\n                        sub.setNewSubscription(pendingSub);\r\n                        pendingSub.success(sub);\r\n                        reconnect = true;\r\n                    }\r\n                    else {\r\n                        sub = new UserSubscription(_this.repository, pendingSub);\r\n                        pendingSub.subscription = sub;\r\n                        pendingSub.success(sub);\r\n                    }\r\n                    for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                        var handler = _a[_i];\r\n                        try {\r\n                            handler(sub.serverInstance, reconnect);\r\n                        }\r\n                        catch (e) {\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            this.handleEventData = function (msg) {\r\n                var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n                if (typeof subLocalKey === \"undefined\") {\r\n                    return;\r\n                }\r\n                var subscription = _this.subscriptionsList[subLocalKey];\r\n                if (typeof subscription !== \"object\") {\r\n                    return;\r\n                }\r\n                var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                    return server.subscriptionId === msg.subscription_id;\r\n                });\r\n                if (trackedServersFound.length !== 1) {\r\n                    return;\r\n                }\r\n                var isPrivateData = msg.oob;\r\n                var sendingServerId = trackedServersFound[0].serverId;\r\n                var receivedStreamData = function () {\r\n                    return {\r\n                        data: msg.data,\r\n                        server: _this.repository.getServerById(sendingServerId).instance,\r\n                        requestArguments: subscription.params.arguments,\r\n                        message: undefined,\r\n                        private: isPrivateData,\r\n                    };\r\n                };\r\n                var onDataHandlers = subscription.handlers.onData;\r\n                var queuedData = subscription.queued.data;\r\n                if (onDataHandlers.length > 0) {\r\n                    onDataHandlers.forEach(function (callback) {\r\n                        if (typeof callback === \"function\") {\r\n                            callback(receivedStreamData());\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    queuedData.push(receivedStreamData());\r\n                }\r\n            };\r\n            this.handleSubscriptionCancelled = function (msg) {\r\n                var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n                if (typeof subLocalKey === \"undefined\") {\r\n                    return;\r\n                }\r\n                var subscription = _this.subscriptionsList[subLocalKey];\r\n                if (typeof subscription !== \"object\") {\r\n                    return;\r\n                }\r\n                var expectedNewLength = subscription.trackedServers.length - 1;\r\n                subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                    if (server.subscriptionId === msg.subscription_id) {\r\n                        subscription.queued.closers.push(server.serverId);\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        return true;\r\n                    }\r\n                });\r\n                if (subscription.trackedServers.length !== expectedNewLength) {\r\n                    return;\r\n                }\r\n                if (subscription.trackedServers.length <= 0) {\r\n                    clearTimeout(subscription.timeoutId);\r\n                    _this.callOnClosedHandlers(subscription);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n                delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            };\r\n            session.on(\"subscribed\", this.handleSubscribed);\r\n            session.on(\"event\", this.handleEventData);\r\n            session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n        }\r\n        ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n            var _this = this;\r\n            if (targetServers.length === 0) {\r\n                error({\r\n                    method: streamingMethod,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n                });\r\n                return;\r\n            }\r\n            var subLocalKey = this.getNextSubscriptionLocalKey();\r\n            var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n            if (typeof pendingSub !== \"object\") {\r\n                error({\r\n                    method: streamingMethod,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n                });\r\n                return;\r\n            }\r\n            targetServers.forEach(function (target) {\r\n                var serverId = target.server.id;\r\n                var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n                if (!method) {\r\n                    _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                    return;\r\n                }\r\n                pendingSub.trackedServers.push({\r\n                    serverId: serverId,\r\n                    subscriptionId: undefined,\r\n                });\r\n                var msg = {\r\n                    type: \"subscribe\",\r\n                    server_id: serverId,\r\n                    method_id: method.gatewayId,\r\n                    arguments_kv: params.arguments,\r\n                };\r\n                _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                    .then(function (m) { return _this.handleSubscribed(m); })\r\n                    .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n            });\r\n        };\r\n        ClientStreaming.prototype.drainSubscriptions = function () {\r\n            var existing = Object.values(this.subscriptionsList);\r\n            this.subscriptionsList = {};\r\n            this.subscriptionIdToLocalKeyMap = {};\r\n            return existing;\r\n        };\r\n        ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n            var current = this.nextSubLocalKey;\r\n            this.nextSubLocalKey += 1;\r\n            return current;\r\n        };\r\n        ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n            var _this = this;\r\n            var subsInfo = {\r\n                localKey: subLocalKey,\r\n                status: STATUS_AWAITING_ACCEPT,\r\n                method: method,\r\n                params: params,\r\n                success: success,\r\n                error: error,\r\n                trackedServers: [],\r\n                handlers: {\r\n                    onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                    onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                    onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n                },\r\n                queued: {\r\n                    data: [],\r\n                    closers: [],\r\n                },\r\n                timeoutId: undefined,\r\n                close: function () { return _this.closeSubscription(subLocalKey); },\r\n                subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n            };\r\n            if (!existingSub) {\r\n                if (params.onData) {\r\n                    subsInfo.handlers.onData.push(params.onData);\r\n                }\r\n                if (params.onClosed) {\r\n                    subsInfo.handlers.onClosed.push(params.onClosed);\r\n                }\r\n                if (params.onConnected) {\r\n                    subsInfo.handlers.onConnected.push(params.onConnected);\r\n                }\r\n            }\r\n            this.subscriptionsList[subLocalKey] = subsInfo;\r\n            subsInfo.timeoutId = setTimeout(function () {\r\n                if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                    return;\r\n                }\r\n                var pendingSub = _this.subscriptionsList[subLocalKey];\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    error({\r\n                        method: method,\r\n                        called_with: params.arguments,\r\n                        message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                    });\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                    pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                        return (typeof server.subscriptionId !== \"undefined\");\r\n                    });\r\n                    delete pendingSub.timeoutId;\r\n                    if (pendingSub.trackedServers.length <= 0) {\r\n                        _this.callOnClosedHandlers(pendingSub);\r\n                        delete _this.subscriptionsList[subLocalKey];\r\n                    }\r\n                }\r\n            }, timeout);\r\n            return subsInfo;\r\n        };\r\n        ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n            var closersCount = subscription.queued.closers.length;\r\n            var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n            var closingServer;\r\n            if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n                closingServer = this.repository.getServerById(closingServerId).instance;\r\n            }\r\n            subscription.handlers.onClosed.forEach(function (callback) {\r\n                if (typeof callback !== \"function\") {\r\n                    return;\r\n                }\r\n                callback({\r\n                    message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                    requestArguments: subscription.params.arguments || {},\r\n                    server: closingServer,\r\n                    stream: subscription.method,\r\n                });\r\n            });\r\n        };\r\n        ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n            var _this = this;\r\n            var subscription = this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            subscription.trackedServers.forEach(function (server) {\r\n                if (typeof server.subscriptionId === \"undefined\") {\r\n                    return;\r\n                }\r\n                subscription.queued.closers.push(server.serverId);\r\n                _this.session.sendFireAndForget({\r\n                    type: \"unsubscribe\",\r\n                    subscription_id: server.subscriptionId,\r\n                    reason_uri: \"\",\r\n                    reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n                });\r\n                delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n            });\r\n            subscription.trackedServers = [];\r\n            this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n            delete this.subscriptionsList[subLocalKey];\r\n        };\r\n        return ClientStreaming;\r\n    }());\n\n    var ClientProtocol = (function () {\r\n        function ClientProtocol(session, repository, logger) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.repository = repository;\r\n            this.logger = logger;\r\n            session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n            session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n            session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n            session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n            this.streaming = new ClientStreaming(session, repository, logger);\r\n        }\r\n        ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n            this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n        };\r\n        ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n            var _this = this;\r\n            var serverId = target.id;\r\n            var methodId = method.gatewayId;\r\n            var msg = {\r\n                type: \"call\",\r\n                server_id: serverId,\r\n                method_id: methodId,\r\n                arguments_kv: args,\r\n            };\r\n            return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n                .then(function (m) { return _this.handleResultMessage(m); })\r\n                .catch(function (err) { return _this.handleInvocationError(err); });\r\n        };\r\n        ClientProtocol.prototype.drainSubscriptions = function () {\r\n            return this.streaming.drainSubscriptions();\r\n        };\r\n        ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n            var newPeerId = msg.new_peer_id;\r\n            var remoteId = msg.identity;\r\n            var isLocal = msg.meta ? msg.meta.local : true;\r\n            var pid = Number(remoteId.process);\r\n            var serverInfo = {\r\n                machine: remoteId.machine,\r\n                pid: isNaN(pid) ? remoteId.process : pid,\r\n                instance: remoteId.instance,\r\n                application: remoteId.application,\r\n                applicationName: remoteId.applicationName,\r\n                environment: remoteId.environment,\r\n                region: remoteId.region,\r\n                user: remoteId.user,\r\n                windowId: remoteId.windowId,\r\n                peerId: newPeerId,\r\n                api: remoteId.api,\r\n                isLocal: isLocal\r\n            };\r\n            this.repository.addServer(serverInfo, newPeerId);\r\n        };\r\n        ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n            var removedPeerId = msg.removed_id;\r\n            var reason = msg.reason;\r\n            this.repository.removeServerById(removedPeerId, reason);\r\n        };\r\n        ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n            var _this = this;\r\n            var serverId = msg.server_id;\r\n            var methods = msg.methods;\r\n            methods.forEach(function (method) {\r\n                _this.repository.addServerMethod(serverId, method);\r\n            });\r\n        };\r\n        ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n            var _this = this;\r\n            var serverId = msg.server_id;\r\n            var methodIdList = msg.methods;\r\n            var server = this.repository.getServerById(serverId);\r\n            var serverMethodKeys = Object.keys(server.methods);\r\n            serverMethodKeys.forEach(function (methodKey) {\r\n                var method = server.methods[methodKey];\r\n                if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                    _this.repository.removeServerMethod(serverId, methodKey);\r\n                }\r\n            });\r\n        };\r\n        ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var result = msg.result;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            return {\r\n                invocationId: invocationId,\r\n                result: result,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Success,\r\n                message: \"\"\r\n            };\r\n        };\r\n        ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n            this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n            if (\"_tag\" in msg) {\r\n                var invocationId = msg._tag.invocationId;\r\n                var serverId = msg._tag.serverId;\r\n                var server = this.repository.getServerById(serverId);\r\n                var message = msg.reason;\r\n                var context_1 = msg.context;\r\n                return {\r\n                    invocationId: invocationId,\r\n                    result: context_1,\r\n                    instance: server.instance,\r\n                    status: InvokeStatus.Error,\r\n                    message: message\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    invocationId: \"\",\r\n                    message: msg.message,\r\n                    status: InvokeStatus.Error,\r\n                    error: msg\r\n                };\r\n            }\r\n        };\r\n        return ClientProtocol;\r\n    }());\n\n    function gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n        var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n        var resolveReadyPromise;\r\n        var readyPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n        var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n        var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n        function handleReconnect() {\r\n            logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n            var existingSubscriptions = client.drainSubscriptions();\r\n            for (var _i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n                var sub = existingSubscriptions_1[_i];\r\n                var methodInfo = sub.method;\r\n                var params = Object.assign({}, sub.params);\r\n                logger.info(\"trying to re-subscribe to method \" + methodInfo.name);\r\n                interop.client.subscribe(methodInfo, params, undefined, undefined, sub);\r\n            }\r\n            var registeredMethods = serverRepository.getList();\r\n            serverRepository.reset();\r\n            for (var _a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n                var method = registeredMethods_1[_a];\r\n                var def = method.definition;\r\n                logger.info(\"re-publishing method \" + def.name);\r\n                if (method.stream) {\r\n                    interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream);\r\n                }\r\n                else if (method.theFunction && method.theFunction.userCallback) {\r\n                    interop.register(def, method.theFunction.userCallback);\r\n                }\r\n                else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                    interop.registerAsync(def, method.theFunction.userCallbackAsync);\r\n                }\r\n            }\r\n        }\r\n        function handleInitialJoin() {\r\n            if (resolveReadyPromise) {\r\n                resolveReadyPromise({\r\n                    client: client,\r\n                    server: server,\r\n                });\r\n                resolveReadyPromise = undefined;\r\n            }\r\n        }\r\n        session.onJoined(function (reconnect) {\r\n            clientRepository.addServer(instance, connection.peerId);\r\n            if (reconnect) {\r\n                handleReconnect();\r\n            }\r\n            else {\r\n                handleInitialJoin();\r\n            }\r\n        });\r\n        session.onLeft(function () {\r\n            clientRepository.reset();\r\n        });\r\n        session.join();\r\n        return readyPromise;\r\n    }\n\n    var Interop = (function () {\r\n        function Interop(configuration) {\r\n            var _this = this;\r\n            if (typeof configuration === \"undefined\") {\r\n                throw new Error(\"configuration is required\");\r\n            }\r\n            if (typeof configuration.connection === \"undefined\") {\r\n                throw new Error(\"configuration.connections is required\");\r\n            }\r\n            var connection = configuration.connection;\r\n            if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n                configuration.methodResponseTimeout = 30 * 1000;\r\n            }\r\n            if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n                configuration.waitTimeoutMs = 30 * 1000;\r\n            }\r\n            InstanceWrapper.API = this;\r\n            this.instance = new InstanceWrapper(undefined, connection).unwrap();\r\n            this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"));\r\n            this.serverRepository = new ServerRepository();\r\n            var protocolPromise;\r\n            if (connection.protocolVersion === 3) {\r\n                protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n            }\r\n            else {\r\n                throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n            }\r\n            this.readyPromise = protocolPromise.then(function (protocol) {\r\n                _this.protocol = protocol;\r\n                _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n                _this.server = new Server(_this.protocol, _this.serverRepository);\r\n                return _this;\r\n            });\r\n        }\r\n        Interop.prototype.ready = function () {\r\n            return this.readyPromise;\r\n        };\r\n        Interop.prototype.serverRemoved = function (callback) {\r\n            return this.client.serverRemoved(callback);\r\n        };\r\n        Interop.prototype.serverAdded = function (callback) {\r\n            return this.client.serverAdded(callback);\r\n        };\r\n        Interop.prototype.serverMethodRemoved = function (callback) {\r\n            return this.client.serverMethodRemoved(callback);\r\n        };\r\n        Interop.prototype.serverMethodAdded = function (callback) {\r\n            return this.client.serverMethodAdded(callback);\r\n        };\r\n        Interop.prototype.methodRemoved = function (callback) {\r\n            return this.client.methodRemoved(callback);\r\n        };\r\n        Interop.prototype.methodAdded = function (callback) {\r\n            return this.client.methodAdded(callback);\r\n        };\r\n        Interop.prototype.methodsForInstance = function (instance) {\r\n            return this.client.methodsForInstance(instance);\r\n        };\r\n        Interop.prototype.methods = function (methodFilter) {\r\n            return this.client.methods(methodFilter);\r\n        };\r\n        Interop.prototype.servers = function (methodFilter) {\r\n            return this.client.servers(methodFilter);\r\n        };\r\n        Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n            return this.client.subscribe(method, options, successCallback, errorCallback);\r\n        };\r\n        Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n            return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n        };\r\n        Interop.prototype.unregister = function (methodFilter) {\r\n            return this.server.unregister(methodFilter);\r\n        };\r\n        Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n            return this.server.registerAsync(methodDefinition, callback);\r\n        };\r\n        Interop.prototype.register = function (methodDefinition, callback) {\r\n            return this.server.register(methodDefinition, callback);\r\n        };\r\n        Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n            return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n        };\r\n        return Interop;\r\n    }());\n\n    var successMessages = [\"subscribed\", \"success\"];\r\n    var MessageBus = (function () {\r\n        function MessageBus(connection, logger) {\r\n            var _this = this;\r\n            this.publish = function (topic, data, options) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"publish\",\r\n                    topic: topic,\r\n                    data: data,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    target_identity: target\r\n                });\r\n                _this.session.send(args);\r\n            };\r\n            this.subscribe = function (topic, callback, options) {\r\n                return new Promise(function (resolve, reject) {\r\n                    var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                    var args = _this.removeEmptyValues({\r\n                        type: \"subscribe\",\r\n                        topic: topic,\r\n                        peer_id: _this.peerId,\r\n                        routing_key: routingKey,\r\n                        source: target\r\n                    });\r\n                    _this.session.send(args)\r\n                        .then(function (response) {\r\n                        var subscription_id = response.subscription_id;\r\n                        _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                        resolve({\r\n                            unsubscribe: function () {\r\n                                _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                                _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                                return Promise.resolve();\r\n                            }\r\n                        });\r\n                    })\r\n                        .catch(function (error) { return reject(error); });\r\n                });\r\n            };\r\n            this.watchOnEvent = function () {\r\n                _this.session.on(\"event\", function (args) {\r\n                    var data = args.data, subscription_id = args.subscription_id;\r\n                    var source = args[\"publisher-identity\"];\r\n                    var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                    if (subscription) {\r\n                        if (!subscription.source) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                        else {\r\n                            if (_this.keysMatch(subscription.source, source)) {\r\n                                subscription.callback(data, subscription.topic, source);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            };\r\n            this.connection = connection;\r\n            this.logger = logger;\r\n            this.peerId = connection.peerId;\r\n            this.subscriptions = [];\r\n            this.session = connection.domain(\"bus\", successMessages);\r\n            this.readyPromise = this.session.join();\r\n            this.readyPromise.then(function () {\r\n                _this.watchOnEvent();\r\n            });\r\n        }\r\n        MessageBus.prototype.ready = function () {\r\n            return this.readyPromise;\r\n        };\r\n        MessageBus.prototype.removeEmptyValues = function (obj) {\r\n            var cleaned = {};\r\n            Object.keys(obj).forEach(function (key) {\r\n                if (obj[key] !== undefined && obj[key] !== null) {\r\n                    cleaned[key] = obj[key];\r\n                }\r\n            });\r\n            return cleaned;\r\n        };\r\n        MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n            var keysObj1 = Object.keys(obj1);\r\n            var allMatch = true;\r\n            keysObj1.forEach(function (key) {\r\n                if (obj1[key] !== obj2[key]) {\r\n                    allMatch = false;\r\n                }\r\n            });\r\n            return allMatch;\r\n        };\r\n        return MessageBus;\r\n    }());\n\n    var GlueCore = function (userConfig, ext) {\r\n        var gdVersion = Utils.getGDMajorVersion();\r\n        var glue42gd;\r\n        var preloadPromise = Promise.resolve();\r\n        if (gdVersion) {\r\n            if (gdVersion < 3) {\r\n                throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n            }\r\n            else if (gdVersion >= 3) {\r\n                glue42gd = window.glue42gd;\r\n                preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n            }\r\n        }\r\n        var glueInitTimer = timer(\"glue\");\r\n        userConfig = userConfig || {};\r\n        ext = ext || {};\r\n        var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n        var _connection;\r\n        var _interop;\r\n        var _logger;\r\n        var _metrics;\r\n        var _contexts;\r\n        var _bus;\r\n        var _allowTrace;\r\n        var libs = {};\r\n        function registerLib(name, inner, t) {\r\n            _allowTrace = _logger.canPublish(\"trace\");\r\n            if (_allowTrace) {\r\n                _logger.trace(\"registering \" + name + \" module\");\r\n            }\r\n            var done = function () {\r\n                inner.initTime = t.stop();\r\n                inner.initEndTime = t.endTime;\r\n                inner.marks = t.marks;\r\n                if (_allowTrace) {\r\n                    _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n                }\r\n            };\r\n            inner.initStartTime = t.startTime;\r\n            if (inner.ready) {\r\n                inner.ready().then(function () {\r\n                    done();\r\n                });\r\n            }\r\n            else {\r\n                done();\r\n            }\r\n            if (!Array.isArray(name)) {\r\n                name = [name];\r\n            }\r\n            name.forEach(function (n) {\r\n                libs[n] = inner;\r\n                GlueCore[n] = inner;\r\n            });\r\n        }\r\n        function setupConnection() {\r\n            var initTimer = timer(\"connection\");\r\n            _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n            var authPromise = Promise.resolve(internalConfig.auth);\r\n            if (internalConfig.connection && !internalConfig.auth) {\r\n                if (glue42gd) {\r\n                    authPromise = glue42gd.getGWToken()\r\n                        .then(function (token) {\r\n                        return {\r\n                            gatewayToken: token\r\n                        };\r\n                    });\r\n                }\r\n                else {\r\n                    authPromise = Promise.reject(\"You need to provide auth information\");\r\n                }\r\n            }\r\n            return authPromise\r\n                .then(function (authConfig) {\r\n                initTimer.mark(\"auth-promise-resolved\");\r\n                var authRequest;\r\n                if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                    authRequest = authConfig;\r\n                }\r\n                else {\r\n                    throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n                }\r\n                return _connection.login(authRequest);\r\n            })\r\n                .then(function () {\r\n                registerLib(\"connection\", _connection, initTimer);\r\n                return internalConfig;\r\n            })\r\n                .catch(function (e) {\r\n                if (_connection) {\r\n                    _connection.logout();\r\n                }\r\n                throw e;\r\n            });\r\n        }\r\n        function setupLogger() {\r\n            var _a;\r\n            var initTimer = timer(\"logger\");\r\n            _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n            _logger.consoleLevel(internalConfig.logger.console);\r\n            _logger.publishLevel(internalConfig.logger.publish);\r\n            if (_logger.canPublish(\"debug\")) {\r\n                _logger.debug(\"initializing glue...\");\r\n            }\r\n            registerLib(\"logger\", _logger, initTimer);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        function setupMetrics() {\r\n            var _a, _b, _c, _d;\r\n            var initTimer = timer(\"metrics\");\r\n            var config = internalConfig.metrics;\r\n            var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n            var identity = internalConfig.connection.identity;\r\n            var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n            var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n            _metrics = metrics({\r\n                connection: config ? _connection : undefined,\r\n                logger: _logger.subLogger(\"metrics\"),\r\n                canUpdateMetric: canUpdateMetric,\r\n                system: \"Glue42\",\r\n                service: (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : \"metrics-service\",\r\n                instance: (_d = (_c = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _c !== void 0 ? _c : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _d !== void 0 ? _d : shortid(),\r\n                disableAutoAppSystem: disableAutoAppSystem,\r\n                pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n            });\r\n            registerLib(\"metrics\", _metrics, initTimer);\r\n            return Promise.resolve();\r\n        }\r\n        function setupInterop() {\r\n            var initTimer = timer(\"interop\");\r\n            var agmConfig = {\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"interop\"),\r\n            };\r\n            _interop = new Interop(agmConfig);\r\n            Logger.Interop = _interop;\r\n            registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n            return Promise.resolve();\r\n        }\r\n        function setupContexts() {\r\n            var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n            var needsContexts = internalConfig.contexts || hasActivities;\r\n            if (needsContexts) {\r\n                var initTimer = timer(\"contexts\");\r\n                _contexts = new ContextsModule({\r\n                    connection: _connection,\r\n                    logger: _logger.subLogger(\"contexts\")\r\n                });\r\n                registerLib(\"contexts\", _contexts, initTimer);\r\n                return _contexts;\r\n            }\r\n            else {\r\n                var replayer = _connection.replayer;\r\n                if (replayer) {\r\n                    replayer.drain(ContextMessageReplaySpec.name);\r\n                }\r\n            }\r\n        }\r\n        function setupBus() {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var initTimer;\r\n                return __generator$1(this, function (_a) {\r\n                    if (!internalConfig.bus) {\r\n                        return [2, Promise.resolve()];\r\n                    }\r\n                    initTimer = timer(\"bus\");\r\n                    _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                    registerLib(\"bus\", _bus, initTimer);\r\n                    return [2, Promise.resolve()];\r\n                });\r\n            });\r\n        }\r\n        function setupExternalLibs(externalLibs) {\r\n            try {\r\n                externalLibs.forEach(function (lib) {\r\n                    setupExternalLib(lib.name, lib.create);\r\n                });\r\n                return Promise.resolve();\r\n            }\r\n            catch (e) {\r\n                return Promise.reject(e);\r\n            }\r\n        }\r\n        function setupExternalLib(name, createCallback) {\r\n            var initTimer = timer(name);\r\n            var lib = createCallback(libs);\r\n            if (lib) {\r\n                registerLib(name, lib, initTimer);\r\n            }\r\n        }\r\n        function waitForLibs() {\r\n            var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n                var lib = libs[key];\r\n                return lib.ready ?\r\n                    lib.ready() : Promise.resolve();\r\n            });\r\n            return Promise.all(libsReadyPromises);\r\n        }\r\n        function constructGlueObject() {\r\n            var feedbackFunc = function (feedbackInfo) {\r\n                if (!_interop) {\r\n                    return;\r\n                }\r\n                _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n            };\r\n            var info = {\r\n                coreVersion: version,\r\n                version: internalConfig.version\r\n            };\r\n            glueInitTimer.stop();\r\n            var glue = {\r\n                feedback: feedbackFunc,\r\n                info: info,\r\n                logger: _logger,\r\n                interop: _interop,\r\n                agm: _interop,\r\n                connection: _connection,\r\n                metrics: _metrics,\r\n                contexts: _contexts,\r\n                bus: _bus,\r\n                version: internalConfig.version,\r\n                userConfig: userConfig,\r\n                done: function () {\r\n                    _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                    return _connection.logout();\r\n                }\r\n            };\r\n            glue.performance = {\r\n                get glueVer() {\r\n                    return internalConfig.version;\r\n                },\r\n                get glueConfig() {\r\n                    return JSON.stringify(userConfig);\r\n                },\r\n                get browser() {\r\n                    return window.performance.timing.toJSON();\r\n                },\r\n                get memory() {\r\n                    return window.performance.memory;\r\n                },\r\n                get initTimes() {\r\n                    var all = getAllTimers();\r\n                    return Object.keys(all).map(function (key) {\r\n                        var t = all[key];\r\n                        return {\r\n                            name: key,\r\n                            duration: t.endTime - t.startTime,\r\n                            marks: t.marks\r\n                        };\r\n                    });\r\n                }\r\n            };\r\n            Object.keys(libs).forEach(function (key) {\r\n                var lib = libs[key];\r\n                glue[key] = lib;\r\n            });\r\n            glue.config = {};\r\n            Object.keys(internalConfig).forEach(function (k) {\r\n                glue.config[k] = internalConfig[k];\r\n            });\r\n            if (ext && ext.extOptions) {\r\n                Object.keys(ext.extOptions).forEach(function (k) {\r\n                    glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n                });\r\n            }\r\n            if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n                ext.enrichGlue(glue);\r\n            }\r\n            if (glue42gd && glue42gd.updatePerfData) {\r\n                glue42gd.updatePerfData(glue.performance);\r\n            }\r\n            if (glue.agm) {\r\n                var deprecatedDecorator = function (fn, wrong, proper) {\r\n                    return function () {\r\n                        glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                        fn.apply(glue.agm, arguments);\r\n                    };\r\n                };\r\n                var agmAny = glue.agm;\r\n                agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n                agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n                agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n                agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n                agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n            }\r\n            return glue;\r\n        }\r\n        return preloadPromise\r\n            .then(setupLogger)\r\n            .then(setupConnection)\r\n            .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n            .then(function () { return _interop.readyPromise; })\r\n            .then(function () {\r\n            return setupExternalLibs(internalConfig.libs || []);\r\n        })\r\n            .then(waitForLibs)\r\n            .then(constructGlueObject)\r\n            .catch(function (err) {\r\n            return Promise.reject({\r\n                err: err,\r\n                libs: libs\r\n            });\r\n        });\r\n    };\r\n    if (typeof window !== \"undefined\") {\r\n        window.GlueCore = GlueCore;\r\n    }\r\n    GlueCore.version = version;\r\n    GlueCore.default = GlueCore;\n\n    var ActivityEntity = (function () {\r\n        function ActivityEntity(id) {\r\n            this._id = id;\r\n        }\r\n        Object.defineProperty(ActivityEntity.prototype, \"id\", {\r\n            get: function () {\r\n                return this._id;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityEntity.prototype._update = function (other) {\r\n            if (other._id !== this._id) {\r\n                throw Error(\"Can not update from entity with different id.\");\r\n            }\r\n            this._updateCore(other);\r\n        };\r\n        ActivityEntity.prototype._updateCore = function (other) {\r\n            return;\r\n        };\r\n        ActivityEntity.prototype._beforeDelete = function (other) {\r\n            return;\r\n        };\r\n        return ActivityEntity;\r\n    }());\n\n    function isString(arg) {\r\n        return typeof arg === \"string\";\r\n    }\r\n    function isObject(arg) {\r\n        return typeof arg === \"object\" && arg !== null;\r\n    }\r\n    function isArray(arg) {\r\n        if (Array.isArray) {\r\n            return Array.isArray(arg);\r\n        }\r\n        return toString.call(arg) === \"[object Array]\";\r\n    }\r\n    function isUndefined(arg) {\r\n        return typeof arg === \"undefined\";\r\n    }\r\n    function isUndefinedOrNull(arg) {\r\n        return !arg || typeof arg === \"undefined\";\r\n    }\r\n    function isFunction(arg) {\r\n        return !!(arg && arg.constructor && arg.call && arg.apply);\r\n    }\r\n    function some(array, predicate) {\r\n        for (var index = 0; index < array.length; index++) {\r\n            if (predicate(array[index], index)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    function ifNotUndefined(what, doWithIt) {\r\n        if (typeof what !== \"undefined\") {\r\n            doWithIt(what);\r\n        }\r\n    }\r\n    function promisify$1(promise, successCallback, errorCallback) {\r\n        if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n            return promise;\r\n        }\r\n        if (typeof successCallback !== \"function\") {\r\n            successCallback = function () { return; };\r\n        }\r\n        else if (typeof errorCallback !== \"function\") {\r\n            errorCallback = function () { return; };\r\n        }\r\n        promise.then(successCallback, errorCallback);\r\n    }\n\n    var ActivityType = (function (_super) {\r\n        __extends(ActivityType, _super);\r\n        function ActivityType(name, ownerWindow, helperWindows, description) {\r\n            var _this = _super.call(this, name) || this;\r\n            _this._name = name;\r\n            _this._description = description;\r\n            _this._ownerWindow = ownerWindow;\r\n            _this._helperWindows = helperWindows || [];\r\n            return _this;\r\n        }\r\n        Object.defineProperty(ActivityType.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityType.prototype, \"description\", {\r\n            get: function () {\r\n                return this._description;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityType.prototype, \"helperWindows\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this._helperWindows.map(function (hw) { return _this.covertToWindowDef(hw); });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityType.prototype, \"ownerWindow\", {\r\n            get: function () {\r\n                return this.covertToWindowDef(this._ownerWindow);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityType.prototype.initiate = function (context, callback, configuration) {\r\n            return this._manager.initiate(this._name, context, callback, configuration);\r\n        };\r\n        ActivityType.prototype._updateCore = function (other) {\r\n            var _this = this;\r\n            _super.prototype._updateCore.call(this, other);\r\n            ifNotUndefined(other._description, function (x) { return _this._description = x; });\r\n            ifNotUndefined(other._ownerWindow, function (x) { return _this._ownerWindow = x; });\r\n            ifNotUndefined(other._helperWindows, function (x) { return _this._helperWindows = x; });\r\n        };\r\n        ActivityType.prototype.covertToWindowDef = function (windowType) {\r\n            var _a, _b, _c, _d;\r\n            return {\r\n                type: (_b = (_a = windowType) === null || _a === void 0 ? void 0 : _a.id) === null || _b === void 0 ? void 0 : _b.type,\r\n                name: (_d = (_c = windowType) === null || _c === void 0 ? void 0 : _c.id) === null || _d === void 0 ? void 0 : _d.name\r\n            };\r\n        };\r\n        return ActivityType;\r\n    }(ActivityEntity));\n\n    var WindowType = (function (_super) {\r\n        __extends(WindowType, _super);\r\n        function WindowType(name, appByWindowTypeGetter) {\r\n            var _this = _super.call(this, name) || this;\r\n            _this._name = name;\r\n            _this._appByWindowTypeGetter = appByWindowTypeGetter;\r\n            return _this;\r\n        }\r\n        Object.defineProperty(WindowType.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(WindowType.prototype, \"config\", {\r\n            get: function () {\r\n                return this._appByWindowTypeGetter(this._name);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(WindowType.prototype, \"windows\", {\r\n            get: function () {\r\n                return this._manager.getWindows({ type: this._name });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        WindowType.prototype.create = function (activity, configuration) {\r\n            var definition = Object.assign({ type: this.name, name: this.name, isIndependent: false }, configuration);\r\n            return this._manager.createWindow(activity, definition);\r\n        };\r\n        return WindowType;\r\n    }(ActivityEntity));\n\n    var EntityEvent = (function () {\r\n        function EntityEvent(entitiy, context) {\r\n            this.entity = entitiy;\r\n            this.context = context;\r\n        }\r\n        return EntityEvent;\r\n    }());\r\n    var EntityEventContext = (function () {\r\n        function EntityEventContext(eventType) {\r\n            this.type = eventType;\r\n        }\r\n        return EntityEventContext;\r\n    }());\r\n    var ActivityStatusChangeEventContext = (function (_super) {\r\n        __extends(ActivityStatusChangeEventContext, _super);\r\n        function ActivityStatusChangeEventContext(newStatus, oldStatus) {\r\n            var _this = _super.call(this, EntityEventType.StatusChange) || this;\r\n            _this.newStatus = newStatus;\r\n            _this.oldStatus = oldStatus;\r\n            return _this;\r\n        }\r\n        return ActivityStatusChangeEventContext;\r\n    }(EntityEventContext));\r\n    var ActivityContextChangedEventContext = (function (_super) {\r\n        __extends(ActivityContextChangedEventContext, _super);\r\n        function ActivityContextChangedEventContext(context, updated, removed) {\r\n            var _this = _super.call(this, EntityEventType.ActivityContextChange) || this;\r\n            _this.context = typeof context === \"string\" ? JSON.parse(context) : context;\r\n            _this.updated = updated;\r\n            _this.removed = removed;\r\n            return _this;\r\n        }\r\n        return ActivityContextChangedEventContext;\r\n    }(EntityEventContext));\r\n    var EntityEventType = (function () {\r\n        function EntityEventType() {\r\n        }\r\n        EntityEventType.Added = \"added\";\r\n        EntityEventType.Removed = \"removed\";\r\n        EntityEventType.Updated = \"updated\";\r\n        EntityEventType.Closed = \"closed\";\r\n        EntityEventType.StatusChange = \"statusChange\";\r\n        EntityEventType.ActivityContextChange = \"activityContextUpdate\";\r\n        EntityEventType.ActivityWindowEvent = \"activityWindowEvent\";\r\n        EntityEventType.ActivityWindowJoinedActivity = \"joined\";\r\n        EntityEventType.ActivityWindowLeftActivity = \"left\";\r\n        return EntityEventType;\r\n    }());\r\n    var ActivityState = (function () {\r\n        function ActivityState() {\r\n        }\r\n        ActivityState.Created = \"created\";\r\n        ActivityState.Started = \"started\";\r\n        ActivityState.Destroyed = \"destroyed\";\r\n        return ActivityState;\r\n    }());\n\n    var ActivityAGM = (function () {\r\n        function ActivityAGM(activity) {\r\n            this._activity = activity;\r\n        }\r\n        ActivityAGM.prototype.register = function (definition, handler) {\r\n            this._ensureHasAgm();\r\n            ActivityAGM.AGM.register(definition, handler);\r\n        };\r\n        ActivityAGM.prototype.servers = function () {\r\n            this._ensureHasAgm();\r\n            if (isUndefinedOrNull(this._activity)) {\r\n                return [];\r\n            }\r\n            return this._activity.windows.map(function (w) {\r\n                return w.instance;\r\n            });\r\n        };\r\n        ActivityAGM.prototype.methods = function () {\r\n            var _this = this;\r\n            this._ensureHasAgm();\r\n            if (isUndefinedOrNull(this._activity)) {\r\n                return [];\r\n            }\r\n            var windows = this._activity.windows;\r\n            var methodNames = [];\r\n            var methods = [];\r\n            windows.forEach(function (window) {\r\n                var windowMethods = _this.methodsForWindow(window);\r\n                windowMethods.forEach(function (currentWindowMethod) {\r\n                    if (methodNames.indexOf(currentWindowMethod.name) === -1) {\r\n                        methodNames.push(currentWindowMethod.name);\r\n                        methods.push(currentWindowMethod);\r\n                    }\r\n                });\r\n            });\r\n            return methods;\r\n        };\r\n        ActivityAGM.prototype.methodsForWindow = function (window) {\r\n            this._ensureHasAgm();\r\n            if (!window.instance) {\r\n                return [];\r\n            }\r\n            return ActivityAGM.AGM.methodsForInstance(window.instance);\r\n        };\r\n        ActivityAGM.prototype.invoke = function (methodName, arg, target, options, success, error) {\r\n            this._ensureHasAgm();\r\n            var activityServers = this.servers();\r\n            var serversToInvokeAgainst = [];\r\n            if (isUndefinedOrNull(target)) {\r\n                target = \"activity.all\";\r\n            }\r\n            if (isString(target)) {\r\n                if (target === \"activity.all\") {\r\n                    serversToInvokeAgainst = activityServers;\r\n                }\r\n                else if (target === \"activity.best\") {\r\n                    var potentialTargets = activityServers.filter(function (server) {\r\n                        var methods = ActivityAGM.AGM.methodsForInstance(server);\r\n                        return methods.filter(function (m) {\r\n                            return m.name === methodName;\r\n                        }).length > 0;\r\n                    });\r\n                    if (potentialTargets.length > 0) {\r\n                        serversToInvokeAgainst = [potentialTargets[0]];\r\n                    }\r\n                }\r\n                else if (target === \"all\" || target === \"best\") {\r\n                    return promisify$1(ActivityAGM.AGM.invoke(methodName, arg, target, options), success, error);\r\n                }\r\n                else {\r\n                    throw new Error(\"Invalid invoke target \" + target);\r\n                }\r\n            }\r\n            else if (isArray(target)) {\r\n                if (target.length >= 0) {\r\n                    var firstElem = target[0];\r\n                    if (this._isInstance(firstElem)) {\r\n                        serversToInvokeAgainst = target.map(function (instance) { return instance; });\r\n                    }\r\n                    else if (this._isActivityWindow(firstElem)) {\r\n                        serversToInvokeAgainst = target.map(function (win) { return win.instance; });\r\n                    }\r\n                    else {\r\n                        throw new Error(\"Unknown target object\");\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (this._isInstance(target)) {\r\n                    serversToInvokeAgainst = [target];\r\n                }\r\n                else if (this._isActivityWindow(target)) {\r\n                    serversToInvokeAgainst = [target.instance];\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown target object\");\r\n                }\r\n            }\r\n            throw new Error(\"Not implemented\");\r\n        };\r\n        ActivityAGM.prototype.unregister = function (definition) {\r\n            this._ensureHasAgm();\r\n            return ActivityAGM.AGM.unregister(definition);\r\n        };\r\n        ActivityAGM.prototype.createStream = function (methodDefinition, subscriptionAddedHandler, subscriptionRemovedHandler) {\r\n            this._ensureHasAgm();\r\n            ActivityAGM.AGM.createStream(methodDefinition, {\r\n                subscriptionAddedHandler: subscriptionAddedHandler,\r\n                subscriptionRemovedHandler: subscriptionRemovedHandler,\r\n                subscriptionRequestHandler: undefined\r\n            });\r\n        };\r\n        ActivityAGM.prototype.subscribe = function (methodDefinition, parameters, target) {\r\n            this._ensureHasAgm();\r\n            return ActivityAGM.AGM.subscribe(methodDefinition, parameters);\r\n        };\r\n        ActivityAGM.prototype._ensureHasAgm = function () {\r\n            if (isUndefinedOrNull(ActivityAGM.AGM)) {\r\n                throw new Error(\"Agm should be configured to be used in activity\");\r\n            }\r\n        };\r\n        ActivityAGM.prototype._isInstance = function (obj) {\r\n            return obj.application !== undefined;\r\n        };\r\n        ActivityAGM.prototype._isActivityWindow = function (obj) {\r\n            return obj.instance !== undefined;\r\n        };\r\n        return ActivityAGM;\r\n    }());\n\n    var AttachedActivityDescriptor = (function () {\r\n        function AttachedActivityDescriptor(manager, ownerActivityId, state) {\r\n            this._manager = manager;\r\n            this._ownerActivityId = ownerActivityId;\r\n            this._state = state;\r\n        }\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"ownerId\", {\r\n            get: function () {\r\n                return this._state.ownerId;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"windowIds\", {\r\n            get: function () {\r\n                return this._state.windowIds;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"frameColor\", {\r\n            get: function () {\r\n                return this._state.frameColor;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"context\", {\r\n            get: function () {\r\n                return this._state.context;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"tag\", {\r\n            get: function () {\r\n                return this._state.tag;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        AttachedActivityDescriptor.prototype.detach = function (descriptor) {\r\n            var _this = this;\r\n            descriptor = descriptor || {};\r\n            var merged = {};\r\n            Object.keys(this._state).forEach(function (prop) {\r\n                merged[prop] = _this._state[prop];\r\n            });\r\n            merged.context = descriptor.context || merged.context;\r\n            merged.frameColor = descriptor.frameColor || merged.frameColor;\r\n            return this._manager.detachActivities(this._ownerActivityId, merged);\r\n        };\r\n        return AttachedActivityDescriptor;\r\n    }());\n\n    var nextTick = function (cb) {\r\n        setTimeout(cb, 0);\r\n    };\r\n    function nodeify(promise, callback) {\r\n        if (!isFunction(callback)) {\r\n            return promise;\r\n        }\r\n        promise.then(function (resp) {\r\n            nextTick(function () {\r\n                callback(null, resp);\r\n            });\r\n        }, function (err) {\r\n            nextTick(function () {\r\n                callback(err, null);\r\n            });\r\n        });\r\n    }\n\n    var Activity = (function (_super) {\r\n        __extends(Activity, _super);\r\n        function Activity(id, actType, status, context, ownerId) {\r\n            var _this = _super.call(this, id) || this;\r\n            _this._id = id;\r\n            _this._actType = actType;\r\n            _this._status = status;\r\n            _this._context = context;\r\n            _this._ownerId = ownerId;\r\n            _this._agm = new ActivityAGM(_this);\r\n            return _this;\r\n        }\r\n        Object.defineProperty(Activity.prototype, \"type\", {\r\n            get: function () {\r\n                if (this._manager) {\r\n                    return this._manager.getActivityType(this._actType);\r\n                }\r\n                return undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"context\", {\r\n            get: function () {\r\n                return this._context;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"status\", {\r\n            get: function () {\r\n                return this._status;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"owner\", {\r\n            get: function () {\r\n                if (!this._ownerId) {\r\n                    return null;\r\n                }\r\n                return this._manager.getWindows({ id: this._ownerId })[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"windows\", {\r\n            get: function () {\r\n                return this._manager.getWindows({ activityId: this._id });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"agm\", {\r\n            get: function () {\r\n                return this._agm;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Activity.prototype.addWindow = function (window, callback) {\r\n            return this._manager.addWindowToActivity(this, window, callback);\r\n        };\r\n        Activity.prototype.createWindow = function (windowType, callback) {\r\n            return this._manager.createWindow(this, windowType, callback);\r\n        };\r\n        Activity.prototype.createStackedWindows = function (windowTypes, timeout, callback) {\r\n            return this._manager.createStackedWindows(this, windowTypes, timeout, callback);\r\n        };\r\n        Activity.prototype.leave = function (window, callback) {\r\n            return this._manager.leaveWindowFromActivity(this, window, callback);\r\n        };\r\n        Activity.prototype.getWindowsByType = function (windowType) {\r\n            var filter = { activityId: this._id, type: windowType };\r\n            return this._manager.getWindows(filter);\r\n        };\r\n        Activity.prototype.setContext = function (context, callback) {\r\n            return this._manager.setActivityContext(this, context, callback);\r\n        };\r\n        Activity.prototype.updateContext = function (context, callback) {\r\n            return this._manager.updateActivityContext(this, context, callback);\r\n        };\r\n        Activity.prototype.onStatusChange = function (handler) {\r\n            var _this = this;\r\n            return this._manager.subscribeActivityEvents(function (a, ns, os) {\r\n                if (a.id === _this.id) {\r\n                    handler(a, ns, os);\r\n                }\r\n            });\r\n        };\r\n        Activity.prototype.onWindowEvent = function (handler) {\r\n            var _this = this;\r\n            return this._manager.subscribeWindowEvents(function (a, w, e) {\r\n                if (a.id === _this.id) {\r\n                    handler(a, w, e);\r\n                }\r\n            });\r\n        };\r\n        Activity.prototype.onContextChanged = function (handler) {\r\n            var _this = this;\r\n            this._manager.subscribeActivityContextChanged(function (act, context, updated, removed) {\r\n                if (act.id === _this.id) {\r\n                    handler(context, updated, removed, act);\r\n                }\r\n            });\r\n            try {\r\n                handler(this.context, this.context, [], this);\r\n            }\r\n            catch (e) {\r\n                return;\r\n            }\r\n        };\r\n        Activity.prototype.stop = function () {\r\n            this._manager.stopActivity(this);\r\n        };\r\n        Activity.prototype.clone = function (options) {\r\n            return this._manager.clone(this, options);\r\n        };\r\n        Activity.prototype.attach = function (activity, tag) {\r\n            var activityId;\r\n            if (typeof activity === \"string\") {\r\n                activityId = activity;\r\n            }\r\n            else {\r\n                activityId = activity.id;\r\n            }\r\n            return this._manager.attachActivities(activityId, this.id, tag);\r\n        };\r\n        Activity.prototype.onActivityAttached = function (callback) {\r\n            var _this = this;\r\n            this._manager.subscribeActivitiesAttached(function (newActId, oldActId, descriptor) {\r\n                if (newActId !== _this._id) {\r\n                    return;\r\n                }\r\n                callback(descriptor);\r\n            });\r\n        };\r\n        Activity.prototype.onDetached = function (callback) {\r\n            var _this = this;\r\n            this._manager.subscribeActivitiesDetached(function (newAct, originalActivity, state) {\r\n                if (originalActivity.id !== _this._id) {\r\n                    return;\r\n                }\r\n                callback(newAct, state);\r\n            });\r\n        };\r\n        Activity.prototype._updateCore = function (other) {\r\n            var _this = this;\r\n            _super.prototype._updateCore.call(this, other);\r\n            ifNotUndefined(other._actType, function (x) { return _this._actType = x; });\r\n            ifNotUndefined(other._context, function (x) { return _this._context = x; });\r\n            ifNotUndefined(other._ownerId, function (x) { return _this._ownerId = x; });\r\n            if (other._status && (!this._status || (this._status.state !== other._status.state))) {\r\n                this._status = other._status;\r\n            }\r\n        };\r\n        Activity.prototype._updateDescriptors = function (allStates) {\r\n            var _this = this;\r\n            this._attached = allStates.map(function (s) {\r\n                return new AttachedActivityDescriptor(_this._manager, _this._id, s);\r\n            });\r\n        };\r\n        Object.defineProperty(Activity.prototype, \"attached\", {\r\n            get: function () {\r\n                return this._attached;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Activity.prototype.setFrameColor = function (color, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var callbacksToWait = _this.windows.length;\r\n                if (callbacksToWait === 0) {\r\n                    resolve(_this);\r\n                }\r\n                _this.windows.forEach(function (w) {\r\n                    w.underlyingWindow.setFrameColor(color, function () {\r\n                        callbacksToWait--;\r\n                        if (callbacksToWait <= 0) {\r\n                            resolve(_this);\r\n                        }\r\n                    });\r\n                });\r\n                setTimeout(function () {\r\n                    if (callbacksToWait > 0) {\r\n                        reject(_this.id + \" - timed out waiting for setFrameColor with\" + color);\r\n                    }\r\n                }, 5000);\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        Activity.prototype.getFrameColor = function () {\r\n            if (!this.windows || this.windows.length === 0) {\r\n                return \"\";\r\n            }\r\n            return this.windows[0].underlyingWindow.frameColor;\r\n        };\r\n        return Activity;\r\n    }(ActivityEntity));\n\n    var LogLevel = (function () {\r\n        function LogLevel() {\r\n        }\r\n        LogLevel.Trace = \"trace\";\r\n        LogLevel.Debug = \"debug\";\r\n        LogLevel.Info = \"info\";\r\n        LogLevel.Warn = \"warn\";\r\n        LogLevel.Error = \"error\";\r\n        return LogLevel;\r\n    }());\r\n    var Logger$1 = (function () {\r\n        function Logger(name) {\r\n            this._name = name;\r\n            if (!isUndefinedOrNull(Logger.GlueLogger)) {\r\n                this._glueLogger = Logger.GlueLogger.subLogger(name);\r\n            }\r\n        }\r\n        Logger.GetNamed = function (name) {\r\n            return new Logger(name);\r\n        };\r\n        Logger.Get = function (owner) {\r\n            return new Logger(Logger.GetTypeName(owner));\r\n        };\r\n        Logger.prototype.trace = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.trace(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Trace) {\r\n                    console.info(this._getMessage(message, LogLevel.Trace));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.debug = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.debug(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Debug ||\r\n                    Logger.Level === LogLevel.Trace) {\r\n                    console.info(this._getMessage(message, LogLevel.Debug));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.info = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.info(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Debug ||\r\n                    Logger.Level === LogLevel.Trace ||\r\n                    Logger.Level === LogLevel.Info) {\r\n                    console.info(this._getMessage(message, LogLevel.Info));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.warn = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.warn(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Debug ||\r\n                    Logger.Level === LogLevel.Trace ||\r\n                    Logger.Level === LogLevel.Info ||\r\n                    Logger.Level === LogLevel.Warn) {\r\n                    console.info(this._getMessage(message, LogLevel.Info));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.error = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.error(message);\r\n            }\r\n            else {\r\n                console.error(this._getMessage(message, LogLevel.Error));\r\n                console.trace();\r\n            }\r\n        };\r\n        Logger.prototype._getMessage = function (message, level) {\r\n            return \"[\" + level + \"] \" + this._name + \" - \" + message;\r\n        };\r\n        Logger.GetTypeName = function (object) {\r\n            var funcNameRegex = /function (.{1,})\\(/;\r\n            var results = (funcNameRegex).exec(object.constructor.toString());\r\n            return (results && results.length > 1) ? results[1] : \"\";\r\n        };\r\n        Logger.Level = LogLevel.Info;\r\n        return Logger;\r\n    }());\n\n    var ActivityWindow = (function (_super) {\r\n        __extends(ActivityWindow, _super);\r\n        function ActivityWindow(id, name, type, activityId, instance, isIndependent, windowGetter, hcWindowId) {\r\n            var _this = _super.call(this, id) || this;\r\n            _this._logger = Logger$1.Get(\"window\");\r\n            _this._type = type;\r\n            _this._activityId = activityId;\r\n            _this._name = name;\r\n            _this._instance = instance;\r\n            _this._isIndependent = isIndependent;\r\n            _this._windowGetter = windowGetter;\r\n            _this._hcWindowId = hcWindowId;\r\n            return _this;\r\n        }\r\n        ActivityWindow.prototype.getBounds = function () {\r\n            return this._manager.getWindowBounds(this.id);\r\n        };\r\n        Object.defineProperty(ActivityWindow.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"isIndependent\", {\r\n            get: function () {\r\n                return this._isIndependent;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"type\", {\r\n            get: function () {\r\n                if (this._manager) {\r\n                    return this._manager.getWindowType(this._type);\r\n                }\r\n                return undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"activity\", {\r\n            get: function () {\r\n                if (isUndefined(this._activityId)) {\r\n                    return undefined;\r\n                }\r\n                return this._manager.getActivityById(this._activityId);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"isOwner\", {\r\n            get: function () {\r\n                var act = this.activity;\r\n                if (isUndefined(act)) {\r\n                    return false;\r\n                }\r\n                return act.owner.id === this.id;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityWindow.prototype.setVisible = function (isVisible, callback) {\r\n            return this._manager.setWindowVisibility(this.id, isVisible);\r\n        };\r\n        ActivityWindow.prototype.activate = function (focus) {\r\n            return this._manager.activateWindow(this.id, focus);\r\n        };\r\n        ActivityWindow.prototype.setBounds = function (bounds, callback) {\r\n            return this._manager.setWindowBounds(this.id, bounds, callback);\r\n        };\r\n        ActivityWindow.prototype.close = function () {\r\n            return this._manager.closeWindow(this.id);\r\n        };\r\n        Object.defineProperty(ActivityWindow.prototype, \"instance\", {\r\n            get: function () {\r\n                return this._instance;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"underlyingWindow\", {\r\n            get: function () {\r\n                var window = this._windowGetter();\r\n                if (!window) {\r\n                    return {\r\n                        id: this._hcWindowId\r\n                    };\r\n                }\r\n                return window;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityWindow.prototype.onActivityJoined = function (callback) {\r\n            this._subscribeForActivityWindowEvent(EntityEventType.ActivityWindowJoinedActivity, callback);\r\n        };\r\n        ActivityWindow.prototype.onActivityRemoved = function (callback) {\r\n            this._subscribeForActivityWindowEvent(EntityEventType.ActivityWindowLeftActivity, callback);\r\n        };\r\n        ActivityWindow.prototype._updateCore = function (other) {\r\n            var _this = this;\r\n            ifNotUndefined(other._activityId, function (x) { return _this._activityId = x; });\r\n            ifNotUndefined(other._isIndependent, function (x) { return _this._isIndependent = x; });\r\n            ifNotUndefined(other._hcWindowId, function (x) { return _this._hcWindowId = x; });\r\n            ifNotUndefined(other._type, function (x) { return _this._type = x; });\r\n            ifNotUndefined(other._name, function (x) { return _this._name = x; });\r\n            if (!isUndefinedOrNull(other._instance)) {\r\n                this._instance = other._instance;\r\n            }\r\n        };\r\n        ActivityWindow.prototype._subscribeForActivityWindowEvent = function (eventName, callback) {\r\n            var _this = this;\r\n            this._manager.subscribeWindowEvents(function (activity, window, event) {\r\n                if (window.id !== _this.id) {\r\n                    return;\r\n                }\r\n                if (event === eventName) {\r\n                    callback(activity);\r\n                }\r\n            });\r\n        };\r\n        ActivityWindow.prototype._beforeDelete = function (other) {\r\n            this._hcWindowId = other._hcWindowId;\r\n        };\r\n        return ActivityWindow;\r\n    }(ActivityEntity));\n\n    var ActivityStatus = (function () {\r\n        function ActivityStatus(state, message, time) {\r\n            this.state = state;\r\n            this.message = message;\r\n            this.time = time;\r\n        }\r\n        ActivityStatus.prototype.getState = function () {\r\n            return this.state;\r\n        };\r\n        ActivityStatus.prototype.getMessage = function () {\r\n            return this.message;\r\n        };\r\n        ActivityStatus.prototype.getTime = function () {\r\n            return this.time;\r\n        };\r\n        return ActivityStatus;\r\n    }());\n\n    var gwMmessageError = \"error\";\r\n    var gwMessageAddActivityTypes = \"add-types\";\r\n    var gwMmessageActivityTypesAdded = \"types-added\";\r\n    var gwMessageRemoveActivityTypes = \"remove-types\";\r\n    var gwMessageActivityTypesRemoved = \"types-removed\";\r\n    var gwMessageActivityCreated = \"created\";\r\n    var gwMessageActivityDestroyed = \"destroyed\";\r\n    var gwMessageActivityInitiated = \"initiated\";\r\n    var gwMmessageJoinActivity = \"join-activity\";\r\n    var gwMessageJoinedActivity = \"joined\";\r\n    var gwMessageActivityJoined = \"activity-joined\";\r\n    var gwMessageLeaveActivity = \"leave-activity\";\r\n    var gwMessageActivityLeft = \"left\";\r\n    var gwNmessageMergeActivities = \"merge\";\r\n    var gwMessageSplitActivities = \"split\";\r\n    var gwMessageOwnerChanged = \"owner-changed\";\r\n    var gwMessageAddPeerFactories = \"add-peer-factories\";\r\n    var gwMessagePeerFactoriesAdded = \"peer-factories-added\";\r\n    var gwMessageRemovePeerFactories = \"remove-peer-factories\";\r\n    var gwMessagePeerFactoriesRemoved = \"peer-factories-removed\";\r\n    var gwMessageCreateActivity = \"create\";\r\n    var gwMessageCreatePeer = \"create-peer\";\r\n    var gwMessagePeerRequested = \"peer-requested\";\r\n    var gwMessageReady = \"ready\";\r\n    var gwMessagePeerCreated = \"peer-created\";\r\n    var gwMessageDestroyActivity = \"destroy\";\r\n    var gwMessageDisposePeer = \"dispose-peer\";\r\n    var gwMessageDestroyPeer = \"destroy-peer\";\r\n    var GW3Bridge$1 = (function () {\r\n        function GW3Bridge(config) {\r\n            var _this = this;\r\n            this._activityChangeCallbacks = [];\r\n            this._activityTypeStatusChangeCallbacks = [];\r\n            this._activityWindowChangeCallbacks = [];\r\n            this._windowTypeStatusChangeCallbacks = [];\r\n            this._peerIdAndFactoryIdToPeerType = {};\r\n            this._peerFactoriesRegisteredByUs = {};\r\n            this._gw3Subscriptions = [];\r\n            this._contextSubscriptions = {};\r\n            this._activityTypesInitiatedFromMe = {};\r\n            this._config = config;\r\n            this._connection = config.connection;\r\n            this._logger = config.logger;\r\n            this._contexts = config.contexts;\r\n            this._windows = config.windows;\r\n            this._sessionJoinedPromise = new Promise(function (resolve) {\r\n                _this._sessionJoinedPromiseResolve = resolve;\r\n            });\r\n            this._activityJoinedPromise = new Promise(function (resolve) {\r\n                _this._activityJoinedPromiseResolve = resolve;\r\n            });\r\n            if (!this._config.activityId) {\r\n                this._activityJoinedPromiseResolve({});\r\n            }\r\n            this._gw3Session = this._connection.domain(\"activity\", [\"joined\", \"initiated\", \"peer-created\", \"token\"]);\r\n            if (typeof window !== \"undefined\") {\r\n                var glue42gd_1 = window.glue42gd;\r\n                if (glue42gd_1 && typeof glue42gd_1.addRefreshHandler === \"function\") {\r\n                    glue42gd_1.addRefreshHandler(function (success, error) {\r\n                        _this._gw3Session\r\n                            .send({\r\n                            type: \"reload\"\r\n                        })\r\n                            .then(function (msg) {\r\n                            if (!msg.token) {\r\n                                error(\"Expected gateway token for refreshing.\");\r\n                                return;\r\n                            }\r\n                            try {\r\n                                glue42gd_1.setGWToken(msg.token);\r\n                            }\r\n                            catch (e) {\r\n                                error(e.message || e);\r\n                                return;\r\n                            }\r\n                            success();\r\n                        }, error);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        GW3Bridge.activityTypeGwMessageEntityToActivityType = function (entity, description) {\r\n            var nameToWindowType = function (windowName) {\r\n                return new WindowType(windowName, undefined);\r\n            };\r\n            return new ActivityType(entity.name, entity.owner_type && nameToWindowType(entity.owner_type), entity.helper_types && entity.helper_types.map(nameToWindowType), description);\r\n        };\r\n        GW3Bridge.peerFactoryGwMessageEntityToWindowType = function (entity) {\r\n            return new WindowType(entity.peer_type, function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.activityGwMessageToActivity = function (msg, status) {\r\n            var ownerId = msg.owner !== undefined ? msg.owner.peer_id : msg.owner_id;\r\n            return new Activity(msg.activity_id, msg.activity_type, status, msg.context_snapshot, ownerId);\r\n        };\r\n        GW3Bridge.activityToActivityStatusChangeEvent = function (act) {\r\n            return new EntityEvent(act, new ActivityStatusChangeEventContext(act.status, undefined));\r\n        };\r\n        Object.defineProperty(GW3Bridge.prototype, \"bridgeType\", {\r\n            get: function () {\r\n                return \"GW3\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GW3Bridge.prototype.init = function () {\r\n            var _this = this;\r\n            this.forwardActivityTypeMessagesToStatusEventHandlers();\r\n            this.subscribe(gwMessageActivityCreated, this.handleActivityCreatedMessage);\r\n            this.subscribe(gwMessageActivityDestroyed, this.handleActivityDestroyedMessage);\r\n            this.forwardActivityMessagesToStatusEventHandlers();\r\n            this.forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers();\r\n            this.forwardPeerFactoryMessagesToStatusEventHandlers();\r\n            this.forwardPeerFactoryMessagesToPeerFactoryRequests();\r\n            this.subscribe(gwMessagePeerFactoriesAdded, this.handlePeerFactoriesAdded);\r\n            this.subscribe(gwMessagePeerFactoriesRemoved, this.handlePeerFactoriesRemoved);\r\n            this.forwardActivityWindowMessagesToEventHandlers();\r\n            this.subscribe(gwMessageDisposePeer, function () {\r\n                if (_this._config.disposeRequestHandling === \"dispose\") {\r\n                    _this.dispose();\r\n                    return;\r\n                }\r\n                if (_this._config.disposeRequestHandling === \"exit\") {\r\n                    if (_this._windows && typeof _this._windows.my() !== \"undefined\") {\r\n                        _this._windows.my().close();\r\n                        return;\r\n                    }\r\n                    if (typeof window !== \"undefined\" && typeof window.close === \"function\") {\r\n                        window.close();\r\n                        return;\r\n                    }\r\n                    if (typeof process !== \"undefined\" && typeof process.exit === \"function\") {\r\n                        process.exit();\r\n                        return;\r\n                    }\r\n                }\r\n            });\r\n            this._gw3Session.onJoined(function () {\r\n                if (_this._config.mode === \"trackMyOnly\" ||\r\n                    _this._config.mode === \"trackMyTypeAndInitiatedFromMe\") {\r\n                    _this._sessionJoinedPromiseResolve(_this);\r\n                }\r\n                else {\r\n                    _this._gw3Session\r\n                        .send({\r\n                        type: \"subscribe\",\r\n                        activity_types: (_this._config.mode === \"trackAll\" ? [] :\r\n                            _this._config.mode === \"trackTypes\" ? _this._config.typesToTrack : [])\r\n                    })\r\n                        .then(function () {\r\n                        _this._sessionJoinedPromiseResolve(_this);\r\n                    });\r\n                }\r\n            });\r\n            this._gw3Session.join();\r\n        };\r\n        GW3Bridge.prototype.dispose = function () {\r\n            var _this = this;\r\n            this._gw3Subscriptions.forEach(function (sub) { return sub && _this._connection.off(sub); });\r\n            this._gw3Subscriptions.length = 0;\r\n        };\r\n        GW3Bridge.prototype.ready = function () {\r\n            return Promise.all([this._sessionJoinedPromise, this._activityJoinedPromise]);\r\n        };\r\n        GW3Bridge.prototype.initReady = function () {\r\n            return this._sessionJoinedPromise;\r\n        };\r\n        GW3Bridge.prototype.onActivityTypeStatusChange = function (callback) {\r\n            this._activityTypeStatusChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.registerActivityType = function (activityTypeName, ownerWindow, helperWindows, config, description) {\r\n            var _this = this;\r\n            var entity = {};\r\n            entity.name = activityTypeName;\r\n            var toActivityPeerConfig = function (windowDefinition) { return ({ type: windowDefinition.type, name: windowDefinition.name, configuration: windowDefinition }); };\r\n            entity.owner_type = toActivityPeerConfig(ownerWindow);\r\n            entity.helper_types = helperWindows.map(toActivityPeerConfig);\r\n            return this._gw3Session\r\n                .send({\r\n                type: gwMessageAddActivityTypes,\r\n                types: [entity]\r\n            })\r\n                .then(function () {\r\n                var activityType = GW3Bridge.activityTypeGwMessageEntityToActivityType(entity, description);\r\n                _this.invokeCallbacks(_this._activityTypeStatusChangeCallbacks, new EntityEvent(activityType, new EntityEventContext(EntityEventType.Added)), gwMessageAddActivityTypes);\r\n                return activityType;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.unregisterActivityType = function (activityTypeName) {\r\n            var _this = this;\r\n            return this._gw3Session\r\n                .send({\r\n                type: gwMessageRemoveActivityTypes,\r\n                types: [activityTypeName]\r\n            })\r\n                .then(function () {\r\n                var activityType = new ActivityType(activityTypeName, undefined, undefined, undefined);\r\n                _this.invokeCallbacks(_this._activityTypeStatusChangeCallbacks, new EntityEvent(activityType, new EntityEventContext(EntityEventType.Removed)), gwMessageAddActivityTypes);\r\n            });\r\n        };\r\n        GW3Bridge.prototype.onWindowTypeStatusChange = function (callback) {\r\n            this._windowTypeStatusChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.registerWindowFactory = function (windowType, factory, parameters) {\r\n            var _this = this;\r\n            if (this._peerFactoriesRegisteredByUs[windowType]) {\r\n                return Promise.reject(new Error(\"Factory for windowType \" + windowType + \" already registered.\"));\r\n            }\r\n            this._peerFactoriesRegisteredByUs[windowType] = factory;\r\n            var entity = {\r\n                id: windowType,\r\n                peer_type: windowType,\r\n                configuration: parameters\r\n            };\r\n            return this._gw3Session.send({\r\n                type: gwMessageAddPeerFactories,\r\n                factories: [entity]\r\n            })\r\n                .then(function () {\r\n                _this.invokeCallbacks(_this._windowTypeStatusChangeCallbacks, new EntityEvent(GW3Bridge.peerFactoryGwMessageEntityToWindowType(entity), new EntityEventContext(EntityEventType.Added)), gwMessageAddPeerFactories);\r\n            })\r\n                .catch(function () {\r\n                delete _this._peerFactoriesRegisteredByUs[windowType];\r\n            });\r\n        };\r\n        GW3Bridge.prototype.unregisterWindowFactory = function (windowType) {\r\n            var _this = this;\r\n            var factory = this._peerFactoriesRegisteredByUs[windowType];\r\n            if (!factory) {\r\n                return Promise.reject(new Error(\"Factory for windowType \" + windowType + \" not registered.\"));\r\n            }\r\n            delete this._peerFactoriesRegisteredByUs[windowType];\r\n            return this._gw3Session.send({\r\n                type: gwMessageRemovePeerFactories,\r\n                factory_ids: [windowType]\r\n            }).then(function () {\r\n                _this.invokeCallbacks(_this._windowTypeStatusChangeCallbacks, new EntityEvent(new WindowType(windowType, undefined), new EntityEventContext(EntityEventType.Removed)), gwMessageAddPeerFactories);\r\n            });\r\n        };\r\n        GW3Bridge.prototype.onActivityStatusChange = function (callback) {\r\n            this._activityChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.initiateActivity = function (activityType, context, configuration) {\r\n            var _this = this;\r\n            var initiateMsg = {\r\n                type: gwMessageCreateActivity,\r\n                activity_type: activityType,\r\n                initial_context: context,\r\n            };\r\n            if (this.isOverrideTypeDefinition(configuration)) {\r\n                initiateMsg.types_override = {\r\n                    owner_type: { type: configuration.owner.type, name: configuration.owner.name, configuration: configuration.owner },\r\n                    helper_types: configuration.helpers && configuration.helpers.map(function (wd) { return ({ type: wd.type, name: wd.name, configuration: wd }); })\r\n                };\r\n            }\r\n            else {\r\n                initiateMsg.configuration = configuration && configuration.map(function (wd) { return ({ type: wd.type, name: wd.name, configuration: wd }); });\r\n            }\r\n            return this.sendCreateAndMapResultingMessagesToPromise(initiateMsg, gwMessageActivityInitiated, function (msg, requestId) { return msg.request_id === requestId; }, gwMessageActivityCreated, function (msg, requestId, initMsg) { return msg.activity_id === initMsg.activity_id; }, gwMessageActivityDestroyed, function (msg, requestId, initMsg) { return msg.activity_id === initMsg.activity_id; }, function (msg) { return msg.activity_id; }).then(function (id) {\r\n                if (_this._config.mode === \"trackMyTypeAndInitiatedFromMe\") {\r\n                    if (!_this._activityTypesInitiatedFromMe[activityType]) {\r\n                        _this._activityTypesInitiatedFromMe[activityType] = true;\r\n                        return _this._gw3Session\r\n                            .send({\r\n                            type: \"subscribe\",\r\n                            activity_types: [activityType]\r\n                        })\r\n                            .then(function () {\r\n                            return id;\r\n                        });\r\n                    }\r\n                }\r\n                return id;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.stopActivity = function (activity) {\r\n            return this._gw3Session.send({\r\n                type: gwMessageDestroyActivity,\r\n                activity_id: activity.id,\r\n                reason_uri: \"com.tick42.glue.activity.constants.destroyReason.general\",\r\n                reason: \"Destroying activity\"\r\n            }).then(function (_) { return true; });\r\n        };\r\n        GW3Bridge.prototype.updateActivityContext = function (activity, context, fullReplace, removedKeys) {\r\n            if (fullReplace) {\r\n                return this._contexts.set(activity.id, context);\r\n            }\r\n            else {\r\n                removedKeys = removedKeys || [];\r\n                for (var _i = 0, removedKeys_1 = removedKeys; _i < removedKeys_1.length; _i++) {\r\n                    var x = removedKeys_1[_i];\r\n                    context[x] = null;\r\n                }\r\n                return this._contexts.update(activity.id, context);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.announceWindow = function (windowType, activityWindowId) {\r\n            throw new Error(\"Invalid operation 'announceWindow' for GW3 protocol\");\r\n        };\r\n        GW3Bridge.prototype.registerWindow = function (type, name, independent) {\r\n            var shouldSendReady = typeof this._connection.gatewayToken !== \"undefined\";\r\n            var peerId = this._connection.peerId;\r\n            if (typeof window !== \"undefined\") {\r\n                var glue42gd = window.glue42gd;\r\n                if (glue42gd) {\r\n                    shouldSendReady = typeof glue42gd.activityInfo !== \"undefined\";\r\n                }\r\n            }\r\n            if (shouldSendReady) {\r\n                this._gw3Session.send({\r\n                    type: gwMessageReady,\r\n                });\r\n            }\r\n            this.invokeCallbacks(this._activityWindowChangeCallbacks, new EntityEvent(new ActivityWindow(peerId, name, type, undefined, this.getAgmInstance(peerId), independent, this.generateWindowGetter(peerId), undefined), new EntityEventContext(EntityEventType.Added)), \"register window\");\r\n            return Promise.resolve(peerId);\r\n        };\r\n        GW3Bridge.prototype.onActivityWindowChange = function (callback) {\r\n            this._activityWindowChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.createWindow = function (activityId, windowDefinition) {\r\n            var _this = this;\r\n            if (!windowDefinition.layout) {\r\n                if (windowDefinition.left || windowDefinition.width || windowDefinition.height || windowDefinition.top) {\r\n                    windowDefinition.layout = {\r\n                        mode: \"pixels\",\r\n                        cellSize: 1,\r\n                    };\r\n                }\r\n            }\r\n            return this.sendCreateAndMapResultingMessagesToPromise({\r\n                type: gwMessageCreatePeer,\r\n                peer_type: windowDefinition.type,\r\n                peer_name: windowDefinition.name || windowDefinition.type,\r\n                configuration: windowDefinition,\r\n                activity_id: activityId,\r\n            }, undefined, undefined, gwMessagePeerCreated, function (msg, requestId) { return msg.request_id === requestId; }, undefined, undefined, function (msg) { return msg.created_id; })\r\n                .then(function (id) {\r\n                if (!activityId) {\r\n                    return;\r\n                }\r\n                return _this.joinActivity(activityId, id, windowDefinition.name)\r\n                    .then(function () {\r\n                    return id;\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.closeWindow = function (id) {\r\n            return this._gw3Session.send({\r\n                type: gwMessageDestroyPeer,\r\n                destroy_peer_id: id\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.getAnnouncementInfo = function () {\r\n            var activityId = this._config.activityId || (this._config.announcementInfo && this._config.announcementInfo.activityId);\r\n            var activityWindowType = (this._config.announcementInfo && this._config.announcementInfo.activityWindowType);\r\n            var activityWindowIndependent = (this._config.announcementInfo && this._config.announcementInfo.activityWindowIndependent);\r\n            var activityWindowName = (this._config.announcementInfo && this._config.announcementInfo.activityWindowName);\r\n            if (typeof window !== \"undefined\" &&\r\n                typeof window.location !== \"undefined\" &&\r\n                window.location.search &&\r\n                typeof URLSearchParams === \"function\") {\r\n                var searchParams = new URLSearchParams(location.search.slice(1));\r\n                activityWindowType = activityWindowType || searchParams.get(\"t42PeerType\");\r\n                activityWindowType = activityWindowType || searchParams.get(\"t42ActivityWindowType\");\r\n                if (typeof activityWindowIndependent === \"undefined\") {\r\n                    activityWindowIndependent = searchParams.get(\"t42ActivityWindowIndependent\");\r\n                }\r\n                activityWindowName = activityWindowName || searchParams.get(\"t42ActivityWindowName\");\r\n                activityId = activityId || searchParams.get(\"t42ActivityId\");\r\n            }\r\n            activityWindowType = activityWindowType || \"unknown\";\r\n            activityWindowIndependent = activityWindowIndependent || false;\r\n            activityWindowName = activityWindowName || this._connection.peerId;\r\n            return {\r\n                activityWindowId: undefined,\r\n                activityId: activityId,\r\n                activityWindowType: activityWindowType,\r\n                activityWindowIndependent: activityWindowIndependent,\r\n                activityWindowName: activityWindowName,\r\n            };\r\n        };\r\n        GW3Bridge.prototype.joinActivity = function (activityId, windowId, name) {\r\n            var _this = this;\r\n            var maybeName = (name && { name: name }) || {};\r\n            return this._gw3Session.send(__assign({ type: gwMmessageJoinActivity, target_id: windowId, activity_id: activityId }, maybeName)).then(function () {\r\n                _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(new ActivityWindow(windowId, undefined, undefined, activityId, _this.getAgmInstance(windowId), undefined, _this.generateWindowGetter(windowId), undefined), new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)), \"activity joined - ActivityWindow\");\r\n                _this.invokeCallbacks(_this._activityChangeCallbacks, new EntityEvent(new Activity(activityId, undefined, new ActivityStatus(\"created\", undefined, undefined), undefined, undefined), new EntityEventContext(EntityEventType.Updated)), \"activity joined - Activity\");\r\n            });\r\n        };\r\n        GW3Bridge.prototype.leaveActivity = function (activityId, windowId) {\r\n            var _this = this;\r\n            return this._gw3Session.send({\r\n                type: gwMessageLeaveActivity,\r\n                target_id: windowId,\r\n                activity_id: activityId\r\n            }).then(function () {\r\n                _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(new ActivityWindow(windowId, undefined, undefined, null, _this.getAgmInstance(windowId), undefined, _this.generateWindowGetter(windowId), undefined), new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)), \"activity left - ActivityWindow\");\r\n                _this.invokeCallbacks(_this._activityChangeCallbacks, new EntityEvent(new Activity(activityId, undefined, new ActivityStatus(\"created\", undefined, undefined), undefined, undefined), new EntityEventContext(EntityEventType.Updated)), \"activity left - Activity\");\r\n            });\r\n        };\r\n        GW3Bridge.prototype.getActivityTypes = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getWindowTypes = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getActivities = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getActivityWindows = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.createStackedWindows = function (id, windowDefinitions, timeout) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.getWindowBounds = function (id) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.setWindowBounds = function (id, bounds) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.activateWindow = function (id, focus) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.setWindowVisibility = function (id, visible) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.cloneActivity = function (id, cloneOptions) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.attachActivities = function (from, to, tag) {\r\n            return this._gw3Session.send({\r\n                type: gwNmessageMergeActivities,\r\n                into: to,\r\n                merge: from\r\n            });\r\n        };\r\n        GW3Bridge.prototype.detachActivities = function (activityId, newActivityInfo) {\r\n            return this._gw3Session.send({\r\n                type: gwMessageSplitActivities,\r\n                from: activityId,\r\n            }).then(function () { return \"\"; });\r\n        };\r\n        GW3Bridge.prototype.onActivitiesAttached = function (callback) {\r\n        };\r\n        GW3Bridge.prototype.onActivitiesDetached = function (callback) {\r\n        };\r\n        GW3Bridge.prototype.onActivityAttachedDescriptorsRefreshed = function (callback) {\r\n        };\r\n        GW3Bridge.prototype.getAttachedDescriptors = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getRandomRequestId = function () {\r\n            return this._connection.peerId + \":\" + Math.floor(Math.random() * 1e9) + \"\";\r\n        };\r\n        GW3Bridge.prototype.forwardAddedAndRemovedMessagesToEventHandler = function (addedMessageType, removedMessageType, mapper, handlers) {\r\n            var getGetEntityEvent = function (isAdded) { return function (entity) { return new EntityEvent(entity, new EntityEventContext(isAdded ?\r\n                EntityEventType.Added :\r\n                EntityEventType.Removed)); }; };\r\n            var sub1;\r\n            var sub2;\r\n            sub1 = addedMessageType && this.forwardMessageToEventHandler(addedMessageType, function (msg) { return mapper(msg, true); }, getGetEntityEvent(true), handlers);\r\n            sub2 = removedMessageType && this.forwardMessageToEventHandler(removedMessageType, function (msg) { return mapper(msg, false); }, getGetEntityEvent(false), handlers);\r\n            return [sub1, sub2].filter(function (x) { return x; });\r\n        };\r\n        GW3Bridge.prototype.forwardMessageToEventHandler = function (messageType, mapper, getEntityEvent, handler) {\r\n            return this.subscribe(messageType, function (msg) {\r\n                mapper(msg)\r\n                    .forEach(function (ent) {\r\n                    return handler.forEach(function (h) { return h(getEntityEvent(ent, msg)); });\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.sendCreateAndMapResultingMessagesToPromise = function (msg, initiatedMessageType, initiatedMessageFilter, createdMessageType, createdMessageFilter, cancelledMessageType, cancelledMessageFilter, createdMessageToPromiseResolution) {\r\n            var _this = this;\r\n            var reqId = this.getRandomRequestId();\r\n            var resolveCreatedPromise;\r\n            var rejectCreatedPromise;\r\n            var createdPromise = new Promise(function (resolve, reject) {\r\n                resolveCreatedPromise = resolve;\r\n                rejectCreatedPromise = reject;\r\n            });\r\n            var initiatedMessageAck = null;\r\n            var initiatedSubscription;\r\n            var createdSubscription;\r\n            var cancelledSubscription;\r\n            var errorSubscription;\r\n            var dropSubscriptions = function () {\r\n                _this.dropSubscription(initiatedSubscription);\r\n                _this.dropSubscription(createdSubscription);\r\n                _this.dropSubscription(cancelledSubscription);\r\n                _this.dropSubscription(errorSubscription);\r\n            };\r\n            initiatedSubscription = initiatedMessageType &&\r\n                this.subscribe(initiatedMessageType, function (msg4) {\r\n                    if (!initiatedMessageFilter(msg4, reqId)) {\r\n                        return;\r\n                    }\r\n                    initiatedMessageAck = msg4;\r\n                    _this.dropSubscription(initiatedSubscription);\r\n                });\r\n            createdSubscription =\r\n                this.subscribe(createdMessageType, function (msg1) {\r\n                    if (!createdMessageFilter(msg1, reqId, initiatedMessageAck)) {\r\n                        return;\r\n                    }\r\n                    resolveCreatedPromise(createdMessageToPromiseResolution(msg1));\r\n                });\r\n            cancelledSubscription = cancelledMessageType &&\r\n                this.subscribe(cancelledMessageType, function (msg2) {\r\n                    if (!cancelledMessageFilter(msg2, reqId, initiatedMessageAck)) {\r\n                        return;\r\n                    }\r\n                    rejectCreatedPromise(msg2);\r\n                });\r\n            errorSubscription = cancelledMessageType &&\r\n                this.subscribe(gwMmessageError, function (msg3) {\r\n                    if (msg3.request_id !== reqId) {\r\n                        return;\r\n                    }\r\n                    rejectCreatedPromise(msg3);\r\n                });\r\n            msg.request_id = reqId;\r\n            var toReturn = this._gw3Session\r\n                .send(msg)\r\n                .then(function () {\r\n                return createdPromise;\r\n            });\r\n            toReturn.then(dropSubscriptions, dropSubscriptions);\r\n            return toReturn;\r\n        };\r\n        GW3Bridge.prototype.peerFactoryIdAndOwnerIdToWindowType = function (factoryId, ownerId) {\r\n            var peerType = this._peerIdAndFactoryIdToPeerType[ownerId + \":\" + factoryId];\r\n            if (!peerType) {\r\n                return null;\r\n            }\r\n            else {\r\n                return new WindowType(peerType, undefined);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribe = function (messageType, handler) {\r\n            var _this = this;\r\n            var sub = this._connection.on(messageType, function (msg) { return handler.bind(_this)(msg); });\r\n            this._gw3Subscriptions.push(sub);\r\n            return sub;\r\n        };\r\n        GW3Bridge.prototype.dropSubscription = function (subscription) {\r\n            if (subscription) {\r\n                this._connection.off(subscription);\r\n                delete this._gw3Subscriptions[this._gw3Subscriptions.indexOf(subscription)];\r\n            }\r\n        };\r\n        GW3Bridge.prototype.invokeCallbacks = function (callbacks, event, description) {\r\n            var _this = this;\r\n            callbacks.forEach(function (cb) {\r\n                try {\r\n                    cb(event);\r\n                }\r\n                catch (err) {\r\n                    _this._logger.error(\"Error in \" + (description || event.context.type) + \" callback: \" + JSON.stringify(err));\r\n                }\r\n            });\r\n        };\r\n        GW3Bridge.prototype.handleActivityCreatedMessage = function (msg) {\r\n            if (!msg.context_id) {\r\n                this._logger.error(\"Activity created with unknown context_id: \" + msg.activity_id);\r\n            }\r\n            else {\r\n                if (!this._contextSubscriptions[msg.activity_id]) {\r\n                    this.subscribeToContext(msg);\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContext = function (msg) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var activityId, _a, _b;\r\n                var _this = this;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            activityId = msg.activity_id;\r\n                            _a = this._contextSubscriptions;\r\n                            _b = activityId;\r\n                            return [4, this._contexts.subscribe(activityId, function (data, updated, removed) {\r\n                                    var event = new EntityEvent(new Activity(activityId, undefined, undefined, data, undefined), new ActivityContextChangedEventContext(data, updated, removed));\r\n                                    _this.invokeCallbacks(_this._activityChangeCallbacks, event, \"context updated\");\r\n                                })];\r\n                        case 1:\r\n                            _a[_b] =\r\n                                _c.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.handleActivityDestroyedMessage = function (msg) {\r\n            var unsubscribeContext = this._contextSubscriptions[msg.activity_id];\r\n            if (typeof unsubscribeContext === \"function\") {\r\n                unsubscribeContext();\r\n            }\r\n            delete this._contextSubscriptions[msg.activity_id];\r\n        };\r\n        GW3Bridge.prototype.handlePeerFactoriesAdded = function (msg) {\r\n            var _this = this;\r\n            msg.factories.forEach(function (entity) {\r\n                _this._peerIdAndFactoryIdToPeerType[msg.owner_id + \":\" + entity.id] = entity.peer_type;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.handlePeerFactoriesRemoved = function (msg) {\r\n            var _this = this;\r\n            msg.factory_ids.forEach(function (factoryId) {\r\n                delete _this._peerIdAndFactoryIdToPeerType[msg.owner_id + \":\" + factoryId];\r\n            });\r\n        };\r\n        GW3Bridge.prototype.forwardActivityTypeMessagesToStatusEventHandlers = function () {\r\n            this.forwardAddedAndRemovedMessagesToEventHandler(gwMmessageActivityTypesAdded, gwMessageActivityTypesRemoved, function (msg, isAdded) { return isAdded\r\n                ? msg.types.map(function (t) { return GW3Bridge.activityTypeGwMessageEntityToActivityType(t, undefined); })\r\n                : msg.types.map(function (t) { return new ActivityType(t.name, undefined, undefined, undefined); }); }, this._activityTypeStatusChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers = function () {\r\n            var _this = this;\r\n            for (var _i = 0, _a = [gwMessageActivityCreated, gwMessageJoinedActivity, gwMessageOwnerChanged]; _i < _a.length; _i++) {\r\n                var activityCreatedMessage = _a[_i];\r\n                this.forwardMessageToEventHandler(activityCreatedMessage, function (msg) {\r\n                    return ([msg.owner || __assign(__assign({}, msg), { type: msg.peer_type, name: msg.peer_name, peer_id: msg.owner_id })])\r\n                        .concat(msg.participants || [])\r\n                        .map(function (info) { return new ActivityWindow(info.peer_id, info.name, info.type, msg.activity_id, _this.getAgmInstance(info.peer_id), undefined, _this.generateWindowGetter(info.peer_id), undefined); });\r\n                }, function (ent, msg) { return new EntityEvent(ent, new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)); }, this._activityWindowChangeCallbacks);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.forwardActivityMessagesToStatusEventHandlers = function () {\r\n            for (var _i = 0, _a = [gwMessageActivityCreated, gwMessageJoinedActivity]; _i < _a.length; _i++) {\r\n                var createdMessage = _a[_i];\r\n                this.forwardMessageToEventHandler(createdMessage, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"started\", \"\", new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n            }\r\n            this.forwardMessageToEventHandler(gwMessageActivityDestroyed, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"destroyed\", msg.reason, new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n            this.forwardMessageToEventHandler(gwMessageActivityInitiated, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"created\", \"\", new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n            this.forwardMessageToEventHandler(gwMessageOwnerChanged, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"created\", \"\", new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.forwardPeerFactoryMessagesToStatusEventHandlers = function () {\r\n            var _this = this;\r\n            this.forwardAddedAndRemovedMessagesToEventHandler(gwMessagePeerFactoriesAdded, gwMessagePeerFactoriesRemoved, function (msg, isAdded) { return isAdded\r\n                ? msg.factories.map(GW3Bridge.peerFactoryGwMessageEntityToWindowType)\r\n                : msg.factory_ids.map(function (id) { return _this.peerFactoryIdAndOwnerIdToWindowType(id, msg.owner_id); }).filter(function (x) { return x != null; }); }, this._windowTypeStatusChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.forwardPeerFactoryMessagesToPeerFactoryRequests = function () {\r\n            var _this = this;\r\n            this.subscribe(gwMessagePeerRequested, function (msg) {\r\n                var factory = _this._peerFactoriesRegisteredByUs[msg.peer_factory];\r\n                if (!factory) {\r\n                    _this._gw3Session.send({\r\n                        type: gwMmessageError,\r\n                        request_id: msg.request_id,\r\n                        reason: \"Unknown peer factory \" + msg.peer_factory\r\n                    });\r\n                    return;\r\n                }\r\n                try {\r\n                    var configuration = msg.configuration || {};\r\n                    configuration.gateway_token = configuration.gateway_token || msg.gateway_token;\r\n                    configuration.peer_factory = configuration.peer_factory || msg.peer_factory;\r\n                    var promise = factory({\r\n                        activityId: msg.activity && msg.activity.id,\r\n                        activityType: msg.activity && msg.activity.type,\r\n                        type: msg.configuration && msg.configuration.type,\r\n                        gwToken: configuration.gateway_token,\r\n                        configuration: configuration\r\n                    });\r\n                    if (promise && promise.then && promise.catch) {\r\n                        promise.catch(function (err) { return _this._gw3Session.send({\r\n                            type: gwMmessageError,\r\n                            request_id: msg.request_id,\r\n                            reason: err && (err.message || JSON.stringify(err))\r\n                        }); });\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    _this._gw3Session.send({\r\n                        type: gwMmessageError,\r\n                        request_id: msg.request_id,\r\n                        reason: err && (err.message || JSON.stringify(err))\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        GW3Bridge.prototype.forwardActivityWindowMessagesToEventHandlers = function () {\r\n            var _this = this;\r\n            var _loop_1 = function (joinedMessage) {\r\n                this_1.subscribe(joinedMessage, function (msg) {\r\n                    var joinedId = (joinedMessage === gwMessageActivityJoined) ? msg.joined_id : msg.peer_id;\r\n                    var joinedType = (joinedMessage === gwMessageActivityJoined) ? msg.joined_type : msg.peer_type;\r\n                    var joinedName = (joinedMessage === gwMessageActivityJoined) ? msg.joined_name : msg.peer_name;\r\n                    var entity = new ActivityWindow(joinedId, joinedName, joinedType, msg.activity_id, _this.getAgmInstance(joinedId), undefined, _this.generateWindowGetter(joinedId), undefined);\r\n                    if (!_this._contextSubscriptions[msg.activity_id]) {\r\n                        _this.subscribeToContext(msg).then(function () {\r\n                            if (joinedMessage === gwMessageJoinedActivity) {\r\n                                _this._activityJoinedPromiseResolve({});\r\n                            }\r\n                        });\r\n                    }\r\n                    else if (joinedMessage === gwMessageJoinedActivity) {\r\n                        _this._activityJoinedPromiseResolve({});\r\n                    }\r\n                    _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(entity, new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)), joinedMessage);\r\n                });\r\n            };\r\n            var this_1 = this;\r\n            for (var _i = 0, _a = [gwMessageActivityJoined, gwMessageJoinedActivity]; _i < _a.length; _i++) {\r\n                var joinedMessage = _a[_i];\r\n                _loop_1(joinedMessage);\r\n            }\r\n            this.subscribe(gwMessageActivityLeft, function (msg) {\r\n                var entity = new ActivityWindow(msg.left_id, undefined, undefined, null, _this.getAgmInstance(msg.left_id), undefined, _this.generateWindowGetter(msg.left_id), undefined);\r\n                _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(entity, new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)), gwMessageActivityLeft);\r\n            });\r\n            this.forwardAddedAndRemovedMessagesToEventHandler(gwMessagePeerCreated, undefined, function (msg) { return [\r\n                new ActivityWindow(msg.created_id, undefined, undefined, undefined, undefined, undefined, _this.generateWindowGetter(msg.created_id), undefined)\r\n            ]; }, this._activityWindowChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.getAgmInstance = function (id) {\r\n            return this._config.agm.servers().find(function (s) { return s.peerId === id || s.windowId === id; });\r\n        };\r\n        GW3Bridge.prototype.generateWindowGetter = function (peerId) {\r\n            var _this = this;\r\n            return function () {\r\n                var server = _this.getAgmInstance(peerId);\r\n                if (!server) {\r\n                    return;\r\n                }\r\n                var windowId = server.windowId;\r\n                return _this._config.windows.list().filter(function (w) { return w.id === windowId; })[0];\r\n            };\r\n        };\r\n        GW3Bridge.prototype.isOverrideTypeDefinition = function (value) {\r\n            if (typeof value === \"undefined\") {\r\n                return false;\r\n            }\r\n            if (value.owner) {\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        return GW3Bridge;\r\n    }());\n\n    var ActivityMy = (function () {\r\n        function ActivityMy(manager, windows) {\r\n            var _this = this;\r\n            this._myAttached = [];\r\n            this._myDetached = [];\r\n            this._myAttachedTo = [];\r\n            this._myDetachedFrom = [];\r\n            this._myActivityFrameColorChanged = [];\r\n            this._myActivityJoinedCallbacks = [];\r\n            this._myActivityRemovedCallbacks = [];\r\n            this._myContextUpdateCallbacks = [];\r\n            this._logger = Logger$1.Get(this);\r\n            this._m = manager;\r\n            manager.ready()\r\n                .then(function (am) {\r\n                am.subscribeActivityContextChanged(_this._subscribeMyContextChanged.bind(_this));\r\n                am.subscribeWindowEvents(_this._subscribeMyWindowEvent.bind(_this));\r\n                am.subscribeActivitiesAttached(_this._subscribeActivitiesAttached.bind(_this));\r\n                am.subscribeActivitiesDetached(_this._subscribeActivitiesDetached.bind(_this));\r\n                if (windows) {\r\n                    windows.onWindowFrameColorChanged(_this._subscribeWindowFrameColorChanged.bind(_this));\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperty(ActivityMy.prototype, \"window\", {\r\n            get: function () {\r\n                if (isUndefinedOrNull(this._w)) {\r\n                    var announcedWindows = this._m.announcedWindows;\r\n                    if (announcedWindows.length > 0) {\r\n                        this._w = announcedWindows[0];\r\n                    }\r\n                }\r\n                return this._w;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityMy.prototype, \"activity\", {\r\n            get: function () {\r\n                var myWin = this.window;\r\n                if (isUndefinedOrNull(myWin)) {\r\n                    return undefined;\r\n                }\r\n                return myWin.activity;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityMy.prototype.createWindow = function (windowType) {\r\n            return this._m.createWindow(this.activity, windowType);\r\n        };\r\n        ActivityMy.prototype.createStackedWindows = function (windowTypes, timeout) {\r\n            return this._m.createStackedWindows(this.activity, windowTypes, timeout);\r\n        };\r\n        Object.defineProperty(ActivityMy.prototype, \"context\", {\r\n            get: function () {\r\n                var activity = this.activity;\r\n                if (isUndefined(activity)) {\r\n                    return {};\r\n                }\r\n                return activity.context;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityMy.prototype.updateContext = function (context, callback) {\r\n            var activity = this.activity;\r\n            if (isUndefined(activity)) {\r\n                return new Promise(function (resolve, reject) {\r\n                    reject(\"Not in activity\");\r\n                });\r\n            }\r\n            return activity.updateContext(context, callback);\r\n        };\r\n        ActivityMy.prototype.setContext = function (context, callback) {\r\n            var activity = this.activity;\r\n            if (isUndefined(activity)) {\r\n                return new Promise(function (resolve, reject) {\r\n                    reject(\"Not in activity\");\r\n                });\r\n            }\r\n            return activity.setContext(context, callback);\r\n        };\r\n        ActivityMy.prototype.onActivityJoined = function (callback) {\r\n            this._myActivityJoinedCallbacks.push(callback);\r\n            var myWin = this.window;\r\n            if (!isUndefinedOrNull(myWin) && !isUndefinedOrNull(myWin.activity)) {\r\n                callback(myWin.activity);\r\n            }\r\n        };\r\n        ActivityMy.prototype.onActivityLeft = function (callback) {\r\n            this._myActivityRemovedCallbacks.push(callback);\r\n        };\r\n        ActivityMy.prototype.onContextChanged = function (callback) {\r\n            this._myContextUpdateCallbacks.push(callback);\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var activity = myWin.activity;\r\n            if (isUndefinedOrNull(activity)) {\r\n                return;\r\n            }\r\n            callback(activity.context, activity.context, [], activity);\r\n        };\r\n        ActivityMy.prototype.clone = function (options, callback) {\r\n            var act = this.activity;\r\n            return this._m.clone(act, options, callback);\r\n        };\r\n        ActivityMy.prototype.attach = function (activity, tag) {\r\n            var activityId;\r\n            if (typeof activity === \"string\") {\r\n                activityId = activity;\r\n            }\r\n            else {\r\n                activityId = activity.id;\r\n            }\r\n            return this._m.attachActivities(activityId, this.activity.id, tag);\r\n        };\r\n        ActivityMy.prototype.onActivityAttached = function (callback) {\r\n            this._myAttached.push(callback);\r\n        };\r\n        ActivityMy.prototype.onActivityDetached = function (callback) {\r\n            this._myDetached.push(callback);\r\n        };\r\n        ActivityMy.prototype.onAttachedToActivity = function (callback) {\r\n            this._myAttachedTo.push(callback);\r\n        };\r\n        ActivityMy.prototype.onDetachedFromActivity = function (callback) {\r\n            this._myDetachedFrom.push(callback);\r\n        };\r\n        Object.defineProperty(ActivityMy.prototype, \"attached\", {\r\n            get: function () {\r\n                if (!this.activity) {\r\n                    return [];\r\n                }\r\n                return this.activity.attached;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityMy.prototype.setFrameColor = function (color, callback) {\r\n            if (this.activity) {\r\n                return this.activity.setFrameColor(color, callback);\r\n            }\r\n            else {\r\n                return Promise.resolve(null);\r\n            }\r\n        };\r\n        ActivityMy.prototype.getFrameColor = function () {\r\n            if (this.activity) {\r\n                return this.activity.getFrameColor();\r\n            }\r\n            return \"\";\r\n        };\r\n        ActivityMy.prototype.onFrameColorChanged = function (callback) {\r\n            this._myActivityFrameColorChanged.push(callback);\r\n        };\r\n        ActivityMy.prototype._subscribeMyContextChanged = function (activity, context, delta, removed) {\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var myActivity = myWin.activity;\r\n            if (isUndefinedOrNull(myActivity)) {\r\n                return;\r\n            }\r\n            if (activity.id !== myActivity.id) {\r\n                return;\r\n            }\r\n            this._notifyMyContextChanged(activity, context, delta, removed);\r\n        };\r\n        ActivityMy.prototype._subscribeMyWindowEvent = function (activity, window, event) {\r\n            if (isUndefinedOrNull(this.window)) {\r\n                return;\r\n            }\r\n            if (this.window.id !== window.id) {\r\n                return;\r\n            }\r\n            if (event === EntityEventType.ActivityWindowJoinedActivity) {\r\n                this._notifyMyWindowEvent(activity, this._myActivityJoinedCallbacks);\r\n                this._notifyMyContextChanged(activity, activity.context, null, null);\r\n            }\r\n            else if (event === EntityEventType.ActivityWindowLeftActivity) {\r\n                this._notifyMyWindowEvent(activity, this._myActivityRemovedCallbacks);\r\n            }\r\n        };\r\n        ActivityMy.prototype._notifyMyWindowEvent = function (activity, callbackStore) {\r\n            var _this = this;\r\n            callbackStore.forEach(function (element) {\r\n                try {\r\n                    element(activity, event);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyMyContextChanged = function (activity, context, delta, removed) {\r\n            var _this = this;\r\n            delta = delta || {};\r\n            removed = removed || [];\r\n            this._myContextUpdateCallbacks.forEach(function (element) {\r\n                try {\r\n                    element(context, delta, removed, activity);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyAttached = function (state) {\r\n            var _this = this;\r\n            this._myAttached.forEach(function (cb) {\r\n                try {\r\n                    cb(state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyDetached = function (state) {\r\n            var _this = this;\r\n            this._myDetached.forEach(function (cb) {\r\n                try {\r\n                    cb(state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyAttachedTo = function (state) {\r\n            var _this = this;\r\n            this._myAttachedTo.forEach(function (cb) {\r\n                try {\r\n                    cb(_this.activity, state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyDetachedFrom = function (detached, existing, state) {\r\n            var _this = this;\r\n            this._myDetachedFrom.forEach(function (cb) {\r\n                try {\r\n                    cb(detached, existing, state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._subscribeActivitiesAttached = function (newAct, state) {\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var myActivity = myWin.activity;\r\n            if (isUndefinedOrNull(myActivity)) {\r\n                return;\r\n            }\r\n            if (newAct.id !== myActivity.id) {\r\n                return;\r\n            }\r\n            if (state.windowIds.indexOf(myWin.id) >= 0) {\r\n                this._notifyAttachedTo(state);\r\n                return;\r\n            }\r\n            this._notifyAttached(state);\r\n        };\r\n        ActivityMy.prototype._subscribeActivitiesDetached = function (newAct, oldAct, state) {\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var myActivity = myWin.activity;\r\n            if (isUndefinedOrNull(myActivity)) {\r\n                return;\r\n            }\r\n            if (oldAct.id === myActivity.id) {\r\n                this._notifyDetached(state);\r\n            }\r\n            if (newAct.id === myActivity.id) {\r\n                this._notifyDetachedFrom(newAct, oldAct, state);\r\n            }\r\n        };\r\n        ActivityMy.prototype._subscribeWindowFrameColorChanged = function (window) {\r\n            var act = this.activity;\r\n            if (!act) {\r\n                return;\r\n            }\r\n            if (!act.owner) {\r\n                return;\r\n            }\r\n            if (act.owner.underlyingWindow.id === window.id) {\r\n                this._myActivityFrameColorChanged.forEach(function (callback) {\r\n                    callback(window.frameColor);\r\n                });\r\n            }\r\n        };\r\n        return ActivityMy;\r\n    }());\n\n    var ReadyMarker = (function () {\r\n        function ReadyMarker(name, signalsToWait) {\r\n            this._logger = Logger$1.Get(\"ReadyMarker [\" + name + \"]\");\r\n            this._logger.debug(\"Initializing ready marker for '\" + name + \"' with \" + signalsToWait + \" signals to wait\");\r\n            if (signalsToWait <= 0) {\r\n                throw new Error(\"Invalid signal number. Should be > 0\");\r\n            }\r\n            this._signals = signalsToWait;\r\n            this._callbacks = [];\r\n            this._name = name;\r\n        }\r\n        ReadyMarker.prototype.setCallback = function (callback) {\r\n            if (this.isSet()) {\r\n                callback(undefined);\r\n                return;\r\n            }\r\n            else if (this.isError()) {\r\n                callback(this._error);\r\n                return;\r\n            }\r\n            this._callbacks.push(callback);\r\n        };\r\n        ReadyMarker.prototype.signal = function (message) {\r\n            this._logger.debug(\"Signaled - \" + message + \" - signals left \" + (this._signals - 1));\r\n            this._signals--;\r\n            if (this._signals < 0) {\r\n                throw new Error(\"Error in ready marker '\" + this._name + \" - signals are \" + this._signals);\r\n            }\r\n            if (this.isSet()) {\r\n                this._callbacks.forEach(function (callback) {\r\n                    callback(undefined);\r\n                });\r\n            }\r\n        };\r\n        ReadyMarker.prototype.error = function (error) {\r\n            this._error = error;\r\n            this._callbacks.forEach(function (errorCallback) {\r\n                errorCallback(error);\r\n            });\r\n        };\r\n        ReadyMarker.prototype.isSet = function () {\r\n            if (this.isError()) {\r\n                return false;\r\n            }\r\n            return this._signals === 0;\r\n        };\r\n        ReadyMarker.prototype.isError = function () {\r\n            return !isUndefined(this._error);\r\n        };\r\n        ReadyMarker.prototype.getError = function () {\r\n            return this._error;\r\n        };\r\n        return ReadyMarker;\r\n    }());\n\n    var EntityObservableCollection = (function () {\r\n        function EntityObservableCollection(processNew) {\r\n            this._items = {};\r\n            this._listeners = [];\r\n            this._processNew = processNew;\r\n        }\r\n        EntityObservableCollection.prototype.addOne = function (item) {\r\n            this.add([item]);\r\n        };\r\n        EntityObservableCollection.prototype.add = function (items) {\r\n            var _this = this;\r\n            items.forEach(function (element) {\r\n                _this.process(new EntityEvent(element, new EntityEventContext(EntityEventType.Added)));\r\n            });\r\n        };\r\n        EntityObservableCollection.prototype.process = function (event) {\r\n            var context = event.context;\r\n            var type = context.type;\r\n            var entity = event.entity;\r\n            if (type === EntityEventType.StatusChange &&\r\n                !context.oldStatus) {\r\n                var act = this._items[entity.id];\r\n                if (act) {\r\n                    context.oldStatus = act.status;\r\n                }\r\n            }\r\n            if (type === EntityEventType.StatusChange &&\r\n                context.oldStatus &&\r\n                context.newStatus &&\r\n                context.oldStatus.state ===\r\n                    context.newStatus.state) {\r\n                context.type = EntityEventType.Updated;\r\n            }\r\n            if (typeof htmlContainer === \"undefined\") {\r\n                if (type === EntityEventType.ActivityWindowJoinedActivity &&\r\n                    this._items[entity.id] &&\r\n                    this._items[entity.id].activity) {\r\n                    context.type = EntityEventType.Updated;\r\n                }\r\n                if (type === EntityEventType.ActivityWindowLeftActivity &&\r\n                    this._items[entity.id] &&\r\n                    !this._items[entity.id].activity) {\r\n                    context.type = EntityEventType.Updated;\r\n                }\r\n            }\r\n            var internalEntity = this._updateInternalCollections(entity, type, context);\r\n            this._notifyListeners(internalEntity, context);\r\n            return internalEntity;\r\n        };\r\n        EntityObservableCollection.prototype.get = function () {\r\n            var result = [];\r\n            for (var key in this._items) {\r\n                if (this._items.hasOwnProperty(key)) {\r\n                    var element = this._items[key];\r\n                    result.push(element);\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n        EntityObservableCollection.prototype.getByName = function (name) {\r\n            for (var key in this._items) {\r\n                if (key === name) {\r\n                    return this._items[key];\r\n                }\r\n            }\r\n            return undefined;\r\n        };\r\n        EntityObservableCollection.prototype.getOrWait = function (name) {\r\n            var _this = this;\r\n            return new Promise(function (resolve) {\r\n                var entityAddedHandler = function (entity) {\r\n                    if (entity.id !== name) {\r\n                        return;\r\n                    }\r\n                    resolve(entity);\r\n                    _this.unsubscribe(entityAddedHandler);\r\n                };\r\n                _this.subscribe(entityAddedHandler);\r\n                var window = _this.getByName(name);\r\n                if (window) {\r\n                    _this.unsubscribe(entityAddedHandler);\r\n                    resolve(window);\r\n                    return;\r\n                }\r\n            });\r\n        };\r\n        EntityObservableCollection.prototype.subscribe = function (handler) {\r\n            var _this = this;\r\n            this._listeners.push(handler);\r\n            Object.keys(this._items).forEach(function (key) {\r\n                var element = _this._items[key];\r\n                handler(element, new EntityEventContext(EntityEventType.Added.toString()));\r\n            });\r\n            return function () {\r\n                _this.unsubscribe(handler);\r\n            };\r\n        };\r\n        EntityObservableCollection.prototype.unsubscribe = function (handler) {\r\n            var index = this._listeners.indexOf(handler);\r\n            if (index !== -1) {\r\n                this._listeners.splice(index, 1);\r\n            }\r\n        };\r\n        EntityObservableCollection.prototype._notifyListeners = function (entity, context) {\r\n            this._listeners.forEach(function (listener) {\r\n                try {\r\n                    listener(entity, context);\r\n                }\r\n                catch (e) {\r\n                    return;\r\n                }\r\n            });\r\n        };\r\n        EntityObservableCollection.prototype._updateInternalCollections = function (entity, type, context) {\r\n            var entityAsAny = entity;\r\n            var isActivityDestroy = (type === EntityEventType.StatusChange &&\r\n                entityAsAny.status &&\r\n                entityAsAny.status.state === ActivityState.Destroyed) ||\r\n                (type === EntityEventType.StatusChange &&\r\n                    context &&\r\n                    context.newStatus &&\r\n                    context.newStatus.state === ActivityState.Destroyed);\r\n            var isWindowClose = type === EntityEventType.Closed;\r\n            var isTypeRemove = type === EntityEventType.Removed && typeof entityAsAny.isIndependent === \"undefined\";\r\n            if (isTypeRemove || isWindowClose || isActivityDestroy) {\r\n                var oldEntity = this._items[entity.id];\r\n                delete this._items[entity.id];\r\n                this._processNew(entity);\r\n                if (oldEntity) {\r\n                    entity._beforeDelete(oldEntity);\r\n                }\r\n                return entity;\r\n            }\r\n            else {\r\n                var key = entity.id;\r\n                if (!this._items.hasOwnProperty(key)) {\r\n                    this._processNew(entity);\r\n                    this._items[entity.id] = entity;\r\n                }\r\n                else {\r\n                    this._items[entity.id]._update(entity);\r\n                }\r\n            }\r\n            return this._items[entity.id];\r\n        };\r\n        return EntityObservableCollection;\r\n    }());\n\n    var ActivityManager = (function () {\r\n        function ActivityManager(bridge, autoAnnounce, windows) {\r\n            var _this = this;\r\n            this._logger = Logger$1.Get(\"activityManager\");\r\n            this._announcedWindows = [];\r\n            this._attachedCallbacks = [];\r\n            this._detachedCallbacks = [];\r\n            this._frameColorChangesCallbacks = [];\r\n            this._windowHandlers = [];\r\n            this._bridge = bridge;\r\n            this._activityTypes = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._windowTypes = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._activities = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._windows = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._dataReadyMarker = new ReadyMarker(\"Activity Manager Data\", [\"GetActivityTypes\", \"GetWindowTypes\", \"GetActivities\", \"GetWindows\"].length);\r\n            this._descriptorsMarker = new ReadyMarker(\"Attached Activities Descriptors\", [\"GetDescriptors\"].length);\r\n            if (autoAnnounce) {\r\n                this._readyMarker = new ReadyMarker(\"Activity Manager Announce\", [\"Announcement\"].length);\r\n                this._dataReadyMarker.setCallback(function (dataErr) {\r\n                    if (dataErr) {\r\n                        _this._readyMarker.error(dataErr);\r\n                    }\r\n                    _this._descriptorsMarker.setCallback(function (err) {\r\n                        if (err) {\r\n                            _this._readyMarker.error(err);\r\n                        }\r\n                        _this._logger.debug(\"Auto announcing window\");\r\n                        _this.announceWindow()\r\n                            .then(function (w) {\r\n                            _this._announcedWindows.push(w);\r\n                            _this._readyMarker.signal(\"Successfully announced window with id '\" + w.id + \"'\");\r\n                        })\r\n                            .catch(function (errCatch) {\r\n                            _this._logger.debug(\"Will not announce window - \" + errCatch);\r\n                            _this._readyMarker.signal();\r\n                        });\r\n                    });\r\n                    _this.refreshDescriptors();\r\n                });\r\n            }\r\n            else {\r\n                this._readyMarker = this._dataReadyMarker;\r\n            }\r\n            this._bridge.onActivitiesAttached(function (e) {\r\n                _this._handleActivitiesAttached(e);\r\n            });\r\n            this._bridge.onActivitiesDetached(function (e) {\r\n                _this._handleActivitiesDetached(e);\r\n            });\r\n            this._bridge.onActivityAttachedDescriptorsRefreshed(function (e) {\r\n                _this._handleActivityDescriptorsRefreshed(e);\r\n            });\r\n            if (windows) {\r\n                windows.onWindowFrameColorChanged(this._handleWindowFrameColorChanged.bind(this));\r\n            }\r\n            this._bridge.init();\r\n            this._subscribeForData();\r\n            this._bridge\r\n                .initReady()\r\n                .then(function (aw) {\r\n                _this._getInitialData();\r\n            })\r\n                .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n        }\r\n        Object.defineProperty(ActivityManager.prototype, \"usingHc\", {\r\n            get: function () {\r\n                return this._bridge.bridgeType === \"HC\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityManager.prototype, \"announcedWindows\", {\r\n            get: function () {\r\n                return this._announcedWindows;\r\n            },\r\n            set: function (v) {\r\n                throw new Error(\"not allowed\");\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityManager.prototype.ready = function (callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                _this._readyMarker.setCallback(function (err) {\r\n                    if (!err) {\r\n                        resolve(_this);\r\n                    }\r\n                    else {\r\n                        reject(_this._readyMarker.getError());\r\n                    }\r\n                });\r\n            });\r\n            return nodeify(Promise.all([this._bridge.ready(), promise]).then(function () { return _this; }), callback);\r\n        };\r\n        ActivityManager.prototype.getActivityTypes = function () {\r\n            return this._activityTypes.get();\r\n        };\r\n        ActivityManager.prototype.getActivityType = function (name) {\r\n            return this._activityTypes.getByName(name);\r\n        };\r\n        ActivityManager.prototype.registerActivityType = function (activityTypeName, ownerWindowType, helperWindowTypes, config, description, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activityTypeName)) {\r\n                    reject(\"activityTypeName argument can not be undefined\");\r\n                    return;\r\n                }\r\n                if (!isString(activityTypeName)) {\r\n                    reject(\"activityTypeName should be string\");\r\n                    return;\r\n                }\r\n                var actType = _this.getActivityType(activityTypeName);\r\n                if (!isUndefinedOrNull(actType)) {\r\n                    reject(\"Activity type '\" + activityTypeName + \"' already exists\");\r\n                    return;\r\n                }\r\n                var ownerDefinition;\r\n                if (isUndefined(ownerWindowType)) {\r\n                    reject(\"Owner window type can not be undefined\");\r\n                    return;\r\n                }\r\n                if (isString(ownerWindowType)) {\r\n                    ownerDefinition = { type: ownerWindowType, name: \"\", isIndependent: false, arguments: {} };\r\n                }\r\n                else {\r\n                    ownerDefinition = ownerWindowType;\r\n                }\r\n                var helperDefinitions = [];\r\n                if (!isUndefined(helperWindowTypes) && isArray(helperWindowTypes)) {\r\n                    for (var index in helperWindowTypes) {\r\n                        var item = helperWindowTypes[index];\r\n                        if (isString(item)) {\r\n                            var definition = {\r\n                                type: item,\r\n                                name: \"\",\r\n                                isIndependent: false,\r\n                                arguments: {},\r\n                                relativeTo: \"\",\r\n                                relativeDirection: \"\",\r\n                                windowStyleAttributes: {}\r\n                            };\r\n                            helperDefinitions.push(definition);\r\n                        }\r\n                        else {\r\n                            helperDefinitions.push(item);\r\n                        }\r\n                    }\r\n                }\r\n                _this._bridge\r\n                    .registerActivityType(activityTypeName, ownerDefinition, helperDefinitions, config, description)\r\n                    .then(function (activityType) {\r\n                    _this._grabEntity(activityType);\r\n                    resolve(activityType);\r\n                })\r\n                    .catch(function (error) {\r\n                    reject(error);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.unregisterActivityType = function (type, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var actType = _this.getActivityType(type);\r\n                if (isUndefined(actType)) {\r\n                    reject(\"Activity type '\" + type + \"' does not exists\");\r\n                    return;\r\n                }\r\n                _this._bridge.unregisterActivityType(type).then(function () { return resolve(actType); }, reject);\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.initiate = function (activityType, context, callback, configuration) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var actType = _this.getActivityType(activityType);\r\n                if (isUndefined(actType)) {\r\n                    reject(\"Activity type '\" + activityType + \"' does not exists\");\r\n                    return;\r\n                }\r\n                _this._bridge\r\n                    .initiateActivity(activityType, context, configuration)\r\n                    .then(function (actId) {\r\n                    _this._activities\r\n                        .getOrWait(actId)\r\n                        .then(function (act) {\r\n                        resolve(act);\r\n                    })\r\n                        .catch(function (err) { return reject(err); });\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivityTypeEvents = function (handler) {\r\n            this._activityTypes.subscribe(function (at, context) {\r\n                handler(at, context.type);\r\n            });\r\n        };\r\n        ActivityManager.prototype.getWindowTypes = function () {\r\n            return this._windowTypes.get();\r\n        };\r\n        ActivityManager.prototype.getWindowType = function (name) {\r\n            return this._windowTypes.getByName(name);\r\n        };\r\n        ActivityManager.prototype.registerWindowFactory = function (windowType, factoryMethod, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(windowType)) {\r\n                    reject(\"no windowType specified\");\r\n                    return;\r\n                }\r\n                if (isObject(windowType)) {\r\n                    windowType = windowType.getName();\r\n                }\r\n                else if (!isString(windowType)) {\r\n                    reject(\"windowType should be string or object that has getName method\");\r\n                    return;\r\n                }\r\n                _this._bridge\r\n                    .registerWindowFactory(windowType, factoryMethod)\r\n                    .then(function (v) {\r\n                    resolve(v);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.unregisterWindowFactory = function (windowType, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(windowType)) {\r\n                    reject(\"no windowType specified\");\r\n                    return;\r\n                }\r\n                if (!isString(windowType)) {\r\n                    reject(\"windowType should be a string\");\r\n                    return;\r\n                }\r\n                _this._bridge\r\n                    .unregisterWindowFactory(windowType)\r\n                    .then(function (v) {\r\n                    resolve(v);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.getActivities = function (activityType) {\r\n            var act = this._activities.get();\r\n            act = act.filter(function (a) { return a._ownerId; });\r\n            if (!activityType) {\r\n                return act;\r\n            }\r\n            var types = activityType;\r\n            if (isString(activityType)) {\r\n                types = [activityType];\r\n            }\r\n            else if (activityType instanceof ActivityType) {\r\n                types = [activityType.name];\r\n            }\r\n            else if (activityType instanceof Array) ;\r\n            else {\r\n                throw new Error(\"Invalid input argument 'activityType' = \" + activityType);\r\n            }\r\n            return act.filter(function (at) {\r\n                var type = at.type;\r\n                return some(types, function (t) {\r\n                    return type.id === t.id;\r\n                });\r\n            });\r\n        };\r\n        ActivityManager.prototype.getActivityById = function (id) {\r\n            return this._activities.getByName(id);\r\n        };\r\n        ActivityManager.prototype.announceWindow = function (activityWindowId, windowType) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var announcementInfo = _this._bridge.getAnnouncementInfo();\r\n                if (isUndefined(activityWindowId)) {\r\n                    activityWindowId = announcementInfo.activityWindowId;\r\n                }\r\n                if (isUndefined(windowType)) {\r\n                    windowType = announcementInfo.activityWindowType;\r\n                }\r\n                if (isUndefinedOrNull(windowType)) {\r\n                    throw new Error(\"Can not announce - unknown windowType\");\r\n                }\r\n                var activityId = announcementInfo && announcementInfo.activityId;\r\n                if (isUndefinedOrNull(activityWindowId)) {\r\n                    _this._logger.debug(\"Registering window with type:'\" + windowType + \"', name:'\" + announcementInfo.activityWindowName + \"', ind.:'\" + announcementInfo.activityWindowIndependent + \"'\");\r\n                    _this._bridge.registerWindow(windowType, announcementInfo.activityWindowName, announcementInfo.activityWindowIndependent)\r\n                        .then(_this._windows.getOrWait.bind(_this._windows))\r\n                        .then(function (w) {\r\n                        if (activityId) {\r\n                            return _this._activities.getOrWait(activityId).then(function (_) { return w; });\r\n                        }\r\n                        else {\r\n                            return w;\r\n                        }\r\n                    })\r\n                        .then(function (w) {\r\n                        resolve(w);\r\n                    })\r\n                        .catch(function (err) {\r\n                        _this._logger.error(err);\r\n                    });\r\n                }\r\n                else {\r\n                    _this._logger.debug(\"Announcing window with id '\" + activityWindowId + \"' and type '\" + windowType + \"'\");\r\n                    var currentWindow = _this._windows.getByName(activityWindowId);\r\n                    if (!isUndefinedOrNull(currentWindow)) {\r\n                        _this._logger.debug(\"Window with id '\" + activityWindowId + \"' already announced - reusing the window\");\r\n                        resolve(currentWindow);\r\n                        return;\r\n                    }\r\n                    var windowEventHandler_1 = function (a, w, e) {\r\n                        if (activityWindowId === w.id) {\r\n                            if (e === EntityEventType.ActivityWindowJoinedActivity) {\r\n                                var activity = w.activity;\r\n                                if (isUndefined(activity)) {\r\n                                    reject(\"UNDEFINED ACTIVITY\");\r\n                                }\r\n                                _this._logger.trace(\"Got joined event for id '\" + activityWindowId + \"'\");\r\n                                resolve(w);\r\n                                _this.unsubscribeWindowEvents(windowEventHandler_1);\r\n                            }\r\n                        }\r\n                    };\r\n                    _this.subscribeWindowEvents(windowEventHandler_1);\r\n                    _this._logger.trace(\"Waiting for joined event for id '\" + activityWindowId + \"'\");\r\n                    _this._bridge.announceWindow(windowType, activityWindowId);\r\n                }\r\n            });\r\n            return promise;\r\n        };\r\n        ActivityManager.prototype.subscribeWindowTypeEvents = function (handler) {\r\n            this._windowTypes.subscribe(function (wt, context) {\r\n                handler(wt, context.type);\r\n            });\r\n        };\r\n        ActivityManager.prototype.subscribeActivityEvents = function (handler) {\r\n            var _this = this;\r\n            return this._activities.subscribe(function (act, context) {\r\n                if (context.type === EntityEventType.StatusChange) {\r\n                    var p = context;\r\n                    handler(act, p.newStatus, p.oldStatus);\r\n                }\r\n                if (context.type === EntityEventType.Removed ||\r\n                    (context.type === EntityEventType.StatusChange &&\r\n                        context.newStatus.getState() === ActivityState.Destroyed)) {\r\n                    for (var _i = 0, _a = _this._windows.get(); _i < _a.length; _i++) {\r\n                        var window_1 = _a[_i];\r\n                        if (window_1.activity && window_1.activity.id === act.id) {\r\n                            _this._windows.process(new EntityEvent(window_1, new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)));\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        ActivityManager.prototype.subscribeWindowEvents = function (handler) {\r\n            var wrappingHandler = function (window, context) {\r\n                var eventType = context.type;\r\n                if (eventType === EntityEventType.Added) {\r\n                    eventType = \"opened\";\r\n                }\r\n                handler(window.activity, window, eventType);\r\n            };\r\n            this._windowHandlers.push([handler, wrappingHandler]);\r\n            return this._windows.subscribe(wrappingHandler);\r\n        };\r\n        ActivityManager.prototype.unsubscribeWindowEvents = function (handler) {\r\n            var found = this._windowHandlers.find(function (pair) { return pair[0] === handler; });\r\n            if (found) {\r\n                this._windowHandlers.splice(this._windowHandlers.indexOf(found), 1);\r\n                this._windows.unsubscribe(found[1]);\r\n            }\r\n        };\r\n        ActivityManager.prototype.createWindow = function (activity, windowTypeOrConfiguration, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(windowTypeOrConfiguration)) {\r\n                    reject(\"windowType is undefined\");\r\n                }\r\n                var windowDefinition;\r\n                if (isString(windowTypeOrConfiguration)) {\r\n                    windowDefinition = { type: windowTypeOrConfiguration, name: \"\", isIndependent: false, arguments: {} };\r\n                }\r\n                else if (windowTypeOrConfiguration instanceof WindowType) {\r\n                    windowDefinition = {\r\n                        type: windowTypeOrConfiguration.type || windowTypeOrConfiguration.id,\r\n                        name: windowTypeOrConfiguration.name || windowTypeOrConfiguration.type || windowTypeOrConfiguration.id,\r\n                        isIndependent: false\r\n                    };\r\n                }\r\n                else {\r\n                    var invalidKeys_1 = [\"url\"];\r\n                    var filteredWindowTypeOrConfiguration_1 = {};\r\n                    Object.keys(windowTypeOrConfiguration).forEach(function (key) {\r\n                        if (invalidKeys_1.indexOf(key) === -1) {\r\n                            filteredWindowTypeOrConfiguration_1[key] = windowTypeOrConfiguration[key];\r\n                        }\r\n                    });\r\n                    windowDefinition = filteredWindowTypeOrConfiguration_1;\r\n                }\r\n                var relativeToWindow;\r\n                if (!isUndefinedOrNull(windowDefinition.relativeTo)) {\r\n                    relativeToWindow = windowDefinition.relativeTo;\r\n                    if (typeof relativeToWindow === \"string\") {\r\n                        var windows = _this.getWindows({ type: relativeToWindow });\r\n                        if (!isUndefinedOrNull(windows) && windows.length > 0) {\r\n                            windowDefinition.relativeTo = windows[0].id;\r\n                        }\r\n                    }\r\n                    else if (!isUndefinedOrNull(relativeToWindow.type)) {\r\n                        var windows = _this.getWindows({ type: relativeToWindow.type });\r\n                        if (!isUndefinedOrNull(windows) && windows.length > 0) {\r\n                            windowDefinition.relativeTo = windows[0].id;\r\n                        }\r\n                    }\r\n                    else if (!isUndefinedOrNull(relativeToWindow.windowId)) {\r\n                        windowDefinition.relativeTo = relativeToWindow.windowId;\r\n                    }\r\n                }\r\n                _this._bridge.createWindow(activity && activity.id, windowDefinition)\r\n                    .then(function (wid) {\r\n                    _this._logger.debug(\"Window created, waiting for window entity with id \" + wid);\r\n                    var handler = function (window, context) {\r\n                        if (window.id === wid && (!activity || window.activity)) {\r\n                            _this._logger.debug(\"Got entity window with id \" + wid);\r\n                            resolve(window);\r\n                            _this._windows.unsubscribe(handler);\r\n                        }\r\n                    };\r\n                    _this._windows.subscribe(handler);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.createStackedWindows = function (activity, relativeWindowTypes, timeout, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activity)) {\r\n                    reject(\"activity is undefined\");\r\n                }\r\n                if (isUndefinedOrNull(relativeWindowTypes)) {\r\n                    reject(\"relativeWindowTypes is undefined\");\r\n                }\r\n                if (!Array.isArray(relativeWindowTypes)) {\r\n                    reject(\"relativeWindowTypes has to be an array\");\r\n                }\r\n                if (isUndefinedOrNull(timeout)) {\r\n                    timeout = 20000;\r\n                }\r\n                var windowDefinitions = [];\r\n                relativeWindowTypes.forEach(function (element) {\r\n                    var windowDefinition;\r\n                    if (isString(element)) {\r\n                        windowDefinition = { type: element, name: \"\", isIndependent: false, arguments: {} };\r\n                    }\r\n                    else {\r\n                        windowDefinition = element;\r\n                    }\r\n                    windowDefinition.stackedWindow = true;\r\n                    windowDefinition.timeout = timeout;\r\n                    var relativeToWindow;\r\n                    if (!isUndefinedOrNull(windowDefinition.relativeTo)) {\r\n                        relativeToWindow = windowDefinition.relativeTo;\r\n                        if (!isUndefinedOrNull(relativeToWindow.type)) {\r\n                            windowDefinition.relativeTo = relativeToWindow.type;\r\n                        }\r\n                        else if (!isUndefinedOrNull(relativeToWindow.windowId)) {\r\n                            var windows = _this.getWindows({ id: relativeToWindow.windowId });\r\n                            if (!isUndefinedOrNull(windows) && windows.length > 0) {\r\n                                windowDefinition.relativeTo = windows[0].type.name;\r\n                            }\r\n                        }\r\n                    }\r\n                    windowDefinitions.push(windowDefinition);\r\n                });\r\n                var tasks = [];\r\n                windowDefinitions.forEach(function (wd) { return tasks.push(_this.createWindow(activity, wd)); });\r\n                Promise.all(tasks).then(resolve).catch(reject);\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.addWindowToActivity = function (activity, window, callback) {\r\n            var toReturn = this._bridge.joinActivity(activity.id, window.id)\r\n                .then(function () { return window; });\r\n            nodeify(toReturn, callback);\r\n            return toReturn;\r\n        };\r\n        ActivityManager.prototype.leaveWindowFromActivity = function (activity, window, callback) {\r\n            var toReturn = this._bridge.leaveActivity(activity.id, window.id)\r\n                .then(function () { return window; });\r\n            nodeify(toReturn, callback);\r\n            return toReturn;\r\n        };\r\n        ActivityManager.prototype.setActivityContext = function (activity, context, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activity)) {\r\n                    reject(\"activity can not be null\");\r\n                }\r\n                _this._bridge\r\n                    .updateActivityContext(activity, context, true)\r\n                    .then(function (_) {\r\n                    resolve(activity);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.updateActivityContext = function (activity, context, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activity)) {\r\n                    reject(\"activity can not be null\");\r\n                }\r\n                var removedKeys = [];\r\n                for (var key in context) {\r\n                    if (context.hasOwnProperty(key) && context[key] === null) {\r\n                        removedKeys.push(key);\r\n                    }\r\n                }\r\n                for (var _i = 0, removedKeys_1 = removedKeys; _i < removedKeys_1.length; _i++) {\r\n                    var removedKey = removedKeys_1[_i];\r\n                    delete context[removedKey];\r\n                }\r\n                _this._bridge\r\n                    .updateActivityContext(activity, context, false, removedKeys)\r\n                    .then(function (_) {\r\n                    resolve(activity);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivityContextChanged = function (handler) {\r\n            this._activities.subscribe(function (act, context) {\r\n                if (context.type === EntityEventType.ActivityContextChange) {\r\n                    var updateContext = context;\r\n                    handler(act, updateContext.context, updateContext.updated, updateContext.removed);\r\n                }\r\n            });\r\n        };\r\n        ActivityManager.prototype.stopActivity = function (activity, callback) {\r\n            var promise = this._bridge.stopActivity(activity);\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.getWindows = function (filter) {\r\n            if (isUndefined(filter)) {\r\n                return this._windows.get();\r\n            }\r\n            if (!isUndefined(filter.id)) {\r\n                return [this._windows.getByName(filter.id)];\r\n            }\r\n            var allWindows = this._windows.get();\r\n            return allWindows.filter(function (w) {\r\n                if (!isUndefined(filter.type) && w.type.id !== filter.type) {\r\n                    return false;\r\n                }\r\n                if (!isUndefined(filter.name) && w.name !== filter.name) {\r\n                    return false;\r\n                }\r\n                if (!isUndefined(filter.activityId)) {\r\n                    if (isUndefinedOrNull(w.activity)) {\r\n                        return false;\r\n                    }\r\n                    if (w.activity.id !== filter.activityId) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            });\r\n        };\r\n        ActivityManager.prototype.getWindowBounds = function (id) {\r\n            return this._bridge.getWindowBounds(id);\r\n        };\r\n        ActivityManager.prototype.setWindowBounds = function (id, bounds, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                _this._bridge.setWindowBounds(id, bounds)\r\n                    .then(function () { return resolve(); })\r\n                    .catch(function (err) { return reject(err); });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.closeWindow = function (id) {\r\n            return this._bridge.closeWindow(id);\r\n        };\r\n        ActivityManager.prototype.activateWindow = function (id, focus) {\r\n            return this._bridge.activateWindow(id, focus);\r\n        };\r\n        ActivityManager.prototype.setWindowVisibility = function (id, visible) {\r\n            return this._bridge.setWindowVisibility(id, visible);\r\n        };\r\n        ActivityManager.prototype.clone = function (activity, cloneOptions, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (!activity) {\r\n                    reject(\"activity can not be null\");\r\n                }\r\n                _this._bridge.cloneActivity(activity.id, cloneOptions)\r\n                    .then(function (activityId) {\r\n                    _this._activities\r\n                        .getOrWait(activityId)\r\n                        .then(function (act) {\r\n                        resolve(act);\r\n                    })\r\n                        .catch(function (err) { return reject(err); });\r\n                })\r\n                    .catch(function (err) { return reject(err); });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.attachActivities = function (from, to, tag, callback) {\r\n            var _this = this;\r\n            tag = tag || {};\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var fromActivity = _this._activities.getByName(from);\r\n                if (!fromActivity) {\r\n                    reject(\"can not find activity with id \" + from);\r\n                    return;\r\n                }\r\n                var toActivity = _this._activities.getByName(to);\r\n                if (!toActivity) {\r\n                    reject(\"can not find activity with id \" + to);\r\n                    return;\r\n                }\r\n                return _this._bridge.attachActivities(from, to, tag)\r\n                    .then(function (data) {\r\n                    var newActId = data.to;\r\n                    var state = data.descriptor;\r\n                    var allStates = data.descriptors;\r\n                    _this._activities.getOrWait(newActId).then(function (act) {\r\n                        act._updateDescriptors(allStates);\r\n                        var stateWrapped = act.attached.filter(function (u) { return u.ownerId === state.ownerId; })[0];\r\n                        resolve(stateWrapped);\r\n                    });\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.detachActivities = function (activityId, descriptor, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                return _this._bridge.detachActivities(activityId, descriptor)\r\n                    .then(function () {\r\n                    var oldActId = undefined;\r\n                    var newActId = undefined;\r\n                    var descriptors = undefined;\r\n                    _this._activities\r\n                        .getOrWait(oldActId)\r\n                        .then(function (oldAct) {\r\n                        oldAct._updateDescriptors(descriptors);\r\n                        _this._activities\r\n                            .getOrWait(newActId)\r\n                            .then(function (newAct) {\r\n                            resolve(newAct);\r\n                        });\r\n                    })\r\n                        .catch(function (err) { return reject(err); });\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivitiesAttached = function (callback) {\r\n            this._attachedCallbacks.push(callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivitiesDetached = function (callback) {\r\n            this._detachedCallbacks.push(callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivityFrameColorChanged = function (callback) {\r\n            this._frameColorChangesCallbacks.push(callback);\r\n        };\r\n        ActivityManager.prototype._grabEntity = function (entity) {\r\n            entity._manager = this;\r\n        };\r\n        ActivityManager.prototype._getInitialData = function () {\r\n            var _this = this;\r\n            this._logger.debug(\"Request initial data...\");\r\n            this._bridge.getActivityTypes()\r\n                .then(function (at) {\r\n                _this._activityTypes.add(at);\r\n                _this._dataReadyMarker.signal(\"Got act types\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity types -\" + error);\r\n            });\r\n            this._bridge.getWindowTypes()\r\n                .then(function (wt) {\r\n                _this._windowTypes.add(wt);\r\n                _this._dataReadyMarker.signal(\"Got window types\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting window types  \" + error);\r\n            });\r\n            this._bridge.getActivities()\r\n                .then(function (ac) {\r\n                _this._activities.add(ac);\r\n                _this._dataReadyMarker.signal(\"Got activities\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity instances -\" + error);\r\n            });\r\n            this._bridge.getActivityWindows()\r\n                .then(function (aw) {\r\n                _this._windows.add(aw);\r\n                _this._dataReadyMarker.signal(\"Got windows\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity windows -\" + error);\r\n            });\r\n        };\r\n        ActivityManager.prototype._subscribeForData = function () {\r\n            var _this = this;\r\n            this._logger.debug(\"Subscribe for data...\");\r\n            this._bridge.onActivityTypeStatusChange(function (event) {\r\n                _this._activityTypes.process(event);\r\n            });\r\n            this._bridge.onWindowTypeStatusChange(function (event) {\r\n                _this._windowTypes.process(event);\r\n            });\r\n            this._bridge.onActivityWindowChange(function (event) {\r\n                _this._windows.process(event);\r\n            });\r\n            this._bridge.onActivityStatusChange(function (event) {\r\n                _this._activities.process(event);\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleActivitiesAttached = function (data) {\r\n            var _this = this;\r\n            var newActId = data.to;\r\n            var descriptor = data.descriptor;\r\n            var descriptors = data.descriptors;\r\n            this._activities.getOrWait(newActId).then(function (act) {\r\n                act._updateDescriptors(descriptors);\r\n                var descriptorAsObjectFromAPI = act.attached.filter(function (u) { return u.ownerId === descriptor.ownerId; })[0];\r\n                _this._attachedCallbacks.forEach(function (callback) {\r\n                    try {\r\n                        callback(act, descriptorAsObjectFromAPI);\r\n                    }\r\n                    catch (err) {\r\n                        return;\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleActivitiesDetached = function (data) {\r\n            var _this = this;\r\n            var oldActId = data.oldActivityId;\r\n            var newActId = data.newActivityId;\r\n            var descriptors = data.descriptors;\r\n            var descriptor = data.descriptor;\r\n            this._activities.getOrWait(oldActId).then(function (oldAct) {\r\n                oldAct._updateDescriptors(descriptors);\r\n                _this._activities.getOrWait(newActId).then(function (newAct) {\r\n                    _this._detachedCallbacks.forEach(function (callback) {\r\n                        try {\r\n                            callback(newAct, oldAct, descriptor);\r\n                        }\r\n                        catch (err) {\r\n                            return;\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleActivityDescriptorsRefreshed = function (data) {\r\n            var id = data.id;\r\n            var descriptors = data.descriptors;\r\n            var act = this._activities.getByName(id);\r\n            if (act) {\r\n                act._updateDescriptors(descriptors);\r\n            }\r\n        };\r\n        ActivityManager.prototype.refreshDescriptors = function () {\r\n            var _this = this;\r\n            this._bridge.getAttachedDescriptors()\r\n                .then(function (map) {\r\n                if (map) {\r\n                    Object.keys(map).forEach(function (key) {\r\n                        var actId = key;\r\n                        var descriptors = map[key];\r\n                        var act = _this._activities.getByName(actId);\r\n                        if (act) {\r\n                            act._updateDescriptors(descriptors);\r\n                        }\r\n                    });\r\n                }\r\n                _this._descriptorsMarker.signal(\"Successfully got descriptors\");\r\n            })\r\n                .catch(function (err) {\r\n                _this._descriptorsMarker.error(\"failed to get descriptors - \" + err);\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleWindowFrameColorChanged = function (win) {\r\n            if (!win.activityId) {\r\n                return;\r\n            }\r\n            var act = this._activities.getByName(win.activityId);\r\n            if (!act) {\r\n                return;\r\n            }\r\n            if (!act.owner) {\r\n                return;\r\n            }\r\n            if (act.owner.underlyingWindow.id !== win.id) {\r\n                return;\r\n            }\r\n            this._frameColorChangesCallbacks.forEach(function (callback) {\r\n                try {\r\n                    callback(act, win.frameColor);\r\n                }\r\n                catch (e) {\r\n                    return;\r\n                }\r\n            });\r\n        };\r\n        return ActivityManager;\r\n    }());\n\n    var ActivityManagementAPI = (function () {\r\n        function ActivityManagementAPI(manager, my) {\r\n            this._m = manager;\r\n            this._my = my;\r\n            this.activityTypes = {\r\n                get: this._getActivityTypesWrapper.bind(this),\r\n                register: this._m.registerActivityType.bind(this._m),\r\n                unregister: this._m.unregisterActivityType.bind(this._m),\r\n                subscribe: this._m.subscribeActivityTypeEvents.bind(this._m),\r\n                unsubscribe: undefined,\r\n                initiate: this._m.initiate.bind(this._m)\r\n            };\r\n            this.windowTypes = {\r\n                get: this._getWindowTypesWrapper.bind(this),\r\n                registerFactory: this._m.registerWindowFactory.bind(this._m),\r\n                unregisterFactory: this._m.unregisterWindowFactory.bind(this._m),\r\n                subscribe: this._m.subscribeWindowTypeEvents.bind(this._m),\r\n                unsubscribe: undefined\r\n            };\r\n            this.windows = {\r\n                get: this._m.getWindows.bind(this._m),\r\n                subscribe: this._m.subscribeWindowEvents.bind(this._m),\r\n                announce: this._m.announceWindow.bind(this._m),\r\n                unsubscribe: undefined,\r\n                create: this._m.createWindow.bind(this._m)\r\n            };\r\n            this.instances = {\r\n                get: this._m.getActivities.bind(this._m),\r\n                subscribe: this._m.subscribeActivityEvents.bind(this._m),\r\n                unsubscribe: undefined\r\n            };\r\n        }\r\n        ActivityManagementAPI.prototype.onAttached = function (callback) {\r\n            this._m.subscribeActivitiesAttached(callback);\r\n        };\r\n        ActivityManagementAPI.prototype.onDetached = function (callback) {\r\n            this._m.subscribeActivitiesDetached(callback);\r\n        };\r\n        ActivityManagementAPI.prototype.onActivityFrameColorChanged = function (callback) {\r\n            this._m.subscribeActivityFrameColorChanged(callback);\r\n        };\r\n        ActivityManagementAPI.prototype._getActivityTypesWrapper = function (name) {\r\n            if (isUndefined(name)) {\r\n                return this._m.getActivityTypes();\r\n            }\r\n            return this._m.getActivityType(name);\r\n        };\r\n        ActivityManagementAPI.prototype._getWindowTypesWrapper = function (name) {\r\n            if (isUndefined(name)) {\r\n                return this._m.getWindowTypes();\r\n            }\r\n            return this._m.getWindowType(name);\r\n        };\r\n        return ActivityManagementAPI;\r\n    }());\n\n    var ActivityAPI = (function () {\r\n        function ActivityAPI(manager, my) {\r\n            this._mgr = manager;\r\n            this._my = my;\r\n            this.all = new ActivityManagementAPI(manager, my);\r\n        }\r\n        ActivityAPI.prototype.ready = function (callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                _this._mgr.ready()\r\n                    .then(function () {\r\n                    resolve(_this);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        Object.defineProperty(ActivityAPI.prototype, \"my\", {\r\n            get: function () {\r\n                return this._my;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityAPI.prototype, \"aware\", {\r\n            get: function () {\r\n                return this._my.window !== undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityAPI.prototype, \"inActivity\", {\r\n            get: function () {\r\n                return this.aware && this._my.activity !== undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityAPI.prototype, \"agm\", {\r\n            get: function () {\r\n                if (!this.aware) {\r\n                    return undefined;\r\n                }\r\n                if (!this.inActivity) {\r\n                    return new ActivityAGM(null);\r\n                }\r\n                return this._my.activity.agm;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityAPI.prototype.getAvailableFrameColors = function () {\r\n            return [];\r\n        };\r\n        return ActivityAPI;\r\n    }());\n\n    var ActivityModule = (function () {\r\n        function ActivityModule(config) {\r\n            var _this = this;\r\n            if (!config) {\r\n                throw new Error(\"config can not be null\");\r\n            }\r\n            if (!isUndefined(config.logLevel)) {\r\n                Logger$1.Level = config.logLevel;\r\n            }\r\n            if (!isUndefinedOrNull(config.logger)) {\r\n                Logger$1.GlueLogger = config.logger;\r\n            }\r\n            var bridge;\r\n            this._isUsingHCImplementation = config.gdMajorVersion === 2;\r\n            this._isUsingGW3Implementation = ActivityModule.checkIsUsingGW3Implementation(config.connection);\r\n            if (this._isUsingHCImplementation) {\r\n                throw new Error(\"GD2 not supported\");\r\n            }\r\n            else if (this._isUsingGW3Implementation) {\r\n                bridge = new GW3Bridge$1(config);\r\n            }\r\n            else {\r\n                throw new Error(\"Unable to instantiate activity bridge implementation\");\r\n            }\r\n            if (!bridge) {\r\n                throw new Error(\"A bridge to native activity is needed to create activity lib.\");\r\n            }\r\n            ActivityAGM.AGM = config.agm;\r\n            var activityManager = new ActivityManager(bridge, !config.disableAutoAnnounce, config.windows);\r\n            var my = new ActivityMy(activityManager, config.windows);\r\n            this._api = new ActivityAPI(activityManager, my);\r\n            this._readyPromise = activityManager.ready().then(function (_) { return _this; });\r\n        }\r\n        ActivityModule.checkIsUsingGW3Implementation = function (connection) {\r\n            return connection.protocolVersion === 3;\r\n        };\r\n        Object.defineProperty(ActivityModule.prototype, \"api\", {\r\n            get: function () {\r\n                return this._api;\r\n            },\r\n            set: function (value) {\r\n                this._api = value;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityModule.prototype, \"isUsingHCImplementation\", {\r\n            get: function () {\r\n                return this._isUsingHCImplementation;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityModule.prototype, \"isUsingGW3Implementation\", {\r\n            get: function () {\r\n                return this._isUsingGW3Implementation;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityModule.prototype.ready = function (callback) {\r\n            return nodeify(this._readyPromise, callback);\r\n        };\r\n        return ActivityModule;\r\n    }());\n\n    var ShutdownMethodName = \"T42.ACS.Shutdown\";\r\n    var OnGDShutdownMethodName = \"T42.ACS.OnGDShutdown\";\r\n    var RestartMethodName = \"T42.ACS.Restart\";\r\n    var GetConfigurationRegionMethodName = \"T42.ACS.GetConfigurationRegion\";\r\n    var SetConfigurationRegionMethodName = \"T42.ACS.SetConfigurationRegion\";\r\n    var GetUserMethodName = \"T42.ACS.GetUser\";\r\n    var GetBranchesMethodName = \"T42.ACS.GetBranches\";\r\n    var GetCurrentBranchMethodName = \"T42.ACS.GetCurrentBranch\";\r\n    var SetCurrentBranchMethodName = \"T42.ACS.SetCurrentBranch\";\r\n    var GetFunctionalEntitlementMethodName = \"T42.ACS.GetFunctionalEntitlement\";\r\n    var CanIMethodName = \"T42.ACS.CanI\";\r\n    var StartApplicationMethodName = \"T42.ACS.StartApplication\";\r\n    var StopApplicationMethodName = \"T42.ACS.StopApplication\";\r\n    var ActivateApplicationMethodName = \"T42.ACS.ActivateApplication\";\r\n    var OnEventMethodName = \"T42.ACS.OnEvent\";\r\n    var GetApplicationsMethodName = \"T42.ACS.GetApplications\";\n\n    function createRegistry$1(options) {\r\n        if (options && options.errorHandling\r\n            && typeof options.errorHandling !== \"function\"\r\n            && options.errorHandling !== \"log\"\r\n            && options.errorHandling !== \"silent\"\r\n            && options.errorHandling !== \"throw\") {\r\n            throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n        }\r\n        var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n        var callbacks = {};\r\n        function add(key, callback, replayArgumentsArr) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                callbacksForKey = [];\r\n                callbacks[key] = callbacksForKey;\r\n            }\r\n            callbacksForKey.push(callback);\r\n            if (replayArgumentsArr) {\r\n                setTimeout(function () {\r\n                    replayArgumentsArr.forEach(function (replayArgument) {\r\n                        var _a;\r\n                        if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                            try {\r\n                                if (Array.isArray(replayArgument)) {\r\n                                    callback.apply(undefined, replayArgument);\r\n                                }\r\n                                else {\r\n                                    callback.apply(undefined, [replayArgument]);\r\n                                }\r\n                            }\r\n                            catch (err) {\r\n                                _handleError(err, key);\r\n                            }\r\n                        }\r\n                    });\r\n                }, 0);\r\n            }\r\n            return function () {\r\n                var allForKey = callbacks[key];\r\n                if (!allForKey) {\r\n                    return;\r\n                }\r\n                allForKey = allForKey.reduce(function (acc, element, index) {\r\n                    if (!(element === callback && acc.length === index)) {\r\n                        acc.push(element);\r\n                    }\r\n                    return acc;\r\n                }, []);\r\n                if (allForKey.length === 0) {\r\n                    delete callbacks[key];\r\n                }\r\n                else {\r\n                    callbacks[key] = allForKey;\r\n                }\r\n            };\r\n        }\r\n        function execute(key) {\r\n            var argumentsArr = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                argumentsArr[_i - 1] = arguments[_i];\r\n            }\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey || callbacksForKey.length === 0) {\r\n                return [];\r\n            }\r\n            var results = [];\r\n            callbacksForKey.forEach(function (callback) {\r\n                try {\r\n                    var result = callback.apply(undefined, argumentsArr);\r\n                    results.push(result);\r\n                }\r\n                catch (err) {\r\n                    results.push(undefined);\r\n                    _handleError(err, key);\r\n                }\r\n            });\r\n            return results;\r\n        }\r\n        function _handleError(exceptionArtifact, key) {\r\n            var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n            if (_userErrorHandler) {\r\n                _userErrorHandler(errParam);\r\n                return;\r\n            }\r\n            var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n            if (options) {\r\n                switch (options.errorHandling) {\r\n                    case \"log\":\r\n                        return console.error(msg);\r\n                    case \"silent\":\r\n                        return;\r\n                    case \"throw\":\r\n                        throw new Error(msg);\r\n                }\r\n            }\r\n            console.error(msg);\r\n        }\r\n        function clear() {\r\n            callbacks = {};\r\n        }\r\n        function clearKey(key) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                return;\r\n            }\r\n            delete callbacks[key];\r\n        }\r\n        return {\r\n            add: add,\r\n            execute: execute,\r\n            clear: clear,\r\n            clearKey: clearKey\r\n        };\r\n    }\r\n    createRegistry$1.default = createRegistry$1;\r\n    var lib$2 = createRegistry$1;\n\n    function objectValues(source) {\r\n        if (!source) {\r\n            return [];\r\n        }\r\n        return Object.keys(source).map(function (key) { return source[key]; });\r\n    }\r\n    function objectClone(obj) {\r\n        var result;\r\n        try {\r\n            result = JSON.parse(JSON.stringify(obj || {}));\r\n        }\r\n        catch (error) {\r\n            result = {};\r\n        }\r\n        return result;\r\n    }\n\n    var ApplicationImpl = (function () {\r\n        function ApplicationImpl(_appManager, _name, _agm) {\r\n            var _this = this;\r\n            this._appManager = _appManager;\r\n            this._name = _name;\r\n            this._agm = _agm;\r\n            this._registry = lib$2();\r\n            _appManager.onInstanceStarted(function (instance) {\r\n                if (instance.application && instance.application.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"instanceStarted\", instance);\r\n            });\r\n            _appManager.onInstanceStopped(function (instance) {\r\n                if (instance.application && instance.application.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"instanceStopped\", instance);\r\n            });\r\n            _appManager.onAppRemoved(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appRemoved\", app);\r\n            });\r\n            _appManager.onAppChanged(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appChanged\", app);\r\n            });\r\n            _appManager.onAppAvailable(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appAvailable\", app);\r\n            });\r\n            _appManager.onAppUnavailable(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appUnavailable\", app);\r\n            });\r\n        }\r\n        Object.defineProperty(ApplicationImpl.prototype, \"name\", {\r\n            get: function () { return this._name; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"title\", {\r\n            get: function () { return this._props.Title; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"version\", {\r\n            get: function () { return this._props.Version; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"autoStart\", {\r\n            get: function () { return this._props.AutoStart; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"isShell\", {\r\n            get: function () { return this._props.IsShell; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"caption\", {\r\n            get: function () { return this._props.Caption; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"hidden\", {\r\n            get: function () { return this._props.IsHidden; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"container\", {\r\n            get: function () { return this._props.ApplicationName; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"activityType\", {\r\n            get: function () { return this._props.ActivityType; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"activityWindowType\", {\r\n            get: function () { return this._props.ActivityWindowType; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"windowSettings\", {\r\n            get: function () {\r\n                if (!this._props.Arguments) {\r\n                    return {};\r\n                }\r\n                return objectClone(this._props.Arguments);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"allowMultiple\", {\r\n            get: function () { return this._props.AllowMultiple; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"available\", {\r\n            get: function () { return this._props.IsReady || true; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"icon\", {\r\n            get: function () { return this._props.Icon; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"iconURL\", {\r\n            get: function () { return this._props.IconUrl; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"sortOrder\", {\r\n            get: function () { return this._props.SortOrder; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"userProperties\", {\r\n            get: function () {\r\n                if (!this._props.UserProperties) {\r\n                    return {};\r\n                }\r\n                return objectClone(this._props.UserProperties);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"isActivity\", {\r\n            get: function () {\r\n                return this._props.ActivityType !== undefined && this._props.ActivityType !== \"\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"configuration\", {\r\n            get: function () {\r\n                return {\r\n                    autoStart: this._props.AutoStart,\r\n                    caption: this._props.Caption,\r\n                    hidden: this._props.IsHidden,\r\n                    container: this._props.ApplicationName,\r\n                    activityType: this._props.ActivityType,\r\n                    allowMultiple: this._props.AllowMultiple\r\n                };\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"instances\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this._appManager.instances().filter(function (instance) { return instance.application.name === _this._name; });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"type\", {\r\n            get: function () {\r\n                return this._props.Type;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"mode\", {\r\n            get: function () {\r\n                if (!this._props) {\r\n                    return \"unknown\";\r\n                }\r\n                if (this._props.Mode && typeof this._props.Mode === \"string\") {\r\n                    return this._props.Mode.toLowerCase();\r\n                }\r\n                if (this.isActivity) {\r\n                    return \"unknown\";\r\n                }\r\n                if (this._props.Arguments && this._props.Arguments.mode && typeof this._props.Arguments.mode === \"string\") {\r\n                    return this._props.Arguments.mode.toLowerCase();\r\n                }\r\n                var styleAttributes = this._props.WindowStyleAttributes;\r\n                if (styleAttributes) {\r\n                    styleAttributes = styleAttributes.split(\" \").join(\"\");\r\n                    var searchFor = \"mode:\\\"\";\r\n                    var modeIndex = styleAttributes.indexOf(searchFor);\r\n                    if (modeIndex !== -1) {\r\n                        var startModeIndex = modeIndex + searchFor.length;\r\n                        var stopModeIndex = styleAttributes.indexOf(\"\\\"\", startModeIndex);\r\n                        var style = styleAttributes.substr(startModeIndex, stopModeIndex - startModeIndex);\r\n                        if (style && typeof style === \"string\") {\r\n                            return style.toLowerCase();\r\n                        }\r\n                    }\r\n                }\r\n                return \"flat\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ApplicationImpl.prototype.updateFromProps = function (props) {\r\n            var _this = this;\r\n            if (!this._props) {\r\n                this._props = { Name: props.Name };\r\n            }\r\n            Object.keys(props).forEach(function (key) {\r\n                _this._props[key] = props[key];\r\n            });\r\n        };\r\n        ApplicationImpl.prototype.start = function (context, options) {\r\n            var _this = this;\r\n            var name = this._name;\r\n            var startTimeout = 10000;\r\n            return new Promise(function (resolve, reject) {\r\n                options = options || {};\r\n                context = context || {};\r\n                var waitForAGMInstance = true;\r\n                var waitForApplicationInstance = function (id) {\r\n                    var check = function () {\r\n                        var filtered = _this._appManager.instances().filter(function (i) { return i.id === id; });\r\n                        var result;\r\n                        if (filtered.length === 2) {\r\n                            result = filtered[0].isActivityInstance ? filtered[0] : filtered[1];\r\n                        }\r\n                        else {\r\n                            result = filtered[0];\r\n                        }\r\n                        if (result && waitForAGMInstance) {\r\n                            if (result.agm) {\r\n                                return result;\r\n                            }\r\n                            else {\r\n                                return undefined;\r\n                            }\r\n                        }\r\n                        return result;\r\n                    };\r\n                    var unsub;\r\n                    var timeout = setTimeout(function () {\r\n                        if (unsub) {\r\n                            unsub();\r\n                        }\r\n                        reject(\"timeout\");\r\n                    }, startTimeout);\r\n                    var waitFunc = function (i) {\r\n                        if (i.id !== id) {\r\n                            return;\r\n                        }\r\n                        if (unsub) {\r\n                            unsub();\r\n                            unsub = undefined;\r\n                        }\r\n                        clearTimeout(timeout);\r\n                        setTimeout(function () {\r\n                            resolve(check());\r\n                        }, 1);\r\n                    };\r\n                    {\r\n                        unsub = _this._appManager.onInstanceAgmServerReady(waitFunc);\r\n                    }\r\n                    var instances = check();\r\n                    if (instances) {\r\n                        if (unsub) {\r\n                            unsub();\r\n                            unsub = undefined;\r\n                        }\r\n                        clearTimeout(timeout);\r\n                        resolve(instances);\r\n                    }\r\n                };\r\n                _this._agm.invoke(StartApplicationMethodName, {\r\n                    Name: name,\r\n                    Context: context,\r\n                    Options: options\r\n                }, \"best\", {\r\n                    methodResponseTimeoutMs: startTimeout\r\n                }, function (result) {\r\n                    var acsResult = result.returned && result.returned.Instance_0\r\n                        ? result.returned.Instance_0\r\n                        : result.returned;\r\n                    if (acsResult && acsResult.Id) {\r\n                        if (_this._appManager.mode === \"startOnly\") {\r\n                            var instance = _this._appManager.handleInstanceStarted(acsResult);\r\n                            resolve(instance);\r\n                        }\r\n                        else {\r\n                            waitForApplicationInstance(acsResult.Id);\r\n                        }\r\n                    }\r\n                    else {\r\n                        resolve(undefined);\r\n                    }\r\n                }, function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n        };\r\n        ApplicationImpl.prototype.onInstanceStarted = function (callback) {\r\n            this._registry.add(\"instanceStarted\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onInstanceStopped = function (callback) {\r\n            this._registry.add(\"instanceStopped\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onAvailable = function (callback) {\r\n            this._registry.add(\"appAvailable\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onUnavailable = function (callback) {\r\n            this._registry.add(\"appUnavailable\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onChanged = function (callback) {\r\n            this._registry.add(\"appChanged\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onRemoved = function (callback) {\r\n            this._registry.add(\"appRemoved\", callback);\r\n        };\r\n        return ApplicationImpl;\r\n    }());\n\n    var InstanceImpl = (function () {\r\n        function InstanceImpl(_id, _appName, _appManager, _agm, _activities, _windows, startFailed) {\r\n            var _this = this;\r\n            this._id = _id;\r\n            this._appName = _appName;\r\n            this._appManager = _appManager;\r\n            this._agm = _agm;\r\n            this._activities = _activities;\r\n            this._windows = _windows;\r\n            this.onAgmReady = this._addToRegistry(\"agmReady\");\r\n            this.onStopped = this._addToRegistry(\"stopped\");\r\n            this._registry = lib$2();\r\n            if (startFailed) {\r\n                return;\r\n            }\r\n            this._unsubscribeInstanceStopped = this._appManager.onInstanceStopped(function (instance) {\r\n                if (instance.id !== _this._id) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"stopped\", instance);\r\n            });\r\n            this._unsubscribeInstanceAgmServerReady = this._appManager.onInstanceAgmServerReady(function (instance) {\r\n                if (instance.id !== _this._id) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"agmReady\", instance);\r\n            });\r\n        }\r\n        Object.defineProperty(InstanceImpl.prototype, \"id\", {\r\n            get: function () { return this._id; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"application\", {\r\n            get: function () { return this._appManager.application(this._appName); },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activity\", {\r\n            get: function () {\r\n                var _this = this;\r\n                if (!this._activities) {\r\n                    throw new Error(\"This method requires glue.activities library to be enabled.\");\r\n                }\r\n                return this._activities.all.instances.get()\r\n                    .filter(function (activityInstance) { return activityInstance.id === _this._activityId; })[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"isActivityOwner\", {\r\n            get: function () { return this._isActivityOwner; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activityInstances\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this._appManager.instances().filter(function (i) {\r\n                    return i.application.type !== \"activity\" &&\r\n                        i.activityId &&\r\n                        i.activityId === _this._activityId;\r\n                });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activityOwnerInstance\", {\r\n            get: function () {\r\n                if (!this._activityId) {\r\n                    return undefined;\r\n                }\r\n                return this.activityInstances.filter(function (inst) { var _a; return (_a = inst) === null || _a === void 0 ? void 0 : _a.isActivityOwner; })[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"window\", {\r\n            get: function () {\r\n                var _this = this;\r\n                if (!this._windows) {\r\n                    throw new Error(\"This method requires glue.windows library to be enabled.\");\r\n                }\r\n                var win = this._windows.list().filter(function (w) { return w.id === _this._id; })[0];\r\n                if (!win && this.activity && this.activityOwnerInstance) {\r\n                    win = this.activityOwnerInstance.window;\r\n                }\r\n                return win;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"context\", {\r\n            get: function () {\r\n                var _a, _b, _c;\r\n                return _c = (_a = this._startUpContext, (_a !== null && _a !== void 0 ? _a : (_b = this.window) === null || _b === void 0 ? void 0 : _b.context)), (_c !== null && _c !== void 0 ? _c : {});\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"title\", {\r\n            get: function () { return this._title; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"isActivityInstance\", {\r\n            get: function () { return this._isActivityInstance; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activityId\", {\r\n            get: function () { return this._activityId; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"inActivity\", {\r\n            get: function () { return this._inActivity; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"isSingleWindowApp\", {\r\n            get: function () { return !this._inActivity; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"agm\", {\r\n            get: function () {\r\n                return this._agmInstance;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        InstanceImpl.prototype.updateFromProps = function (props) {\r\n            this._startUpContext = props.Context;\r\n            this._title = props.Title;\r\n            this._isActivityInstance = false;\r\n            if (props.ActivityId && props.ActivityId !== \"\") {\r\n                this._activityId = props.ActivityId;\r\n                this._isActivityInstance = true;\r\n            }\r\n            this._isActivityOwner = props.IsActivityOwner;\r\n            if (!this._activityId && this._startUpContext && this._startUpContext.activityId) {\r\n                this._activityId = this._startUpContext.activityId;\r\n            }\r\n            this._inActivity = Boolean(this._activityId);\r\n            this.updateAgmInstanceFromProps(props);\r\n        };\r\n        InstanceImpl.prototype.updateAgmInstanceFromProps = function (props) {\r\n            if (!props.AgmServers) {\r\n                return;\r\n            }\r\n            if (props.GD3) {\r\n                var agmInstances = props.AgmServers;\r\n                if (agmInstances) {\r\n                    this._agmInstance = agmInstances[0];\r\n                }\r\n            }\r\n            else {\r\n                var gdAgmServers = props.AgmServers;\r\n                var propsAgmServer = Object.keys(gdAgmServers)[0];\r\n                if (!propsAgmServer) {\r\n                    return;\r\n                }\r\n                var propsAgm = gdAgmServers[propsAgmServer];\r\n                this._agmInstance = {\r\n                    machine: propsAgm.machineName,\r\n                    user: propsAgm.userName,\r\n                    environment: propsAgm.environment,\r\n                    application: propsAgm.applicationName,\r\n                };\r\n            }\r\n        };\r\n        InstanceImpl.prototype.stop = function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var unsubscribe = _this._appManager.onInstanceStopped(function (instance) {\r\n                    if (instance.id === _this._id) {\r\n                        unsubscribe();\r\n                        resolve();\r\n                    }\r\n                });\r\n                _this._agm.invoke(StopApplicationMethodName, {\r\n                    Name: _this._appName,\r\n                    Id: _this._id\r\n                })\r\n                    .then(function () {\r\n                    if (_this._appManager.mode === \"startOnly\") {\r\n                        _this._appManager.handleInstanceStopped({\r\n                            Name: _this._appName,\r\n                            Id: _this.id,\r\n                            Context: undefined,\r\n                            Title: undefined,\r\n                            ActivityId: undefined,\r\n                            IsActivityOwner: undefined,\r\n                            AgmServers: undefined\r\n                        });\r\n                        resolve();\r\n                    }\r\n                })\r\n                    .catch(function (err) { return reject(err); });\r\n            });\r\n        };\r\n        InstanceImpl.prototype.activate = function () {\r\n            return this._agm.invoke(ActivateApplicationMethodName, { Name: this._appName, Id: this._id });\r\n        };\r\n        InstanceImpl.prototype.done = function () {\r\n            this._registry.clear();\r\n            this._unsubscribeInstanceAgmServerReady();\r\n            this._unsubscribeInstanceStopped();\r\n        };\r\n        InstanceImpl.prototype.getContext = function () {\r\n            return Promise.resolve(this.context);\r\n        };\r\n        InstanceImpl.prototype._addToRegistry = function (key) {\r\n            var _this = this;\r\n            return function (callback) {\r\n                _this._registry.add(key, callback);\r\n            };\r\n        };\r\n        return InstanceImpl;\r\n    }());\n\n    var AppManagerImpl = (function () {\r\n        function AppManagerImpl(mode, _agm, _activities, _windows, _logger, _gdMajorVersion) {\r\n            var _this = this;\r\n            this.mode = mode;\r\n            this._agm = _agm;\r\n            this._activities = _activities;\r\n            this._windows = _windows;\r\n            this._logger = _logger;\r\n            this._gdMajorVersion = _gdMajorVersion;\r\n            this._apps = {};\r\n            this._instances = [];\r\n            this._registry = lib$2();\r\n            this.application = function (name) {\r\n                return _this._apps[name];\r\n            };\r\n            this.applications = function () {\r\n                return Object.keys(_this._apps).map(function (k) { return _this._apps[k]; });\r\n            };\r\n            this.instances = function () {\r\n                return _this._instances;\r\n            };\r\n            this.getMyInstance = function () {\r\n                if (_this._gdMajorVersion >= 3) {\r\n                    var instanceId_1 = window.glue42gd.appInstanceId;\r\n                    return _this._instances.filter(function (i) { return i.id === instanceId_1; })[0];\r\n                }\r\n                return undefined;\r\n            };\r\n            this.handleAppAdded = function (props) {\r\n                var id = _this._getAppId(props);\r\n                _this._logger.trace(\"adding app \" + id);\r\n                _this._apps[id] = new ApplicationImpl(_this, id, _this._agm);\r\n                var app = _this._updateAppFromProps(props);\r\n                _this._registry.execute(\"appAdded\", app);\r\n            };\r\n            this.handleAppUpdated = function (props) {\r\n                var app = _this._updateAppFromProps(props);\r\n                _this._registry.execute(\"appChanged\", app);\r\n            };\r\n            this.handleAppRemoved = function (props) {\r\n                var id = _this._getAppId(props);\r\n                _this._logger.trace(\"removing app \" + id);\r\n                var app = _this.application(id);\r\n                _this._instances = _this._instances.filter(function (i) { return i.application.name !== app.name; });\r\n                delete _this._apps[id];\r\n                _this._registry.execute(\"appRemoved\", app);\r\n            };\r\n            this.handleAppReady = function (props) {\r\n                var id = _this._getAppId(props);\r\n                var app = _this._getAppOrThrow(id);\r\n                app.updateFromProps(props);\r\n                if (app.available) {\r\n                    _this._registry.execute(\"appAvailable\", app);\r\n                }\r\n                else {\r\n                    _this._registry.execute(\"appUnavailable\", app);\r\n                }\r\n            };\r\n            this.handleInstanceStarted = function (props) {\r\n                _this._logger.trace(\"started app \" + props.Name + \" \" + props.Id);\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var instance = new InstanceImpl(id, appName, _this, _this._agm, _this._activities, _this._windows);\r\n                _this._updateInstanceFromProps(instance, props);\r\n                _this._instances.push(instance);\r\n                _this._registry.execute(\"instanceStarted\", instance);\r\n                return instance;\r\n            };\r\n            this.handleInstanceStopped = function (props) {\r\n                _this._logger.trace(\"failed to start app \" + props.Name + \" \" + props.Id);\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var instance = _this._getInstanceOrThrow(id, appName);\r\n                _this._instances = _this._instances.filter(function (i) { return !_this._matchInstance(i, id, appName); });\r\n                _this._registry.execute(\"instanceStopped\", instance);\r\n                instance.done();\r\n            };\r\n            this.handleInstanceAgmServerReady = function (props) {\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var instance = _this._getInstanceOrThrow(id, appName);\r\n                instance.updateAgmInstanceFromProps(props);\r\n                _this._registry.execute(\"instanceAgmServerReady\", instance);\r\n            };\r\n            this.handleInstanceStartFailed = function (props) {\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var startFailed = true;\r\n                var instance = new InstanceImpl(id, appName, undefined, undefined, undefined, undefined, startFailed);\r\n                _this._updateInstanceFromProps(instance, props);\r\n                _this._registry.execute(\"instanceStartFailed\", instance);\r\n            };\r\n            this.handleInstanceUpdated = function (props) {\r\n                var id = _this._getInstanceId(props);\r\n                var app = _this._getInstanceAppName(props);\r\n                var instance = _this._getInstanceOrThrow(id, app);\r\n                _this._updateInstanceFromProps(instance, props);\r\n            };\r\n            this.onInstanceStarted = function (callback) {\r\n                return _this._registry.add(\"instanceStarted\", callback, _this._instances);\r\n            };\r\n            this.onInstanceStartFailed = function (callback) {\r\n                return _this._registry.add(\"instanceStartFailed\", callback);\r\n            };\r\n            this.onInstanceStopped = function (callback) {\r\n                return _this._registry.add(\"instanceStopped\", callback);\r\n            };\r\n            this.onInstanceUpdated = function (callback) {\r\n                return _this._registry.add(\"instanceChanged\", callback);\r\n            };\r\n            this.onInstanceAgmServerReady = function (callback) {\r\n                return _this._registry.add(\"instanceAgmServerReady\", callback);\r\n            };\r\n            this.onAppAdded = function (callback) {\r\n                return _this._registry.add(\"appAdded\", callback, Object.values(_this._apps));\r\n            };\r\n            this.onAppRemoved = function (callback) {\r\n                return _this._registry.add(\"appRemoved\", callback);\r\n            };\r\n            this.onAppAvailable = function (callback) {\r\n                return _this._registry.add(\"appAvailable\", callback);\r\n            };\r\n            this.onAppUnavailable = function (callback) {\r\n                return _this._registry.add(\"appUnavailable\", callback);\r\n            };\r\n            this.onAppChanged = function (callback) {\r\n                return _this._registry.add(\"appChanged\", callback);\r\n            };\r\n        }\r\n        AppManagerImpl.prototype._getAppOrThrow = function (id) {\r\n            var result = this.application(id);\r\n            if (!result) {\r\n                throw Error(\"app with id \" + id + \" not found\");\r\n            }\r\n            return result;\r\n        };\r\n        AppManagerImpl.prototype._getAppId = function (props) {\r\n            return props.Name;\r\n        };\r\n        AppManagerImpl.prototype._matchInstance = function (instance, id, appName) {\r\n            return instance.id === id && instance.application.name === appName;\r\n        };\r\n        AppManagerImpl.prototype._getInstanceByIdAndName = function (id, appName) {\r\n            var _this = this;\r\n            return this._instances.filter(function (i) { return _this._matchInstance(i, id, appName); })[0];\r\n        };\r\n        AppManagerImpl.prototype._getInstanceOrThrow = function (id, appName) {\r\n            var result = this._getInstanceByIdAndName(id, appName);\r\n            if (!result) {\r\n                throw Error(\"instance with id \" + id + \" not found\");\r\n            }\r\n            return result;\r\n        };\r\n        AppManagerImpl.prototype._getInstanceId = function (props) {\r\n            return props.Id;\r\n        };\r\n        AppManagerImpl.prototype._getInstanceAppName = function (props) {\r\n            return props.Name;\r\n        };\r\n        AppManagerImpl.prototype._updateAppFromProps = function (props) {\r\n            var id = this._getAppId(props);\r\n            this._logger.trace(\"updating app with  + \" + id + \", \" + props);\r\n            var app = this._getAppOrThrow(id);\r\n            app.updateFromProps(props);\r\n            return app;\r\n        };\r\n        AppManagerImpl.prototype._updateInstanceFromProps = function (instance, props) {\r\n            this._logger.trace(\"updating instance with \" + this._getInstanceId(props) + \" for app \" + this._getInstanceAppName(props));\r\n            instance.updateFromProps(props);\r\n        };\r\n        return AppManagerImpl;\r\n    }());\n\n    function promisify$2(promise, successCallback, errorCallback) {\r\n        var isFunction = function (arg) {\r\n            return !!(arg && arg.constructor && arg.call && arg.apply);\r\n        };\r\n        if (!isFunction(successCallback) && !isFunction(errorCallback)) {\r\n            return promise;\r\n        }\r\n        if (!isFunction(successCallback)) {\r\n            successCallback = function () {\r\n            };\r\n        }\r\n        else if (!isFunction(errorCallback)) {\r\n            errorCallback = function () {\r\n            };\r\n        }\r\n        promise.then(successCallback, errorCallback);\r\n    }\r\n    var EntitlementsImpl = (function () {\r\n        function EntitlementsImpl(_agm) {\r\n            var _this = this;\r\n            this._agm = _agm;\r\n            this._registry = lib$2();\r\n            this._isMethodRegistered = false;\r\n            this.handleBranchModified = function (branch) {\r\n                _this._registry.execute(\"branchChanged\", branch);\r\n            };\r\n            this.handleBranchesModified = function (branches) {\r\n                _this._registry.execute(\"branchesChanged\", branches);\r\n            };\r\n            this.getRegion = function (success, error) {\r\n                return promisify$2(_this._agmInvoke(GetConfigurationRegionMethodName, function (e) { return e.returned.Region; }), success, error);\r\n            };\r\n            this.getBranches = function (success, error) {\r\n                var promise = _this._agmInvoke(GetBranchesMethodName, function (e) {\r\n                    var obj = e.returned.Branches;\r\n                    return Object.keys(obj).map(function (key) { return obj[key]; });\r\n                });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.getCurrentBranch = function (success, error) {\r\n                var promise = _this._agmInvoke(GetCurrentBranchMethodName, function (e) { return e.returned.Branch; }, undefined);\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.setRegion = function (region, success, error) {\r\n                var promise = _this._agmInvoke(SetConfigurationRegionMethodName, function (e) { return e.returned.ResultMessage; }, { Region: region });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.setCurrentBranch = function (branch, success, error) {\r\n                var promise = _this._agmInvoke(SetCurrentBranchMethodName, function (e) { return e.returned.ResultMessage; }, { Branch: branch });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.currentUser = function (success, error) {\r\n                var promise = _this._agmInvoke(GetUserMethodName);\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.getFunctionalEntitlement = function (funct, success, error) {\r\n                var promise = _this._agmInvoke(GetFunctionalEntitlementMethodName, function (e) { return e.returned.Entitlement; }, { Function: funct });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.getFunctionalEntitlementBranch = function (funct, branch, success, error) {\r\n                var promise = _this._agmInvoke(GetFunctionalEntitlementMethodName, function (e) { return e.returned.Entitlement; }, { Function: funct, Branch: branch });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.canI = function (func, success, error) {\r\n                var promise = _this._agmInvoke(CanIMethodName, function (e) { return e.returned.Result; }, { Function: func });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.canIBranch = function (func, branch, success, error) {\r\n                var promise = _this._agmInvoke(CanIMethodName, function (e) { return e.returned.Result; }, { Function: func, Branch: branch });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.onBranchesChanged = function (callback) {\r\n                return _this._registry.add(\"branchesChanged\", callback);\r\n            };\r\n            this.onBranchChanged = function (callback) {\r\n                return _this._registry.add(\"branchChanged\", callback);\r\n            };\r\n            this.exit = function (options) {\r\n                return _this._agmInvoke(ShutdownMethodName, null, options);\r\n            };\r\n            this.onShuttingDown = function (callback) {\r\n                _this.registerMethod();\r\n                return _this._registry.add(\"onShuttingDown\", callback);\r\n            };\r\n            this.restart = function (options) {\r\n                return _this._agmInvoke(RestartMethodName, null, options);\r\n            };\r\n            this._agmInvoke = function (method, transformFunction, args) {\r\n                args = args || {};\r\n                return new Promise(function (resolve, reject) {\r\n                    var errHandler = function (error) { return reject(error); };\r\n                    _this._agm.invoke(method, args)\r\n                        .then(function (result) {\r\n                        if (!transformFunction) {\r\n                            transformFunction = function (d) { return d.returned; };\r\n                        }\r\n                        resolve(transformFunction(result));\r\n                    })\r\n                        .catch(errHandler);\r\n                });\r\n            };\r\n        }\r\n        EntitlementsImpl.prototype.registerMethod = function () {\r\n            var _this = this;\r\n            if (!this._isMethodRegistered) {\r\n                this._agm.register(OnGDShutdownMethodName, function (args) { return __awaiter(_this, void 0, void 0, function () {\r\n                    var error_1;\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0:\r\n                                _a.trys.push([0, 2, , 3]);\r\n                                return [4, Promise.all(this._registry.execute(\"onShuttingDown\", args))];\r\n                            case 1:\r\n                                _a.sent();\r\n                                return [3, 3];\r\n                            case 2:\r\n                                error_1 = _a.sent();\r\n                                return [3, 3];\r\n                            case 3: return [2];\r\n                        }\r\n                    });\r\n                }); });\r\n                this._isMethodRegistered = true;\r\n            }\r\n        };\r\n        return EntitlementsImpl;\r\n    }());\n\n    function snapshot(agm, appManager) {\r\n        return new Promise(function (resolve, reject) {\r\n            agm.invoke(GetApplicationsMethodName, { skipIcon: true })\r\n                .then(function (response) {\r\n                var data = response.returned;\r\n                if (!data) {\r\n                    resolve();\r\n                }\r\n                var applications = data.applications;\r\n                if (!applications) {\r\n                    resolve();\r\n                }\r\n                objectValues(applications).map(function (item) { return appManager.handleAppAdded(item); });\r\n                resolve();\r\n            })\r\n                .catch(function (err) { return reject(\"Error getting application snapshot: \" + err.message); });\r\n        });\r\n    }\n\n    var OnBranchChangedEvent = \"OnBranchChanged\";\r\n    var OnBranchesModifiedEvent = \"OnBranchesModified\";\r\n    var OnApplicationAddedEvent = \"OnApplicationAdded\";\r\n    var OnApplicationRemovedEvent = \"OnApplicationRemoved\";\r\n    var OnApplicationChangedEvent = \"OnApplicationChanged\";\r\n    var OnApplicationReadyEvent = \"OnApplicationReady\";\r\n    var OnApplicationStartedEvent = \"OnApplicationStarted\";\r\n    var OnApplicationAgmServerReadyEvent = \"OnApplicationAgmServerReady\";\r\n    var OnApplicationUpdatedEvent = \"OnApplicationUpdated\";\r\n    var OnApplicationStoppedEvent = \"OnApplicationStopped\";\r\n    var OnApplicationStartFailedEvent = \"OnApplicationStartFailed\";\n\n    function createDataSubscription(agm, applications, entitlements, skipIcons) {\r\n        var subscription;\r\n        var start = function () {\r\n            var resolveFunc;\r\n            var rejectFunc;\r\n            var resultPromise = new Promise(function (resolve, reject) {\r\n                resolveFunc = resolve;\r\n                rejectFunc = reject;\r\n            });\r\n            agm.subscribe(OnEventMethodName, { arguments: { skipIcon: skipIcons }, waitTimeoutMs: 10000 })\r\n                .then(function (s) {\r\n                subscription = s;\r\n                subscription.onData(function (streamData) {\r\n                    var events = streamData.data;\r\n                    objectValues(events[OnApplicationAddedEvent])\r\n                        .map(function (item) { return applications.handleAppAdded(item); });\r\n                    objectValues(events[OnApplicationChangedEvent])\r\n                        .map(function (item) { return applications.handleAppUpdated(item); });\r\n                    objectValues(events[OnApplicationRemovedEvent])\r\n                        .map(function (item) { return applications.handleAppRemoved(item); });\r\n                    objectValues(events[OnApplicationReadyEvent])\r\n                        .map(function (item) { return applications.handleAppReady(item); });\r\n                    objectValues(events[OnApplicationStartedEvent])\r\n                        .map(function (item) { return applications.handleInstanceStarted(item); });\r\n                    objectValues(events[OnApplicationStartFailedEvent])\r\n                        .map(function (item) { return applications.handleInstanceStartFailed(item); });\r\n                    objectValues(events[OnApplicationStoppedEvent])\r\n                        .map(function (item) { return applications.handleInstanceStopped(item); });\r\n                    objectValues(events[OnApplicationUpdatedEvent])\r\n                        .map(function (item) { return applications.handleInstanceUpdated(item); });\r\n                    objectValues(events[OnApplicationAgmServerReadyEvent])\r\n                        .map(function (item) { return applications.handleInstanceAgmServerReady(item); });\r\n                    objectValues(events[OnBranchChangedEvent])\r\n                        .map(function (item) { return entitlements.handleBranchModified(item); });\r\n                    objectValues(events[OnBranchesModifiedEvent])\r\n                        .map(function (item) { return entitlements.handleBranchesModified(item); });\r\n                    resolveFunc();\r\n                });\r\n                subscription.onFailed(function (err) { return rejectFunc(err); });\r\n            })\r\n                .catch(function (err) { return rejectFunc(\"Error subscribing for \" + OnEventMethodName + \" stream. Err: \" + err); });\r\n            return resultPromise;\r\n        };\r\n        var stop = function () {\r\n            if (subscription) {\r\n                subscription.close();\r\n            }\r\n        };\r\n        return {\r\n            start: start,\r\n            stop: stop\r\n        };\r\n    }\n\n    var AppManagerFactory = (function (config) {\r\n        if (!config) {\r\n            throw Error(\"config not set\");\r\n        }\r\n        if (!config.agm) {\r\n            throw Error(\"config.agm is missing\");\r\n        }\r\n        var START_ONLY = \"startOnly\";\r\n        var SKIP_ICONS = \"skipIcons\";\r\n        var FULL = \"full\";\r\n        var mode = config.mode || START_ONLY;\r\n        if (mode !== START_ONLY && mode !== SKIP_ICONS && mode !== FULL) {\r\n            throw new Error(\"Invalid mode for appManager lib - \" + mode + \" is not supported\");\r\n        }\r\n        var activities = config.activities;\r\n        var agm = config.agm;\r\n        var logger = config.logger;\r\n        var windows = config.windows;\r\n        var appManager = new AppManagerImpl(mode, agm, activities, windows, logger.subLogger(\"applications\"), config.gdMajorVersion);\r\n        var entitlements = new EntitlementsImpl(agm);\r\n        var readyPromise;\r\n        if (mode === START_ONLY) {\r\n            readyPromise = snapshot(agm, appManager);\r\n        }\r\n        else {\r\n            var subscription = createDataSubscription(agm, appManager, entitlements, mode === SKIP_ICONS);\r\n            readyPromise = subscription.start();\r\n        }\r\n        var api = {\r\n            ready: function () { return readyPromise; },\r\n            applications: appManager.applications,\r\n            application: appManager.application,\r\n            onAppAdded: appManager.onAppAdded,\r\n            onAppRemoved: appManager.onAppRemoved,\r\n            onAppChanged: appManager.onAppChanged,\r\n            onAppAvailable: appManager.onAppAvailable,\r\n            onAppUnavailable: appManager.onAppUnavailable,\r\n            instances: appManager.instances,\r\n            get myInstance() {\r\n                return appManager.getMyInstance();\r\n            },\r\n            onInstanceStarted: appManager.onInstanceStarted,\r\n            onInstanceStopped: appManager.onInstanceStopped,\r\n            onInstanceUpdated: appManager.onInstanceUpdated,\r\n            onInstanceStartFailed: appManager.onInstanceStartFailed,\r\n            getRegion: entitlements.getRegion,\r\n            getBranches: entitlements.getBranches,\r\n            getCurrentBranch: entitlements.getCurrentBranch,\r\n            getFunctionalEntitlement: entitlements.getFunctionalEntitlement,\r\n            getFunctionalEntitlementBranch: entitlements.getFunctionalEntitlementBranch,\r\n            setCurrentBranch: entitlements.setCurrentBranch,\r\n            setRegion: entitlements.setRegion,\r\n            currentUser: entitlements.currentUser,\r\n            canI: entitlements.canI,\r\n            canIBranch: entitlements.canIBranch,\r\n            onBranchesChanged: entitlements.onBranchesChanged,\r\n            exit: entitlements.exit,\r\n            restart: entitlements.restart,\r\n            onShuttingDown: entitlements.onShuttingDown\r\n        };\r\n        return api;\r\n    });\n\n    var WindowStore = (function () {\r\n        function WindowStore() {\r\n            this.waitForTimeoutInMilliseconds = 60000;\r\n            this._windows = {};\r\n            this._pendingWindows = {};\r\n            this._pendingWindowsStates = {};\r\n            this._registry = lib$2();\r\n        }\r\n        WindowStore.prototype.init = function (logger) {\r\n            this._logger = logger;\r\n        };\r\n        WindowStore.prototype.get = function (id) {\r\n            return this._windows[id] || this._pendingWindows[id];\r\n        };\r\n        WindowStore.prototype.getIfReady = function (id) {\r\n            return this._windows[id];\r\n        };\r\n        Object.defineProperty(WindowStore.prototype, \"list\", {\r\n            get: function () {\r\n                return this._windows;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        WindowStore.prototype.add = function (window) {\r\n            var isExist = this._pendingWindows[window.API.id] ? true : false;\r\n            if (isExist) {\r\n                this._logger.error(\"trying to add window with id \" + window.API.id + \" from windowStore, which already exists\");\r\n                return;\r\n            }\r\n            var remote = window.API.windowType === \"remote\";\r\n            this._pendingWindows[window.API.id] = window;\r\n            this._pendingWindowsStates[window.API.id] = {\r\n                ready: false,\r\n                urlChanged: remote,\r\n            };\r\n            this._registry.execute(\"on-added\", window);\r\n        };\r\n        WindowStore.prototype.remove = function (window) {\r\n            delete this._windows[window.API.id];\r\n            delete this._pendingWindows[window.API.id];\r\n            delete this._pendingWindowsStates[window.API.id];\r\n            this._registry.execute(\"on-removed\", window);\r\n        };\r\n        WindowStore.prototype.setReadyState = function (windowId) {\r\n            var targetWindowState = this._pendingWindowsStates[windowId];\r\n            if (typeof targetWindowState === \"undefined\") {\r\n                return;\r\n            }\r\n            targetWindowState.ready = true;\r\n            if (targetWindowState.urlChanged) {\r\n                this.markReadyToShow(windowId);\r\n            }\r\n        };\r\n        WindowStore.prototype.setUrlChangedState = function (windowId) {\r\n            var targetWindowState = this._pendingWindowsStates[windowId];\r\n            if (typeof targetWindowState === \"undefined\") {\r\n                return;\r\n            }\r\n            targetWindowState.urlChanged = true;\r\n            if (targetWindowState.ready) {\r\n                this.markReadyToShow(windowId);\r\n            }\r\n        };\r\n        WindowStore.prototype.waitFor = function (id) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var un;\r\n                var timeout = setTimeout(function () {\r\n                    un();\r\n                    reject(\"waitFor timed out.\");\r\n                }, _this.waitForTimeoutInMilliseconds);\r\n                var win = _this._windows[id];\r\n                if (win) {\r\n                    clearTimeout(timeout);\r\n                    resolve(win);\r\n                }\r\n                else {\r\n                    un = _this.onReadyWindow(function (w) {\r\n                        if (w.API.id !== id) {\r\n                            return;\r\n                        }\r\n                        clearTimeout(timeout);\r\n                        un();\r\n                        resolve(w);\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        WindowStore.prototype.onReadyWindow = function (callback) {\r\n            return this._registry.add(\"on-ready\", callback);\r\n        };\r\n        WindowStore.prototype.onAdded = function (callback) {\r\n            return this._registry.add(\"on-added\", callback);\r\n        };\r\n        WindowStore.prototype.onRemoved = function (callback) {\r\n            return this._registry.add(\"on-removed\", callback);\r\n        };\r\n        WindowStore.prototype.markReadyToShow = function (windowId) {\r\n            if (this._pendingWindows[windowId]) {\r\n                this._windows[windowId] = this._pendingWindows[windowId];\r\n                delete this._pendingWindows[windowId];\r\n                delete this._pendingWindowsStates[windowId];\r\n            }\r\n            this._registry.execute(\"on-ready\", this._windows[windowId]);\r\n        };\r\n        return WindowStore;\r\n    }());\r\n    var windowStore = new WindowStore();\n\n    var Utils$1 = (function () {\r\n        function Utils() {\r\n        }\r\n        Utils.getGDMajorVersion = function () {\r\n            if (typeof window === \"undefined\") {\r\n                return -1;\r\n            }\r\n            if (!window.glueDesktop) {\r\n                return -1;\r\n            }\r\n            if (!window.glueDesktop.version) {\r\n                return -1;\r\n            }\r\n            var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n            return isNaN(ver) ? -1 : ver;\r\n        };\r\n        Utils.callbackifyPromise = function (action, successCallback, errorCallback) {\r\n            var fail = function (error) {\r\n                var msg = error;\r\n                if (error instanceof Error) {\r\n                    msg = error.message;\r\n                }\r\n                if (typeof errorCallback === \"function\") {\r\n                    errorCallback(msg);\r\n                    return;\r\n                }\r\n                return Promise.reject(msg);\r\n            };\r\n            try {\r\n                return action()\r\n                    .then(function (result) {\r\n                    if (typeof successCallback === \"function\") {\r\n                        successCallback(result);\r\n                    }\r\n                    return result;\r\n                })\r\n                    .catch(function (error) {\r\n                    return fail(error);\r\n                });\r\n            }\r\n            catch (err) {\r\n                return fail(err);\r\n            }\r\n        };\r\n        Utils.getMonitor = function (bounds, displays) {\r\n            var _this = this;\r\n            var monitorsSortedByOverlap = displays.map(function (m) {\r\n                var left = m.left, top = m.top, width = m.workingAreaWidth, height = m.workingAreaHeight;\r\n                var overlap = _this.calculateTotalOverlap({ left: left, top: top, width: width, height: height }, bounds);\r\n                return {\r\n                    monitor: m,\r\n                    totalOverlap: overlap\r\n                };\r\n            }).sort(function (a, b) { return b.totalOverlap - a.totalOverlap; });\r\n            return monitorsSortedByOverlap[0].monitor;\r\n        };\r\n        Utils.getDisplayCenterOfScreen = function (a, display) {\r\n            var left = Math.floor(Math.max(display.left, (display.left + (display.workingAreaWidth - a.width) / 2)));\r\n            var top = Math.floor(Math.max(display.top, (display.top + (display.workingAreaHeight - a.height) / 2)));\r\n            return {\r\n                top: top,\r\n                left: left\r\n            };\r\n        };\r\n        Utils.calculateTotalOverlap = function (r1, r2) {\r\n            var r1x = r1.left;\r\n            var r1y = r1.top;\r\n            var r1xMax = r1x + r1.width;\r\n            var r1yMax = r1y + r1.height;\r\n            var r2x = r2.left;\r\n            var r2y = r2.top;\r\n            var r2xMax = r2x + r2.width;\r\n            var r2yMax = r2y + r2.height;\r\n            var xOverlap = Math.max(0, Math.min(r1xMax, r2xMax) - Math.max(r1x, r2x));\r\n            var yOverlap = Math.max(0, Math.min(r1yMax, r2yMax) - Math.max(r1y, r2y));\r\n            return xOverlap * yOverlap;\r\n        };\r\n        return Utils;\r\n    }());\n\n    var windowFactory = (function (id, options, executor, logger, appManagerGetter, displayAPIGetter, agm, registry) {\r\n        var _registry = (registry !== null && registry !== void 0 ? registry : lib$2());\r\n        var _logger = logger.subLogger(\"window \" + id);\r\n        var _name = options.name;\r\n        var _mode = options.mode;\r\n        var _url = options.url;\r\n        var _title = options.title;\r\n        var _context = options.context || {};\r\n        var _bounds = options.bounds;\r\n        var _frameColor = options.frameColor;\r\n        var _focus = options.focus;\r\n        var _neighbours = options.neighbours || {};\r\n        var _groupId = options.groupId;\r\n        var _isGroupHeaderVisible = options.isGroupHeaderVisible;\r\n        var _isTabHeaderVisible = options.isTabHeaderVisible;\r\n        var _isTabSelected = options.isTabSelected;\r\n        var _settings = options.settings;\r\n        var _isVisible = options.isVisible;\r\n        var _isSticky = options.isSticky;\r\n        var isCollapsed = options.isCollapsed;\r\n        var _windowState = options.state;\r\n        var _tabGroupId = options.tabGroupId;\r\n        var _isLocked = options.isLocked;\r\n        var _group;\r\n        var resultWindow;\r\n        var _frameButtons = [];\r\n        var _zoomFactor = options.zoomFactor;\r\n        var _placementSettings = options.placementSettings;\r\n        function close(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.close(resultWindow)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function navigate(newUrl, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.navigate(resultWindow, newUrl)\r\n                    .then(function () {\r\n                    if (newUrl === _url) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onUrlChanged(function (url, win) {\r\n                        if (win.id === id && url === win.url) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setStyle(style, success, error) {\r\n            if (!style || Object.keys(style).length === 0 || Object.keys(style).every(function (key) { return !key; })) {\r\n                var errMessage = \"Invalid style arguments: \" + JSON.stringify(style);\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            if (style && style.focus !== undefined) {\r\n                if (typeof style.focus !== \"boolean\") {\r\n                    var errMessage = \"Focus must be boolean. Currently only focus true is supported ! \" + JSON.stringify(style);\r\n                    error(errMessage);\r\n                    return Promise.reject(new Error(errMessage));\r\n                }\r\n                else if (style.focus === false) {\r\n                    _logger.warn(\"Focus false is not supported ! \");\r\n                }\r\n            }\r\n            if (style && style.hidden !== undefined && typeof style.hidden !== \"boolean\") {\r\n                var errMessage = \"Hidden must be boolean ! provided: \" + JSON.stringify(style);\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            return Utils$1.callbackifyPromise(function () { return executor.setStyle(resultWindow, style); }, success, error);\r\n        }\r\n        function resetButtons(buttons, success, error) {\r\n            return Utils$1.callbackifyPromise(function () { return executor.resetButtons(resultWindow, buttons); }, success, error);\r\n        }\r\n        function setOnTop(onTop, success, error) {\r\n            if (this.onTop === onTop) {\r\n                var errMessage = \"OnTop setting is already set to '\" + onTop + \"'\";\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            return Utils$1.callbackifyPromise(function () { return executor.setOnTop(resultWindow, onTop); }, success, error);\r\n        }\r\n        function setSizeConstraints(constraints, success, error) {\r\n            if (!constraints || Object.keys(constraints).every(function (value) { return value === undefined; })) {\r\n                var errMessage = \"Invalid Constraints: \" + JSON.stringify(constraints);\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            return Utils$1.callbackifyPromise(function () { return executor.setSizeConstraints(resultWindow, constraints); }, success, error);\r\n        }\r\n        function setTitle(newTitle, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setTitle(resultWindow, newTitle)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setSticky(isSticky, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setSticky(resultWindow, isSticky)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function moveResize(dimensions, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var resolveImmediately = areBoundsEqual(dimensions, _bounds);\r\n                var isDone = false;\r\n                var done = function () {\r\n                    if (isDone) {\r\n                        return;\r\n                    }\r\n                    isDone = true;\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                    if (unsubscribeBoundsChanged) {\r\n                        unsubscribeBoundsChanged();\r\n                        unsubscribeBoundsChanged = undefined;\r\n                    }\r\n                    if (resolveTimeout) {\r\n                        clearTimeout(resolveTimeout);\r\n                        resolveTimeout = undefined;\r\n                    }\r\n                };\r\n                var resolveTimeout;\r\n                var unsubscribeBoundsChanged;\r\n                if (!resolveImmediately) {\r\n                    unsubscribeBoundsChanged = onBoundsChanged(function (win) {\r\n                        if (win.id !== resultWindow.id) {\r\n                            return;\r\n                        }\r\n                        if (!areBoundsEqual(dimensions, win.bounds)) {\r\n                            return;\r\n                        }\r\n                        done();\r\n                    });\r\n                }\r\n                executor.moveResize(resultWindow, dimensions)\r\n                    .then(function () {\r\n                    if (resolveImmediately) {\r\n                        done();\r\n                        return;\r\n                    }\r\n                    resolveTimeout = setTimeout(function () {\r\n                        done();\r\n                    }, 1000);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function addFrameButton(buttonInfo, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (typeof buttonInfo === \"undefined\") {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No button info\");\r\n                        return;\r\n                    }\r\n                    reject(\"No button info\");\r\n                    return;\r\n                }\r\n                if (buttonInfo.buttonId === undefined) {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No buttonId\");\r\n                        return;\r\n                    }\r\n                    reject(\"No buttonId\");\r\n                    return;\r\n                }\r\n                if (buttonInfo.imageBase64 === undefined) {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No imageBase64\");\r\n                        return;\r\n                    }\r\n                    reject(\"No imageBase64\");\r\n                    return;\r\n                }\r\n                executor.addFrameButton(resultWindow, buttonInfo)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function removeFrameButton(buttonId, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (buttonId === undefined || buttonId === \"\") {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No buttonId\");\r\n                        return;\r\n                    }\r\n                    reject(\"No buttonId\");\r\n                    return;\r\n                }\r\n                executor.removeFrameButton(resultWindow, buttonId)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function activate(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.activate(resultWindow)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function focus(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.focus(resultWindow)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function maximizeRestore(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var currEvent = _windowState === \"normal\" ? onMaximized : onNormal;\r\n                executor.maximizeRestore(resultWindow)\r\n                    .then(function () {\r\n                    var un = currEvent(function () {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        if (un) {\r\n                            un();\r\n                        }\r\n                        resolve(resultWindow);\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function maximize(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.maximize(resultWindow)\r\n                    .then(function () {\r\n                    if (_windowState === \"maximized\") {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onMaximized(function (win) {\r\n                        if (win.id === id && win.state === \"maximized\") {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function restore(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.restore(resultWindow)\r\n                    .then(function () {\r\n                    if (_windowState === \"normal\") {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onNormal(function (win) {\r\n                        if (id === win.id && win.state === \"normal\") {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function minimize(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.minimize(resultWindow)\r\n                    .then(function () {\r\n                    if (_windowState === \"minimized\") {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onMinimized(function (win) {\r\n                        if (id === win.id && win.state === \"minimized\") {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            return resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function collapse(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (isCollapsed) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                }\r\n                executor.collapse(resultWindow)\r\n                    .then(function () {\r\n                    if (isCollapsed) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onCollapsed(function (win) {\r\n                        if (win.id === id) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function expand(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (!isCollapsed) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                }\r\n                executor.expand(resultWindow)\r\n                    .then(function () {\r\n                    if (!isCollapsed) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onExpanded(function (win) {\r\n                        if (win.id === id) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function toggleCollapse(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var currEvent = isCollapsed ? onExpanded : onCollapsed;\r\n                executor.toggleCollapse(resultWindow)\r\n                    .then(function () {\r\n                    currEvent(function (win) {\r\n                        if (win.id === id) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function snap(target, direction, success, error) {\r\n            var targetWindowGroup;\r\n            if (!target) {\r\n                return Promise.reject(\"Please specify a target window! calledWith: \" + target);\r\n            }\r\n            if (typeof target === \"string\") {\r\n                var targetWindow = windowStore.get(target);\r\n                if (!targetWindow) {\r\n                    return Promise.reject(new Error(\"Invalid target parameter or no such window. Invoked with:  \" + target));\r\n                }\r\n                targetWindowGroup = targetWindow.API.group;\r\n            }\r\n            else {\r\n                targetWindowGroup = target.group;\r\n            }\r\n            return Promise.all([\r\n                waitForMyWindowToJoinTargetGroup(targetWindowGroup),\r\n                executor.snap(resultWindow, target, direction)\r\n            ])\r\n                .then(function () {\r\n                if (typeof success === \"function\") {\r\n                    success(resultWindow);\r\n                }\r\n                return resultWindow;\r\n            })\r\n                .catch(function (e) {\r\n                if (typeof error === \"function\") {\r\n                    error(e);\r\n                }\r\n                return e;\r\n            });\r\n        }\r\n        function waitForMyWindowToJoinTargetGroup(targetGroup) {\r\n            return new Promise(function (resolve, reject) {\r\n                var unsub = targetGroup.onWindowAdded(function (_, window) {\r\n                    if (resultWindow.id === window.id) {\r\n                        unsub();\r\n                        resolve();\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        function attachTab(tab, index, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var sourceWindowId;\r\n                var targetWindowId = resultWindow.id;\r\n                var errorMessage = \"Invalid tab parameter - should be an object with property id or a string. Invoked for source window id:\" + resultWindow.id;\r\n                if (!tab) {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                if (typeof tab === \"string\") {\r\n                    sourceWindowId = tab;\r\n                }\r\n                else if (typeof tab.id !== \"undefined\") {\r\n                    sourceWindowId = tab.id;\r\n                }\r\n                else {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                var argsForSend = {\r\n                    sourceWindowId: sourceWindowId,\r\n                    targetWindowId: targetWindowId,\r\n                };\r\n                if (index) {\r\n                    argsForSend.index = index;\r\n                }\r\n                var sourceWin = windowStore.get(argsForSend.sourceWindowId).API;\r\n                var un = sourceWin.onAttached(function (win) {\r\n                    if (win.id === sourceWin.id) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        un();\r\n                        resolve(resultWindow);\r\n                    }\r\n                });\r\n                executor.attachTab(resultWindow, argsForSend)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    un();\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function detachTab(opt, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var argsForSend = { windowId: resultWindow.id };\r\n                var _options = opt || {};\r\n                if (typeof _options.relativeTo !== \"undefined\") {\r\n                    if (typeof _options.relativeTo === \"string\") {\r\n                        argsForSend.relativeTo = _options.relativeTo;\r\n                    }\r\n                    else if (typeof _options.relativeTo.id !== \"undefined\") {\r\n                        argsForSend.relativeTo = _options.relativeTo.id;\r\n                    }\r\n                    if (typeof _options.relativeDirection !== \"undefined\") {\r\n                        argsForSend.relativeDirection = _options.relativeDirection;\r\n                    }\r\n                    if (typeof _options.width !== \"undefined\") {\r\n                        argsForSend.width = _options.width;\r\n                    }\r\n                    if (typeof _options.height !== \"undefined\") {\r\n                        argsForSend.height = _options.height;\r\n                    }\r\n                }\r\n                if (typeof _options.bounds !== \"undefined\") {\r\n                    argsForSend.bounds = _options.bounds;\r\n                }\r\n                if (typeof _options.hideTabHeader !== \"undefined\") {\r\n                    argsForSend.hideTabHeader = _options.hideTabHeader;\r\n                }\r\n                var visibilityChangeHeard = false;\r\n                var detachedHeard = false;\r\n                var unVisibility = _registry.add(\"frame-attached\", (function (win) {\r\n                    var isVisibilityCorrect = _options.hideTabHeader === undefined || _options.hideTabHeader !== win.isTabHeaderVisible;\r\n                    if (id === win.id && isVisibilityCorrect) {\r\n                        visibilityChangeHeard = true;\r\n                        unVisibility();\r\n                        if (detachedHeard) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            resolve(resultWindow);\r\n                            if (typeof unDetached === \"function\") {\r\n                                unDetached();\r\n                            }\r\n                        }\r\n                    }\r\n                }));\r\n                var unDetached = onDetached(function (win) {\r\n                    if (id === win.id) {\r\n                        detachedHeard = true;\r\n                        unDetached();\r\n                        if (visibilityChangeHeard) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            resolve(resultWindow);\r\n                            if (typeof unVisibility === \"function\") {\r\n                                unVisibility();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                executor.detachTab(resultWindow, argsForSend)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    unDetached();\r\n                    unVisibility();\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setVisible(toBeVisible, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setVisible(resultWindow, toBeVisible)\r\n                    .then(function () {\r\n                    var isVisibilityCorrect = toBeVisible === undefined ? _isVisible === true : _isVisible === toBeVisible;\r\n                    if (isVisibilityCorrect) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onVisibilityChanged(function (win) {\r\n                        isVisibilityCorrect = toBeVisible === undefined ? win.isVisible === true : win.isVisible === toBeVisible;\r\n                        if (win.id === id && isVisibilityCorrect) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function showLoader(loader) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.showLoader(resultWindow, loader)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function hideLoader() {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.hideLoader(resultWindow)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function updateContext(context, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.updateContext(resultWindow, context)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function lock(success, error) {\r\n            if (resultWindow.isLocked) {\r\n                if (typeof success === \"function\") {\r\n                    success(resultWindow);\r\n                }\r\n                return Promise.resolve(resultWindow);\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                executor.lock(resultWindow)\r\n                    .then(function () { return waitForLockingChanged(); })\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function unlock(success, error) {\r\n            if (!resultWindow.isLocked) {\r\n                if (typeof success === \"function\") {\r\n                    success(resultWindow);\r\n                }\r\n                return Promise.resolve(resultWindow);\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                executor.unlock(resultWindow)\r\n                    .then(function () { return waitForLockingChanged(); })\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function waitForLockingChanged() {\r\n            return new Promise(function (resolve) {\r\n                var un = onLockingChanged(function (window) {\r\n                    if (window.id === resultWindow.id) {\r\n                        un();\r\n                        resolve();\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        function getIcon(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.getIcon(resultWindow)\r\n                    .then(function (icon) {\r\n                    if (typeof success === \"function\") {\r\n                        success(icon);\r\n                    }\r\n                    resolve(icon);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setIcon(base64Image, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setIcon(resultWindow, base64Image)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setFrameColor(frameColor, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setFrameColor(resultWindow, frameColor)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setTabHeaderVisible(toBeTabHeaderVisible, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setTabHeaderVisible(resultWindow, toBeTabHeaderVisible)\r\n                    .then(function () {\r\n                    if (_isTabHeaderVisible === toBeTabHeaderVisible) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onTabHeaderVisibilityChanged(function (win) {\r\n                        if (win.id === id && win.isTabHeaderVisible === toBeTabHeaderVisible) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setTabTooltip(tooltip) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    if (!tooltip) {\r\n                        throw new Error(tooltip + \" is null or undefined\");\r\n                    }\r\n                    return [2, executor.setTabTooltip(resultWindow, tooltip)];\r\n                });\r\n            });\r\n        }\r\n        function showPopup(config) {\r\n            return executor.showPopup(resultWindow, config);\r\n        }\r\n        function createFlydown(config) {\r\n            return executor.createFlydown(resultWindow.id, config);\r\n        }\r\n        function setModalState(isModal) {\r\n            return executor.setModalState(resultWindow.id, isModal || false);\r\n        }\r\n        function zoomIn(success, error) {\r\n            return Utils$1.callbackifyPromise(function () {\r\n                return executor.zoomIn(resultWindow);\r\n            }, success, error);\r\n        }\r\n        function zoomOut(success, error) {\r\n            return Utils$1.callbackifyPromise(function () {\r\n                return executor.zoomOut(resultWindow);\r\n            }, success, error);\r\n        }\r\n        function setZoomFactor(zoomFactor, success, error) {\r\n            return Utils$1.callbackifyPromise(function () {\r\n                if (isNaN(zoomFactor)) {\r\n                    throw new Error(\"zoomFactor is not a number\");\r\n                }\r\n                return executor.setZoomFactor(resultWindow, zoomFactor);\r\n            }, success, error);\r\n        }\r\n        function showDevTools() {\r\n            return executor.showDevTools(resultWindow);\r\n        }\r\n        function capture(captureOptions) {\r\n            return executor.capture(resultWindow, captureOptions);\r\n        }\r\n        function flash(suppliedOptions, mode) {\r\n            var flashOptions = {\r\n                shouldFlash: true,\r\n                mode: \"auto\"\r\n            };\r\n            if (typeof suppliedOptions === \"boolean\") {\r\n                flashOptions.shouldFlash = suppliedOptions;\r\n            }\r\n            if (typeof mode !== \"undefined\") {\r\n                flashOptions.mode = mode;\r\n            }\r\n            return executor.flash(resultWindow, flashOptions);\r\n        }\r\n        function print(printOptions) {\r\n            return executor.print(resultWindow, printOptions);\r\n        }\r\n        function printToPDF(printToPDFOptions) {\r\n            return executor.printToPDF(resultWindow, printToPDFOptions);\r\n        }\r\n        function ungroup(ungroupOptions) {\r\n            return new Promise(function (resolve, reject) {\r\n                var unGroupChanged = onGroupChanged(function (win, newGroup, oldGroup) {\r\n                    if (id === win.id) {\r\n                        unGroupChanged();\r\n                        resolve(resultWindow);\r\n                    }\r\n                });\r\n                executor.ungroup(resultWindow, ungroupOptions)\r\n                    .catch(function (e) {\r\n                    unGroupChanged();\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function place(placementSettings) {\r\n            return executor.place(resultWindow, placementSettings);\r\n        }\r\n        function onTitleChanged(callback) {\r\n            callback(resultWindow.title, resultWindow);\r\n            return _registry.add(\"onTitleChanged\", callback);\r\n        }\r\n        function onClose(callback) {\r\n            return _registry.add(\"onClose\", callback);\r\n        }\r\n        function onUrlChanged(callback) {\r\n            return _registry.add(\"onUrlChanged\", callback);\r\n        }\r\n        function onFrameButtonAdded(callback) {\r\n            return _registry.add(\"onFrameButtonAdded\", callback);\r\n        }\r\n        function onFrameButtonRemoved(callback) {\r\n            return _registry.add(\"onFrameButtonRemoved\", callback);\r\n        }\r\n        function onFrameButtonClicked(callback) {\r\n            return _registry.add(\"onFrameButtonClicked\", callback);\r\n        }\r\n        function onCollapsed(callback) {\r\n            if (isCollapsed) {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"collapsed\", callback);\r\n        }\r\n        function onExpanded(callback) {\r\n            if (!isCollapsed) {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"expanded\", callback);\r\n        }\r\n        function onMaximized(callback) {\r\n            if (_windowState === \"maximized\") {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"maximized\", callback);\r\n        }\r\n        function onMinimized(callback) {\r\n            if (_windowState === \"minimized\") {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"minimized\", callback);\r\n        }\r\n        function onNormal(callback) {\r\n            if (_windowState === \"normal\") {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"normal\", callback);\r\n        }\r\n        function onAttached(callback) {\r\n            return _registry.add(\"attached\", callback);\r\n        }\r\n        function onDetached(callback) {\r\n            return _registry.add(\"detached\", callback);\r\n        }\r\n        function onVisibilityChanged(callback) {\r\n            return _registry.add(\"visibility-changed\", callback);\r\n        }\r\n        function onContextUpdated(callback) {\r\n            return _registry.add(\"context-updated\", callback);\r\n        }\r\n        function onLockingChanged(callback) {\r\n            return _registry.add(\"lock-changed\", callback);\r\n        }\r\n        function onBoundsChanged(callback) {\r\n            return _registry.add(\"bounds-changed\", callback);\r\n        }\r\n        function onFocusChanged(callback) {\r\n            return _registry.add(\"focus-changed\", callback);\r\n        }\r\n        function onStickyChanged(callback) {\r\n            return _registry.add(\"sticky-changed\", callback);\r\n        }\r\n        function onFrameColorChanged(callback) {\r\n            return _registry.add(\"frame-color-changed\", callback);\r\n        }\r\n        function onTabHeaderVisibilityChanged(callback) {\r\n            return _registry.add(\"tab-header-visibility-changed\", callback);\r\n        }\r\n        function onWindowAttached(callback) {\r\n            return _registry.add(\"window-attached\", callback);\r\n        }\r\n        function onWindowDetached(callback) {\r\n            return _registry.add(\"window-detached\", callback);\r\n        }\r\n        function onGroupChanged(callback) {\r\n            return _registry.add(\"group-changed\", callback);\r\n        }\r\n        function onTabSelectionChanged(callback) {\r\n            return _registry.add(\"tab-selection-changed\", callback);\r\n        }\r\n        function onClosing(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            var callbackWrap = function (success, error) {\r\n                var promise = callback();\r\n                if (promise && promise.then) {\r\n                    promise.then(success).catch(error);\r\n                }\r\n                else {\r\n                    success();\r\n                }\r\n            };\r\n            return executor.onClosing(callbackWrap, id);\r\n        }\r\n        function onRefreshing(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            var callbackWrap = function (success, error, prevent) {\r\n                var promise = callback(prevent);\r\n                if (promise && promise.then) {\r\n                    promise.then(success).catch(error);\r\n                }\r\n                else {\r\n                    success();\r\n                }\r\n            };\r\n            return executor.onRefreshing(callbackWrap, id);\r\n        }\r\n        function onZoomFactorChanged(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            return _registry.add(\"zoom-factor-changed\", callback);\r\n        }\r\n        function onPlacementSettingsChanged(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            return _registry.add(\"placementSettingsChanged\", callback);\r\n        }\r\n        function handleTitleChanged(newTitle) {\r\n            _title = newTitle;\r\n            _registry.execute(\"onTitleChanged\", newTitle, resultWindow);\r\n        }\r\n        function handleUrlChanged(newUrl) {\r\n            _url = newUrl;\r\n            _registry.execute(\"onUrlChanged\", newUrl, resultWindow);\r\n        }\r\n        function handleVisibilityChanged(isVisible) {\r\n            if (isVisible === _isVisible) {\r\n                return;\r\n            }\r\n            _isVisible = isVisible;\r\n            _registry.execute(\"visibility-changed\", resultWindow);\r\n        }\r\n        function handleWindowSettingsChanged(settings) {\r\n            _settings = settings;\r\n            _registry.execute(\"settings-changed\", resultWindow);\r\n        }\r\n        function handleContextUpdated(context) {\r\n            _context = context;\r\n            _registry.execute(\"context-updated\", _context, resultWindow);\r\n        }\r\n        function handleWindowClose() {\r\n            if (resultWindow.id === undefined) {\r\n                return;\r\n            }\r\n            resultWindow.id = undefined;\r\n            _registry.execute(\"onClose\", resultWindow);\r\n        }\r\n        function handleFrameButtonAdded(frameButton) {\r\n            var buttonObj = [\"buttonId\", \"imageBase64\", \"order\", \"tooltip\"].reduce(function (memo, k) {\r\n                memo[k] = frameButton[k];\r\n                return memo;\r\n            }, {});\r\n            var frameButtonsIds = _frameButtons.map(function (btn) {\r\n                return btn.buttonId;\r\n            });\r\n            if (frameButtonsIds.indexOf(frameButton.buttonId) === -1) {\r\n                _frameButtons.push(buttonObj);\r\n            }\r\n            _registry.execute(\"onFrameButtonAdded\", buttonObj, resultWindow);\r\n        }\r\n        function handleFrameButtonRemoved(frameButtonId) {\r\n            var button;\r\n            _frameButtons = _frameButtons.reduce(function (memo, btn) {\r\n                if (btn.buttonId === frameButtonId) {\r\n                    button = btn;\r\n                }\r\n                else {\r\n                    memo.push(btn);\r\n                }\r\n                return memo;\r\n            }, []);\r\n            if (button !== undefined) {\r\n                _registry.execute(\"onFrameButtonRemoved\", button, resultWindow);\r\n            }\r\n        }\r\n        function handleFrameButtonClicked(frameButton) {\r\n            var button = _frameButtons.filter(function (btn) {\r\n                return btn.buttonId === frameButton.buttonId;\r\n            });\r\n            if (button.length > 0) {\r\n                _registry.execute(\"onFrameButtonClicked\", button[0], resultWindow);\r\n            }\r\n        }\r\n        function handleWindowChangeState(state) {\r\n            if (state === \"collapsed\") {\r\n                isCollapsed = true;\r\n            }\r\n            else if (state === \"expanded\") {\r\n                isCollapsed = false;\r\n            }\r\n            else {\r\n                _windowState = state;\r\n            }\r\n            _registry.execute(state, resultWindow);\r\n        }\r\n        function handleFrameIsLockedChanged(isLocked) {\r\n            _isLocked = isLocked;\r\n            _registry.execute(\"lock-changed\", resultWindow);\r\n        }\r\n        function handleBoundsChanged(bounds) {\r\n            if (_bounds.top === bounds.top && _bounds.left === bounds.left && _bounds.width === bounds.width && _bounds.height === bounds.height) {\r\n                return;\r\n            }\r\n            _bounds.top = bounds.top;\r\n            _bounds.left = bounds.left;\r\n            _bounds.width = bounds.width;\r\n            _bounds.height = bounds.height;\r\n            _registry.execute(\"bounds-changed\", resultWindow);\r\n        }\r\n        function handleFocusChanged(isFocused) {\r\n            _focus = isFocused;\r\n            _registry.execute(\"focus-changed\", resultWindow);\r\n        }\r\n        function handleIsStickyChanged(isSticky) {\r\n            _isSticky = isSticky;\r\n            _registry.execute(\"sticky-changed\", isSticky, resultWindow);\r\n        }\r\n        function handleFrameColorChanged(frameColor) {\r\n            _frameColor = frameColor;\r\n            _registry.execute(\"frame-color-changed\", resultWindow);\r\n        }\r\n        function handleFrameAttached(tabGroupId, isTabHeaderVisible) {\r\n            _tabGroupId = tabGroupId;\r\n            _isTabHeaderVisible = isTabHeaderVisible;\r\n            _registry.execute(\"frame-attached\", resultWindow);\r\n        }\r\n        function handleCompositionChanged(neighbours, groupId) {\r\n            _neighbours = neighbours || {};\r\n            _groupId = groupId;\r\n            if (resultWindow.groupId !== groupId) {\r\n                _registry.execute(\"group-changed\", resultWindow);\r\n            }\r\n        }\r\n        function handleGroupHeaderVisibilityChanged(isGroupHeaderVisible) {\r\n            _isGroupHeaderVisible = isGroupHeaderVisible;\r\n        }\r\n        function handleTabHeaderVisibilityChanged(isTabHeaderVisible) {\r\n            if (_isTabHeaderVisible !== isTabHeaderVisible) {\r\n                _isTabHeaderVisible = isTabHeaderVisible;\r\n                _registry.execute(\"tab-header-visibility-changed\", resultWindow);\r\n            }\r\n        }\r\n        function handleFrameSelectionChanged(newWindow, prevWindow) {\r\n            var selectedWindow;\r\n            if (typeof newWindow !== \"undefined\" && newWindow === id) {\r\n                _isTabSelected = true;\r\n                selectedWindow = resultWindow;\r\n            }\r\n            else {\r\n                _isTabSelected = false;\r\n                selectedWindow = windowStore.get(newWindow) ? windowStore.get(newWindow).API : undefined;\r\n            }\r\n            var previousWindow = windowStore.get(prevWindow) ? windowStore.get(prevWindow).API : undefined;\r\n            if (_isTabSelected && previousWindow) {\r\n                var un_1 = previousWindow.onTabSelectionChanged(function (newWin, prevWin) {\r\n                    if ((prevWin && prevWin.id) === previousWindow.id) {\r\n                        un_1();\r\n                        _registry.execute(\"tab-selection-changed\", selectedWindow, previousWindow, resultWindow);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                _registry.execute(\"tab-selection-changed\", selectedWindow, previousWindow, resultWindow);\r\n            }\r\n        }\r\n        function handleAttached(newTabGroupId, tabHeaderVisible) {\r\n            _tabGroupId = newTabGroupId;\r\n            _isTabHeaderVisible = tabHeaderVisible;\r\n            _registry.execute(\"attached\", resultWindow);\r\n        }\r\n        function handleWindowAttached(win) {\r\n            _registry.execute(\"window-attached\", win);\r\n        }\r\n        function handleDetached(tabGroupId) {\r\n            _tabGroupId = tabGroupId;\r\n            var un = _registry.add(\"frame-attached\", function (win) {\r\n                if (win.id === id) {\r\n                    un();\r\n                    _registry.execute(\"detached\", resultWindow);\r\n                }\r\n            });\r\n        }\r\n        function handleWindowDetached(win) {\r\n            _registry.execute(\"window-detached\", win);\r\n        }\r\n        function handleZoomFactorChanged(zoomFactor) {\r\n            _zoomFactor = zoomFactor;\r\n            _registry.execute(\"zoom-factor-changed\", resultWindow);\r\n        }\r\n        function handlePlacementSettingsChanged(placementSettings) {\r\n            var promise;\r\n            var copy = placementSettings;\r\n            if (!copy.display) {\r\n                promise = Promise.resolve(undefined);\r\n            }\r\n            else {\r\n                var displayAPI_1 = displayAPIGetter();\r\n                if (!displayAPI_1) {\r\n                    promise = Promise.resolve(undefined);\r\n                }\r\n                else {\r\n                    var index_1 = copy.display - 1;\r\n                    promise = new Promise(function (resolve, reject) {\r\n                        displayAPI_1.all().then(function (displays) {\r\n                            var display = displays.find(function (d) { return d.index === index_1; });\r\n                            resolve(display);\r\n                        }).catch(reject);\r\n                    });\r\n                }\r\n            }\r\n            promise.then(function (d) {\r\n                copy.display = d;\r\n                _placementSettings = copy;\r\n                _registry.execute(\"placementSettingsChanged\", resultWindow);\r\n            });\r\n        }\r\n        function handleGroupChanged(newGroup, oldGroup) {\r\n            _logger.trace(\"handle group changed to win: \" + id + \" with group id: \" + newGroup.id);\r\n            _group = newGroup;\r\n            _groupId = newGroup.id;\r\n            _registry.execute(\"group-changed\", resultWindow, newGroup, oldGroup);\r\n        }\r\n        function handleGroupAssociation(group) {\r\n            if (group) {\r\n                _logger.trace(\"setting group to win: \" + id + \" with group id: \" + group.id);\r\n            }\r\n            _group = group;\r\n        }\r\n        function getAllTabs() {\r\n            var allWindows = windowStore.list;\r\n            if (_mode.toLowerCase() !== \"tab\") {\r\n                return [];\r\n            }\r\n            return Object.keys(allWindows).reduce(function (memo, win) {\r\n                var window = allWindows[win];\r\n                if (window\r\n                    && window.API.tabGroupId\r\n                    && typeof window.API.tabGroupId !== \"undefined\"\r\n                    && typeof resultWindow.tabGroupId !== \"undefined\"\r\n                    && window.API.tabGroupId === resultWindow.tabGroupId) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n        }\r\n        function mapWindowIdsToWindowObjects(windowIdArr) {\r\n            return windowIdArr.reduce(function (memo, winId) {\r\n                var window = windowStore.get(winId);\r\n                if (window) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n        }\r\n        function getNeighboursByDirection(direction) {\r\n            var windowIds = _neighbours[direction];\r\n            if (typeof windowIds !== \"undefined\") {\r\n                return mapWindowIdsToWindowObjects(windowIds);\r\n            }\r\n        }\r\n        function getApplicationName() {\r\n            if (_context._APPLICATION_NAME) {\r\n                return _context._APPLICATION_NAME;\r\n            }\r\n            if (_context && _context._t42 && _context._t42.application) {\r\n                return _context._t42.application;\r\n            }\r\n            var info = getWindowInfo();\r\n            if (!info) {\r\n                return undefined;\r\n            }\r\n            return info.applicationName;\r\n        }\r\n        function getWindowInfo() {\r\n            if (typeof window !== \"undefined\" && window.glue42gd && window.glue42gd.getWindowInfo) {\r\n                var info = window.glue42gd.getWindowInfo(id);\r\n                if (!info) {\r\n                    return undefined;\r\n                }\r\n                else {\r\n                    return info;\r\n                }\r\n            }\r\n        }\r\n        function areBoundsEqual(requested, current) {\r\n            var height = requested.height;\r\n            var width = requested.width;\r\n            if (requested.height < _settings.minHeight) {\r\n                height = _settings.minHeight;\r\n            }\r\n            if (requested.height > _settings.maxHeight) {\r\n                height = _settings.maxHeight;\r\n            }\r\n            if (requested.width < _settings.minWidth) {\r\n                width = _settings.minWidth;\r\n            }\r\n            if (requested.width > _settings.maxWidth) {\r\n                width = _settings.maxWidth;\r\n            }\r\n            var areHeightsEqual = height ? current.height === height : true;\r\n            var areWidthsEqual = width ? current.width === width : true;\r\n            var areLeftsEqual = requested.left ? current.left === requested.left : true;\r\n            var areTopsEqual = requested.top ? current.top === requested.top : true;\r\n            return areHeightsEqual && areWidthsEqual && areLeftsEqual && areTopsEqual;\r\n        }\r\n        resultWindow = {\r\n            get name() {\r\n                return _name;\r\n            },\r\n            get application() {\r\n                var appManager = appManagerGetter();\r\n                return appManager ? appManager.application(getApplicationName()) : undefined;\r\n            },\r\n            get hostInstance() {\r\n                return executor.hostInstance;\r\n            },\r\n            get agmInstance() {\r\n                var _this = this;\r\n                if (typeof window !== \"undefined\" && window.glue42gd) {\r\n                    return agm.servers().find(function (s) { return s.windowId === _this.id; });\r\n                }\r\n                var appName = getApplicationName();\r\n                return appName ? { application: appName } : undefined;\r\n            },\r\n            get url() {\r\n                return _url;\r\n            },\r\n            id: id,\r\n            get title() {\r\n                return _title;\r\n            },\r\n            get windowStyleAttributes() {\r\n                return _settings;\r\n            },\r\n            get settings() {\r\n                return _settings;\r\n            },\r\n            get tabGroupId() {\r\n                return _mode.toLowerCase() === \"tab\" ? _tabGroupId : undefined;\r\n            },\r\n            get frameButtons() {\r\n                return _frameButtons;\r\n            },\r\n            get mode() {\r\n                return _mode;\r\n            },\r\n            get state() {\r\n                return _windowState;\r\n            },\r\n            get isCollapsed() {\r\n                return isCollapsed;\r\n            },\r\n            get isVisible() {\r\n                return _isVisible;\r\n            },\r\n            get isLocked() {\r\n                return _isLocked;\r\n            },\r\n            get context() {\r\n                return _context;\r\n            },\r\n            get bounds() {\r\n                return _bounds;\r\n            },\r\n            get minHeight() {\r\n                return _settings.minHeight;\r\n            },\r\n            get maxHeight() {\r\n                return _settings.maxHeight;\r\n            },\r\n            get minWidth() {\r\n                return _settings.minWidth;\r\n            },\r\n            get maxWidth() {\r\n                return _settings.maxWidth;\r\n            },\r\n            get isFocused() {\r\n                return _focus;\r\n            },\r\n            get frameColor() {\r\n                return _frameColor;\r\n            },\r\n            get opened() {\r\n                return resultWindow.id !== undefined;\r\n            },\r\n            get group() {\r\n                return _group;\r\n            },\r\n            get groupId() {\r\n                return _groupId;\r\n            },\r\n            get isSticky() {\r\n                return _isSticky;\r\n            },\r\n            get topNeighbours() {\r\n                return getNeighboursByDirection(\"top\");\r\n            },\r\n            get leftNeighbours() {\r\n                return getNeighboursByDirection(\"left\");\r\n            },\r\n            get rightNeighbours() {\r\n                return getNeighboursByDirection(\"right\");\r\n            },\r\n            get bottomNeighbours() {\r\n                return getNeighboursByDirection(\"bottom\");\r\n            },\r\n            get isGroupHeaderVisible() {\r\n                return _isGroupHeaderVisible;\r\n            },\r\n            get activityId() {\r\n                if (_context._t42) {\r\n                    return _context._t42.activityId;\r\n                }\r\n                var info = getWindowInfo();\r\n                if (!info) {\r\n                    return undefined;\r\n                }\r\n                return info.activityId;\r\n            },\r\n            get activityWindowId() {\r\n                if (_context._t42) {\r\n                    return _context._t42.activityWindowId;\r\n                }\r\n                var info = getWindowInfo();\r\n                if (!info) {\r\n                    return undefined;\r\n                }\r\n                return info.activityWindowId;\r\n            },\r\n            get windowType() {\r\n                return options.windowType || \"electron\";\r\n            },\r\n            get zoomFactor() {\r\n                return _zoomFactor;\r\n            },\r\n            get screen() {\r\n                if (typeof window !== \"undefined\" && window.glue42gd) {\r\n                    return Utils$1.getMonitor(resultWindow.bounds, window.glue42gd.monitors);\r\n                }\r\n                return undefined;\r\n            },\r\n            get placementSettings() {\r\n                return Object.assign({}, _placementSettings);\r\n            },\r\n            maximize: maximize,\r\n            restore: restore,\r\n            minimize: minimize,\r\n            maximizeRestore: maximizeRestore,\r\n            collapse: collapse,\r\n            expand: expand,\r\n            toggleCollapse: toggleCollapse,\r\n            focus: focus,\r\n            activate: activate,\r\n            moveResize: moveResize,\r\n            setTitle: setTitle,\r\n            setStyle: setStyle,\r\n            setOnTop: setOnTop,\r\n            resetButtons: resetButtons,\r\n            setSizeConstraints: setSizeConstraints,\r\n            navigate: navigate,\r\n            addFrameButton: addFrameButton,\r\n            removeFrameButton: removeFrameButton,\r\n            setVisible: setVisible,\r\n            show: function () { return setVisible(true); },\r\n            hide: function () { return setVisible(false); },\r\n            center: function (screen) { return moveResize(Utils$1.getDisplayCenterOfScreen(resultWindow.bounds, screen || resultWindow.screen)); },\r\n            close: close,\r\n            snap: snap,\r\n            showLoader: showLoader,\r\n            hideLoader: hideLoader,\r\n            updateContext: updateContext,\r\n            lock: lock,\r\n            unlock: unlock,\r\n            getIcon: getIcon,\r\n            setIcon: setIcon,\r\n            setFrameColor: setFrameColor,\r\n            setTabTooltip: setTabTooltip,\r\n            attachTab: attachTab,\r\n            detachTab: detachTab,\r\n            setTabHeaderVisible: setTabHeaderVisible,\r\n            showPopup: showPopup,\r\n            createFlydown: createFlydown,\r\n            setModalState: setModalState,\r\n            setZoomFactor: setZoomFactor,\r\n            zoomIn: zoomIn,\r\n            zoomOut: zoomOut,\r\n            showDevTools: showDevTools,\r\n            capture: capture,\r\n            flash: flash,\r\n            setSticky: setSticky,\r\n            print: print,\r\n            printToPDF: printToPDF,\r\n            place: place,\r\n            ungroup: ungroup,\r\n            onClose: onClose,\r\n            onUrlChanged: onUrlChanged,\r\n            onTitleChanged: onTitleChanged,\r\n            onFrameButtonAdded: onFrameButtonAdded,\r\n            onFrameButtonRemoved: onFrameButtonRemoved,\r\n            onFrameButtonClicked: onFrameButtonClicked,\r\n            onCollapsed: onCollapsed,\r\n            onExpanded: onExpanded,\r\n            onMinimized: onMinimized,\r\n            onMaximized: onMaximized,\r\n            onNormal: onNormal,\r\n            onAttached: onAttached,\r\n            onDetached: onDetached,\r\n            onVisibilityChanged: onVisibilityChanged,\r\n            onContextUpdated: onContextUpdated,\r\n            onLockingChanged: onLockingChanged,\r\n            onBoundsChanged: onBoundsChanged,\r\n            onFrameColorChanged: onFrameColorChanged,\r\n            onFocusChanged: onFocusChanged,\r\n            onStickyChanged: onStickyChanged,\r\n            onGroupChanged: onGroupChanged,\r\n            onWindowAttached: onWindowAttached,\r\n            onWindowDetached: onWindowDetached,\r\n            onTabSelectionChanged: onTabSelectionChanged,\r\n            onTabHeaderVisibilityChanged: onTabHeaderVisibilityChanged,\r\n            onClosing: onClosing,\r\n            onRefreshing: onRefreshing,\r\n            onZoomFactorChanged: onZoomFactorChanged,\r\n            onPlacementSettingsChanged: onPlacementSettingsChanged,\r\n            get tabs() {\r\n                return getAllTabs();\r\n            },\r\n            get isTabHeaderVisible() {\r\n                return _isTabHeaderVisible;\r\n            },\r\n            get isTabSelected() {\r\n                return _isTabSelected;\r\n            },\r\n            getURL: function () {\r\n                return Promise.resolve(_url);\r\n            },\r\n            getTitle: function () {\r\n                return Promise.resolve(_title);\r\n            },\r\n            getBounds: function () {\r\n                return Promise.resolve(_bounds);\r\n            },\r\n            getContext: function () {\r\n                return Promise.resolve(_context);\r\n            },\r\n            setContext: function (context) {\r\n                return updateContext(context);\r\n            },\r\n            resizeTo: function (width, height) {\r\n                return moveResize({ width: width, height: height });\r\n            },\r\n            moveTo: function (top, left) {\r\n                return moveResize({ top: top, left: left });\r\n            },\r\n            getParentWindow: function () {\r\n                var _a;\r\n                return __awaiter(this, void 0, void 0, function () {\r\n                    var myParentId;\r\n                    return __generator(this, function (_b) {\r\n                        myParentId = _settings.parentInstanceId;\r\n                        if (!myParentId) {\r\n                            return [2, undefined];\r\n                        }\r\n                        return [2, (_a = windowStore.list[myParentId]) === null || _a === void 0 ? void 0 : _a.API];\r\n                    });\r\n                });\r\n            },\r\n            getChildWindows: function () {\r\n                return __awaiter(this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        return [2, Object.keys(windowStore.list)\r\n                                .map(function (key) { return windowStore.list[key].API; })\r\n                                .filter(function (w) {\r\n                                var parentId = w.settings.parentInstanceId;\r\n                                return parentId === id;\r\n                            })];\r\n                    });\r\n                });\r\n            }\r\n        };\r\n        var events = {\r\n            handleWindowClose: handleWindowClose,\r\n            handleWindowChangeState: handleWindowChangeState,\r\n            handleTitleChanged: handleTitleChanged,\r\n            handleVisibilityChanged: handleVisibilityChanged,\r\n            handleUrlChanged: handleUrlChanged,\r\n            handleWindowSettingsChanged: handleWindowSettingsChanged,\r\n            handleContextUpdated: handleContextUpdated,\r\n            handleFrameIsLockedChanged: handleFrameIsLockedChanged,\r\n            handleBoundsChanged: handleBoundsChanged,\r\n            handleFocusChanged: handleFocusChanged,\r\n            handleFrameButtonAdded: handleFrameButtonAdded,\r\n            handleFrameButtonRemoved: handleFrameButtonRemoved,\r\n            handleFrameButtonClicked: handleFrameButtonClicked,\r\n            handleFrameColorChanged: handleFrameColorChanged,\r\n            handleFrameAttached: handleFrameAttached,\r\n            handleFrameSelectionChanged: handleFrameSelectionChanged,\r\n            handleCompositionChanged: handleCompositionChanged,\r\n            handleGroupHeaderVisibilityChanged: handleGroupHeaderVisibilityChanged,\r\n            handleTabHeaderVisibilityChanged: handleTabHeaderVisibilityChanged,\r\n            handleGroupChanged: handleGroupChanged,\r\n            handleGroupAssociation: handleGroupAssociation,\r\n            handleAttached: handleAttached,\r\n            handleDetached: handleDetached,\r\n            handleWindowAttached: handleWindowAttached,\r\n            handleWindowDetached: handleWindowDetached,\r\n            handleZoomFactorChanged: handleZoomFactorChanged,\r\n            handleIsStickyChanged: handleIsStickyChanged,\r\n            handlePlacementSettingsChanged: handlePlacementSettingsChanged,\r\n        };\r\n        return {\r\n            API: resultWindow,\r\n            Events: events,\r\n            Registry: _registry\r\n        };\r\n    });\n\n    var GDExecutor = (function () {\r\n        function GDExecutor() {\r\n            this._registry = lib$2();\r\n        }\r\n        Object.defineProperty(GDExecutor.prototype, \"hostInstance\", {\r\n            get: function () {\r\n                return this.agmTarget;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GDExecutor.prototype.init = function (agm, instance) {\r\n            this.agm = agm;\r\n            this.agmTarget = instance;\r\n        };\r\n        GDExecutor.prototype.close = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"close\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.navigate = function (resultWindow, newUrl) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"navigate\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        url: newUrl\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setStyle = function (resultWindow, style) {\r\n            var _a;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var stylePromises, wait, toBeVisible, toolTip, maxWidth, maxHeight, minWidth, minHeight, allowClose, allowCollapse, allowLockUnlock, allowMaximize, allowMinimize;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            stylePromises = [];\r\n                            wait = function (promise) { return stylePromises.push(promise); };\r\n                            if (style.focus !== undefined && !resultWindow.isFocused) {\r\n                                wait(resultWindow.focus());\r\n                            }\r\n                            if (style.hidden !== undefined) {\r\n                                toBeVisible = !style.hidden;\r\n                                wait(resultWindow.setVisible(toBeVisible));\r\n                            }\r\n                            if (style.onTop !== undefined) {\r\n                                wait(resultWindow.setOnTop(style.onTop));\r\n                            }\r\n                            if (style.tabTooltip !== undefined || style.tabToolTip !== undefined) {\r\n                                toolTip = (_a = style.tabTooltip, (_a !== null && _a !== void 0 ? _a : style.tabToolTip));\r\n                                wait(resultWindow.setTabTooltip(toolTip));\r\n                            }\r\n                            maxWidth = style.maxWidth, maxHeight = style.maxHeight, minWidth = style.minWidth, minHeight = style.minHeight, allowClose = style.allowClose, allowCollapse = style.allowCollapse, allowLockUnlock = style.allowLockUnlock, allowMaximize = style.allowMaximize, allowMinimize = style.allowMinimize;\r\n                            wait(resultWindow.setSizeConstraints({ maxWidth: maxWidth, maxHeight: maxHeight, minWidth: minWidth, minHeight: minHeight }));\r\n                            wait(resultWindow.resetButtons({ allowClose: allowClose, allowCollapse: allowCollapse, allowLockUnlock: allowLockUnlock, allowMaximize: allowMaximize, allowMinimize: allowMinimize }));\r\n                            return [4, Promise.all(stylePromises)];\r\n                        case 1:\r\n                            _b.sent();\r\n                            return [2, resultWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setSizeConstraints = function (resultWindow, constraints) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setSizeConstraints\", {\r\n                    windowId: resultWindow.id,\r\n                    options: constraints\r\n                }).then(function () {\r\n                    resolve(resultWindow);\r\n                }).catch(reject);\r\n            });\r\n        };\r\n        GDExecutor.prototype.setTabTooltip = function (w, tabToolTip) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"setTabTooltip\", { windowId: w.id, options: { tabToolTip: tabToolTip } })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, w];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.resetButtons = function (resultWindow, buttonsConfig) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"resetButtons\", {\r\n                    windowId: resultWindow.id,\r\n                    options: buttonsConfig\r\n                }).then(function () {\r\n                    resolve(resultWindow);\r\n                }).catch(reject);\r\n            });\r\n        };\r\n        GDExecutor.prototype.setOnTop = function (resultWindow, onTop) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setOnTop\", {\r\n                    windowId: resultWindow.id,\r\n                    options: { onTop: onTop }\r\n                }).then(function () {\r\n                    resolve(resultWindow);\r\n                }).catch(reject);\r\n            });\r\n        };\r\n        GDExecutor.prototype.setTitle = function (resultWindow, newTitle) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var options = {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        title: newTitle\r\n                    }\r\n                };\r\n                _this.execute(\"setTitle\", options)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setSticky = function (resultWindow, isSticky) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var options = {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        isSticky: isSticky\r\n                    }\r\n                };\r\n                _this.execute(\"setSticky\", options)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.moveResize = function (resultWindow, dimensions) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"moveResize\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        bounds: dimensions\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.addFrameButton = function (resultWindow, buttonInfo) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"addButton\", {\r\n                    windowId: resultWindow.id,\r\n                    options: buttonInfo\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.removeFrameButton = function (resultWindow, buttonId) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"removeButton\", {\r\n                    windowId: resultWindow.id,\r\n                    options: buttonId\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.activate = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"activate\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.focus = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"focus\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.maximizeRestore = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"maximizeRestore\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.maximize = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"maximize\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.restore = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"restore\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.minimize = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"minimize\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.collapse = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"collapse\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.expand = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"expand\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.toggleCollapse = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"toggleCollapse\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.snap = function (resultWindow, target, direction) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var sourceWindowId = resultWindow.id;\r\n                var targetWindowId;\r\n                var errorMessage = \"Invalid target parameter - should be an object with property id or a string. Invoked for source window id:\" +\r\n                    resultWindow.id;\r\n                if (!target) {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                if (typeof target === \"string\") {\r\n                    targetWindowId = target;\r\n                }\r\n                else if (typeof target.id !== \"undefined\") {\r\n                    targetWindowId = target.id;\r\n                }\r\n                else {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                var args = {\r\n                    targetWindowId: targetWindowId\r\n                };\r\n                if (direction) {\r\n                    args.snappingEdge = direction;\r\n                }\r\n                _this.execute(\"snap\", {\r\n                    windowId: resultWindow.id,\r\n                    options: args\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.attachTab = function (resultWindow, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"attachTab\", {\r\n                    windowId: resultWindow.id,\r\n                    options: options\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.detachTab = function (resultWindow, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"detachTab\", {\r\n                    windowId: resultWindow.id,\r\n                    options: options\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setVisible = function (resultWindow, toBeVisible) {\r\n            var _this = this;\r\n            if (toBeVisible === void 0) { toBeVisible = true; }\r\n            return new Promise(function (resolve, reject) {\r\n                var command;\r\n                if (toBeVisible) {\r\n                    command = \"show\";\r\n                }\r\n                else {\r\n                    command = \"hide\";\r\n                }\r\n                _this.execute(command, { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.showLoader = function (resultWindow, loader) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"showLoadingAnimation\", { windowId: resultWindow.id, options: loader })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.hideLoader = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"hideLoadingAnimation\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.updateContext = function (resultWindow, context) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"updateContext\", {\r\n                    windowId: resultWindow.id,\r\n                    context: context,\r\n                    replace: Object.keys(resultWindow.context).length > 0 ? false : true\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.lock = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"lockUnlock\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        lock: true\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.unlock = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"lockUnlock\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        lock: false\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.getIcon = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"getIcon\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {}\r\n                })\r\n                    .then(function (result) {\r\n                    resolve(result.icon);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setIcon = function (resultWindow, base64Image) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setIcon\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        dataURL: base64Image\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setFrameColor = function (resultWindow, frameColor) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setFrameColor\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        frameColor: frameColor\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setTabHeaderVisible = function (resultWindow, toBeTabHeaderVisible) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setTabHeaderVisible\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        toShow: toBeTabHeaderVisible\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.showPopup = function (targetWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var optionsCopy, reformatedOptions;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!options) {\r\n                                return [2, Promise.reject(\"The options object is not valid!\")];\r\n                            }\r\n                            optionsCopy = __assign({}, options);\r\n                            if (!optionsCopy.targetLocation) {\r\n                                optionsCopy.targetLocation = \"bottom\";\r\n                            }\r\n                            reformatedOptions = __assign(__assign({}, optionsCopy), { popupBounds: optionsCopy.size, targetId: targetWindow.id, popupId: optionsCopy.windowId });\r\n                            return [4, this.execute(\"showPopupWindow\", {\r\n                                    windowId: targetWindow.id,\r\n                                    options: reformatedOptions\r\n                                })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, targetWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.createFlydown = function (windowId, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var optionsCopy, fullOptions;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    if (!options) {\r\n                        return [2, Promise.reject(\"The options object is not valid!\")];\r\n                    }\r\n                    optionsCopy = __assign({}, options);\r\n                    if (!optionsCopy.horizontalOffset) {\r\n                        optionsCopy.horizontalOffset = 0;\r\n                    }\r\n                    if (!optionsCopy.verticalOffset) {\r\n                        optionsCopy.verticalOffset = 0;\r\n                    }\r\n                    fullOptions = this.reformatFlydownOptions(windowId, optionsCopy);\r\n                    return [2, this.execute(\"setFlydownArea\", { windowId: windowId, options: fullOptions }).then(function () {\r\n                            var zoneIds = fullOptions.zones.map(function (z) { return z.id; });\r\n                            fullOptions.zones.forEach(function (z) {\r\n                                var callback = typeof (z.flydownSize) === \"function\" ?\r\n                                    z.flydownSize : function () { return z.flydownSize; };\r\n                                if (options.size instanceof Function && z.flydownSize) {\r\n                                    callback = function (data, cancel) { return __awaiter(_this, void 0, void 0, function () {\r\n                                        var result;\r\n                                        return __generator(this, function (_a) {\r\n                                            switch (_a.label) {\r\n                                                case 0:\r\n                                                    if (!(options.size instanceof Function)) return [3, 2];\r\n                                                    return [4, options.size(data, cancel)];\r\n                                                case 1:\r\n                                                    result = _a.sent();\r\n                                                    _a.label = 2;\r\n                                                case 2:\r\n                                                    if (!(z.flydownSize instanceof Function && z.flydownSize !== options.size)) return [3, 4];\r\n                                                    return [4, z.flydownSize(data, cancel)];\r\n                                                case 3: return [2, (_a.sent()) || result];\r\n                                                case 4: return [2, result || z.flydownSize];\r\n                                            }\r\n                                        });\r\n                                    }); };\r\n                                }\r\n                                _this._registry.clearKey(fullOptions.targetId + \"_\" + z.id);\r\n                                _this._registry.add(fullOptions.targetId + \"_\" + z.id, callback);\r\n                            });\r\n                            return {\r\n                                destroy: function () { return _this.clearFlydownArea(fullOptions.targetId, zoneIds); },\r\n                                options: optionsCopy\r\n                            };\r\n                        })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setModalState = function (windowId, isModal) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.execute(\"setModalState\", { windowId: windowId, options: { isModal: isModal } })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.handleFlydownBoundsRequested = function (targetId, data) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var cancelCallback, callbackData, responses, defaultResponse, response, responseOptions;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            cancelCallback = function () { return data.cancel = true; };\r\n                            callbackData = {\r\n                                zoneId: data.flydownId,\r\n                                flydownWindowBounds: data.flydownWindowBounds,\r\n                                flydownWindowId: data.flydownWindowId,\r\n                            };\r\n                            return [4, Promise.all(this._registry.execute(targetId + \"_\" + data.flydownId, callbackData, cancelCallback))];\r\n                        case 1:\r\n                            responses = _a.sent();\r\n                            if (responses.length === 1) {\r\n                                defaultResponse = { height: 0, width: 0, top: 0, left: 0 };\r\n                                response = typeof (responses[0]) === \"object\" && !Array.isArray(responses[0]) ? responses[0] : defaultResponse;\r\n                                responseOptions = __assign(__assign({}, data), { flydownWindowBounds: response });\r\n                                return [2, responseOptions];\r\n                            }\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.zoomIn = function (window) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"zoomIn\", {\r\n                                windowId: window.id,\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.zoomOut = function (window) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"zoomOut\", {\r\n                                windowId: window.id,\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setZoomFactor = function (window, zoomFactor) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"setZoomFactor\", {\r\n                                windowId: window.id,\r\n                                options: {\r\n                                    zoomFactor: zoomFactor\r\n                                }\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.showDevTools = function (window) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"showDevTools\", {\r\n                                windowId: window.id,\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.capture = function (window, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var base64screenshot;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"captureScreenshot\", { windowId: window.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            base64screenshot = (_a.sent()).data;\r\n                            return [2, base64screenshot];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.captureGroup = function (windowIds, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var base64screenshot;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"captureGroupScreenshot\", { windowId: windowIds[0], options: __assign({ groupWindowIds: windowIds }, options) })];\r\n                        case 1:\r\n                            base64screenshot = (_a.sent()).data;\r\n                            return [2, base64screenshot];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.flash = function (resultWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"flash\", { windowId: resultWindow.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, resultWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.configure = function (windowId, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.execute(\"configure\", { windowId: windowId, options: __assign({}, options) })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.print = function (resultWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"print\", { windowId: resultWindow.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, resultWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.printToPDF = function (resultWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var filePath;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"printToPDF\", { windowId: resultWindow.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            filePath = (_a.sent()).filePath;\r\n                            return [2, filePath];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.place = function (window, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var copy;\r\n                return __generator(this, function (_a) {\r\n                    copy = __assign({}, options);\r\n                    if (copy.display) {\r\n                        copy.display = copy.display.index + 1;\r\n                    }\r\n                    return [2, this.execute(\"place\", { windowId: window.id, options: __assign({}, copy) })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.execute = function (command, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var args = __assign(__assign({}, options), { command: command });\r\n                _this.agm\r\n                    .invoke(\"T42.Wnd.Execute\", args, _this.agmTarget)\r\n                    .then(function (i) {\r\n                    if (i.returned && i.returned.errorMsg) {\r\n                        reject(i);\r\n                    }\r\n                    else {\r\n                        resolve(i.returned);\r\n                    }\r\n                })\r\n                    .catch(function (i) {\r\n                    reject(i);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setGroupHeaderVisible = function (windowId, toShow) {\r\n            return this.execute(\"setGroupHeaderVisibility\", {\r\n                windowId: windowId,\r\n                options: {\r\n                    toShow: toShow\r\n                }\r\n            });\r\n        };\r\n        GDExecutor.prototype.getGroupTitle = function (windowId) {\r\n            return this.execute(\"getGroupTitle\", {\r\n                windowId: windowId,\r\n                options: {}\r\n            }).then(function (r) { return r.title; });\r\n        };\r\n        GDExecutor.prototype.setGroupTitle = function (windowId, title) {\r\n            return this.execute(\"setGroupTitle\", {\r\n                windowId: windowId,\r\n                options: {\r\n                    title: title\r\n                }\r\n            });\r\n        };\r\n        GDExecutor.prototype.onClosing = function (callback, id) {\r\n            var glue42gd = typeof window !== \"undefined\" && window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.addCloseHandler(callback, id);\r\n            }\r\n        };\r\n        GDExecutor.prototype.onRefreshing = function (callback, id) {\r\n            var glue42gd = typeof window !== \"undefined\" && window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.addRefreshHandler(callback, id);\r\n            }\r\n        };\r\n        GDExecutor.prototype.ungroup = function (resultWindow, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var args = {\r\n                    windowId: resultWindow.id,\r\n                    options: options\r\n                };\r\n                _this.execute(\"ungroup\", args)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.reformatFlydownOptions = function (windowId, options) {\r\n            var assignGeneralIfUnassigned = function (zone, prop) {\r\n                if (options[prop] && (zone[prop] === undefined || zone[prop] === null)) {\r\n                    var valueFromOptions = options[prop];\r\n                    zone[prop] = valueFromOptions;\r\n                }\r\n            };\r\n            var zones = options.zones.map(function (z) {\r\n                assignGeneralIfUnassigned(z, \"windowId\");\r\n                assignGeneralIfUnassigned(z, \"targetLocation\");\r\n                if (options.size && (z.flydownSize === undefined || z.flydownSize === null)) {\r\n                    z.flydownSize = options.size;\r\n                }\r\n                z.flydownBounds = z.flydownSize;\r\n                z.flydownId = z.windowId;\r\n                if (!z.targetLocation) {\r\n                    z.targetLocation = \"bottom\";\r\n                }\r\n                return z;\r\n            });\r\n            return __assign(__assign({}, options), { zones: zones, targetId: windowId, flydownBounds: options.size, flydownActiveArea: options.activeArea });\r\n        };\r\n        GDExecutor.prototype.clearFlydownArea = function (windowId, areaIds) {\r\n            var _this = this;\r\n            return this.execute(\"clearFlydownWindowArea\", {\r\n                windowId: windowId,\r\n                options: {}\r\n            }).then(function () {\r\n                areaIds.forEach(function (id) {\r\n                    _this._registry.clearKey(windowId + \"_\" + id);\r\n                });\r\n            });\r\n        };\r\n        return GDExecutor;\r\n    }());\r\n    var executor = new GDExecutor();\n\n    function getWindowsByTabGroupId(windowId, tabGroupId) {\r\n        var windows = windowStore.list;\r\n        return Object.keys(windows).reduce(function (memo, id) {\r\n            var win = windows[id];\r\n            if (win.API.tabGroupId === tabGroupId && win.API.id !== windowId) {\r\n                memo[id] = win;\r\n            }\r\n            return memo;\r\n        }, {});\r\n    }\n\n    var GDEnvironment = (function () {\r\n        function GDEnvironment(agm, logger, appManagerGetter, displayAPIGetter, instance, wndId) {\r\n            this._registry = lib$2();\r\n            this._waitTimeout = 10000;\r\n            this._agm = agm;\r\n            this._logger = logger.subLogger(\"gd-env\");\r\n            this._agmInstance = this.normalizeInstance(instance);\r\n            this._windowId = wndId;\r\n            this._appManagerGetter = appManagerGetter;\r\n            this._displayAPIGetter = displayAPIGetter;\r\n        }\r\n        GDEnvironment.prototype.init = function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (typeof _this._agmInstance === \"undefined\") {\r\n                    _this._agmInstance = \"best\";\r\n                }\r\n                _this._agm.registerAsync(\"T42.Wnd.OnEventWithResponse\", function (args, caller, success, err) {\r\n                    _this.respondToEvent(args).then(success).catch(err);\r\n                });\r\n                var streamPromise = new Promise(function (streamResolve, streamReject) {\r\n                    _this._agm.subscribe(\"T42.Wnd.OnEvent\", {\r\n                        waitTimeoutMs: _this._waitTimeout,\r\n                        target: _this._agmInstance,\r\n                        onData: function (streamData) {\r\n                            _this.updateWindow(streamData.data, resolve);\r\n                        },\r\n                        onConnected: function (instance) {\r\n                            _this._agmInstance = _this.normalizeInstance(instance);\r\n                            executor.init(_this._agm, _this._agmInstance);\r\n                        }\r\n                    }).catch(function (err) {\r\n                        reject(\"Can not subscribe for stream T42.Wnd.OnEvent. Err: \" + err);\r\n                    });\r\n                });\r\n            });\r\n        };\r\n        Object.defineProperty(GDEnvironment.prototype, \"executor\", {\r\n            get: function () {\r\n                return executor;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GDEnvironment.prototype.open = function (name, url, options, success, error) {\r\n            options = options || {};\r\n            var copyOptions = __assign({}, options);\r\n            if (name === undefined) {\r\n                error({ message: \"The name is undefined\" });\r\n                return;\r\n            }\r\n            if (copyOptions.relativeTo !== undefined && typeof copyOptions.relativeTo !== \"string\") {\r\n                copyOptions.relativeTo = copyOptions.relativeTo.id || \"\";\r\n            }\r\n            copyOptions.name = name;\r\n            copyOptions.url = url;\r\n            copyOptions.windowState = options.windowState || options.state;\r\n            delete copyOptions.state;\r\n            this._agm.invoke(\"T42.Wnd.Create\", copyOptions, this._agmInstance)\r\n                .then(function (message) {\r\n                if (message.returned !== undefined) {\r\n                    var id = message.returned.id;\r\n                    success(id);\r\n                }\r\n                else {\r\n                    error({ message: \"failed to execute T42.Wnd.Create - unknown reason\" });\r\n                }\r\n            })\r\n                .catch(error);\r\n        };\r\n        GDEnvironment.prototype.createFlydown = function (windowId, options) {\r\n            return this.executor.createFlydown(windowId, options);\r\n        };\r\n        GDEnvironment.prototype.showPopup = function (windowId, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var window;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            window = windowStore.get(windowId);\r\n                            return [4, this.executor.showPopup(window.API, options)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDEnvironment.prototype.tabAttached = function (callback) {\r\n            return this._registry.add(\"tab-attached\", callback);\r\n        };\r\n        GDEnvironment.prototype.tabDetached = function (callback) {\r\n            return this._registry.add(\"tab-detached\", callback);\r\n        };\r\n        GDEnvironment.prototype.onWindowFrameColorChanged = function (callback) {\r\n            return this._registry.add(\"frame-color-changed\", callback);\r\n        };\r\n        GDEnvironment.prototype.onEvent = function (callback) {\r\n            return this._registry.add(\"window-event\", callback);\r\n        };\r\n        GDEnvironment.prototype.my = function () {\r\n            return this._windowId;\r\n        };\r\n        GDEnvironment.prototype.execute = function (command, windowId, options) {\r\n            return this._agm.invoke(\"T42.Wnd.Execute\", {\r\n                command: command,\r\n                options: options,\r\n                windowId: windowId,\r\n            });\r\n        };\r\n        GDEnvironment.prototype.setGroupHeaderVisible = function (windowId, toShow) {\r\n            return this._agm.invoke(\"T42.Wnd.SetGroupHeaderVisible\", {\r\n                windowId: windowId,\r\n                toShow: toShow,\r\n            }, this._agmInstance);\r\n        };\r\n        GDEnvironment.prototype.onCompositionChanged = function (callback) {\r\n            return this._registry.add(\"composition-changed\", callback);\r\n        };\r\n        GDEnvironment.prototype.onGroupHeaderVisibilityChanged = function (callback) {\r\n            return this._registry.add(\"group-header-changed\", callback);\r\n        };\r\n        GDEnvironment.prototype.onWindowGotFocus = function (callback) {\r\n            return this._registry.add(\"got-focus\", callback);\r\n        };\r\n        GDEnvironment.prototype.onWindowLostFocus = function (callback) {\r\n            return this._registry.add(\"lost-focus\", callback);\r\n        };\r\n        GDEnvironment.prototype.normalizeInstance = function (instance) {\r\n            if (!instance) {\r\n                return undefined;\r\n            }\r\n            return {\r\n                application: instance.application,\r\n                machine: instance.machine,\r\n                user: instance.user,\r\n            };\r\n        };\r\n        GDEnvironment.prototype.respondToEvent = function (args) {\r\n            if (args.type === \"ShowFlydownBoundsRequested\") {\r\n                return this.executor.handleFlydownBoundsRequested(args.data.windowId, args.data);\r\n            }\r\n            return Promise.reject(\"There isn't a handler for \" + args.type);\r\n        };\r\n        GDEnvironment.prototype.updateWindow = function (windowInfo, readyResolve) {\r\n            var _this = this;\r\n            var extendedStreamEvent = this.getExtendedStreamEvent(windowInfo);\r\n            if (windowInfo.type === \"Snapshot\") {\r\n                var windowInfoFullInfoEvent = windowInfo;\r\n                windowInfoFullInfoEvent.windows.forEach(function (w) {\r\n                    var win = _this.createWindow(w.id, w);\r\n                    windowStore.markReadyToShow(win.API.id);\r\n                    _this._registry.execute(\"window-event\", extendedStreamEvent);\r\n                });\r\n                readyResolve(this);\r\n                return;\r\n            }\r\n            if (windowInfo.type === \"Created\") {\r\n                var windowInfoCreatedEvent = windowInfo;\r\n                var win = this.createWindow(windowInfoCreatedEvent.windowId, windowInfoCreatedEvent.data || {});\r\n                windowStore.setReadyState(win.API.id);\r\n                this._registry.execute(\"window-event\", extendedStreamEvent);\r\n                return;\r\n            }\r\n            var windowObjectAndEvents = windowStore.get(windowInfo.windowId);\r\n            if (!windowObjectAndEvents) {\r\n                this._logger.error(\"received update for unknown window. Stream:', \" + JSON.stringify(windowInfo, null, 4));\r\n                return;\r\n            }\r\n            var theWindow = windowObjectAndEvents.API;\r\n            var theWindowEvents = windowObjectAndEvents.Events;\r\n            if (windowInfo.type === \"BoundsChanged\") {\r\n                var windowInfoBoundsChangedEvent = windowInfo;\r\n                theWindowEvents.handleBoundsChanged(windowInfoBoundsChangedEvent.data);\r\n            }\r\n            if (windowInfo.type === \"UrlChanged\") {\r\n                var windowInfoUrlChangedEvent = windowInfo;\r\n                windowStore.setUrlChangedState(windowInfoUrlChangedEvent.windowId);\r\n                theWindowEvents.handleUrlChanged(windowInfoUrlChangedEvent.data);\r\n            }\r\n            if (windowInfo.type === \"TitleChanged\") {\r\n                var windowInfoTitleChanged = windowInfo;\r\n                theWindowEvents.handleTitleChanged(windowInfoTitleChanged.data);\r\n            }\r\n            if (windowInfo.type === \"IsStickyChanged\") {\r\n                var windowInfoIsStickyChangedChanged = windowInfo;\r\n                theWindowEvents.handleIsStickyChanged(windowInfoIsStickyChangedChanged.data);\r\n            }\r\n            if (windowInfo.type === \"VisibilityChanged\") {\r\n                theWindowEvents.handleVisibilityChanged(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"ContextChanged\") {\r\n                theWindowEvents.handleContextUpdated(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"StateChanged\") {\r\n                theWindowEvents.handleWindowChangeState(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"FrameColorChanged\") {\r\n                theWindowEvents.handleFrameColorChanged(windowInfo.data);\r\n                this._registry.execute(\"frame-color-changed\", theWindow);\r\n            }\r\n            if (windowInfo.type === \"CompositionChanged\") {\r\n                var windowInfoCompositionChanged = windowInfo;\r\n                theWindowEvents.handleCompositionChanged(windowInfoCompositionChanged.data.neighbors, windowInfoCompositionChanged.data.groupId);\r\n                this._registry.execute(\"composition-changed\", windowInfoCompositionChanged.data);\r\n            }\r\n            if (windowInfo.type === \"GroupHeaderVisibilityChanged\") {\r\n                var info = windowInfo;\r\n                theWindowEvents.handleGroupHeaderVisibilityChanged(info.data.groupHeaderVisible);\r\n                this._registry.execute(\"group-header-changed\", info.data);\r\n            }\r\n            if (windowInfo.type === \"FocusChanged\") {\r\n                var windowInfoFocusChanged = windowInfo;\r\n                this.focusChanged(theWindowEvents, theWindow, windowInfoFocusChanged.data);\r\n            }\r\n            if (windowInfo.type === \"WindowFrameChanged\") {\r\n                theWindowEvents.handleFrameAttached(windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\r\n                this._registry.execute(\"frame-changed\");\r\n            }\r\n            if (windowInfo.type === \"WindowFrameAdded\") {\r\n                theWindowEvents.handleAttached(windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\r\n                var winsToBeNotified_1 = getWindowsByTabGroupId(theWindow.id, windowInfo.data.frameId);\r\n                Object.keys(winsToBeNotified_1).forEach(function (id) {\r\n                    var win = winsToBeNotified_1[id];\r\n                    win.Events.handleWindowAttached(theWindow);\r\n                });\r\n                this._registry.execute(\"tab-attached\", theWindow, windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\r\n            }\r\n            if (windowInfo.type === \"WindowFrameRemoved\") {\r\n                var oldTabGroupId = theWindow.tabGroupId;\r\n                theWindowEvents.handleDetached(windowInfo.data.frameId);\r\n                var winsToBeNotified_2 = getWindowsByTabGroupId(theWindow.id, oldTabGroupId);\r\n                Object.keys(winsToBeNotified_2).forEach(function (id) {\r\n                    var win = winsToBeNotified_2[id];\r\n                    win.Events.handleWindowDetached(theWindow);\r\n                });\r\n                var un_1 = this._registry.add(\"frame-changed\", function () {\r\n                    un_1();\r\n                    _this._registry.execute(\"tab-detached\", theWindow, windowInfo.data.frameId, theWindow.tabGroupId);\r\n                });\r\n            }\r\n            if (windowInfo.type === \"TabHeaderVisibilityChanged\") {\r\n                theWindowEvents.handleTabHeaderVisibilityChanged(windowInfo.data.isTabHeaderVisible);\r\n            }\r\n            if (windowInfo.type === \"FrameSelectionChanged\") {\r\n                theWindowEvents.handleFrameSelectionChanged(windowInfo.data.newWindowId, windowInfo.data.prevWindowId);\r\n            }\r\n            if (windowInfo.type === \"ButtonClicked\") {\r\n                theWindowEvents.handleFrameButtonClicked(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"ButtonAdded\") {\r\n                theWindowEvents.handleFrameButtonAdded(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"ButtonRemoved\") {\r\n                theWindowEvents.handleFrameButtonRemoved(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"WindowZoomFactorChanged\") {\r\n                theWindowEvents.handleZoomFactorChanged(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"Closed\") {\r\n                windowStore.remove(windowObjectAndEvents);\r\n                theWindowEvents.handleWindowClose();\r\n            }\r\n            if (windowInfo.type === \"FrameIsLockedChanged\") {\r\n                theWindowEvents.handleFrameIsLockedChanged(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"PlacementSettingsChanged\") {\r\n                theWindowEvents.handlePlacementSettingsChanged(windowInfo.data);\r\n            }\r\n            this._registry.execute(\"window-event\", extendedStreamEvent);\r\n        };\r\n        GDEnvironment.prototype.createWindow = function (windowId, options) {\r\n            var _a;\r\n            var wrapper = windowStore.get(windowId);\r\n            var windowObjAndEvents = windowFactory(windowId, this.mapToWindowConstructorOptions(options), executor, this._logger, this._appManagerGetter, this._displayAPIGetter, this._agm, (_a = wrapper) === null || _a === void 0 ? void 0 : _a.Registry);\r\n            windowStore.add(windowObjAndEvents);\r\n            return windowObjAndEvents;\r\n        };\r\n        GDEnvironment.prototype.focusChanged = function (theWindowEvents, theWindow, focus) {\r\n            theWindowEvents.handleFocusChanged(focus);\r\n            if (focus) {\r\n                this._registry.execute(\"got-focus\", theWindow);\r\n            }\r\n            else {\r\n                this._registry.execute(\"lost-focus\", theWindow);\r\n            }\r\n        };\r\n        GDEnvironment.prototype.mapToWindowConstructorOptions = function (args) {\r\n            return {\r\n                name: args.name,\r\n                context: args.context,\r\n                bounds: args.bounds,\r\n                url: args.url,\r\n                title: args.title,\r\n                isVisible: args.isVisible,\r\n                focus: args.isFocused,\r\n                state: args.state,\r\n                frameColor: args.frameColor,\r\n                groupId: args.groupId,\r\n                neighbours: args.neighbors,\r\n                isFocused: args.isFocused,\r\n                isGroupHeaderVisible: args.groupHeaderVisible,\r\n                isCollapsed: args.isCollapsed,\r\n                tabGroupId: args.frameId,\r\n                mode: args.mode,\r\n                isTabHeaderVisible: args.isTabHeaderVisible,\r\n                isTabSelected: args.isActiveTab,\r\n                settings: args.settings,\r\n                windowType: args.windowType,\r\n                zoomFactor: args.zoomFactor,\r\n                isLocked: args.isLocked,\r\n                placementSettings: args.placementSettings,\r\n                isSticky: args.isSticky\r\n            };\r\n        };\r\n        GDEnvironment.prototype.getExtendedStreamEvent = function (streamEvent) {\r\n            try {\r\n                var result = __assign({ state: streamEvent.type, windowName: windowStore.get(streamEvent.windowId).API.name }, streamEvent);\r\n                if (result.state === \"WindowFrameAdded\") {\r\n                    result.state = \"TabAttached\";\r\n                }\r\n                if (result.state === \"StateChanged\") {\r\n                    result.state = result.data.charAt(0).toUpperCase() + result.data.slice(1);\r\n                }\r\n                if (result.state === \"ButtonAdded\") {\r\n                    result.state = \"FrameButtonAdded\";\r\n                }\r\n                if (result.state === \"ButtonRemoved\") {\r\n                    result.state = \"FrameButtonRemoved\";\r\n                }\r\n                return result;\r\n            }\r\n            catch (error) {\r\n                return streamEvent;\r\n            }\r\n        };\r\n        return GDEnvironment;\r\n    }());\n\n    var envDetector = (function (agm, logger, appManagerGetter, displayAPIGetter, gdMajorVersion) {\r\n        var _logger = logger;\r\n        return new Promise(function (resolve, reject) {\r\n            if (gdMajorVersion === 2) {\r\n                _logger.trace(\"running in HC\");\r\n                throw new Error(\"GD2 not supported\");\r\n            }\r\n            else if (gdMajorVersion >= 3) {\r\n                _logger.trace(\"running in GD 3\");\r\n                var gd = new GDEnvironment(agm, _logger, appManagerGetter, displayAPIGetter, undefined, window.glue42gd.windowId);\r\n                gd.init()\r\n                    .then(resolve)\r\n                    .catch(reject);\r\n            }\r\n            else {\r\n                var gdPromise = new GDEnvironment(agm, _logger, appManagerGetter, displayAPIGetter).init();\r\n                var wait = function (ms) { return new Promise(function (res, rej) { return setTimeout(function () { rej(\"timeout waiting for streams\"); }, ms); }); };\r\n                Promise.race([gdPromise, wait(10000)])\r\n                    .then(resolve)\r\n                    .catch(reject);\r\n            }\r\n        });\r\n    });\n\n    var groupFactory = (function (id, executor) {\r\n        var _registry = lib$2();\r\n        var _windowsId = [];\r\n        function addWindow(winId) {\r\n            if (_windowsId.indexOf(winId) === -1) {\r\n                _windowsId.push(winId);\r\n                var window_1 = windowStore.get(winId);\r\n                window_1.Events.handleGroupAssociation(groupObject);\r\n                _registry.execute(\"window-added\", groupObject, window_1.API);\r\n            }\r\n        }\r\n        function removeWindow(winId) {\r\n            var index = _windowsId.indexOf(winId);\r\n            if (index !== -1) {\r\n                _windowsId.splice(index, 1);\r\n                var window_2 = _mapToWindowObject(winId);\r\n                _registry.execute(\"window-removed\", groupObject, window_2);\r\n            }\r\n        }\r\n        function find(window, success) {\r\n            var winId;\r\n            if (typeof window === \"string\") {\r\n                winId = window;\r\n            }\r\n            else {\r\n                winId = window.id;\r\n            }\r\n            var index = _windowsId.indexOf(winId);\r\n            if (index !== -1) {\r\n                var mappedWindow = _mapToWindowObject(_windowsId[index]);\r\n                if (typeof success === \"function\") {\r\n                    success(mappedWindow);\r\n                }\r\n                return mappedWindow;\r\n            }\r\n        }\r\n        function windows(success) {\r\n            var mappedWindows = _mapToWindowObjects();\r\n            if (typeof success === \"function\") {\r\n                success(mappedWindows);\r\n            }\r\n            return mappedWindows;\r\n        }\r\n        function showHeader(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                Promise.all([\r\n                    executor.setGroupHeaderVisible(_windowsId[0], true),\r\n                    waitForHeaderVisibilityChanged()\r\n                ])\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(groupObject);\r\n                    }\r\n                    resolve(groupObject);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function hideHeader(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                Promise.all([\r\n                    executor.setGroupHeaderVisible(_windowsId[0], false),\r\n                    waitForHeaderVisibilityChanged()\r\n                ])\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(groupObject);\r\n                    }\r\n                    resolve(groupObject);\r\n                })\r\n                    .catch(function (e) {\r\n                    return;\r\n                });\r\n            });\r\n        }\r\n        function getTitle() {\r\n            return executor.getGroupTitle(_windowsId[0]);\r\n        }\r\n        function setTitle(title) {\r\n            return executor.setGroupTitle(_windowsId[0], title);\r\n        }\r\n        function capture(captureOptions) {\r\n            return executor.captureGroup(_windowsId, captureOptions);\r\n        }\r\n        function waitForHeaderVisibilityChanged() {\r\n            return new Promise(function (resolve, reject) {\r\n                var unsub = onHeaderVisibilityChanged(function (group) {\r\n                    unsub();\r\n                    resolve();\r\n                });\r\n            });\r\n        }\r\n        function execute(command, options, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.execute(command, options)\r\n                    .then(function (w) {\r\n                    if (typeof success === \"function\") {\r\n                        success(groupObject);\r\n                    }\r\n                    resolve(groupObject);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function handleGroupHeaderVisibilityChanged(windowInfo) {\r\n            _registry.execute(\"header-visibility-changed\", groupObject);\r\n        }\r\n        function _mapToWindowObjects() {\r\n            var winObjects = [];\r\n            _windowsId.forEach(function (winId) {\r\n                var windowObject = _mapToWindowObject(winId);\r\n                if (typeof windowObject !== \"undefined\") {\r\n                    winObjects.push(windowObject);\r\n                }\r\n            });\r\n            return winObjects;\r\n        }\r\n        function _mapToWindowObject(windowId) {\r\n            return windowStore.get(windowId) ? windowStore.get(windowId).API : undefined;\r\n        }\r\n        function _getGroupHeaderVisibility() {\r\n            var windowWithHiddenHeader = _mapToWindowObjects().find(function (w) { return !w.isGroupHeaderVisible; });\r\n            var _isGroupHeaderVisible = windowWithHiddenHeader === undefined;\r\n            return _isGroupHeaderVisible;\r\n        }\r\n        function onHeaderVisibilityChanged(callback) {\r\n            return _registry.add(\"header-visibility-changed\", callback);\r\n        }\r\n        function onWindowAdded(callback) {\r\n            return _registry.add(\"window-added\", callback);\r\n        }\r\n        function onWindowRemoved(callback) {\r\n            return _registry.add(\"window-removed\", callback);\r\n        }\r\n        var groupObject = {\r\n            id: id,\r\n            get windows() {\r\n                return windows();\r\n            },\r\n            find: find,\r\n            get isHeaderVisible() {\r\n                return _getGroupHeaderVisibility();\r\n            },\r\n            showHeader: showHeader,\r\n            hideHeader: hideHeader,\r\n            getTitle: getTitle,\r\n            setTitle: setTitle,\r\n            capture: capture,\r\n            maximize: function (success, error) {\r\n                return execute(\"maximize\", { groupId: id }, success);\r\n            },\r\n            restore: function (success, error) {\r\n                return execute(\"restore\", { groupId: id }, success);\r\n            },\r\n            onHeaderVisibilityChanged: onHeaderVisibilityChanged,\r\n            onWindowAdded: onWindowAdded,\r\n            onWindowRemoved: onWindowRemoved,\r\n        };\r\n        var internal = {\r\n            addWindow: addWindow,\r\n            removeWindow: removeWindow,\r\n            handleGroupHeaderVisibilityChanged: handleGroupHeaderVisibilityChanged,\r\n        };\r\n        return {\r\n            groupAPI: groupObject,\r\n            groupInternal: internal,\r\n        };\r\n    });\n\n    var groupsFactory = (function (environment, logger) {\r\n        var _logger = logger.subLogger(\"groups\");\r\n        var _registry = lib$2();\r\n        var _groups = {};\r\n        var heardForWindowsCounter = -1;\r\n        var windows = windowStore.list;\r\n        Object.keys(windows).forEach(function (k) {\r\n            addNewWindow(windows[k]);\r\n        });\r\n        environment.onCompositionChanged(function (windowInfo) {\r\n            handleCompositionChanged(windowInfo);\r\n        });\r\n        environment.onGroupHeaderVisibilityChanged(function (windowInfo) {\r\n            var windowId = windowInfo.windowId;\r\n            var group = findGroupByWindow(windowId);\r\n            if (typeof group !== \"undefined\") {\r\n                var groupEvents = _groups[group.id];\r\n                if (heardForWindowsCounter === -1) {\r\n                    heardForWindowsCounter = group.windows.length;\r\n                }\r\n                heardForWindowsCounter--;\r\n                if (heardForWindowsCounter === 0) {\r\n                    heardForWindowsCounter = -1;\r\n                    groupEvents.groupInternal.handleGroupHeaderVisibilityChanged(windowInfo);\r\n                }\r\n            }\r\n        });\r\n        windowStore.onAdded(function (win) {\r\n            addNewWindow(win);\r\n        });\r\n        windowStore.onRemoved(function (win) {\r\n            removeWindow(win);\r\n        });\r\n        function my() {\r\n            return findGroupByWindow(environment.my());\r\n        }\r\n        function list(success) {\r\n            var result = Object.keys(_groups).map(function (groupId) {\r\n                if (_groups[groupId]) {\r\n                    return _groups[groupId].groupAPI;\r\n                }\r\n            });\r\n            if (typeof success === \"function\") {\r\n                success(result);\r\n            }\r\n            return result;\r\n        }\r\n        function findGroupByWindow(winId, success) {\r\n            var windowId;\r\n            if (typeof winId === \"undefined\") {\r\n                logger.debug(\"trying to find a group by a window, but winId is undefined\");\r\n                return;\r\n            }\r\n            if (typeof winId === \"string\") {\r\n                windowId = winId;\r\n            }\r\n            else {\r\n                windowId = winId.id;\r\n            }\r\n            var groupFound;\r\n            Object.keys(_groups).forEach(function (groupId) {\r\n                var group = _groups[groupId].groupAPI;\r\n                if (group.find(windowId) !== undefined) {\r\n                    groupFound = group;\r\n                    return;\r\n                }\r\n            });\r\n            if (typeof success === \"function\") {\r\n                success(groupFound);\r\n            }\r\n            return groupFound;\r\n        }\r\n        function onWindowMoved(callback) {\r\n            return _registry.add(\"window-moved\", callback);\r\n        }\r\n        function createOrGetGroup(groupId) {\r\n            if (!_groups.hasOwnProperty(groupId)) {\r\n                var createdGroup = groupFactory(groupId, environment.executor);\r\n                _groups[groupId] = createdGroup;\r\n                return createdGroup;\r\n            }\r\n            else {\r\n                return _groups[groupId];\r\n            }\r\n        }\r\n        function deleteGroup(groupId) {\r\n            if (_groups.hasOwnProperty(groupId) && typeof _groups[groupId] !== \"undefined\") {\r\n                if (_groups[groupId].groupAPI.windows.length === 0) {\r\n                    delete _groups[groupId];\r\n                }\r\n            }\r\n        }\r\n        function addNewWindow(win) {\r\n            _logger.trace(\"Adding new window \" + win.API.id + \" to win.API.groupId \" + win.API.groupId);\r\n            var group = addWindow(win);\r\n            if (group) {\r\n                _logger.trace(\"handleGroupAssociation \" + win.API.id + \" to group.groupAPI.id \" + group.groupAPI.id);\r\n                win.Events.handleGroupAssociation(group.groupAPI);\r\n            }\r\n        }\r\n        function addWindow(win, groupId) {\r\n            var windowGroupId = groupId || win.API.groupId;\r\n            var windowId = win.API.id;\r\n            if (typeof windowGroupId === \"undefined\" || typeof windowId === \"undefined\") {\r\n                _logger.debug(\"trying to add a window without group - winId: \" + windowId);\r\n                return;\r\n            }\r\n            var group = createOrGetGroup(windowGroupId);\r\n            group.groupInternal.addWindow(windowId);\r\n            return group;\r\n        }\r\n        function removeWindow(win, groupId) {\r\n            var windowId = win.API.id;\r\n            var windowGroupId = groupId || win.API.groupId;\r\n            if (typeof windowGroupId !== \"undefined\") {\r\n                var group = _groups[windowGroupId];\r\n                group.groupInternal.removeWindow(windowId);\r\n                win.Events.handleGroupAssociation(undefined);\r\n                deleteGroup(windowGroupId);\r\n            }\r\n        }\r\n        function handleCompositionChanged(windowInfo) {\r\n            var newGroupId = windowInfo.groupId;\r\n            var windowId = windowInfo.windowId;\r\n            var oldGroup = findGroupByWindow(windowId);\r\n            var oldGroupId = oldGroup ? oldGroup.id : undefined;\r\n            _logger.trace(\"handleCompositionChanged newGroupId: \" + newGroupId + \" windowId: \" + windowId + \" oldGroup: \" + oldGroupId);\r\n            if (oldGroupId === newGroupId) {\r\n                _logger.trace(\"handleCompositionChanged newGroupId: \" + newGroupId + \" windowId: \" + windowId + \" oldGroup: \" + oldGroupId + \" are the same - returning...\");\r\n                return;\r\n            }\r\n            var win = windowStore.get(windowId) || windowStore.get(windowId);\r\n            var newGroup = addWindow(win, newGroupId);\r\n            if (oldGroup) {\r\n                removeWindow(win, oldGroupId);\r\n                _registry.execute(\"window-moved\", windowId, oldGroup, newGroupId);\r\n            }\r\n            win.Events.handleGroupChanged(newGroup.groupAPI, oldGroup);\r\n        }\r\n        var groups = {\r\n            get my() {\r\n                return my();\r\n            },\r\n            list: list,\r\n            findGroupByWindow: findGroupByWindow,\r\n        };\r\n        var events = { onWindowMoved: onWindowMoved };\r\n        return {\r\n            groupsAPI: groups,\r\n            groupsEvents: events,\r\n        };\r\n    });\n\n    var WindowsFactory = (function (agm, logger, appManagerGetter, displayAPIGetter, gdMajorVersion) {\r\n        var _registry = lib$2();\r\n        var _logger = logger;\r\n        var groups;\r\n        var environment;\r\n        windowStore.init(_logger);\r\n        var isReady = new Promise(function (resolve, reject) {\r\n            envDetector(agm, _logger, appManagerGetter, displayAPIGetter, gdMajorVersion)\r\n                .then(function (env) {\r\n                environment = env;\r\n                groups = groupsFactory(env, _logger);\r\n                resolve();\r\n            })\r\n                .catch(function (e) {\r\n                var err = \"Environment detector fails with: \" + e;\r\n                _logger.error(err);\r\n                reject(err);\r\n            });\r\n        });\r\n        function ready() {\r\n            return isReady;\r\n        }\r\n        function my() {\r\n            var myWindow = windowStore.getIfReady(environment.my());\r\n            return myWindow ? myWindow.API : undefined;\r\n        }\r\n        function open(name, url, options, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var errorHandler = function (errorResponse) {\r\n                    if (typeof error === \"function\") {\r\n                        error(errorResponse);\r\n                    }\r\n                    reject(errorResponse);\r\n                };\r\n                var successHandler = function (id) {\r\n                    windowStore.waitFor(id)\r\n                        .then(function (win) {\r\n                        if (typeof success === \"function\") {\r\n                            success(win.API);\r\n                        }\r\n                        resolve(win.API);\r\n                        if (win.API.windowType === \"electron\") {\r\n                            win.Events.handleUrlChanged(win.API.url);\r\n                        }\r\n                    })\r\n                        .catch(errorHandler);\r\n                };\r\n                environment.open(name, url, options, successHandler, errorHandler);\r\n            });\r\n        }\r\n        function find(name, success, error) {\r\n            var windows = windowStore.list;\r\n            var windowsForListing = Object.keys(windows).reduce(function (memo, winId) {\r\n                var window = windows[winId];\r\n                if (window && window.API.name === name) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n            if (typeof success !== \"function\") {\r\n                return windowsForListing[0];\r\n            }\r\n            if (windowsForListing.length > 0) {\r\n                success(windowsForListing[0]);\r\n            }\r\n            else {\r\n                if (typeof error === \"function\") {\r\n                    error(\"There is no window with name:\" + name);\r\n                }\r\n            }\r\n        }\r\n        function findById(id, success, error) {\r\n            var windows = windowStore.list;\r\n            var windowsForListing = Object.keys(windows).reduce(function (memo, winId) {\r\n                var window = windows[winId];\r\n                if (typeof window !== \"undefined\" && window.API.id === id) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n            if (typeof success !== \"function\") {\r\n                return windowsForListing[0];\r\n            }\r\n            if (windowsForListing.length > 0) {\r\n                success(windowsForListing[0]);\r\n            }\r\n            else {\r\n                if (typeof error === \"function\") {\r\n                    error(\"There is no window with such id:\" + id);\r\n                }\r\n            }\r\n        }\r\n        function list(success) {\r\n            var windows = windowStore.list;\r\n            var windowsForListing = Object.keys(windows)\r\n                .map(function (k) {\r\n                return windows[k].API;\r\n            });\r\n            if (typeof success !== \"function\") {\r\n                return windowsForListing;\r\n            }\r\n            success(windowsForListing);\r\n        }\r\n        function configure(options) {\r\n            var win = my();\r\n            var winId = win ? win.id : \"\";\r\n            return executor.configure(winId, options);\r\n        }\r\n        function windowAdded(callback) {\r\n            return _registry.add(\"window-added\", callback);\r\n        }\r\n        function windowRemoved(callback) {\r\n            return _registry.add(\"window-removed\", callback);\r\n        }\r\n        function tabAttached(callback) {\r\n            return isReady.then(function () {\r\n                environment.tabAttached(callback);\r\n            });\r\n        }\r\n        function tabDetached(callback) {\r\n            return isReady.then(function () {\r\n                environment.tabDetached(callback);\r\n            });\r\n        }\r\n        function onWindowFrameColorChanged(callback) {\r\n            return isReady.then(function () {\r\n                return environment.onWindowFrameColorChanged(callback);\r\n            });\r\n        }\r\n        function onWindowGotFocus(callback) {\r\n            var unsubscribe;\r\n            isReady.then(function () {\r\n                unsubscribe = environment.onWindowGotFocus(callback);\r\n            });\r\n            return function () {\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n            };\r\n        }\r\n        function onWindowLostFocus(callback) {\r\n            var unsubscribe;\r\n            isReady.then(function () {\r\n                unsubscribe = environment.onWindowLostFocus(callback);\r\n            });\r\n            return function () {\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n            };\r\n        }\r\n        function onEvent(callback) {\r\n            var unsubFunc;\r\n            var unsubscribed = false;\r\n            isReady.then(function () {\r\n                if (unsubscribed) {\r\n                    return;\r\n                }\r\n                unsubFunc = environment.onEvent(callback);\r\n            });\r\n            return function () {\r\n                unsubscribed = true;\r\n                if (unsubFunc) {\r\n                    unsubFunc();\r\n                }\r\n            };\r\n        }\r\n        function createFlydown(targetId, config) {\r\n            return environment.createFlydown(targetId, config);\r\n        }\r\n        function showPopup(targetId, config) {\r\n            return environment.showPopup(targetId, config);\r\n        }\r\n        function handleWindowAdded(w) {\r\n            _registry.execute(\"window-added\", w.API);\r\n        }\r\n        function handleWindowRemoved(w) {\r\n            _registry.execute(\"window-removed\", w.API);\r\n        }\r\n        windowStore.onReadyWindow(handleWindowAdded);\r\n        windowStore.onRemoved(handleWindowRemoved);\r\n        return {\r\n            my: my,\r\n            open: open,\r\n            find: find,\r\n            findById: findById,\r\n            list: list,\r\n            ready: ready,\r\n            onWindowAdded: windowAdded,\r\n            windowAdded: windowAdded,\r\n            onWindowRemoved: windowRemoved,\r\n            windowRemoved: windowRemoved,\r\n            onTabAttached: tabAttached,\r\n            onTabDetached: tabDetached,\r\n            onWindowFrameColorChanged: onWindowFrameColorChanged,\r\n            get groups() {\r\n                return groups.groupsAPI;\r\n            },\r\n            onWindowGotFocus: onWindowGotFocus,\r\n            onWindowLostFocus: onWindowLostFocus,\r\n            onEvent: onEvent,\r\n            createFlydown: createFlydown,\r\n            showPopup: showPopup,\r\n            configure: configure\r\n        };\r\n    });\n\n    var LayoutStore = (function () {\r\n        function LayoutStore() {\r\n            this.layouts = [];\r\n        }\r\n        LayoutStore.prototype.removeWhere = function (condition) {\r\n            this.layouts = this.layouts.filter(condition);\r\n        };\r\n        LayoutStore.prototype.add = function (item) {\r\n            this.layouts.push(item);\r\n        };\r\n        Object.defineProperty(LayoutStore.prototype, \"all\", {\r\n            get: function () {\r\n                return this.layouts;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        LayoutStore.prototype.where = function (condition) {\r\n            return this.layouts.filter(condition);\r\n        };\r\n        LayoutStore.prototype.first = function (condition) {\r\n            return this.where(condition)[0];\r\n        };\r\n        return LayoutStore;\r\n    }());\r\n    var store = new LayoutStore();\n\n    function createCommonjsModule$1(fn, module) {\n    \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n    }\n\n    // Found this seed-based random generator somewhere\n    // Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\n    var seed$1 = 1;\n\n    /**\n     * return a random number based on a seed\n     * @param seed\n     * @returns {number}\n     */\n    function getNextValue$1() {\n        seed$1 = (seed$1 * 9301 + 49297) % 233280;\n        return seed$1/(233280.0);\n    }\n\n    function setSeed$2(_seed_) {\n        seed$1 = _seed_;\n    }\n\n    var randomFromSeed$1 = {\n        nextValue: getNextValue$1,\n        seed: setSeed$2\n    };\n\n    var ORIGINAL$1 = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n    var alphabet$1;\n    var previousSeed$1;\n\n    var shuffled$1;\n\n    function reset$1() {\n        shuffled$1 = false;\n    }\n\n    function setCharacters$1(_alphabet_) {\n        if (!_alphabet_) {\n            if (alphabet$1 !== ORIGINAL$1) {\n                alphabet$1 = ORIGINAL$1;\n                reset$1();\n            }\n            return;\n        }\n\n        if (_alphabet_ === alphabet$1) {\n            return;\n        }\n\n        if (_alphabet_.length !== ORIGINAL$1.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL$1.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n        }\n\n        var unique = _alphabet_.split('').filter(function(item, ind, arr){\n           return ind !== arr.lastIndexOf(item);\n        });\n\n        if (unique.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL$1.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n        }\n\n        alphabet$1 = _alphabet_;\n        reset$1();\n    }\n\n    function characters$1(_alphabet_) {\n        setCharacters$1(_alphabet_);\n        return alphabet$1;\n    }\n\n    function setSeed$3(seed) {\n        randomFromSeed$1.seed(seed);\n        if (previousSeed$1 !== seed) {\n            reset$1();\n            previousSeed$1 = seed;\n        }\n    }\n\n    function shuffle$1() {\n        if (!alphabet$1) {\n            setCharacters$1(ORIGINAL$1);\n        }\n\n        var sourceArray = alphabet$1.split('');\n        var targetArray = [];\n        var r = randomFromSeed$1.nextValue();\n        var characterIndex;\n\n        while (sourceArray.length > 0) {\n            r = randomFromSeed$1.nextValue();\n            characterIndex = Math.floor(r * sourceArray.length);\n            targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n        }\n        return targetArray.join('');\n    }\n\n    function getShuffled$1() {\n        if (shuffled$1) {\n            return shuffled$1;\n        }\n        shuffled$1 = shuffle$1();\n        return shuffled$1;\n    }\n\n    /**\n     * lookup shuffled letter\n     * @param index\n     * @returns {string}\n     */\n    function lookup$1(index) {\n        var alphabetShuffled = getShuffled$1();\n        return alphabetShuffled[index];\n    }\n\n    var alphabet_1$1 = {\n        characters: characters$1,\n        seed: setSeed$3,\n        lookup: lookup$1,\n        shuffled: getShuffled$1\n    };\n\n    var crypto$1 = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\n    function randomByte$1() {\n        if (!crypto$1 || !crypto$1.getRandomValues) {\n            return Math.floor(Math.random() * 256) & 0x30;\n        }\n        var dest = new Uint8Array(1);\n        crypto$1.getRandomValues(dest);\n        return dest[0] & 0x30;\n    }\n\n    var randomByteBrowser$1 = randomByte$1;\n\n    function encode$1(lookup, number) {\n        var loopCounter = 0;\n        var done;\n\n        var str = '';\n\n        while (!done) {\n            str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser$1() );\n            done = number < (Math.pow(16, loopCounter + 1 ) );\n            loopCounter++;\n        }\n        return str;\n    }\n\n    var encode_1$1 = encode$1;\n\n    /**\n     * Decode the id to get the version and worker\n     * Mainly for debugging and testing.\n     * @param id - the shortid-generated id.\n     */\n    function decode$1(id) {\n        var characters = alphabet_1$1.shuffled();\n        return {\n            version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n            worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n        };\n    }\n\n    var decode_1$1 = decode$1;\n\n    // Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n    // This number should be updated every year or so to keep the generated id short.\n    // To regenerate `new Date() - 0` and bump the version. Always bump the version!\n    var REDUCE_TIME = 1459707606518;\n\n    // don't change unless we change the algos or REDUCE_TIME\n    // must be an integer and less than 16\n    var version$1 = 6;\n\n    // Counter is used when shortid is called multiple times in one second.\n    var counter;\n\n    // Remember the last time shortid was called in case counter is needed.\n    var previousSeconds;\n\n    /**\n     * Generate unique id\n     * Returns string id\n     */\n    function build(clusterWorkerId) {\n\n        var str = '';\n\n        var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n        if (seconds === previousSeconds) {\n            counter++;\n        } else {\n            counter = 0;\n            previousSeconds = seconds;\n        }\n\n        str = str + encode_1$1(alphabet_1$1.lookup, version$1);\n        str = str + encode_1$1(alphabet_1$1.lookup, clusterWorkerId);\n        if (counter > 0) {\n            str = str + encode_1$1(alphabet_1$1.lookup, counter);\n        }\n        str = str + encode_1$1(alphabet_1$1.lookup, seconds);\n\n        return str;\n    }\n\n    var build_1 = build;\n\n    function isShortId$1(id) {\n        if (!id || typeof id !== 'string' || id.length < 6 ) {\n            return false;\n        }\n\n        var characters = alphabet_1$1.characters();\n        var len = id.length;\n        for(var i = 0; i < len;i++) {\n            if (characters.indexOf(id[i]) === -1) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var isValid$1 = isShortId$1;\n\n    var lib$3 = createCommonjsModule$1(function (module) {\n\n\n\n\n\n\n\n    // if you are using cluster or multiple servers use this to make each instance\n    // has a unique value for worker\n    // Note: I don't know if this is automatically set when using third\n    // party cluster solutions such as pm2.\n    var clusterWorkerId =  0;\n\n    /**\n     * Set the seed.\n     * Highly recommended if you don't want people to try to figure out your id schema.\n     * exposed as shortid.seed(int)\n     * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n     */\n    function seed(seedValue) {\n        alphabet_1$1.seed(seedValue);\n        return module.exports;\n    }\n\n    /**\n     * Set the cluster worker or machine id\n     * exposed as shortid.worker(int)\n     * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n     * returns shortid module so it can be chained.\n     */\n    function worker(workerId) {\n        clusterWorkerId = workerId;\n        return module.exports;\n    }\n\n    /**\n     *\n     * sets new characters to use in the alphabet\n     * returns the shuffled alphabet\n     */\n    function characters(newCharacters) {\n        if (newCharacters !== undefined) {\n            alphabet_1$1.characters(newCharacters);\n        }\n\n        return alphabet_1$1.shuffled();\n    }\n\n    /**\n     * Generate unique id\n     * Returns string id\n     */\n    function generate() {\n      return build_1(clusterWorkerId);\n    }\n\n    // Export all other functions as properties of the generate function\n    module.exports = generate;\n    module.exports.generate = generate;\n    module.exports.seed = seed;\n    module.exports.worker = worker;\n    module.exports.characters = characters;\n    module.exports.decode = decode_1$1;\n    module.exports.isValid = isValid$1;\n    });\n    var lib_1$1 = lib$3.generate;\n    var lib_2$1 = lib$3.seed;\n    var lib_3$1 = lib$3.worker;\n    var lib_4$1 = lib$3.characters;\n    var lib_5$1 = lib$3.decode;\n    var lib_6$1 = lib$3.isValid;\n\n    var shortid$1 = lib$3;\n\n    var SaveContextMethodName = \"T42.HC.GetSaveContext\";\r\n    var ContextProvider = (function () {\r\n        function ContextProvider(config, activitiesGetter, callbacks, logger) {\r\n            this.config = config;\r\n            this.activitiesGetter = activitiesGetter;\r\n            this.callbacks = callbacks;\r\n            this.logger = logger;\r\n            this.interop = config.agm;\r\n            this.registerRequestMethods();\r\n        }\r\n        ContextProvider.prototype.onSaveRequested = function (callback) {\r\n            return this.callbacks.add(\"saveRequested\", callback);\r\n        };\r\n        ContextProvider.prototype.isActivityOwner = function () {\r\n            if (typeof htmlContainer !== \"undefined\") {\r\n                var context_1 = htmlContainer.getContext();\r\n                return context_1 && context_1._t42 && context_1._t42.activityIsOwner;\r\n            }\r\n            var activities = this.activitiesGetter();\r\n            if (!activities) {\r\n                return false;\r\n            }\r\n            if (!activities.inActivity) {\r\n                return false;\r\n            }\r\n            var myWindow = activities.my.window;\r\n            var myActivity = activities.my.activity;\r\n            if (!myActivity && !myWindow) {\r\n                return false;\r\n            }\r\n            return myActivity.owner.id === myWindow.id;\r\n        };\r\n        ContextProvider.prototype.registerRequestMethods = function () {\r\n            var _this = this;\r\n            this.interop.register(SaveContextMethodName, function (args) {\r\n                var _a, _b, _c;\r\n                var usersCbs = _this.callbacks.execute(\"saveRequested\", args);\r\n                if (((_a = usersCbs) === null || _a === void 0 ? void 0 : _a.length) > 1) {\r\n                    _this.logger.warn(\"Multiple subscriptions for \\\"glue.layouts.onSaveRequested\\\" - only the first one will be used\");\r\n                }\r\n                var requestResult = usersCbs[0];\r\n                var autoSaveWindowContext = _this.config.autoSaveWindowContext;\r\n                if (autoSaveWindowContext) {\r\n                    return { autoSaveWindowContext: autoSaveWindowContext };\r\n                }\r\n                var result = { windowContext: (_b = requestResult) === null || _b === void 0 ? void 0 : _b.windowContext, activityContext: undefined };\r\n                if (_this.isActivityOwner()) {\r\n                    result.activityContext = (_c = requestResult) === null || _c === void 0 ? void 0 : _c.activityContext;\r\n                }\r\n                return result;\r\n            });\r\n        };\r\n        return ContextProvider;\r\n    }());\n\n    function transformACSLayout(something) {\r\n        if (!something) {\r\n            return something;\r\n        }\r\n        if (Array.isArray(something)) {\r\n            return something.map(function (item) {\r\n                return transformACSLayout(item);\r\n            });\r\n        }\r\n        if (typeof something === \"string\" || typeof something === \"number\" || typeof something === \"boolean\") {\r\n            return something;\r\n        }\r\n        var initial = {};\r\n        return Object.keys(something).reduce(function (accumulator, current) {\r\n            var value = something[current];\r\n            var convertedValue = transformACSLayout(value);\r\n            var key = current;\r\n            if (current[0].toLowerCase() !== current[0]) {\r\n                key = current[0].toLowerCase() + current.substr(1);\r\n            }\r\n            accumulator[key] = convertedValue;\r\n            return accumulator;\r\n        }, initial);\r\n    }\n\n    var LayoutImpl = (function () {\r\n        function LayoutImpl(data) {\r\n            this.name = data.name;\r\n            this.type = data.type;\r\n            this.components = data.components;\r\n            this.context = data.context;\r\n            this.metadata = data.metadata;\r\n            this.version = data.version;\r\n            this.displays = data.displays;\r\n        }\r\n        return LayoutImpl;\r\n    }());\n\n    var LayoutsAPIImpl = (function () {\r\n        function LayoutsAPIImpl(config, stream, callbacks, logger) {\r\n            this.config = config;\r\n            this.stream = stream;\r\n            this.callbacks = callbacks;\r\n            this.appManager = config.appManager;\r\n            this.onEvent = stream.onEvent;\r\n            this.provider = new ContextProvider(config, config.activityGetter, callbacks, logger);\r\n            stream.subscribe();\r\n        }\r\n        LayoutsAPIImpl.prototype.setDefaultGlobal = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.SelectDefaultLayout\", { name: name })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.clearDefaultGlobal = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.DeselectDefaultLayout\")];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.getDefaultGlobal = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, layout;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.GetDefaultLayout\")];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            layout = result.returned;\r\n                            if (!layout) {\r\n                                return [2, undefined];\r\n                            }\r\n                            if (this.isSlimMode()) {\r\n                                return [2, layout];\r\n                            }\r\n                            return [2, this.list().find(function (l) { return l.name === layout.name && l.type === \"Global\"; })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.ready = function () {\r\n            if (this.config.mode === \"fullWaitSnapshot\") {\r\n                return this.stream.gotSnapshot;\r\n            }\r\n            return this.stream.ready;\r\n        };\r\n        LayoutsAPIImpl.prototype.save = function (layout) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (!layout.name) {\r\n                    throw Error(\"layout.name argument is required\");\r\n                }\r\n                if (!layout.type) {\r\n                    layout.type = \"Global\";\r\n                }\r\n                if (layout.activityId) {\r\n                    layout.type = \"Activity\";\r\n                }\r\n                if (typeof layout.ignoreHidden === \"undefined\") {\r\n                    layout.ignoreHidden = true;\r\n                }\r\n                var layoutObject = {\r\n                    name: layout.name,\r\n                    actIds: [],\r\n                    appIds: [],\r\n                    type: layout.type,\r\n                    context: layout.context,\r\n                    metadata: layout.metadata || {},\r\n                    options: { ignoreLayoutRestrictions: false },\r\n                };\r\n                if (layout.type === \"Activity\") {\r\n                    var actId = layout.activityId;\r\n                    if (!actId) {\r\n                        if (!_this.appManager.myInstance.inActivity) {\r\n                            throw new Error(\"Current application is not in activity. Can not save activity layout for it\");\r\n                        }\r\n                        actId = _this.appManager.myInstance.activityId;\r\n                    }\r\n                    layoutObject.actIds.push(actId);\r\n                    layoutObject.options = { ignoreLayoutRestrictions: true };\r\n                }\r\n                else if (layout.type === \"Global\") {\r\n                    if (_this.config.gdMajorVersion === 2) {\r\n                        var instances = _this.appManager.instances();\r\n                        if (layout.ignoreHidden) {\r\n                            instances = instances.filter(function (i) { return _this.isVisibleWindow(i); });\r\n                        }\r\n                        if (layout.ignoreMyInstance && _this.appManager.myInstance) {\r\n                            instances = instances.filter(function (i) { return i.id !== _this.appManager.myInstance.id; });\r\n                        }\r\n                        instances.reduce(function (prev, current) {\r\n                            if (!current.id) {\r\n                                return prev;\r\n                            }\r\n                            if (current.inActivity) {\r\n                                var actId = current.activityId;\r\n                                if (prev.actIds.indexOf(actId) === -1) {\r\n                                    prev.actIds.push(actId);\r\n                                }\r\n                            }\r\n                            else {\r\n                                prev.appIds.push(current.id);\r\n                            }\r\n                            return prev;\r\n                        }, layoutObject);\r\n                    }\r\n                    else {\r\n                        layoutObject.autoCollectApps = true;\r\n                    }\r\n                }\r\n                else {\r\n                    throw new Error(\"layout type \" + layout.type + \" not supported\");\r\n                }\r\n                _this.invokeMethodAndTrack(\"T42.ACS.SaveLayout\", layoutObject, resolve, reject);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.restore = function (options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (typeof options === \"undefined\") {\r\n                    throw Error(\"options argument is required\");\r\n                }\r\n                if (!options.name) {\r\n                    throw Error(\"options.name argument is required\");\r\n                }\r\n                if (!options.type) {\r\n                    options.type = \"Global\";\r\n                }\r\n                if (options.activityIdToJoin) {\r\n                    options.type = \"Activity\";\r\n                }\r\n                if (typeof options.restoreActivityOwner === \"undefined\") {\r\n                    options.restoreActivityOwner = false;\r\n                }\r\n                if (typeof options.ignoreActivityWindowTypes === \"undefined\") {\r\n                    options.ignoreActivityWindowTypes = [];\r\n                }\r\n                if (typeof options.setActivityContext === \"undefined\") {\r\n                    options.setActivityContext = true;\r\n                }\r\n                if (typeof options.closeRunningInstance === \"undefined\") {\r\n                    if (options.type === \"Global\") {\r\n                        options.closeRunningInstance = true;\r\n                    }\r\n                    else if (options.type === \"Activity\") {\r\n                        options.closeRunningInstance = false;\r\n                    }\r\n                }\r\n                if (typeof options.reuseWindows === \"undefined\") {\r\n                    options.reuseWindows = true;\r\n                }\r\n                options.context = options.context || {};\r\n                var t42 = {\r\n                    restoreOptions: {\r\n                        activityToJoin: options.activityIdToJoin,\r\n                        setActivityContext: options.setActivityContext,\r\n                        ignoreActivityWindowTypes: options.ignoreActivityWindowTypes,\r\n                        restoreActivityOwner: options.restoreActivityOwner,\r\n                        closeOldWindows: options.closeRunningInstance,\r\n                        reuseExistingWindows: options.reuseWindows\r\n                    }\r\n                };\r\n                var arg = {\r\n                    type: options.type,\r\n                    name: options.name,\r\n                    context: options.context,\r\n                    toClose: [],\r\n                    splash: options.splash\r\n                };\r\n                if (_this.config.gdMajorVersion === 2) {\r\n                    if (options.closeRunningInstance) {\r\n                        arg.toClose = _this.getInstancesToClose(options);\r\n                    }\r\n                }\r\n                if (options.timeout) {\r\n                    arg.timeout = options.timeout;\r\n                }\r\n                arg.context._t42 = t42;\r\n                _this.invokeMethodAndTrack(\"T42.ACS.RestoreLayout\", arg, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.remove = function (type, name) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (!name) {\r\n                    throw Error(\"name argument is required\");\r\n                }\r\n                if (!type) {\r\n                    throw Error(\"type argument is required\");\r\n                }\r\n                var msg = {\r\n                    type: type,\r\n                    name: name,\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.RemoveLayout\", msg, resolve, reject);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.list = function () {\r\n            this.verifyNotSlimMode();\r\n            return store.all;\r\n        };\r\n        LayoutsAPIImpl.prototype.import = function (layouts, mode) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                var msg = {\r\n                    mode: mode || \"replace\",\r\n                    layouts: layouts\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.ImportLayouts\", msg, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.export = function (layoutType) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var handleResult = function (result) {\r\n                    var layouts = _this.getObjectValues(result.Layouts).map(function (t) { return new LayoutImpl(transformACSLayout(t)); });\r\n                    if (layoutType) {\r\n                        layouts = layouts.filter(function (l) { return l.type = layoutType; });\r\n                    }\r\n                    resolve(layouts);\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.ExportLayouts\", {}, handleResult, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.rename = function (layout, newName) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (!layout) {\r\n                    throw Error(\"layout argument is required\");\r\n                }\r\n                if (!layout.name) {\r\n                    throw Error(\"name argument is required\");\r\n                }\r\n                if (!layout.type) {\r\n                    throw Error(\"type argument is required\");\r\n                }\r\n                var msg = { type: layout.type, oldName: layout.name, newName: newName };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.RenameLayout\", msg, resolve, reject);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.updateMetadata = function (layout) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!layout) {\r\n                    throw Error(\"layout argument is required\");\r\n                }\r\n                if (!layout.name) {\r\n                    throw Error(\"name argument is required\");\r\n                }\r\n                if (!layout.type) {\r\n                    throw Error(\"type argument is required\");\r\n                }\r\n                if (!layout.metadata) {\r\n                    throw Error(\"metadata argument is required\");\r\n                }\r\n                var layoutObject = {\r\n                    name: layout.name,\r\n                    type: layout.type,\r\n                    metadata: layout.metadata\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.UpdateMetadata\", layoutObject, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.hibernate = function (name, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!name) {\r\n                    return reject(\"name cannot be empty\");\r\n                }\r\n                options = options || {};\r\n                var request = {\r\n                    name: name,\r\n                    type: \"Global\",\r\n                    context: options.context || {},\r\n                    metadata: options.metadata || {},\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.HibernateLayout\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.resume = function (name, context, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!name) {\r\n                    return reject(\"name cannot be empty\");\r\n                }\r\n                var request = __assign({ name: name, type: \"Global\", context: context }, options);\r\n                _this.invokeMethodAndTrack(\"T42.ACS.ResumeLayout\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.getCurrentLayout = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, layout;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.GetCurrentLayout\", {}, \"best\", { methodResponseTimeoutMs: 120 * 1000 })];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            layout = result.returned.layout;\r\n                            if (!layout) {\r\n                                return [2, undefined];\r\n                            }\r\n                            if (!this.isSlimMode()) {\r\n                                layout = this.list().find(function (l) { return l.name === layout.name && l.type === layout.type; });\r\n                            }\r\n                            return [2, layout];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.onAdded = function (callback) {\r\n            var result = this.callbacks.add(\"added\", callback);\r\n            if (store.all.length > 0) {\r\n                store.all.forEach(function (layout) {\r\n                    try {\r\n                        callback(layout);\r\n                    }\r\n                    catch (err) { }\r\n                });\r\n            }\r\n            return result;\r\n        };\r\n        LayoutsAPIImpl.prototype.onRemoved = function (callback) {\r\n            return this.callbacks.add(\"removed\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onChanged = function (callback) {\r\n            return this.callbacks.add(\"changed\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onRestored = function (callback) {\r\n            return this.callbacks.add(\"restored\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onRenamed = function (callback) {\r\n            return this.callbacks.add(\"renamed\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onEvent = function (callback) {\r\n            return this.stream.onEvent(callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onSaveRequested = function (callback) {\r\n            return this.provider.onSaveRequested(callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.updateAppContextInCurrent = function (context) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (context && typeof context !== \"object\") {\r\n                    reject(\"context must be an object\");\r\n                }\r\n                context = (context !== null && context !== void 0 ? context : {});\r\n                var request = {\r\n                    context: context\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.UpdateLayoutComponentContext\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.updateDefaultContext = function (context) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (context && typeof context !== \"object\") {\r\n                    reject(\"context must be an object\");\r\n                }\r\n                context = (context !== null && context !== void 0 ? context : {});\r\n                var request = {\r\n                    context: context\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.UpdateDefaultContext\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.get = function (name, type) {\r\n            var matching = this.list().find(function (l) { return l.name === name && l.type === type; });\r\n            if (!matching) {\r\n                return Promise.reject(\"can not find layout with name=\" + name + \" and type=\" + type);\r\n            }\r\n            return Promise.resolve(matching);\r\n        };\r\n        LayoutsAPIImpl.prototype.getAll = function (type) {\r\n            var matching = this.list().filter(function (l) { return type === l.type; });\r\n            return Promise.resolve(matching);\r\n        };\r\n        LayoutsAPIImpl.prototype.isSlimMode = function () {\r\n            return this.config.mode === \"slim\";\r\n        };\r\n        LayoutsAPIImpl.prototype.verifyNotSlimMode = function () {\r\n            if (this.isSlimMode()) {\r\n                throw Error(\"Operation not allowed in slim mode. Run in full mode.\");\r\n            }\r\n        };\r\n        LayoutsAPIImpl.prototype.isVisibleWindow = function (instance) {\r\n            if (instance.application.type === \"exe\" || instance.application.type === \"node\") {\r\n                return true;\r\n            }\r\n            if (instance.application.type === \"activity\") {\r\n                return true;\r\n            }\r\n            if (!instance || !instance.window) {\r\n                return false;\r\n            }\r\n            return instance.window.isVisible;\r\n        };\r\n        LayoutsAPIImpl.prototype.invokeMethodAndTrack = function (methodName, args, resolve, reject, skipStreamEvent) {\r\n            var streamEventReceived = skipStreamEvent;\r\n            var agmResult;\r\n            var token = shortid$1();\r\n            args.token = token;\r\n            var handleResult = function () {\r\n                if (streamEventReceived && agmResult) {\r\n                    resolve(agmResult);\r\n                }\r\n            };\r\n            if (!skipStreamEvent) {\r\n                this.stream.waitFor(token)\r\n                    .then(function () {\r\n                    streamEventReceived = true;\r\n                    handleResult();\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            }\r\n            var responseHandler = function (result) {\r\n                if (!result.returned) {\r\n                    reject(\"No result from method \" + methodName);\r\n                }\r\n                if (result.returned.status && (result.returned.status !== \"Success\" && result.returned.status !== \"PartialSuccess\")) {\r\n                    reject(result.returned);\r\n                }\r\n                agmResult = result.returned;\r\n                handleResult();\r\n            };\r\n            this.config.agm.invoke(methodName, args, \"best\", { methodResponseTimeoutMs: 120 * 1000 })\r\n                .then(responseHandler)\r\n                .catch(function (err) { return reject(err); });\r\n        };\r\n        LayoutsAPIImpl.prototype.getInstancesToClose = function (options) {\r\n            var _this = this;\r\n            var instances = [];\r\n            var shellApp = this.appManager.applications().filter(function (a) { return a.isShell; })[0];\r\n            var shellApplicationName = shellApp ? shellApp.name : \"AppManager\";\r\n            this.appManager.instances().forEach(function (i) {\r\n                if (_this.appManager.myInstance && i.id === _this.appManager.myInstance.id) {\r\n                    return;\r\n                }\r\n                if (i.application.name === shellApplicationName) {\r\n                    return;\r\n                }\r\n                if (!_this.isVisibleWindow(i)) {\r\n                    return;\r\n                }\r\n                if (options.type === \"Activity\") {\r\n                    if (i.activityId !== options.activityIdToJoin) {\r\n                        return;\r\n                    }\r\n                }\r\n                instances.push({ application: i.application.name, instance: i.id });\r\n            });\r\n            return instances;\r\n        };\r\n        LayoutsAPIImpl.prototype.getObjectValues = function (obj) {\r\n            if (!obj) {\r\n                return [];\r\n            }\r\n            return Object.keys(obj).map(function (k) { return obj[k]; });\r\n        };\r\n        return LayoutsAPIImpl;\r\n    }());\n\n    var ACSStream = (function () {\r\n        function ACSStream(agm, callbacks) {\r\n            var _this = this;\r\n            this.agm = agm;\r\n            this.callbacks = callbacks;\r\n            this.ready = new Promise(function (resolve, reject) {\r\n                _this.resolveReady = resolve;\r\n                _this.rejectReady = reject;\r\n            });\r\n            this.gotSnapshot = new Promise(function (resolve, reject) {\r\n                _this.resolveGotSnapshot = resolve;\r\n                _this.rejectGotSnapshot = reject;\r\n            });\r\n        }\r\n        ACSStream.prototype.subscribe = function (noRetry) {\r\n            var _this = this;\r\n            var transform = function (obj) {\r\n                return _this.getObjectValues(obj).map(function (t) { return transformACSLayout(t); });\r\n            };\r\n            if (!this.checkForLayoutEventMethod()) {\r\n                if (noRetry) {\r\n                    this.resolveReady();\r\n                }\r\n                setTimeout(function () {\r\n                    _this.subscribe(true);\r\n                }, 500);\r\n            }\r\n            else {\r\n                this.agm.subscribe(\"T42.ACS.OnLayoutEvent\", { waitTimeoutMs: 10000 })\r\n                    .then(function (subs) {\r\n                    subs.onData(function (args) {\r\n                        var data = args.data;\r\n                        if (data.IsSnapshot) {\r\n                            _this.resolveGotSnapshot();\r\n                        }\r\n                        _this.addLayouts(transform(data.OnLayoutAdded));\r\n                        _this.removeLayouts(transform(data.OnLayoutRemoved));\r\n                        _this.changeLayouts(transform(data.OnLayoutChanged));\r\n                        _this.renameLayouts(transform(data.OnLayoutRenamed));\r\n                        _this.restoredLayout(transform(data.OnLayoutRestored));\r\n                        _this.callbacks.execute(\"streamEvent\", data);\r\n                    });\r\n                    subs.onFailed(function (err) {\r\n                        var msg = \"can not subscribe to T42.ACS.OnLayoutEvent \" + err;\r\n                        _this.rejectReady(msg);\r\n                        _this.rejectGotSnapshot(msg);\r\n                    });\r\n                    _this.resolveReady();\r\n                })\r\n                    .catch(function (err) {\r\n                    var msg = \"Error subscribing for T42.ACS.OnLayoutEvent stream. Err: \" + err;\r\n                    _this.rejectReady(msg);\r\n                    _this.rejectGotSnapshot(msg);\r\n                });\r\n            }\r\n        };\r\n        ACSStream.prototype.onEvent = function (callback) {\r\n            return this.callbacks.add(\"streamEvent\", callback);\r\n        };\r\n        ACSStream.prototype.waitFor = function (token, timeout) {\r\n            var _this = this;\r\n            if (!timeout) {\r\n                timeout = 10000;\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                var done = false;\r\n                var unsubscribe = _this.onEvent(function (streamEvent) {\r\n                    if (streamEvent.Token === token) {\r\n                        done = true;\r\n                        unsubscribe();\r\n                        resolve();\r\n                    }\r\n                });\r\n                setTimeout(function () {\r\n                    if (!done) {\r\n                        reject(\"timed out\");\r\n                    }\r\n                }, timeout);\r\n            });\r\n        };\r\n        ACSStream.prototype.checkForLayoutEventMethod = function () {\r\n            try {\r\n                return this.agm\r\n                    .methods()\r\n                    .map(function (m) { return m.name; })\r\n                    .indexOf(\"T42.ACS.OnLayoutEvent\") !== -1;\r\n            }\r\n            catch (e) {\r\n                return false;\r\n            }\r\n        };\r\n        ACSStream.prototype.addLayouts = function (layoutsData) {\r\n            var _this = this;\r\n            if (!layoutsData) {\r\n                return;\r\n            }\r\n            layoutsData.forEach(function (layoutData) {\r\n                var layout = new LayoutImpl(layoutData);\r\n                store.add(layout);\r\n                _this.callbacks.execute(\"added\", layout);\r\n            });\r\n        };\r\n        ACSStream.prototype.removeLayouts = function (removedLayouts) {\r\n            var _this = this;\r\n            if (!removedLayouts) {\r\n                return;\r\n            }\r\n            removedLayouts.forEach(function (removedLayout) {\r\n                store.removeWhere(function (existingLayout) { return !_this.compareLayouts(existingLayout, removedLayout); });\r\n                _this.callbacks.execute(\"removed\", removedLayout);\r\n            });\r\n        };\r\n        ACSStream.prototype.changeLayouts = function (changedLayouts) {\r\n            var _this = this;\r\n            if (!changedLayouts) {\r\n                return;\r\n            }\r\n            changedLayouts.forEach(function (changedLayout) {\r\n                store.removeWhere(function (existingLayout) { return !_this.compareLayouts(existingLayout, changedLayout); });\r\n                store.add(new LayoutImpl(changedLayout));\r\n                _this.callbacks.execute(\"changed\", changedLayout);\r\n            });\r\n        };\r\n        ACSStream.prototype.renameLayouts = function (renamedLayouts) {\r\n            var _this = this;\r\n            if (!renamedLayouts) {\r\n                return;\r\n            }\r\n            renamedLayouts.forEach(function (renamedLayout) {\r\n                var existingLayout = store.first(function (current) { return _this.compareLayouts(current, { type: renamedLayout.type, name: renamedLayout.oldName }); });\r\n                if (!existingLayout) {\r\n                    throw Error(\"received rename event for unknown layout with type \" + renamedLayout.type + \" and name \" + renamedLayout.oldName);\r\n                }\r\n                existingLayout.name = renamedLayout.newName;\r\n                _this.callbacks.execute(\"renamed\", existingLayout);\r\n            });\r\n        };\r\n        ACSStream.prototype.compareLayouts = function (layout1, layout2) {\r\n            return layout1.name === layout2.name && layout1.type === layout2.type;\r\n        };\r\n        ACSStream.prototype.getObjectValues = function (obj) {\r\n            if (!obj) {\r\n                return [];\r\n            }\r\n            return Object.keys(obj).map(function (k) { return obj[k]; });\r\n        };\r\n        ACSStream.prototype.restoredLayout = function (restoredLayouts) {\r\n            var _this = this;\r\n            if (!restoredLayouts) {\r\n                return;\r\n            }\r\n            restoredLayouts.forEach(function (restoredLayout) {\r\n                var existingLayout = store.first(function (current) { return _this.compareLayouts(current, { type: restoredLayout.type, name: restoredLayout.name }); });\r\n                _this.callbacks.execute(\"restored\", existingLayout);\r\n            });\r\n        };\r\n        return ACSStream;\r\n    }());\n\n    function streamNull () {\r\n        return {\r\n            ready: Promise.resolve(undefined),\r\n            subscribe: function () { },\r\n            onEvent: function (callback) { return function () { }; },\r\n            waitFor: function (token, timeout) { return Promise.resolve(undefined); },\r\n            gotSnapshot: Promise.resolve(undefined),\r\n        };\r\n    }\n\n    function LayoutsFactory (config) {\r\n        if (!config.agm) {\r\n            throw Error(\"config.agm is required\");\r\n        }\r\n        if (!config.logger) {\r\n            throw Error(\"config.logger is required\");\r\n        }\r\n        config.mode = config.mode || \"slim\";\r\n        var logger = config.logger;\r\n        var callbacks = lib$2();\r\n        var acsStream;\r\n        if (config.mode === \"full\" || \"fullWaitSnapshot\") {\r\n            acsStream = new ACSStream(config.agm, callbacks);\r\n        }\r\n        else {\r\n            acsStream = streamNull();\r\n        }\r\n        return new LayoutsAPIImpl(config, acsStream, callbacks, logger);\r\n    }\n\n    var T42DisplayCommand = \"T42.Displays.Command\";\r\n    var DisplayManager = (function () {\r\n        function DisplayManager(_agm, _logger) {\r\n            var _this = this;\r\n            this._agm = _agm;\r\n            this._logger = _logger;\r\n            this.all = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var displays;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.GetAll, {})];\r\n                        case 1:\r\n                            displays = _a.sent();\r\n                            return [2, displays.map(this.decorateDisplay)];\r\n                    }\r\n                });\r\n            }); };\r\n            this.get = function (id) { return __awaiter(_this, void 0, void 0, function () {\r\n                var display;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.Get, { id: id })];\r\n                        case 1:\r\n                            display = _a.sent();\r\n                            return [2, this.decorateDisplay(display)];\r\n                    }\r\n                });\r\n            }); };\r\n            this.getPrimary = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var primary;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1:\r\n                            primary = (_a.sent()).find(function (d) { return d.isPrimary; });\r\n                            return [2, primary];\r\n                    }\r\n                });\r\n            }); };\r\n            this.capture = function (options) { return __awaiter(_this, void 0, void 0, function () {\r\n                var screenshot;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.Capture, __assign({}, options))];\r\n                        case 1:\r\n                            screenshot = _a.sent();\r\n                            return [2, screenshot];\r\n                    }\r\n                });\r\n            }); };\r\n            this.captureAll = function (options) { return __awaiter(_this, void 0, void 0, function () {\r\n                var screenshots;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.CaptureAll, __assign({}, options))];\r\n                        case 1:\r\n                            screenshots = _a.sent();\r\n                            return [2, screenshots];\r\n                    }\r\n                });\r\n            }); };\r\n            this.getMousePosition = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var point;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.GetMousePosition)];\r\n                        case 1:\r\n                            point = _a.sent();\r\n                            return [2, point];\r\n                    }\r\n                });\r\n            }); };\r\n            this.callGD = function (command, options) { return __awaiter(_this, void 0, void 0, function () {\r\n                var invocationResult;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this._agm.invoke(T42DisplayCommand, { options: __assign({}, options), command: command })];\r\n                        case 1:\r\n                            invocationResult = _a.sent();\r\n                            return [2, invocationResult.returned.data];\r\n                    }\r\n                });\r\n            }); };\r\n            this.decorateDisplay = function (original) {\r\n                return __assign(__assign({}, original), { capture: function (size) { return _this.capture({ id: original.id, size: size }); } });\r\n            };\r\n        }\r\n        return DisplayManager;\r\n    }());\r\n    var DisplayCommand;\r\n    (function (DisplayCommand) {\r\n        DisplayCommand[\"Capture\"] = \"capture\";\r\n        DisplayCommand[\"CaptureAll\"] = \"captureAll\";\r\n        DisplayCommand[\"GetAll\"] = \"getAll\";\r\n        DisplayCommand[\"Get\"] = \"get\";\r\n        DisplayCommand[\"GetMousePosition\"] = \"getMousePosition\";\r\n    })(DisplayCommand || (DisplayCommand = {}));\n\n    var interop;\r\n    var windowId;\r\n    function setupAGM(interopLib, channels) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        interop = interopLib;\r\n                        if (typeof window !== \"undefined\") {\r\n                            if (window.glue42gd) {\r\n                                windowId = window.glue42gd.windowId;\r\n                            }\r\n                        }\r\n                        if (!windowId) {\r\n                            return [2];\r\n                        }\r\n                        return [4, interop.register(\"T42.Channels.Command\", function (args) {\r\n                                var command = args.command;\r\n                                if (!command) {\r\n                                    throw new Error(\"missing command argument\");\r\n                                }\r\n                                if (command === \"join\") {\r\n                                    var id = args.channel;\r\n                                    if (!id) {\r\n                                        throw new Error(\"missing argument id\");\r\n                                    }\r\n                                    channels.joinNoSelectorSwitch(id);\r\n                                    return;\r\n                                }\r\n                                if (command === \"leave\") {\r\n                                    channels.leaveNoSelectorSwitch();\r\n                                    return;\r\n                                }\r\n                                if (command === \"get\") {\r\n                                    var id = channels.current();\r\n                                    return { id: id };\r\n                                }\r\n                                throw new Error(\"unknown command \" + command);\r\n                            })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        interop.invoke(\"T42.Channels.Announce\", { swId: windowId, instance: interop.instance.instance });\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n    function switchChannel(channel, id) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                interop.invoke(\"T42.Channels.Announce\", {\r\n                    swId: (id !== null && id !== void 0 ? id : windowId),\r\n                    command: \"switchChannel\",\r\n                    data: { newChannel: channel }\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    }\n\n    var CONTEXT_PREFIX = \"___channel___\";\r\n    var SharedContextSubscriber = (function () {\r\n        function SharedContextSubscriber(contexts) {\r\n            this.contexts = contexts;\r\n        }\r\n        SharedContextSubscriber.prototype.subscribe = function (callback) {\r\n            this.callback = callback;\r\n        };\r\n        SharedContextSubscriber.prototype.subscribeFor = function (name, callback) {\r\n            if (!this.isChannel(name)) {\r\n                return Promise.reject(new Error(\"Channel with name: \" + name + \" doesn't exist!\"));\r\n            }\r\n            var contextName = this.createContextName(name);\r\n            return this.contexts.subscribe(contextName, function (data, _, __, ___, extraData) {\r\n                var _a;\r\n                callback(data.data, data, (_a = extraData) === null || _a === void 0 ? void 0 : _a.updaterId);\r\n            });\r\n        };\r\n        SharedContextSubscriber.prototype.switchChannel = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var contextName, _a;\r\n                var _this = this;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            this.unsubscribe();\r\n                            contextName = this.createContextName(name);\r\n                            _a = this;\r\n                            return [4, this.contexts.subscribe(contextName, function (data, _, __, ___, extraData) {\r\n                                    var _a;\r\n                                    if (_this.callback) {\r\n                                        _this.callback(data.data, data, (_a = extraData) === null || _a === void 0 ? void 0 : _a.updaterId);\r\n                                    }\r\n                                })];\r\n                        case 1:\r\n                            _a.unsubscribeFunc = _b.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        SharedContextSubscriber.prototype.unsubscribe = function () {\r\n            if (this.unsubscribeFunc) {\r\n                this.unsubscribeFunc();\r\n            }\r\n        };\r\n        SharedContextSubscriber.prototype.all = function () {\r\n            var contextNames = this.contexts.all();\r\n            var channelContextNames = contextNames.filter(function (contextName) { return contextName.startsWith(CONTEXT_PREFIX); });\r\n            var channelNames = channelContextNames.map(function (channelContextName) { return channelContextName.substr(CONTEXT_PREFIX.length); });\r\n            return channelNames;\r\n        };\r\n        SharedContextSubscriber.prototype.getContextData = function (name) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!_this.isChannel(name)) {\r\n                    return reject(new Error(\"A channel with name: \" + name + \" doesn't exist!\"));\r\n                }\r\n                var contextName = _this.createContextName(name);\r\n                _this.contexts.subscribe(contextName, function (data) {\r\n                    resolve(data);\r\n                }).then(function (unsubscribeFunc) { return unsubscribeFunc(); });\r\n            });\r\n        };\r\n        SharedContextSubscriber.prototype.updateChannel = function (name, data) {\r\n            var contextName = this.createContextName(name);\r\n            return this.contexts.update(contextName, data);\r\n        };\r\n        SharedContextSubscriber.prototype.updateData = function (name, data) {\r\n            var contextName = this.createContextName(name);\r\n            if (this.contexts.setPathSupported) {\r\n                var pathValues = Object.keys(data).map(function (key) {\r\n                    return {\r\n                        path: \"data.\" + key,\r\n                        value: data[key]\r\n                    };\r\n                });\r\n                return this.contexts.setPaths(contextName, pathValues);\r\n            }\r\n            else {\r\n                return this.contexts.update(contextName, { data: data });\r\n            }\r\n        };\r\n        SharedContextSubscriber.prototype.isChannel = function (name) {\r\n            return this.all().some(function (channelName) { return channelName === name; });\r\n        };\r\n        SharedContextSubscriber.prototype.createContextName = function (name) {\r\n            return CONTEXT_PREFIX + name;\r\n        };\r\n        return SharedContextSubscriber;\r\n    }());\n\n    var ChannelsImpl = (function () {\r\n        function ChannelsImpl(shared) {\r\n            this.shared = shared;\r\n            this.subsKey = \"subs\";\r\n            this.changedKey = \"changed\";\r\n            this.registry = lib$2();\r\n            this.shared.subscribe(this.handler.bind(this));\r\n        }\r\n        ChannelsImpl.prototype.subscribe = function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(\"Please provide the callback as a function!\");\r\n            }\r\n            return this.registry.add(this.subsKey, callback);\r\n        };\r\n        ChannelsImpl.prototype.subscribeFor = function (name, callback) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var unsubscribeFunc;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof name !== \"string\") {\r\n                                throw new Error(\"Please provide the name as a string!\");\r\n                            }\r\n                            if (typeof callback !== \"function\") {\r\n                                throw new Error(\"Please provide the callback as a function!\");\r\n                            }\r\n                            return [4, this.shared.subscribeFor(name, callback)];\r\n                        case 1:\r\n                            unsubscribeFunc = _a.sent();\r\n                            return [2, unsubscribeFunc];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.publish = function (data, name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    if (typeof data !== \"object\") {\r\n                        throw new Error(\"Please provide the data as an object!\");\r\n                    }\r\n                    if (name) {\r\n                        if (typeof name !== \"string\") {\r\n                            throw new Error(\"Please provide the name as a string!\");\r\n                        }\r\n                        if (!this.shared.isChannel(name)) {\r\n                            return [2, Promise.reject(new Error(\"A channel with name: \" + name + \" doesn't exist!\"))];\r\n                        }\r\n                        return [2, this.shared.updateData(name, data)];\r\n                    }\r\n                    if (!this.currentContext) {\r\n                        throw new Error(\"Not joined to any channel!\");\r\n                    }\r\n                    return [2, this.shared.updateData(this.currentContext, data)];\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.all = function () {\r\n            var channelNames = this.shared.all();\r\n            return Promise.resolve(channelNames);\r\n        };\r\n        ChannelsImpl.prototype.list = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var channelNames, channelContexts;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1:\r\n                            channelNames = _a.sent();\r\n                            return [4, Promise.all(channelNames.map(function (channelName) { return _this.get(channelName); }))];\r\n                        case 2:\r\n                            channelContexts = _a.sent();\r\n                            return [2, channelContexts];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.get = function (name) {\r\n            if (typeof name !== \"string\") {\r\n                return Promise.reject(new Error(\"Please provide the channel name as a string!\"));\r\n            }\r\n            return this.shared.getContextData(name);\r\n        };\r\n        ChannelsImpl.prototype.join = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.joinCore(name)];\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.joinNoSelectorSwitch = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.joinCore(name, false)];\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.leave = function () {\r\n            return this.leaveCore();\r\n        };\r\n        ChannelsImpl.prototype.leaveNoSelectorSwitch = function () {\r\n            return this.leaveCore(false);\r\n        };\r\n        ChannelsImpl.prototype.current = function () {\r\n            return this.currentContext;\r\n        };\r\n        ChannelsImpl.prototype.my = function () {\r\n            return this.current();\r\n        };\r\n        ChannelsImpl.prototype.changed = function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(\"Please provide the callback as a function!\");\r\n            }\r\n            return this.registry.add(this.changedKey, callback);\r\n        };\r\n        ChannelsImpl.prototype.onChanged = function (callback) {\r\n            return this.changed(callback);\r\n        };\r\n        ChannelsImpl.prototype.add = function (info) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var context;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof info !== \"object\") {\r\n                                throw new Error(\"Please provide the info as an object!\");\r\n                            }\r\n                            if (typeof info.name === \"undefined\") {\r\n                                throw new Error(\"info.name is missing!\");\r\n                            }\r\n                            if (typeof info.name !== \"string\") {\r\n                                throw new Error(\"Please provide the info.name as a string!\");\r\n                            }\r\n                            if (typeof info.meta === \"undefined\") {\r\n                                throw new Error(\"info.meta is missing!\");\r\n                            }\r\n                            if (typeof info.meta !== \"object\") {\r\n                                throw new Error(\"Please provide the info.meta as an object!\");\r\n                            }\r\n                            if (typeof info.meta.color === \"undefined\") {\r\n                                throw new Error(\"info.meta.color is missing!\");\r\n                            }\r\n                            if (typeof info.meta.color !== \"string\") {\r\n                                throw new Error(\"Please provide the info.meta.color as a string!\");\r\n                            }\r\n                            context = {\r\n                                name: info.name,\r\n                                meta: info.meta || {},\r\n                                data: info.data || {}\r\n                            };\r\n                            return [4, this.shared.updateChannel(info.name, context)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, context];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.handler = function (data, context, updaterId) {\r\n            this.registry.execute(this.subsKey, data, context, updaterId);\r\n        };\r\n        ChannelsImpl.prototype.joinCore = function (name, changeSelector) {\r\n            if (changeSelector === void 0) { changeSelector = true; }\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var doesChannelExist, channelExistsPromise;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof name !== \"string\") {\r\n                                throw new Error(\"Please provide the channel name as a string!\");\r\n                            }\r\n                            if (name === this.currentContext) {\r\n                                return [2];\r\n                            }\r\n                            doesChannelExist = function (channelName) {\r\n                                var channelNames = _this.shared.all();\r\n                                return channelNames.includes(channelName);\r\n                            };\r\n                            if (!!doesChannelExist(name)) return [3, 2];\r\n                            channelExistsPromise = new Promise(function (resolve, reject) {\r\n                                var timeoutId;\r\n                                var intervalId = setInterval(function () {\r\n                                    if (doesChannelExist(name)) {\r\n                                        clearTimeout(timeoutId);\r\n                                        clearInterval(intervalId);\r\n                                        resolve();\r\n                                    }\r\n                                }, 100);\r\n                                timeoutId = setTimeout(function () {\r\n                                    clearInterval(intervalId);\r\n                                    return reject(new Error(\"A channel with name: \" + name + \" doesn't exist!\"));\r\n                                }, 3000);\r\n                            });\r\n                            return [4, channelExistsPromise];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            this.currentContext = name;\r\n                            return [4, this.shared.switchChannel(name)];\r\n                        case 3:\r\n                            _a.sent();\r\n                            if (changeSelector) {\r\n                                switchChannel(name);\r\n                            }\r\n                            this.registry.execute(this.changedKey, name);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.leaveCore = function (changeSelector) {\r\n            if (changeSelector === void 0) { changeSelector = true; }\r\n            this.currentContext = undefined;\r\n            this.registry.execute(this.changedKey, undefined);\r\n            this.shared.unsubscribe();\r\n            if (changeSelector) {\r\n                switchChannel();\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n        return ChannelsImpl;\r\n    }());\n\n    function factory(contexts, agm) {\r\n        var sharedContexts = new SharedContextSubscriber(contexts);\r\n        var channels = new ChannelsImpl(sharedContexts);\r\n        setupAGM(agm, channels);\r\n        return {\r\n            subscribe: channels.subscribe.bind(channels),\r\n            subscribeFor: channels.subscribeFor.bind(channels),\r\n            publish: channels.publish.bind(channels),\r\n            all: channels.all.bind(channels),\r\n            list: channels.list.bind(channels),\r\n            get: channels.get.bind(channels),\r\n            join: channels.join.bind(channels),\r\n            leave: channels.leave.bind(channels),\r\n            current: channels.current.bind(channels),\r\n            my: channels.my.bind(channels),\r\n            changed: channels.changed.bind(channels),\r\n            onChanged: channels.onChanged.bind(channels),\r\n            add: channels.add.bind(channels),\r\n            ready: function () { return contexts.ready(); }\r\n        };\r\n    }\n\n    var CommandMethod = \"T42.Hotkeys.Command\";\r\n    var InvokeMethod = \"T42.Hotkeys.Invoke\";\r\n    var RegisterCommand = \"register\";\r\n    var UnregisterCommand = \"unregister\";\r\n    var UnregisterAllCommand = \"unregisterAll\";\r\n    var HotkeysImpl = (function () {\r\n        function HotkeysImpl(agm) {\r\n            this.agm = agm;\r\n            this.registry = lib$2();\r\n            this.firstHotkey = true;\r\n            this.hotkeys = new Map();\r\n        }\r\n        HotkeysImpl.prototype.register = function (info, callback) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var hkToLower;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof info === \"undefined\") {\r\n                                throw new Error(\"Hotkey parameter missing\");\r\n                            }\r\n                            if (typeof info === \"string\") {\r\n                                info = {\r\n                                    hotkey: info\r\n                                };\r\n                            }\r\n                            else {\r\n                                if (!info.hotkey) {\r\n                                    throw new Error(\"Info's hotkey parameter missing\");\r\n                                }\r\n                                info = {\r\n                                    hotkey: info.hotkey,\r\n                                    description: info.description\r\n                                };\r\n                            }\r\n                            hkToLower = this.formatHotkey(info.hotkey);\r\n                            if (this.hotkeys.has(hkToLower)) {\r\n                                throw new Error(\"Shortcut for \" + hkToLower + \" already registered\");\r\n                            }\r\n                            if (!this.firstHotkey) return [3, 2];\r\n                            this.firstHotkey = false;\r\n                            return [4, this.registerInvokeAGMMethod()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            this.registry.add(hkToLower, callback);\r\n                            return [4, this.agm.invoke(CommandMethod, { command: RegisterCommand, hotkey: hkToLower, description: info.description })];\r\n                        case 3:\r\n                            _a.sent();\r\n                            this.hotkeys.set(hkToLower, info);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.unregister = function (hotkey) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var hkToLower;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof hotkey === \"undefined\") {\r\n                                throw new Error(\"hotkey parameter missing\");\r\n                            }\r\n                            if (typeof hotkey !== \"string\") {\r\n                                throw new Error(\"hotkey parameter must be string\");\r\n                            }\r\n                            hkToLower = this.formatHotkey(hotkey);\r\n                            return [4, this.agm.invoke(CommandMethod, { command: UnregisterCommand, hotkey: hkToLower })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.hotkeys.delete(hkToLower);\r\n                            this.registry.clearKey(hkToLower);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.unregisterAll = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.agm.invoke(CommandMethod, { command: UnregisterAllCommand })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.hotkeys.clear();\r\n                            this.registry.clear();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.isRegistered = function (hotkey) {\r\n            var hkToLower = this.formatHotkey(hotkey);\r\n            return this.hotkeys.has(hkToLower);\r\n        };\r\n        HotkeysImpl.prototype.registerInvokeAGMMethod = function () {\r\n            var _this = this;\r\n            this.agm.register(InvokeMethod, function (args) {\r\n                var hkToLower = args.key.toLowerCase();\r\n                var info = _this.hotkeys.get(hkToLower);\r\n                _this.registry.execute(hkToLower, info);\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.formatHotkey = function (hotkey) {\r\n            if (hotkey) {\r\n                return hotkey.replace(/\\s/g, \"\").toLowerCase();\r\n            }\r\n        };\r\n        return HotkeysImpl;\r\n    }());\n\n    function factory$1(agm) {\r\n        var hotkeys = new HotkeysImpl(agm);\r\n        return {\r\n            register: hotkeys.register.bind(hotkeys),\r\n            unregister: hotkeys.unregister.bind(hotkeys),\r\n            unregisterAll: hotkeys.unregisterAll.bind(hotkeys),\r\n            isRegistered: hotkeys.isRegistered.bind(hotkeys),\r\n            ready: function () { return Promise.resolve(); }\r\n        };\r\n    }\n\n    var version$2 = \"5.4.1\";\n\n    var prepareConfig$1 = (function (options) {\r\n        function getLibConfig(value, defaultMode, trueMode) {\r\n            if (typeof value === \"boolean\" && !value) {\r\n                return undefined;\r\n            }\r\n            var mode = getModeAsString(value, defaultMode, trueMode);\r\n            if (typeof value === \"object\") {\r\n                value.mode = mode;\r\n                return value;\r\n            }\r\n            return {\r\n                mode: mode,\r\n            };\r\n        }\r\n        function getModeAsString(value, defaultMode, trueMode) {\r\n            if (typeof value === \"object\") {\r\n                return getModeAsString(value.mode, defaultMode, trueMode) + \"\";\r\n            }\r\n            else if (typeof value === \"undefined\") {\r\n                if (typeof defaultMode === \"boolean\" && !defaultMode) {\r\n                    return undefined;\r\n                }\r\n                else {\r\n                    return defaultMode + \"\";\r\n                }\r\n            }\r\n            else if (typeof value === \"boolean\") {\r\n                if (value) {\r\n                    return ((trueMode === undefined) ? defaultMode : trueMode) + \"\";\r\n                }\r\n                else {\r\n                    return undefined;\r\n                }\r\n            }\r\n            return value + \"\";\r\n        }\r\n        var appDefaultMode = false;\r\n        var appDefaultTrueMode = \"startOnly\";\r\n        var activitiesDefaultMode = \"trackMyTypeAndInitiatedFromMe\";\r\n        var layoutsDefaultMode = \"slim\";\r\n        return {\r\n            layouts: getLibConfig(options.layouts, layoutsDefaultMode),\r\n            activities: getLibConfig(options.activities, activitiesDefaultMode),\r\n            appManager: getLibConfig(options.appManager, appDefaultMode, appDefaultTrueMode),\r\n            windows: getLibConfig(options.windows, true),\r\n            channels: getLibConfig(options.channels || false, false),\r\n            displays: getLibConfig(options.displays, true)\r\n        };\r\n    });\n\n    var Glue42Notification = (function () {\r\n        function Glue42Notification(options) {\r\n            this.options = options;\r\n            this.callbacks = lib$2();\r\n            this.actions = options.actions;\r\n            this.body = options.body;\r\n            this.badge = options.badge;\r\n            this.data = options.data;\r\n            this.dir = options.dir;\r\n            this.icon = options.icon;\r\n            this.image = options.image;\r\n            this.lang = options.lang;\r\n            this.renotify = options.renotify;\r\n            this.requireInteraction = options.requireInteraction;\r\n            this.silent = options.silent;\r\n            this.tag = options.tag;\r\n            this.timestamp = options.timestamp;\r\n            this.title = options.title;\r\n        }\r\n        Glue42Notification.prototype.close = function () {\r\n            throw new Error(\"Method not implemented.\");\r\n        };\r\n        Glue42Notification.prototype.addEventListener = function (type, listener, options) {\r\n            this.callbacks.add(type, listener);\r\n        };\r\n        Glue42Notification.prototype.removeEventListener = function (type, listener, options) {\r\n        };\r\n        Glue42Notification.prototype.dispatchEvent = function (event) {\r\n            this.callbacks.execute(event.type, event);\r\n            return true;\r\n        };\r\n        return Glue42Notification;\r\n    }());\n\n    var STARTING_INDEX = 0;\r\n    var Notifications = (function () {\r\n        function Notifications(interop) {\r\n            this.interop = interop;\r\n            this.methodsRegistered = false;\r\n            this.methodNameRoot = \"T42.Notifications.Handler-\" + shortid$1();\r\n            this.nextId = 0;\r\n            this.notifications = {};\r\n        }\r\n        Object.defineProperty(Notifications.prototype, \"maxActions\", {\r\n            get: function () {\r\n                return 2;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Notifications.prototype.raise = function (options) {\r\n            var _a, _b;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var bunchOfPromises, index, id, notification, validActions, index, _loop_1, this_1, _i, validActions_1, action, g42notification;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            if (!options) {\r\n                                throw new Error(\"invalid options - should be an object\");\r\n                            }\r\n                            if (!options.title) {\r\n                                throw new Error(\"invalid options - should have title\");\r\n                            }\r\n                            if (!!this.methodsRegistered) return [3, 2];\r\n                            bunchOfPromises = [];\r\n                            for (index = STARTING_INDEX; index < this.maxActions; index++) {\r\n                                bunchOfPromises.push(this.interop.register(this.methodNameRoot + \"_\" + index, this.handleNotificationAction.bind(this)));\r\n                            }\r\n                            return [4, Promise.all(bunchOfPromises)];\r\n                        case 1:\r\n                            _c.sent();\r\n                            this.methodsRegistered = true;\r\n                            _c.label = 2;\r\n                        case 2:\r\n                            id = String(this.nextId++);\r\n                            notification = {\r\n                                title: options.title,\r\n                                severity: \"Medium\",\r\n                                description: options.body,\r\n                                glueRoutingDetailMethodName: this.methodNameRoot + \"_\" + STARTING_INDEX,\r\n                                actions: [],\r\n                                source: id\r\n                            };\r\n                            if (options.actions) {\r\n                                validActions = options.actions.slice(0, this.maxActions);\r\n                                index = STARTING_INDEX;\r\n                                _loop_1 = function (action) {\r\n                                    var args = {\r\n                                        g42notificationId: id,\r\n                                        g42action: action.action,\r\n                                        g42interopMethod: (_a = action.interop) === null || _a === void 0 ? void 0 : _a.method,\r\n                                        g42interopTarget: (_b = action.interop) === null || _b === void 0 ? void 0 : _b.target,\r\n                                    };\r\n                                    var parameters = Object.keys(args).map(function (key) {\r\n                                        var value = args[key];\r\n                                        return {\r\n                                            name: key,\r\n                                            value: {\r\n                                                stringValue: value\r\n                                            }\r\n                                        };\r\n                                    });\r\n                                    var glueAction = {\r\n                                        name: this_1.methodNameRoot + \"_\" + index,\r\n                                        description: action.title,\r\n                                        displayName: action.title,\r\n                                        parameters: parameters\r\n                                    };\r\n                                    notification.actions.push(glueAction);\r\n                                    index++;\r\n                                };\r\n                                this_1 = this;\r\n                                for (_i = 0, validActions_1 = validActions; _i < validActions_1.length; _i++) {\r\n                                    action = validActions_1[_i];\r\n                                    _loop_1(action);\r\n                                }\r\n                            }\r\n                            return [4, this.interop.invoke(\"T42.GNS.Publish.RaiseNotification\", { notification: notification })];\r\n                        case 3:\r\n                            _c.sent();\r\n                            g42notification = new Glue42Notification(options);\r\n                            this.notifications[id] = g42notification;\r\n                            return [2, g42notification];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Notifications.prototype.handleNotificationAction = function (args) {\r\n            if (args.g42notificationId) {\r\n                var payload_1 = args;\r\n                var id = payload_1.g42notificationId;\r\n                var notification = this.notifications[id];\r\n                if (!notification) {\r\n                    return;\r\n                }\r\n                var event_1 = new Event(\"onaction\");\r\n                event_1.action = payload_1.g42action;\r\n                if (notification.onaction) {\r\n                    notification.onaction(event_1);\r\n                }\r\n                var actionDefinition = (notification.actions || []).find(function (item) { return item.action === payload_1.g42action; });\r\n                var actionInterop = actionDefinition.interop;\r\n                if (actionInterop) {\r\n                    this.interop.invoke(actionInterop.method, actionInterop.arguments || {}, actionInterop.target || \"best\");\r\n                }\r\n                notification.dispatchEvent(event_1);\r\n            }\r\n            else if (args.notification && args.notification.source) {\r\n                var id = args.notification.source;\r\n                var notification = this.notifications[id];\r\n                if (!notification) {\r\n                    return;\r\n                }\r\n                var event_2 = new Event(\"onclick\");\r\n                if (notification.onclick) {\r\n                    notification.onclick(event_2);\r\n                }\r\n                var clickInterop = notification.options.clickInterop;\r\n                if (clickInterop) {\r\n                    this.interop.invoke(clickInterop.method, clickInterop.arguments || {}, clickInterop.target || \"best\");\r\n                }\r\n                notification.dispatchEvent(event_2);\r\n            }\r\n        };\r\n        return Notifications;\r\n    }());\n\n    var ThemesConfigurationMethodName = \"T42.Themes.Configuration\";\r\n    var ThemesImpl = (function () {\r\n        function ThemesImpl(core) {\r\n            this.core = core;\r\n            this.registry = lib$2();\r\n            this.isSubscribed = false;\r\n            this.getConfiguration();\r\n        }\r\n        ThemesImpl.prototype.list = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (!this.getMethodName) {\r\n                                throw new Error(\"not supported\");\r\n                            }\r\n                            return [4, this.getAll()];\r\n                        case 2: return [2, (_a.sent()).returned.all];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.getCurrent = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var all;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (!this.getMethodName) {\r\n                                throw new Error(\"not supported\");\r\n                            }\r\n                            return [4, this.getAll()];\r\n                        case 2:\r\n                            all = _a.sent();\r\n                            return [2, all.returned.all.find(function (t) { return t.name === all.returned.selected; })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.select = function (theme) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (!this.setMethodName) {\r\n                                throw new Error(\"not supported\");\r\n                            }\r\n                            return [4, this.core.interop.invoke(this.setMethodName, { theme: theme })];\r\n                        case 2:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.onChanged = function (callback) {\r\n            this.subscribe();\r\n            return this.registry.add(\"changed\", callback);\r\n        };\r\n        ThemesImpl.prototype.getConfiguration = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var config, error_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 2, , 3]);\r\n                            if (this.sharedContextName) {\r\n                                return [2];\r\n                            }\r\n                            return [4, this.core.interop.invoke(ThemesConfigurationMethodName)];\r\n                        case 1:\r\n                            config = _a.sent();\r\n                            this.sharedContextName = config.returned.sharedContextName;\r\n                            this.getMethodName = config.returned.getThemesMethodName;\r\n                            this.setMethodName = config.returned.setThemesMethodName;\r\n                            return [3, 3];\r\n                        case 2:\r\n                            error_1 = _a.sent();\r\n                            return [2];\r\n                        case 3: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.getAll = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4, this.core.interop.invoke(this.getMethodName)];\r\n                        case 2: return [2, _a.sent()];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.subscribe = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (this.isSubscribed) {\r\n                                return [2];\r\n                            }\r\n                            this.isSubscribed = true;\r\n                            this.core.contexts.subscribe(this.sharedContextName, function (data) {\r\n                                if (data && data.all && data.selected) {\r\n                                    _this.registry.execute(\"changed\", data.all.find(function (t) { return t.name === data.selected; }));\r\n                                }\r\n                            });\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return ThemesImpl;\r\n    }());\n\n    function factory$2(core) {\r\n        var themes = new ThemesImpl(core);\r\n        return {\r\n            list: themes.list.bind(themes),\r\n            getCurrent: themes.getCurrent.bind(themes),\r\n            select: themes.select.bind(themes),\r\n            onChanged: themes.onChanged.bind(themes),\r\n            ready: function () { return Promise.resolve(); },\r\n        };\r\n    }\n\n    var GLUE42_FDC3_INTENTS_METHOD_PREFIX = \"Tick42.FDC3.Intents.\";\r\n    var Intents = (function () {\r\n        function Intents(interop, windows, logger) {\r\n            this.interop = interop;\r\n            this.windows = windows;\r\n            this.logger = logger;\r\n        }\r\n        Intents.prototype.find = function (intentFilter) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var intents, ctToLower_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1:\r\n                            intents = _a.sent();\r\n                            if (typeof intentFilter === \"undefined\") {\r\n                                return [2, intents];\r\n                            }\r\n                            if (typeof intentFilter === \"string\") {\r\n                                return [2, intents.filter(function (intent) { return intent.name === intentFilter; })];\r\n                            }\r\n                            if (typeof intentFilter !== \"object\") {\r\n                                throw new Error(\"Please provide the intentFilter as a string or an object!\");\r\n                            }\r\n                            if (intentFilter.contextType) {\r\n                                ctToLower_1 = intentFilter.contextType.toLowerCase();\r\n                                intents = intents.filter(function (intent) { return intent.handlers.some(function (handler) { var _a; return (_a = handler.contextTypes) === null || _a === void 0 ? void 0 : _a.some(function (ct) { return ct.toLowerCase() === ctToLower_1; }); }); });\r\n                            }\r\n                            if (intentFilter.name) {\r\n                                intents = intents.filter(function (intent) { return intent.name === intentFilter.name; });\r\n                            }\r\n                            return [2, intents];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.raise = function (intent) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var intentName, intentDef, isDynamicIntent, target, handler, anAppHandler, anInstanceHandler, instanceId, result;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if ((typeof intent !== \"string\" && typeof intent !== \"object\") || (typeof intent === \"object\" && typeof intent.intent !== \"string\")) {\r\n                                throw new Error(\"Please provide the intent as a string or an object with an intent property!\");\r\n                            }\r\n                            if (typeof intent === \"string\") {\r\n                                intent = {\r\n                                    intent: intent\r\n                                };\r\n                            }\r\n                            intentName = intent.intent;\r\n                            return [4, this.get(intentName)];\r\n                        case 1:\r\n                            intentDef = _a.sent();\r\n                            if (typeof intentDef === \"undefined\") {\r\n                                throw new Error(\"Intent \" + intentName + \" not found.\");\r\n                            }\r\n                            isDynamicIntent = !intentDef.handlers.some(function (intentDefHandler) { return intentDefHandler.type === \"app\"; });\r\n                            target = intent.target || (isDynamicIntent ? \"reuse\" : \"startNew\");\r\n                            anAppHandler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"app\"; });\r\n                            if (target === \"startNew\") {\r\n                                handler = anAppHandler;\r\n                            }\r\n                            else if (target === \"reuse\") {\r\n                                anInstanceHandler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"instance\"; });\r\n                                handler = anInstanceHandler || anAppHandler;\r\n                            }\r\n                            else if (target.instance) {\r\n                                handler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"instance\" && intentHandler.instanceId === target.instance; });\r\n                            }\r\n                            else if (target.app) {\r\n                                handler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"app\" && intentHandler.applicationName === target.app; });\r\n                            }\r\n                            else {\r\n                                throw new Error(\"Invalid intent target: \" + JSON.stringify(target));\r\n                            }\r\n                            if (!handler) {\r\n                                throw new Error(\"Can not raise intent for request \" + JSON.stringify(intent) + \" - can not find intent handler.\");\r\n                            }\r\n                            instanceId = handler.instanceId;\r\n                            if (!(handler.type === \"app\")) return [3, 3];\r\n                            return [4, this.startApp(handler.applicationName, intent.options)];\r\n                        case 2:\r\n                            instanceId = _a.sent();\r\n                            _a.label = 3;\r\n                        case 3: return [4, this.raiseIntentToInstance(instanceId, intentName, intent.context)];\r\n                        case 4:\r\n                            result = _a.sent();\r\n                            result.request = intent;\r\n                            result.handler = handler;\r\n                            return [2, result];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.all = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, apps_1, intents_1, appsWithIntents, _i, appsWithIntents_1, app, _a, _b, intentDef, intent, handler, _loop_1, _c, _d, server, e_1;\r\n                var _this = this;\r\n                return __generator(this, function (_e) {\r\n                    switch (_e.label) {\r\n                        case 0:\r\n                            _e.trys.push([0, 6, , 7]);\r\n                            return [4, this.interop.invoke(\"T42.ACS.GetApplications\", { withIntentsInfo: true })];\r\n                        case 1:\r\n                            result = _e.sent();\r\n                            apps_1 = result.returned.applications;\r\n                            intents_1 = {};\r\n                            appsWithIntents = apps_1.filter(function (app) { return app.intents && app.intents.length > 0; });\r\n                            for (_i = 0, appsWithIntents_1 = appsWithIntents; _i < appsWithIntents_1.length; _i++) {\r\n                                app = appsWithIntents_1[_i];\r\n                                for (_a = 0, _b = app.intents; _a < _b.length; _a++) {\r\n                                    intentDef = _b[_a];\r\n                                    intent = intents_1[intentDef.name];\r\n                                    if (!intent) {\r\n                                        intent = {\r\n                                            name: intentDef.name,\r\n                                            handlers: [],\r\n                                        };\r\n                                        intents_1[intentDef.name] = intent;\r\n                                    }\r\n                                    handler = {\r\n                                        applicationName: app.name,\r\n                                        applicationTitle: app.title,\r\n                                        applicationDescription: app.caption,\r\n                                        displayName: intentDef.displayName,\r\n                                        contextTypes: intentDef.contexts,\r\n                                        applicationIcon: app.icon,\r\n                                        type: \"app\"\r\n                                    };\r\n                                    intent.handlers.push(handler);\r\n                                }\r\n                            }\r\n                            _loop_1 = function (server) {\r\n                                return __generator(this, function (_a) {\r\n                                    switch (_a.label) {\r\n                                        case 0: return [4, Promise.all(server.getMethods()\r\n                                                .filter(function (method) { return method.name.startsWith(GLUE42_FDC3_INTENTS_METHOD_PREFIX); })\r\n                                                .map(function (method) { return __awaiter(_this, void 0, void 0, function () {\r\n                                                var intentName, intent, info, app, appIntent, window, title, handler;\r\n                                                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n                                                return __generator(this, function (_l) {\r\n                                                    switch (_l.label) {\r\n                                                        case 0:\r\n                                                            intentName = method.name.replace(GLUE42_FDC3_INTENTS_METHOD_PREFIX, \"\");\r\n                                                            intent = intents_1[intentName];\r\n                                                            if (!intent) {\r\n                                                                intent = {\r\n                                                                    name: intentName,\r\n                                                                    handlers: [],\r\n                                                                };\r\n                                                                intents_1[intentName] = intent;\r\n                                                            }\r\n                                                            if (method.description) {\r\n                                                                try {\r\n                                                                    info = JSON.parse(method.description);\r\n                                                                }\r\n                                                                catch (_m) { }\r\n                                                            }\r\n                                                            app = apps_1.find(function (appWithIntents) { return appWithIntents.name === server.application; });\r\n                                                            if (app && app.intents) {\r\n                                                                appIntent = app.intents.find(function (appDefIntent) { return appDefIntent.name === intentName; });\r\n                                                            }\r\n                                                            window = this.windows.findById(server.windowId);\r\n                                                            return [4, ((_a = window) === null || _a === void 0 ? void 0 : _a.getTitle())];\r\n                                                        case 1:\r\n                                                            title = _l.sent();\r\n                                                            handler = {\r\n                                                                instanceId: server.instance,\r\n                                                                applicationName: server.application,\r\n                                                                applicationIcon: ((_b = info) === null || _b === void 0 ? void 0 : _b.icon) || ((_c = app) === null || _c === void 0 ? void 0 : _c.icon),\r\n                                                                applicationTitle: (_d = app) === null || _d === void 0 ? void 0 : _d.title,\r\n                                                                applicationDescription: ((_e = info) === null || _e === void 0 ? void 0 : _e.description) || ((_f = app) === null || _f === void 0 ? void 0 : _f.caption),\r\n                                                                displayName: ((_g = info) === null || _g === void 0 ? void 0 : _g.displayName) || ((_h = appIntent) === null || _h === void 0 ? void 0 : _h.displayName),\r\n                                                                contextTypes: ((_j = info) === null || _j === void 0 ? void 0 : _j.contextTypes) || ((_k = appIntent) === null || _k === void 0 ? void 0 : _k.contexts),\r\n                                                                instanceTitle: title,\r\n                                                                type: \"instance\"\r\n                                                            };\r\n                                                            intent.handlers.push(handler);\r\n                                                            return [2];\r\n                                                    }\r\n                                                });\r\n                                            }); }))];\r\n                                        case 1:\r\n                                            _a.sent();\r\n                                            return [2];\r\n                                    }\r\n                                });\r\n                            };\r\n                            _c = 0, _d = this.interop.servers();\r\n                            _e.label = 2;\r\n                        case 2:\r\n                            if (!(_c < _d.length)) return [3, 5];\r\n                            server = _d[_c];\r\n                            return [5, _loop_1(server)];\r\n                        case 3:\r\n                            _e.sent();\r\n                            _e.label = 4;\r\n                        case 4:\r\n                            _c++;\r\n                            return [3, 2];\r\n                        case 5: return [2, Object.values(intents_1)];\r\n                        case 6:\r\n                            e_1 = _e.sent();\r\n                            this.logger.error(\"Failed to get the applications!\", e_1);\r\n                            return [2, []];\r\n                        case 7: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.addIntentListener = function (intent, handler) {\r\n            var _this = this;\r\n            if ((typeof intent !== \"string\" && typeof intent !== \"object\") || (typeof intent === \"object\" && typeof intent.intent !== \"string\")) {\r\n                throw new Error(\"Please provide the intent as a string or an object with an intent property!\");\r\n            }\r\n            if (typeof handler !== \"function\") {\r\n                throw new Error(\"Please provide the handler as a function!\");\r\n            }\r\n            var result = { unsubscribe: function () { return console.log(\"Could not unsubscribe!\"); } };\r\n            var intentName = typeof intent === \"string\" ? intent : intent.intent;\r\n            var methodName = \"\" + GLUE42_FDC3_INTENTS_METHOD_PREFIX + intentName;\r\n            var methodDescription = typeof intent === \"string\" ? undefined : JSON.stringify(intent);\r\n            this.interop.register({ name: methodName, description: methodDescription }, function (args) {\r\n                return handler(args);\r\n            }).then(function () {\r\n                result.unsubscribe = function () {\r\n                    _this.interop.unregister(methodName);\r\n                };\r\n            });\r\n            return result;\r\n        };\r\n        Intents.prototype.get = function (intent) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1: return [2, (_a.sent()).find(function (registeredIntent) { return registeredIntent.name === intent; })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.startApp = function (application, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.interop.invoke(\"T42.ACS.StartApplication\", { Name: application, options: options })];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            return [2, result.returned.Id];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.raiseIntentToInstance = function (instanceId, intent, context) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var methodName, interopServer, method, result;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            methodName = \"\" + GLUE42_FDC3_INTENTS_METHOD_PREFIX + intent;\r\n                            interopServer = this.interop.servers().find(function (server) { return server.instance === instanceId; });\r\n                            if (!!interopServer) return [3, 2];\r\n                            return [4, (new Promise(function (resolve, reject) {\r\n                                    var timeoutId;\r\n                                    var unsub = _this.interop.serverAdded(function (server) {\r\n                                        if (server.instance === instanceId) {\r\n                                            interopServer = server;\r\n                                            resolve();\r\n                                            clearTimeout(timeoutId);\r\n                                            unsub();\r\n                                        }\r\n                                    });\r\n                                    timeoutId = setTimeout(function () {\r\n                                        unsub();\r\n                                        reject(new Error(\"Can not find interop server for instance \" + instanceId));\r\n                                    }, 30 * 1000);\r\n                                }))];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            method = interopServer.getMethods().find(function (registeredMethod) { return registeredMethod.name === methodName; });\r\n                            if (!!method) return [3, 4];\r\n                            return [4, (new Promise(function (resolve, reject) {\r\n                                    var timeoutId;\r\n                                    var unsub = _this.interop.methodAdded(function (addedMethod) {\r\n                                        if (addedMethod.name === methodName) {\r\n                                            resolve();\r\n                                            clearTimeout(timeoutId);\r\n                                            unsub();\r\n                                        }\r\n                                    });\r\n                                    timeoutId = setTimeout(function () {\r\n                                        unsub();\r\n                                        reject(new Error(\"Can not find interop method \" + methodName + \" for instance \" + instanceId));\r\n                                    }, 10 * 1000);\r\n                                }))];\r\n                        case 3:\r\n                            _a.sent();\r\n                            _a.label = 4;\r\n                        case 4: return [4, this.interop.invoke(methodName, context, { instance: instanceId })];\r\n                        case 5:\r\n                            result = _a.sent();\r\n                            return [2, {\r\n                                    result: result.returned\r\n                                }];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return Intents;\r\n    }());\n\n    var instances = [];\r\n    var factory$3 = function (options) { return __awaiter(void 0, void 0, void 0, function () {\r\n        function createWindows(core) {\r\n            if (glueConfig.windows) {\r\n                var windowsLogger = getLibLogger(\"windows\", core.logger, glueConfig.windows);\r\n                _windows = WindowsFactory(core.agm, windowsLogger, function () {\r\n                    return _appManager;\r\n                }, function () {\r\n                    return _displays;\r\n                }, gdMajorVersion);\r\n                debugLog(_windows);\r\n                return _windows;\r\n            }\r\n        }\r\n        function createActivities(core) {\r\n            var _a, _b;\r\n            if (glueConfig.activities) {\r\n                if (ActivityModule.checkIsUsingGW3Implementation && ActivityModule.checkIsUsingGW3Implementation(core.connection)) {\r\n                    var activityLogger = getLibLogger(\"activity\", core.logger, glueConfig.activities);\r\n                    _activity = new ActivityModule({\r\n                        connection: core.connection,\r\n                        contexts: core.contexts,\r\n                        agm: core.agm,\r\n                        logger: activityLogger,\r\n                        logLevel: \"info\",\r\n                        disableAutoAnnounce: false,\r\n                        disposeRequestHandling: \"exit\",\r\n                        announcementInfo: null,\r\n                        windows: _windows,\r\n                        appManagerGetter: function () {\r\n                            return _appManager;\r\n                        },\r\n                        mode: glueConfig.activities.mode,\r\n                        typesToTrack: glueConfig.activities.typesToTrack,\r\n                        activityId: (_b = (_a = glue42gd) === null || _a === void 0 ? void 0 : _a.activityInfo) === null || _b === void 0 ? void 0 : _b.activityId,\r\n                        gdMajorVersion: gdMajorVersion\r\n                    }).api;\r\n                    debugLog(_activity);\r\n                    return _activity;\r\n                }\r\n            }\r\n        }\r\n        function createAppManager(core) {\r\n            if (!glueConfig.appManager) {\r\n                return;\r\n            }\r\n            var logger = getLibLogger(\"appManager\", core.logger, glueConfig.appManager);\r\n            _appManager = AppManagerFactory({\r\n                agm: core.agm,\r\n                windows: _windows,\r\n                logger: logger,\r\n                activities: _activity,\r\n                mode: glueConfig.appManager.mode,\r\n                gdMajorVersion: gdMajorVersion\r\n            });\r\n            debugLog(_appManager);\r\n            return _appManager;\r\n        }\r\n        function createLayouts(core) {\r\n            var _a;\r\n            if (!glueConfig.layouts) {\r\n                return;\r\n            }\r\n            var logger = getLibLogger(\"layouts\", core.logger, glueConfig.layouts);\r\n            var layoutsConfig = glueConfig.layouts;\r\n            var lay = LayoutsFactory({\r\n                agm: core.agm,\r\n                appManager: _appManager,\r\n                activityGetter: function () { return _activity; },\r\n                logger: logger,\r\n                mode: layoutsConfig.mode,\r\n                autoSaveWindowContext: (_a = layoutsConfig.autoSaveWindowContext, (_a !== null && _a !== void 0 ? _a : false)),\r\n                gdMajorVersion: gdMajorVersion\r\n            });\r\n            debugLog(lay);\r\n            return lay;\r\n        }\r\n        function createChannels(core) {\r\n            if (!glueConfig.channels) {\r\n                return;\r\n            }\r\n            if (!core.contexts) {\r\n                return;\r\n            }\r\n            var channelsAPI = factory(core.contexts, core.agm);\r\n            debugLog(channelsAPI);\r\n            return channelsAPI;\r\n        }\r\n        function createHotkeys(core) {\r\n            var hotkeysAPI = factory$1(core.agm);\r\n            debugLog(hotkeysAPI);\r\n            return hotkeysAPI;\r\n        }\r\n        function createIntents(core) {\r\n            var intentsAPI = new Intents(core.agm, _windows, core.logger.subLogger(\"intents\"));\r\n            debugLog(intentsAPI);\r\n            return intentsAPI;\r\n        }\r\n        function createNotifications(core) {\r\n            var notificationsAPI = new Notifications(core.interop);\r\n            debugLog(notificationsAPI);\r\n            return notificationsAPI;\r\n        }\r\n        function createDisplaysApi(core) {\r\n            if (glueConfig.displays) {\r\n                var displaysLogger = getLibLogger(\"displays\", core.logger, glueConfig.displays);\r\n                _displays = new DisplayManager(core.agm, displaysLogger);\r\n                debugLog(_displays);\r\n                return _displays;\r\n            }\r\n        }\r\n        function createThemes(core) {\r\n            if (!core.contexts) {\r\n                return;\r\n            }\r\n            var themesAPI = factory$2(core);\r\n            debugLog(themesAPI);\r\n            return themesAPI;\r\n        }\r\n        function getLibLogger(loggerName, logger, config) {\r\n            var newLogger = logger.subLogger(loggerName);\r\n            if (config && config.logger) {\r\n                var loggerConfig = config.logger;\r\n                if (loggerConfig.console) {\r\n                    newLogger.consoleLevel(loggerConfig.console);\r\n                }\r\n                if (loggerConfig.publish) {\r\n                    newLogger.publishLevel(loggerConfig.publish);\r\n                }\r\n            }\r\n            return newLogger;\r\n        }\r\n        function debugLog(entry) {\r\n            currentLog.push(entry);\r\n        }\r\n        var glue42gd, gdMajorVersion, glueConfig, _appManager, _activity, _windows, _displays, ext, currentLog, glueApi;\r\n        var _a;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    glue42gd = typeof window !== \"undefined\" && window.glue42gd;\r\n                    if (glue42gd) {\r\n                        if (instances.length > 0) {\r\n                            return [2, instances[0]];\r\n                        }\r\n                    }\r\n                    gdMajorVersion = Utils$1.getGDMajorVersion();\r\n                    options = options || {};\r\n                    glueConfig = prepareConfig$1(options);\r\n                    options.gateway = options.gateway || {};\r\n                    ext = {\r\n                        libs: [\r\n                            { name: \"windows\", create: createWindows },\r\n                            { name: \"activities\", create: createActivities },\r\n                            { name: \"appManager\", create: createAppManager },\r\n                            { name: \"layouts\", create: createLayouts },\r\n                            { name: \"channels\", create: createChannels },\r\n                            { name: \"hotkeys\", create: createHotkeys },\r\n                            { name: \"displays\", create: createDisplaysApi },\r\n                            { name: \"intents\", create: createIntents },\r\n                            { name: \"notifications\", create: createNotifications },\r\n                            { name: \"themes\", create: createThemes }\r\n                        ],\r\n                        version: version$2,\r\n                        enrichGlue: function (glue) {\r\n                            glue.config.activities = glueConfig.activities;\r\n                            glue.config.windows = glueConfig.windows;\r\n                            glue.config.appManager = glueConfig.appManager;\r\n                            glue.config.layouts = glueConfig.layouts;\r\n                            glue.config.channels = glueConfig.channels;\r\n                            glue.config.displays = glueConfig.displays;\r\n                        },\r\n                    };\r\n                    currentLog = [];\r\n                    if (typeof window !== \"undefined\") {\r\n                        if (!window.glueFactoryLog) {\r\n                            window.glueFactoryLog = [];\r\n                        }\r\n                        window.glueFactoryLog.push(currentLog);\r\n                    }\r\n                    return [4, GlueCore(options, ext)];\r\n                case 1:\r\n                    glueApi = (_b.sent());\r\n                    instances.push(glueApi);\r\n                    if (!(Array.isArray((_a = options) === null || _a === void 0 ? void 0 : _a.libraries) && options.libraries.length)) return [3, 3];\r\n                    return [4, Promise.all(options.libraries.map(function (lib) { return lib(glueApi, options); }))];\r\n                case 2:\r\n                    _b.sent();\r\n                    _b.label = 3;\r\n                case 3: return [2, glueApi];\r\n            }\r\n        });\r\n    }); };\r\n    factory$3.coreVersion = GlueCore.version;\r\n    factory$3.version = version$2;\r\n    factory$3.instances = instances;\n\n    var whatToExpose = factory$3;\r\n    var shouldSetToWindow = true;\r\n    if (typeof window !== \"undefined\") {\r\n        var glue42gd = window.glue42gd;\r\n        if (glue42gd && glue42gd.autoInjected) {\r\n            whatToExpose = window.Glue;\r\n            shouldSetToWindow = false;\r\n        }\r\n        if (shouldSetToWindow) {\r\n            window.Glue = whatToExpose;\r\n        }\r\n        delete window.GlueCore;\r\n    }\r\n    whatToExpose.default = whatToExpose;\r\n    var whatToExpose$1 = whatToExpose;\n\n    return whatToExpose$1;\n\n})));\n//# sourceMappingURL=desktop.browser.js.map\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nconst defaultConfig = {\r\n    logger: \"trace\",\r\n    gateway: { webPlatform: {} },\r\n    libraries: []\r\n};\r\nconst parseConfig = (config) => {\r\n    var _a;\r\n    const combined = Object.assign({}, defaultConfig, config);\r\n    if (combined.systemLogger) {\r\n        combined.logger = (_a = combined.systemLogger.level) !== null && _a !== void 0 ? _a : \"trace\";\r\n    }\r\n    return combined;\r\n};\n\nconst checkSingleton = () => {\r\n    const glue42CoreNamespace = window.glue42core;\r\n    if (!glue42CoreNamespace) {\r\n        window.glue42core = { webStarted: true };\r\n        return;\r\n    }\r\n    if (glue42CoreNamespace.webStarted) {\r\n        throw new Error(\"The Glue42 Core Web has already been started for this application.\");\r\n    }\r\n    glue42CoreNamespace.webStarted = true;\r\n};\n\nconst enterprise = (config) => {\r\n    var _a, _b;\r\n    const enterpriseConfig = {\r\n        windows: true,\r\n        layouts: \"full\",\r\n        appManager: \"full\",\r\n        channels: true,\r\n        libraries: config.libraries,\r\n        logger: (_b = (_a = config === null || config === void 0 ? void 0 : config.systemLogger) === null || _a === void 0 ? void 0 : _a.level) !== null && _b !== void 0 ? _b : \"warn\"\r\n    };\r\n    return window.Glue(enterpriseConfig);\r\n};\n\n/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\r\n\r\nvar result = Object.freeze({\r\n\tok: ok,\r\n\tisOk: isOk,\r\n\terr: err,\r\n\tisErr: isErr,\r\n\tasPromise: asPromise,\r\n\twithDefault: withDefault,\r\n\twithException: withException,\r\n\tsuccesses: successes,\r\n\tmap: map,\r\n\tmap2: map2,\r\n\tmapError: mapError,\r\n\tandThen: andThen\r\n});\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined || json === null ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\r\n\r\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\n\nconst nonEmptyStringDecoder = string().where((s) => s.length > 0, \"Expected a non-empty string\");\r\nconst nonNegativeNumberDecoder = number().where((num) => num >= 0, \"Expected a non-negative number\");\r\nconst libDomainDecoder = oneOf(constant(\"windows\"), constant(\"appManager\"), constant(\"layouts\"), constant(\"intents\"));\r\nconst windowOperationTypesDecoder = oneOf(constant(\"openWindow\"), constant(\"windowHello\"), constant(\"windowAdded\"), constant(\"windowRemoved\"), constant(\"getBounds\"), constant(\"getUrl\"), constant(\"moveResize\"), constant(\"focus\"), constant(\"close\"), constant(\"getTitle\"), constant(\"setTitle\"));\r\nconst appManagerOperationTypesDecoder = oneOf(constant(\"appHello\"), constant(\"applicationAdded\"), constant(\"applicationRemoved\"), constant(\"applicationChanged\"), constant(\"instanceStarted\"), constant(\"instanceStopped\"), constant(\"applicationStart\"), constant(\"instanceStop\"));\r\nconst layoutsOperationTypesDecoder = oneOf(constant(\"layoutAdded\"), constant(\"layoutChanged\"), constant(\"layoutRemoved\"), constant(\"get\"), constant(\"getAll\"), constant(\"export\"), constant(\"import\"), constant(\"remove\"));\r\nconst windowRelativeDirectionDecoder = oneOf(constant(\"top\"), constant(\"left\"), constant(\"right\"), constant(\"bottom\"));\r\nconst windowOpenSettingsDecoder = optional(object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    context: optional(anyJson()),\r\n    relativeTo: optional(nonEmptyStringDecoder),\r\n    relativeDirection: optional(windowRelativeDirectionDecoder),\r\n    windowId: optional(nonEmptyStringDecoder)\r\n}));\r\nconst openWindowConfigDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    url: nonEmptyStringDecoder,\r\n    options: windowOpenSettingsDecoder\r\n});\r\nconst windowHelloDecoder = object({\r\n    windowId: optional(nonEmptyStringDecoder)\r\n});\r\nconst coreWindowDataDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    name: nonEmptyStringDecoder\r\n});\r\nconst simpleWindowDecoder = object({\r\n    windowId: nonEmptyStringDecoder\r\n});\r\nconst helloSuccessDecoder = object({\r\n    windows: array(coreWindowDataDecoder),\r\n    isWorkspaceFrame: boolean()\r\n});\r\nconst windowTitleConfigDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    title: string()\r\n});\r\nconst windowMoveResizeConfigDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relative: optional(boolean())\r\n});\r\nconst windowBoundsResultDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    bounds: object({\r\n        top: number(),\r\n        left: number(),\r\n        width: nonNegativeNumberDecoder,\r\n        height: nonNegativeNumberDecoder\r\n    })\r\n});\r\nconst windowUrlResultDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    url: nonEmptyStringDecoder\r\n});\r\nconst anyDecoder = anyJson();\r\nconst boundsDecoder = object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder)\r\n});\r\nconst instanceDataDecoder = object({\r\n    id: nonEmptyStringDecoder,\r\n    applicationName: nonEmptyStringDecoder\r\n});\r\nconst applicationDetailsDecoder = object({\r\n    url: nonEmptyStringDecoder,\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder)\r\n});\r\nconst intentDefinitionDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    displayName: optional(string()),\r\n    contexts: optional(array(string())),\r\n    customConfig: optional(object())\r\n});\r\nconst applicationDefinitionDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    customProperties: optional(anyJson()),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder),\r\n    details: applicationDetailsDecoder,\r\n    intents: optional(array(intentDefinitionDecoder))\r\n});\r\nconst appDefinitionOperationDecoder = object({\r\n    definitions: array(applicationDefinitionDecoder),\r\n    mode: oneOf(constant(\"replace\"), constant(\"merge\"))\r\n});\r\nconst appRemoveConfigDecoder = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\nconst appsExportOperationDecoder = object({\r\n    definitions: array(applicationDefinitionDecoder)\r\n});\r\nconst applicationDataDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    instances: array(instanceDataDecoder),\r\n    userProperties: optional(anyJson()),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder)\r\n});\r\nconst baseApplicationDataDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    userProperties: anyJson(),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder)\r\n});\r\nconst appHelloSuccessDecoder = object({\r\n    apps: array(applicationDataDecoder)\r\n});\r\nconst basicInstanceDataDecoder = object({\r\n    id: nonEmptyStringDecoder\r\n});\r\nconst applicationStartConfigDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    waitForAGMReady: boolean(),\r\n    context: optional(anyJson()),\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relativeTo: optional(nonEmptyStringDecoder),\r\n    relativeDirection: optional(oneOf(constant(\"top\"), constant(\"left\"), constant(\"right\"), constant(\"bottom\")))\r\n});\r\nconst layoutTypeDecoder = oneOf(constant(\"Global\"), constant(\"Activity\"), constant(\"ApplicationDefault\"), constant(\"Swimlane\"), constant(\"Workspace\"));\r\nconst componentTypeDecoder = oneOf(constant(\"application\"), constant(\"activity\"));\r\nconst windowLayoutComponentDecoder = object({\r\n    type: constant(\"window\"),\r\n    componentType: componentTypeDecoder,\r\n    state: object({\r\n        name: anyJson(),\r\n        context: anyJson(),\r\n        url: nonEmptyStringDecoder,\r\n        bounds: anyJson(),\r\n        id: nonEmptyStringDecoder,\r\n        parentId: optional(nonEmptyStringDecoder),\r\n        main: boolean()\r\n    })\r\n});\r\nconst windowLayoutItemDecoder = object({\r\n    type: constant(\"window\"),\r\n    config: object({\r\n        appName: nonEmptyStringDecoder,\r\n        url: optional(nonEmptyStringDecoder)\r\n    })\r\n});\r\nconst groupLayoutItemDecoder = object({\r\n    type: constant(\"group\"),\r\n    config: anyJson(),\r\n    children: array(oneOf(windowLayoutItemDecoder))\r\n});\r\nconst columnLayoutItemDecoder = object({\r\n    type: constant(\"column\"),\r\n    config: anyJson(),\r\n    children: array(oneOf(groupLayoutItemDecoder, windowLayoutItemDecoder, lazy(() => columnLayoutItemDecoder), lazy(() => rowLayoutItemDecoder)))\r\n});\r\nconst rowLayoutItemDecoder = object({\r\n    type: constant(\"row\"),\r\n    config: anyJson(),\r\n    children: array(oneOf(columnLayoutItemDecoder, groupLayoutItemDecoder, windowLayoutItemDecoder, lazy(() => rowLayoutItemDecoder)))\r\n});\r\nconst workspaceLayoutComponentDecoder = object({\r\n    type: constant(\"Workspace\"),\r\n    state: object({\r\n        config: anyJson(),\r\n        context: anyJson(),\r\n        children: array(oneOf(rowLayoutItemDecoder, columnLayoutItemDecoder, groupLayoutItemDecoder, windowLayoutItemDecoder))\r\n    })\r\n});\r\nconst glueLayoutDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder,\r\n    components: array(oneOf(windowLayoutComponentDecoder, workspaceLayoutComponentDecoder)),\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\nconst newLayoutOptionsDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\nconst restoreOptionsDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    context: optional(anyJson()),\r\n    closeRunningInstance: optional(boolean())\r\n});\r\nconst layoutSummaryDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder,\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\nconst simpleLayoutConfigDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder\r\n});\r\nconst getAllLayoutsConfigDecoder = object({\r\n    type: layoutTypeDecoder\r\n});\r\nconst allLayoutsFullConfigDecoder = object({\r\n    layouts: array(glueLayoutDecoder)\r\n});\r\nconst importModeDecoder = oneOf(constant(\"replace\"), constant(\"merge\"));\r\nconst layoutsImportConfigDecoder = object({\r\n    layouts: array(glueLayoutDecoder),\r\n    mode: importModeDecoder\r\n});\r\nconst allLayoutsSummariesResultDecoder = object({\r\n    summaries: array(layoutSummaryDecoder)\r\n});\r\nconst simpleLayoutResult = object({\r\n    layout: glueLayoutDecoder\r\n});\r\nconst optionalSimpleLayoutResult = object({\r\n    layout: optional(glueLayoutDecoder)\r\n});\r\nconst intentsOperationTypesDecoder = oneOf(constant(\"findIntent\"), constant(\"getIntents\"), constant(\"raiseIntent\"));\r\nconst intentHandlerDecoder = object({\r\n    applicationName: nonEmptyStringDecoder,\r\n    applicationTitle: string(),\r\n    applicationDescription: optional(string()),\r\n    applicationIcon: optional(string()),\r\n    type: oneOf(constant(\"app\"), constant(\"instance\")),\r\n    displayName: optional(string()),\r\n    contextTypes: optional(array(nonEmptyStringDecoder)),\r\n    instanceId: optional(string()),\r\n    instanceTitle: optional(string())\r\n});\r\nconst intentDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    handlers: array(intentHandlerDecoder)\r\n});\r\nconst intentTargetDecoder = oneOf(constant(\"startNew\"), constant(\"reuse\"), object({\r\n    app: optional(nonEmptyStringDecoder),\r\n    instance: optional(nonEmptyStringDecoder)\r\n}));\r\nconst intentContextDecoder = object({\r\n    type: optional(nonEmptyStringDecoder),\r\n    data: optional(object())\r\n});\r\nconst intentsDecoder = array(intentDecoder);\r\nconst wrappedIntentsDecoder = object({\r\n    intents: intentsDecoder\r\n});\r\nconst intentFilterDecoder = object({\r\n    name: optional(nonEmptyStringDecoder),\r\n    contextType: optional(nonEmptyStringDecoder)\r\n});\r\nconst findFilterDecoder = oneOf(nonEmptyStringDecoder, intentFilterDecoder);\r\nconst wrappedIntentFilterDecoder = object({\r\n    filter: optional(intentFilterDecoder)\r\n});\r\nconst intentRequestDecoder = object({\r\n    intent: nonEmptyStringDecoder,\r\n    target: optional(intentTargetDecoder),\r\n    context: optional(intentContextDecoder),\r\n    options: optional(windowOpenSettingsDecoder)\r\n});\r\nconst raiseRequestDecoder = oneOf(nonEmptyStringDecoder, intentRequestDecoder);\r\nconst intentResultDecoder = object({\r\n    request: intentRequestDecoder,\r\n    handler: intentHandlerDecoder,\r\n    result: anyJson()\r\n});\r\nconst addIntentListenerRequestDecoder = object({\r\n    intent: nonEmptyStringDecoder,\r\n    contextTypes: optional(array(nonEmptyStringDecoder)),\r\n    displayName: optional(string()),\r\n    icon: optional(string()),\r\n    description: optional(string())\r\n});\r\nconst addIntentListenerIntentDecoder = oneOf(nonEmptyStringDecoder, addIntentListenerRequestDecoder);\r\nconst channelNameDecoder = (channelNames) => {\r\n    return nonEmptyStringDecoder.where(s => channelNames.includes(s), \"Expected a valid channel name\");\r\n};\n\nconst operations = {\r\n    openWindow: { name: \"openWindow\", dataDecoder: openWindowConfigDecoder, resultDecoder: coreWindowDataDecoder },\r\n    windowHello: { name: \"windowHello\", dataDecoder: windowHelloDecoder, resultDecoder: helloSuccessDecoder },\r\n    windowAdded: { name: \"windowAdded\", dataDecoder: coreWindowDataDecoder },\r\n    windowRemoved: { name: \"windowRemoved\", dataDecoder: simpleWindowDecoder },\r\n    getBounds: { name: \"getBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: windowBoundsResultDecoder },\r\n    getUrl: { name: \"getUrl\", dataDecoder: simpleWindowDecoder, resultDecoder: windowUrlResultDecoder },\r\n    moveResize: { name: \"moveResize\", dataDecoder: windowMoveResizeConfigDecoder },\r\n    focus: { name: \"focus\", dataDecoder: simpleWindowDecoder },\r\n    close: { name: \"close\", dataDecoder: simpleWindowDecoder },\r\n    getTitle: { name: \"getTitle\", dataDecoder: simpleWindowDecoder, resultDecoder: windowTitleConfigDecoder },\r\n    setTitle: { name: \"setTitle\", dataDecoder: windowTitleConfigDecoder }\r\n};\n\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry.default = createRegistry;\r\nvar lib = createRegistry;\n\nclass WebWindowModel {\r\n    constructor(_id, _name, _bridge) {\r\n        this._id = _id;\r\n        this._name = _name;\r\n        this._bridge = _bridge;\r\n        this.registry = lib();\r\n        this.myCtxKey = `___window___${this.id}`;\r\n    }\r\n    get id() {\r\n        return this._id.slice();\r\n    }\r\n    get name() {\r\n        return this._name.slice();\r\n    }\r\n    clean() {\r\n        if (this.ctxUnsubscribe) {\r\n            this.ctxUnsubscribe();\r\n        }\r\n    }\r\n    toApi() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.ctxUnsubscribe = yield this._bridge.contextLib.subscribe(this.myCtxKey, (data) => this.registry.execute(\"context-updated\", data));\r\n            const api = {\r\n                id: this.id,\r\n                name: this.name,\r\n                getURL: this.getURL.bind(this),\r\n                moveResize: this.moveResize.bind(this),\r\n                resizeTo: this.resizeTo.bind(this),\r\n                moveTo: this.moveTo.bind(this),\r\n                focus: this.focus.bind(this),\r\n                close: this.close.bind(this),\r\n                getTitle: this.getTitle.bind(this),\r\n                setTitle: this.setTitle.bind(this),\r\n                getBounds: this.getBounds.bind(this),\r\n                getContext: this.getContext.bind(this),\r\n                updateContext: this.updateContext.bind(this),\r\n                setContext: this.setContext.bind(this),\r\n                onContextUpdated: this.onContextUpdated.bind(this)\r\n            };\r\n            this.me = Object.freeze(api);\r\n            return this.me;\r\n        });\r\n    }\r\n    getURL() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this._bridge.send(\"windows\", operations.getUrl, { windowId: this.id });\r\n            return result.url;\r\n        });\r\n    }\r\n    moveResize(dimension) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const targetBounds = boundsDecoder.runWithException(dimension);\r\n            const commandArgs = Object.assign({}, targetBounds, { windowId: this.id, relative: false });\r\n            yield this._bridge.send(\"windows\", operations.moveResize, commandArgs);\r\n            return this.me;\r\n        });\r\n    }\r\n    resizeTo(width, height) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (typeof width === \"undefined\" && typeof height === \"undefined\") {\r\n                return this.me;\r\n            }\r\n            if (typeof width !== \"undefined\") {\r\n                nonNegativeNumberDecoder.runWithException(width);\r\n            }\r\n            if (typeof height !== \"undefined\") {\r\n                nonNegativeNumberDecoder.runWithException(height);\r\n            }\r\n            const commandArgs = Object.assign({}, { width, height }, { windowId: this.id, relative: true });\r\n            yield this._bridge.send(\"windows\", operations.moveResize, commandArgs);\r\n            return this.me;\r\n        });\r\n    }\r\n    moveTo(top, left) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (typeof top === \"undefined\" && typeof left === \"undefined\") {\r\n                return this.me;\r\n            }\r\n            if (typeof top !== \"undefined\") {\r\n                number().runWithException(top);\r\n            }\r\n            if (typeof left !== \"undefined\") {\r\n                number().runWithException(left);\r\n            }\r\n            const commandArgs = Object.assign({}, { top, left }, { windowId: this.id, relative: true });\r\n            yield this._bridge.send(\"windows\", operations.moveResize, commandArgs);\r\n            return this.me;\r\n        });\r\n    }\r\n    focus() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this._bridge.send(\"windows\", operations.focus, { windowId: this.id });\r\n            return this.me;\r\n        });\r\n    }\r\n    close() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this._bridge.send(\"windows\", operations.close, { windowId: this.id });\r\n            return this.me;\r\n        });\r\n    }\r\n    getTitle() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this._bridge.send(\"windows\", operations.getTitle, { windowId: this.id });\r\n            return result.title;\r\n        });\r\n    }\r\n    setTitle(title) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ttl = nonEmptyStringDecoder.runWithException(title);\r\n            yield this._bridge.send(\"windows\", operations.setTitle, { windowId: this.id, title: ttl });\r\n            return this.me;\r\n        });\r\n    }\r\n    getBounds() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this._bridge.send(\"windows\", operations.getBounds, { windowId: this.id });\r\n            return result.bounds;\r\n        });\r\n    }\r\n    getContext() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ctx = yield this._bridge.contextLib.get(this.myCtxKey);\r\n            return ctx;\r\n        });\r\n    }\r\n    updateContext(context) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ctx = anyDecoder.runWithException(context);\r\n            yield this._bridge.contextLib.update(this.myCtxKey, ctx);\r\n            return this.me;\r\n        });\r\n    }\r\n    setContext(context) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ctx = anyDecoder.runWithException(context);\r\n            yield this._bridge.contextLib.set(this.myCtxKey, ctx);\r\n            return this.me;\r\n        });\r\n    }\r\n    onContextUpdated(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to context changes, because the provided callback is not a function!\");\r\n        }\r\n        const wrappedCallback = (data) => {\r\n            callback(data, this.me);\r\n        };\r\n        return this.registry.add(\"context-updated\", wrappedCallback);\r\n    }\r\n}\n\nclass WindowsController {\r\n    constructor() {\r\n        this.registry = lib();\r\n        this.allWindowProjections = [];\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"windows.controller.web\");\r\n            this.logger.trace(\"starting the web windows controller\");\r\n            this.publicWindowId = coreGlue.connection.transport.publicWindowId;\r\n            this.actualWindowId = coreGlue.interop.instance.windowId;\r\n            this.addWindowOperationExecutors();\r\n            this.ioc = ioc;\r\n            this.bridge = ioc.bridge;\r\n            this.logger.trace(`set the public window id: ${this.publicWindowId} and actual window id: ${this.actualWindowId}, set the bridge operations and ioc, registering with the platform now`);\r\n            this.platformRegistration = this.registerWithPlatform();\r\n            yield this.platformRegistration;\r\n            this.logger.trace(\"registration with the platform successful, attaching the windows property to glue and returning\");\r\n            const api = this.toApi();\r\n            coreGlue.windows = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.platformRegistration;\r\n            const operationName = windowOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    open(name, url, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            nonEmptyStringDecoder.runWithException(url);\r\n            const settings = windowOpenSettingsDecoder.runWithException(options);\r\n            const windowSuccess = yield this.bridge.send(\"windows\", operations.openWindow, { name, url, options: settings });\r\n            const projection = yield this.ioc.buildWebWindow(windowSuccess.windowId, windowSuccess.name);\r\n            return projection.api;\r\n        });\r\n    }\r\n    list() {\r\n        return this.allWindowProjections.map((projection) => projection.api);\r\n    }\r\n    findById(id) {\r\n        var _a;\r\n        nonEmptyStringDecoder.runWithException(id);\r\n        return (_a = this.allWindowProjections.find((projection) => projection.id === id)) === null || _a === void 0 ? void 0 : _a.api;\r\n    }\r\n    toApi() {\r\n        return {\r\n            open: this.open.bind(this),\r\n            my: this.my.bind(this),\r\n            list: this.list.bind(this),\r\n            findById: this.findById.bind(this),\r\n            onWindowAdded: this.onWindowAdded.bind(this),\r\n            onWindowRemoved: this.onWindowRemoved.bind(this)\r\n        };\r\n    }\r\n    addWindowOperationExecutors() {\r\n        operations.windowAdded.execute = this.handleWindowAdded.bind(this);\r\n        operations.windowRemoved.execute = this.handleWindowRemoved.bind(this);\r\n        operations.getBounds.execute = this.handleGetBounds.bind(this);\r\n        operations.getTitle.execute = this.handleGetTitle.bind(this);\r\n        operations.getUrl.execute = this.handleGetUrl.bind(this);\r\n        operations.moveResize.execute = this.handleMoveResize.bind(this);\r\n        operations.setTitle.execute = this.handleSetTitle.bind(this);\r\n    }\r\n    my() {\r\n        return Object.assign({}, this.me);\r\n    }\r\n    onWindowAdded(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window added, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(\"window-added\", callback);\r\n    }\r\n    onWindowRemoved(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window removed, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(\"window-removed\", callback);\r\n    }\r\n    sayHello() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const helloSuccess = yield this.bridge.send(\"windows\", operations.windowHello, { windowId: this.actualWindowId });\r\n            return helloSuccess;\r\n        });\r\n    }\r\n    registerWithPlatform() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { windows, isWorkspaceFrame } = yield this.sayHello();\r\n            this.logger.trace(\"the platform responded to the hello message\");\r\n            if (!isWorkspaceFrame) {\r\n                this.logger.trace(\"i am not treated as a workspace frame, setting my window\");\r\n                const myWindow = windows.find((w) => w.windowId === this.publicWindowId);\r\n                if (!myWindow) {\r\n                    throw new Error(\"Cannot initialize the window library, because I received no information about me from the platform\");\r\n                }\r\n                this.me = (yield this.ioc.buildWebWindow(this.publicWindowId, myWindow.name)).api;\r\n            }\r\n            const currentWindows = yield Promise.all(windows.map((w) => this.ioc.buildWebWindow(w.windowId, w.name)));\r\n            this.logger.trace(\"all windows projections are completed, building the list collection\");\r\n            this.allWindowProjections.push(...currentWindows);\r\n        });\r\n    }\r\n    handleWindowAdded(data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.allWindowProjections.some((projection) => projection.id === data.windowId)) {\r\n                return;\r\n            }\r\n            const webWindowProjection = yield this.ioc.buildWebWindow(data.windowId, data.name);\r\n            this.allWindowProjections.push(webWindowProjection);\r\n            this.registry.execute(\"window-added\", webWindowProjection.api);\r\n        });\r\n    }\r\n    handleWindowRemoved(data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const removed = this.allWindowProjections.find((w) => w.id === data.windowId);\r\n            if (!removed) {\r\n                return;\r\n            }\r\n            this.allWindowProjections = this.allWindowProjections.filter((w) => w.id !== data.windowId);\r\n            removed.model.clean();\r\n            this.registry.execute(\"window-removed\", removed.api);\r\n        });\r\n    }\r\n    handleGetBounds() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return {\r\n                windowId: this.me.id,\r\n                bounds: {\r\n                    top: window.screenTop,\r\n                    left: window.screenLeft,\r\n                    width: window.innerWidth,\r\n                    height: window.innerHeight\r\n                }\r\n            };\r\n        });\r\n    }\r\n    handleGetTitle() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return {\r\n                windowId: this.me.id,\r\n                title: document.title\r\n            };\r\n        });\r\n    }\r\n    handleGetUrl() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return {\r\n                windowId: this.me.id,\r\n                url: window.location.href\r\n            };\r\n        });\r\n    }\r\n    handleMoveResize(config) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const targetTop = typeof config.top === \"number\" ? config.top :\r\n                config.relative ? 0 : window.screenTop;\r\n            const targetLeft = typeof config.left === \"number\" ? config.left :\r\n                config.relative ? 0 : window.screenLeft;\r\n            const targetHeight = typeof config.height === \"number\" ? config.height :\r\n                config.relative ? 0 : window.innerHeight;\r\n            const targetWidth = typeof config.width === \"number\" ? config.width :\r\n                config.relative ? 0 : window.innerWidth;\r\n            const moveMethod = config.relative ? window.moveBy : window.moveTo;\r\n            const resizeMethod = config.relative ? window.resizeBy : window.resizeTo;\r\n            moveMethod(targetLeft, targetTop);\r\n            resizeMethod(targetWidth, targetHeight);\r\n        });\r\n    }\r\n    handleSetTitle(config) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            document.title = config.title;\r\n        });\r\n    }\r\n}\n\nconst PromiseWrap = (promise, timeoutMilliseconds, timeoutMessage) => {\r\n    return new Promise((resolve, reject) => {\r\n        let promiseActive = true;\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        promise()\r\n            .then((result) => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch((error) => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\r\nconst PromisePlus = (executor, timeoutMilliseconds, timeoutMessage) => {\r\n    return new Promise((resolve, reject) => {\r\n        const timeout = setTimeout(() => {\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        const providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then((result) => {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch((error) => {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nconst GlueWebPlatformControlName = \"T42.Web.Platform.Control\";\r\nconst GlueWebPlatformStreamName = \"T42.Web.Platform.Stream\";\r\nconst GlueClientControlName = \"T42.Web.Client.Control\";\n\nclass GlueBridge {\r\n    constructor(coreGlue) {\r\n        this.coreGlue = coreGlue;\r\n        this.platformMethodTimeoutMs = 10000;\r\n    }\r\n    get contextLib() {\r\n        return this.coreGlue.contexts;\r\n    }\r\n    get interopInstance() {\r\n        return this.coreGlue.interop.instance.instance;\r\n    }\r\n    start(controllers) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.controllers = controllers;\r\n            yield Promise.all([\r\n                this.checkWaitMethod(GlueWebPlatformControlName),\r\n                this.checkWaitMethod(GlueWebPlatformStreamName)\r\n            ]);\r\n            const [sub] = yield Promise.all([\r\n                this.coreGlue.interop.subscribe(GlueWebPlatformStreamName),\r\n                this.coreGlue.interop.registerAsync(GlueClientControlName, (args, _, success, error) => this.passMessageController(args, success, error))\r\n            ]);\r\n            this.sub = sub;\r\n            this.sub.onData((pkg) => this.passMessageController(pkg.data));\r\n        });\r\n    }\r\n    getInteropInstance(windowId) {\r\n        const result = this.coreGlue.interop.servers().find((s) => s.windowId && s.windowId === windowId);\r\n        return {\r\n            application: result === null || result === void 0 ? void 0 : result.application,\r\n            applicationName: result === null || result === void 0 ? void 0 : result.applicationName,\r\n            peerId: result === null || result === void 0 ? void 0 : result.peerId,\r\n            instance: result === null || result === void 0 ? void 0 : result.instance,\r\n            windowId: result === null || result === void 0 ? void 0 : result.windowId\r\n        };\r\n    }\r\n    send(domain, operation, operationData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (operation.dataDecoder) {\r\n                try {\r\n                    operation.dataDecoder.runWithException(operationData);\r\n                }\r\n                catch (error) {\r\n                    throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for operation: ${operation.name} and input: ${JSON.stringify(error.input)}`);\r\n                }\r\n            }\r\n            let operationResult;\r\n            try {\r\n                operationResult = yield this.transmitMessage(domain, operation, operationData);\r\n                if (operation.resultDecoder) {\r\n                    operationResult = operation.resultDecoder.runWithException(operationResult);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.kind) {\r\n                    throw new Error(`Unexpected internal incoming validation error: ${error.message}, for operation: ${operation.name} and input: ${JSON.stringify(error.input)}`);\r\n                }\r\n                throw new Error(error.message);\r\n            }\r\n            return operationResult;\r\n        });\r\n    }\r\n    checkWaitMethod(name) {\r\n        return PromisePlus((resolve) => {\r\n            const hasMethod = this.coreGlue.interop.methods().some((method) => method.name === name);\r\n            if (hasMethod) {\r\n                return resolve();\r\n            }\r\n            const unSub = this.coreGlue.interop.methodAdded((method) => {\r\n                if (method.name === name) {\r\n                    unSub();\r\n                    resolve();\r\n                }\r\n            });\r\n        }, this.platformMethodTimeoutMs, `Cannot initiate Glue Web, because a system method's discovery timed out: ${name}`);\r\n    }\r\n    passMessageController(args, success, error) {\r\n        const decodeResult = libDomainDecoder.run(args.domain);\r\n        if (!decodeResult.ok) {\r\n            if (error) {\r\n                error(`Cannot execute this client control, because of domain validation error: ${JSON.stringify(decodeResult.error)}`);\r\n            }\r\n            return;\r\n        }\r\n        const domain = decodeResult.result;\r\n        this.controllers[domain]\r\n            .handleBridgeMessage(args)\r\n            .then((resolutionData) => {\r\n            if (success) {\r\n                success(resolutionData);\r\n            }\r\n        })\r\n            .catch((err) => {\r\n            if (error) {\r\n                error(err);\r\n            }\r\n            console.warn(err);\r\n        });\r\n    }\r\n    transmitMessage(domain, operation, data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const messageData = { domain, data, operation: operation.name };\r\n            let invocationResult;\r\n            const baseErrorMessage = `Internal Platform Communication Error. Attempted operation: ${JSON.stringify(operation.name)} with data: ${JSON.stringify(data)}. `;\r\n            try {\r\n                invocationResult = yield this.coreGlue.interop.invoke(GlueWebPlatformControlName, messageData);\r\n                if (!invocationResult) {\r\n                    throw new Error(\"Received unsupported result from the platform - empty result\");\r\n                }\r\n                if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                    throw new Error(\"Received unsupported result from the platform - empty values collection\");\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error && error.all_errors && error.all_errors.length) {\r\n                    const invocationErrorMessage = error.all_errors[0].message;\r\n                    throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n                }\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n            }\r\n            return invocationResult.all_return_values[0].returned;\r\n        });\r\n    }\r\n}\n\nconst operations$1 = {\r\n    appHello: { name: \"appHello\", dataDecoder: windowHelloDecoder, resultDecoder: appHelloSuccessDecoder },\r\n    applicationAdded: { name: \"applicationAdded\", dataDecoder: baseApplicationDataDecoder },\r\n    applicationRemoved: { name: \"applicationRemoved\", dataDecoder: baseApplicationDataDecoder },\r\n    applicationChanged: { name: \"applicationChanged\", dataDecoder: baseApplicationDataDecoder },\r\n    instanceStarted: { name: \"instanceStarted\", dataDecoder: instanceDataDecoder },\r\n    instanceStopped: { name: \"instanceStopped\", dataDecoder: instanceDataDecoder },\r\n    applicationStart: { name: \"applicationStart\", dataDecoder: applicationStartConfigDecoder, resultDecoder: instanceDataDecoder },\r\n    instanceStop: { name: \"instanceStop\", dataDecoder: basicInstanceDataDecoder },\r\n    import: { name: \"import\" },\r\n    remove: { name: \"remove\", dataDecoder: appRemoveConfigDecoder },\r\n    export: { name: \"export\", resultDecoder: appsExportOperationDecoder }\r\n};\n\nclass AppManagerController {\r\n    constructor() {\r\n        this.registry = lib();\r\n        this.applications = [];\r\n        this.instances = [];\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"appManger.controller.web\");\r\n            this.logger.trace(\"starting the web appManager controller\");\r\n            this.publicWindowId = coreGlue.connection.transport.publicWindowId;\r\n            this.actualWindowId = coreGlue.interop.instance.windowId;\r\n            this.addOperationsExecutors();\r\n            this.ioc = ioc;\r\n            this.bridge = ioc.bridge;\r\n            this.platformRegistration = this.registerWithPlatform();\r\n            yield this.platformRegistration;\r\n            this.logger.trace(\"registration with the platform successful, attaching the appManager property to glue and returning\");\r\n            const api = this.toApi();\r\n            coreGlue.appManager = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.platformRegistration;\r\n            const operationName = appManagerOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations$1[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    onInstanceStarted(callback) {\r\n        return this.registry.add(\"instance-started\", callback, this.instances);\r\n    }\r\n    onInstanceStopped(callback) {\r\n        return this.registry.add(\"instance-stopped\", callback);\r\n    }\r\n    startApplication(appName, context, options) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const startOptions = {\r\n                name: appName,\r\n                waitForAGMReady: (_a = options === null || options === void 0 ? void 0 : options.waitForAGMReady) !== null && _a !== void 0 ? _a : true,\r\n                context,\r\n                top: options === null || options === void 0 ? void 0 : options.top,\r\n                left: options === null || options === void 0 ? void 0 : options.left,\r\n                width: options === null || options === void 0 ? void 0 : options.width,\r\n                height: options === null || options === void 0 ? void 0 : options.height,\r\n                relativeTo: options === null || options === void 0 ? void 0 : options.relativeTo,\r\n                relativeDirection: options === null || options === void 0 ? void 0 : options.relativeDirection\r\n            };\r\n            const openResult = yield this.bridge.send(\"appManager\", operations$1.applicationStart, startOptions);\r\n            const app = this.applications.find((a) => a.name === openResult.applicationName);\r\n            return this.ioc.buildInstance(openResult, app);\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            myInstance: this.me,\r\n            import: this.import.bind(this),\r\n            remove: this.remove.bind(this),\r\n            export: this.export.bind(this),\r\n            application: this.getApplication.bind(this),\r\n            applications: this.getApplications.bind(this),\r\n            instances: this.getInstances.bind(this),\r\n            onAppAdded: this.onAppAdded.bind(this),\r\n            onAppChanged: this.onAppChanged.bind(this),\r\n            onAppRemoved: this.onAppRemoved.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    addOperationsExecutors() {\r\n        operations$1.applicationAdded.execute = this.handleApplicationAddedMessage.bind(this);\r\n        operations$1.applicationRemoved.execute = this.handleApplicationRemovedMessage.bind(this);\r\n        operations$1.applicationChanged.execute = this.handleApplicationChangedMessage.bind(this);\r\n        operations$1.instanceStarted.execute = this.handleInstanceStartedMessage.bind(this);\r\n        operations$1.instanceStopped.execute = this.handleInstanceStoppedMessage.bind(this);\r\n    }\r\n    onAppAdded(callback) {\r\n        return this.registry.add(\"application-added\", callback, this.applications);\r\n    }\r\n    onAppRemoved(callback) {\r\n        return this.registry.add(\"application-removed\", callback);\r\n    }\r\n    onAppChanged(callback) {\r\n        return this.registry.add(\"application-changed\", callback);\r\n    }\r\n    handleApplicationAddedMessage(appData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.applications.some((app) => app.name === appData.name)) {\r\n                return;\r\n            }\r\n            const app = yield this.ioc.buildApplication(appData, []);\r\n            const instances = this.instances.filter((instance) => instance.application.name === app.name);\r\n            app.instances.push(...instances);\r\n            this.applications.push(app);\r\n            this.registry.execute(\"application-added\", app);\r\n        });\r\n    }\r\n    handleApplicationRemovedMessage(appData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const appIndex = this.applications.findIndex((app) => app.name === appData.name);\r\n            if (appIndex < 0) {\r\n                return;\r\n            }\r\n            const app = this.applications[appIndex];\r\n            this.applications.splice(appIndex, 1);\r\n            this.registry.execute(\"application-removed\", app);\r\n        });\r\n    }\r\n    handleApplicationChangedMessage(appData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const app = this.applications.find((app) => app.name === appData.name);\r\n            if (!app) {\r\n                return this.handleApplicationAddedMessage(appData);\r\n            }\r\n            app.title = appData.title;\r\n            app.version = appData.version;\r\n            app.icon = appData.icon;\r\n            app.caption = appData.caption;\r\n            app.userProperties = appData.userProperties;\r\n            this.registry.execute(\"application-changed\", app);\r\n        });\r\n    }\r\n    handleInstanceStartedMessage(instanceData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.instances.some((instance) => instance.id === instanceData.id)) {\r\n                return;\r\n            }\r\n            const application = this.applications.find((app) => app.name === instanceData.applicationName);\r\n            if (!application) {\r\n                throw new Error(`Cannot add instance: ${instanceData.id}, because there is no application definition associated with it`);\r\n            }\r\n            const instance = this.ioc.buildInstance(instanceData, application);\r\n            this.instances.push(instance);\r\n            application.instances.push(instance);\r\n            this.registry.execute(\"instance-started\", instance);\r\n        });\r\n    }\r\n    handleInstanceStoppedMessage(instanceData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const instance = this.instances.find((i) => i.id === instanceData.id);\r\n            if (instance) {\r\n                const instIdx = this.instances.findIndex((inst) => inst.id === instanceData.id);\r\n                this.instances.splice(instIdx, 1);\r\n            }\r\n            const application = this.applications.find((app) => app.instances.some((inst) => inst.id === instanceData.id));\r\n            if (application) {\r\n                const instIdxApps = application.instances.findIndex((inst) => inst.id === instanceData.id);\r\n                application.instances.splice(instIdxApps, 1);\r\n            }\r\n            if (!instance) {\r\n                return;\r\n            }\r\n            this.registry.execute(\"instance-stopped\", instance);\r\n        });\r\n    }\r\n    import(definitions, mode = \"replace\") {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.bridge.send(\"appManager\", operations$1.import, { definitions, mode });\r\n        });\r\n    }\r\n    remove(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            yield this.bridge.send(\"appManager\", operations$1.remove, { name });\r\n        });\r\n    }\r\n    export() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const response = yield this.bridge.send(\"appManager\", operations$1.export, undefined);\r\n            return response.definitions;\r\n        });\r\n    }\r\n    getApplication(name) {\r\n        const verifiedName = nonEmptyStringDecoder.runWithException(name);\r\n        return this.applications.find((app) => app.name === verifiedName);\r\n    }\r\n    getApplications() {\r\n        return this.applications.slice();\r\n    }\r\n    getInstances() {\r\n        return this.instances.slice();\r\n    }\r\n    registerWithPlatform() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this.bridge.send(\"appManager\", operations$1.appHello, { windowId: this.actualWindowId });\r\n            this.logger.trace(\"the platform responded to the hello message with a full list of apps\");\r\n            this.applications = yield Promise.all(result.apps.map((app) => this.ioc.buildApplication(app, app.instances)));\r\n            this.instances = this.applications.reduce((instancesSoFar, app) => {\r\n                instancesSoFar.push(...app.instances);\r\n                return instancesSoFar;\r\n            }, []);\r\n            this.me = this.findMyInstance();\r\n            this.logger.trace(`all applications were parsed and saved. I am ${this.me ? \"NOT a\" : \"a\"} valid instance`);\r\n        });\r\n    }\r\n    findMyInstance() {\r\n        for (const app of this.applications) {\r\n            const foundInstance = app.instances.find((instance) => instance.id === this.publicWindowId);\r\n            if (foundInstance) {\r\n                return foundInstance;\r\n            }\r\n        }\r\n    }\r\n}\n\nclass InstanceModel {\r\n    constructor(data, bridge, application) {\r\n        this.data = data;\r\n        this.bridge = bridge;\r\n        this.application = application;\r\n        this.myCtxKey = `___instance___${this.data.id}`;\r\n    }\r\n    toApi() {\r\n        const agm = this.bridge.getInteropInstance(this.data.id);\r\n        const api = {\r\n            id: this.data.id,\r\n            agm,\r\n            application: this.application,\r\n            stop: this.stop.bind(this),\r\n            getContext: this.getContext.bind(this)\r\n        };\r\n        this.me = Object.freeze(api);\r\n        return this.me;\r\n    }\r\n    getContext() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.bridge.contextLib.get(this.myCtxKey);\r\n        });\r\n    }\r\n    stop() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.bridge.send(\"appManager\", operations$1.instanceStop, { id: this.data.id });\r\n        });\r\n    }\r\n}\n\nclass ApplicationModel {\r\n    constructor(data, instances, controller) {\r\n        this.data = data;\r\n        this.instances = instances;\r\n        this.controller = controller;\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            name: this.data.name,\r\n            title: this.data.title,\r\n            version: this.data.version,\r\n            icon: this.data.icon,\r\n            caption: this.data.caption,\r\n            userProperties: this.data.userProperties,\r\n            instances: this.instances,\r\n            start: this.start.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n        this.me = api;\r\n        return this.me;\r\n    }\r\n    onInstanceStarted(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n        this.controller.onInstanceStarted((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n    onInstanceStopped(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n        this.controller.onInstanceStopped((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n    start(context, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.controller.startApplication(this.data.name, context, options);\r\n        });\r\n    }\r\n}\n\nconst operations$2 = {\r\n    layoutAdded: { name: \"layoutAdded\", dataDecoder: glueLayoutDecoder },\r\n    layoutChanged: { name: \"layoutChanged\", dataDecoder: glueLayoutDecoder },\r\n    layoutRemoved: { name: \"layoutRemoved\", dataDecoder: glueLayoutDecoder },\r\n    get: { name: \"get\", dataDecoder: simpleLayoutConfigDecoder, resultDecoder: optionalSimpleLayoutResult },\r\n    getAll: { name: \"getAll\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsSummariesResultDecoder },\r\n    export: { name: \"export\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsFullConfigDecoder },\r\n    import: { name: \"import\", dataDecoder: layoutsImportConfigDecoder },\r\n    remove: { name: \"remove\", dataDecoder: simpleLayoutConfigDecoder }\r\n};\n\nclass LayoutsController {\r\n    constructor() {\r\n        this.registry = lib();\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"layouts.controller.web\");\r\n            this.logger.trace(\"starting the web layouts controller\");\r\n            this.bridge = ioc.bridge;\r\n            this.addOperationsExecutors();\r\n            const api = this.toApi();\r\n            this.logger.trace(\"no need for platform registration, attaching the layouts property to glue and returning\");\r\n            coreGlue.layouts = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const operationName = layoutsOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations$2[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            get: this.get.bind(this),\r\n            getAll: this.getAll.bind(this),\r\n            export: this.export.bind(this),\r\n            import: this.import.bind(this),\r\n            save: this.save.bind(this),\r\n            restore: this.restore.bind(this),\r\n            remove: this.remove.bind(this),\r\n            onAdded: this.onAdded.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            onRemoved: this.onRemoved.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    addOperationsExecutors() {\r\n        operations$2.layoutAdded.execute = this.handleOnAdded.bind(this);\r\n        operations$2.layoutChanged.execute = this.handleOnChanged.bind(this);\r\n        operations$2.layoutRemoved.execute = this.handleOnRemoved.bind(this);\r\n    }\r\n    get(name, type) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            layoutTypeDecoder.runWithException(type);\r\n            const result = yield this.bridge.send(\"layouts\", operations$2.get, { name, type });\r\n            return result.layout;\r\n        });\r\n    }\r\n    getAll(type) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            layoutTypeDecoder.runWithException(type);\r\n            const result = yield this.bridge.send(\"layouts\", operations$2.getAll, { type });\r\n            return result.summaries;\r\n        });\r\n    }\r\n    export(type) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (type) {\r\n                layoutTypeDecoder.runWithException(type);\r\n            }\r\n            const result = yield this.bridge.send(\"layouts\", operations$2.export, { type: \"Workspace\" });\r\n            return result.layouts;\r\n        });\r\n    }\r\n    import(layouts, mode = \"replace\") {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            layouts.forEach((layout) => glueLayoutDecoder.runWithException(layout));\r\n            importModeDecoder.runWithException(mode);\r\n            yield this.bridge.send(\"layouts\", operations$2.import, { layouts, mode });\r\n        });\r\n    }\r\n    save(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            newLayoutOptionsDecoder.runWithException(layout);\r\n            throw new Error(\"Save is not supported in Core at the moment\");\r\n        });\r\n    }\r\n    restore(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            restoreOptionsDecoder.runWithException(options);\r\n            throw new Error(\"Restore is not supported in Core at the moment\");\r\n        });\r\n    }\r\n    remove(type, name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            layoutTypeDecoder.runWithException(type);\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            yield this.bridge.send(\"layouts\", operations$2.remove, { type, name });\r\n        });\r\n    }\r\n    onAdded(callback) {\r\n        return this.registry.add(operations$2.layoutAdded.name, callback);\r\n    }\r\n    onChanged(callback) {\r\n        return this.registry.add(operations$2.layoutChanged.name, callback);\r\n    }\r\n    onRemoved(callback) {\r\n        return this.registry.add(operations$2.layoutRemoved.name, callback);\r\n    }\r\n    handleOnAdded(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.registry.execute(operations$2.layoutAdded.name, layout);\r\n        });\r\n    }\r\n    handleOnChanged(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.registry.execute(operations$2.layoutChanged.name, layout);\r\n        });\r\n    }\r\n    handleOnRemoved(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.registry.execute(operations$2.layoutRemoved.name, layout);\r\n        });\r\n    }\r\n}\n\nclass NotificationsController {\r\n    start(coreGlue) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"notifications.controller.web\");\r\n            this.logger.trace(\"starting the web notifications controller\");\r\n            this.interop = coreGlue.interop;\r\n            const api = this.toApi();\r\n            coreGlue.notifications = api;\r\n            this.logger.trace(\"notifications are ready\");\r\n        });\r\n    }\r\n    handleBridgeMessage() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            raise: this.raise.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    raise(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!(\"Notification\" in window)) {\r\n                throw new Error(\"this browser does not support desktop notification\");\r\n            }\r\n            let permissionPromise;\r\n            if (Notification.permission === \"granted\") {\r\n                permissionPromise = Promise.resolve(\"granted\");\r\n            }\r\n            else if (Notification.permission === \"denied\") {\r\n                permissionPromise = Promise.reject(\"no permissions from user\");\r\n            }\r\n            else {\r\n                permissionPromise = Notification.requestPermission();\r\n            }\r\n            yield permissionPromise;\r\n            const notification = this.raiseUsingWebApi(options);\r\n            if (options.clickInterop) {\r\n                const interopOptions = options.clickInterop;\r\n                notification.onclick = () => {\r\n                    var _a, _b;\r\n                    this.interop.invoke(interopOptions.method, (_a = interopOptions === null || interopOptions === void 0 ? void 0 : interopOptions.arguments) !== null && _a !== void 0 ? _a : {}, (_b = interopOptions === null || interopOptions === void 0 ? void 0 : interopOptions.target) !== null && _b !== void 0 ? _b : \"best\");\r\n                };\r\n            }\r\n            return notification;\r\n        });\r\n    }\r\n    raiseUsingWebApi(options) {\r\n        return new Notification(options.title);\r\n    }\r\n}\n\nconst operations$3 = {\r\n    getIntents: { name: \"getIntents\", resultDecoder: wrappedIntentsDecoder },\r\n    findIntent: { name: \"findIntent\", dataDecoder: wrappedIntentFilterDecoder, resultDecoder: wrappedIntentsDecoder },\r\n    raiseIntent: { name: \"raiseIntent\", dataDecoder: intentRequestDecoder, resultDecoder: intentResultDecoder }\r\n};\n\nclass IntentsController {\r\n    constructor() {\r\n        this.GlueWebIntentsPrefix = \"Tick42.FDC3.Intents.\";\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"intents.controller.web\");\r\n            this.logger.trace(\"starting the web intents controller\");\r\n            this.bridge = ioc.bridge;\r\n            this.interop = coreGlue.interop;\r\n            const api = this.toApi();\r\n            this.logger.trace(\"no need for platform registration, attaching the intents property to glue and returning\");\r\n            coreGlue.intents = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const operationName = intentsOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations$3[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            raise: this.raise.bind(this),\r\n            all: this.all.bind(this),\r\n            addIntentListener: this.addIntentListener.bind(this),\r\n            find: this.find.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    raise(request) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const requestObj = raiseRequestDecoder.runWithException(request);\r\n            let data;\r\n            if (typeof requestObj === \"string\") {\r\n                data = {\r\n                    intent: requestObj\r\n                };\r\n            }\r\n            else {\r\n                data = requestObj;\r\n            }\r\n            const result = yield this.bridge.send(\"intents\", operations$3.raiseIntent, data);\r\n            return result;\r\n        });\r\n    }\r\n    all() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this.bridge.send(\"intents\", operations$3.getIntents, undefined);\r\n            return result.intents;\r\n        });\r\n    }\r\n    addIntentListener(intent, handler) {\r\n        addIntentListenerIntentDecoder.runWithException(intent);\r\n        if (typeof handler !== \"function\") {\r\n            throw new Error(\"Cannot add intent listener, because the provided handler is not a function!\");\r\n        }\r\n        let subscribed = true;\r\n        const intentName = typeof intent === \"string\" ? intent : intent.intent;\r\n        const methodName = `${this.GlueWebIntentsPrefix}${intentName}`;\r\n        const result = {\r\n            unsubscribe: () => {\r\n                subscribed = false;\r\n                try {\r\n                    this.interop.unregister(methodName);\r\n                }\r\n                catch (error) {\r\n                    this.logger.trace(`Unsubscribed intent listener, but ${methodName} unregistration failed!`);\r\n                }\r\n            }\r\n        };\r\n        const methodDescription = typeof intent === \"string\" ? undefined : JSON.stringify(intent);\r\n        this.interop.register({ name: methodName, description: methodDescription }, (args) => {\r\n            if (subscribed) {\r\n                return handler(args);\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n    find(intentFilter) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let data = undefined;\r\n            if (typeof intentFilter !== \"undefined\") {\r\n                const intentFilterObj = findFilterDecoder.runWithException(intentFilter);\r\n                if (typeof intentFilterObj === \"string\") {\r\n                    data = {\r\n                        filter: {\r\n                            name: intentFilterObj\r\n                        }\r\n                    };\r\n                }\r\n                else if (typeof intentFilterObj === \"object\") {\r\n                    data = {\r\n                        filter: intentFilterObj\r\n                    };\r\n                }\r\n            }\r\n            const result = yield this.bridge.send(\"intents\", operations$3.findIntent, data);\r\n            return result.intents;\r\n        });\r\n    }\r\n}\n\nclass ChannelsController {\r\n    constructor() {\r\n        this.registry = lib();\r\n        this.GlueWebChannelsPrefix = \"___channel___\";\r\n        this.SubsKey = \"subs\";\r\n        this.ChangedKey = \"changed\";\r\n    }\r\n    start(coreGlue) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"channels.controller.web\");\r\n            this.logger.trace(\"starting the web channels controller\");\r\n            this.contexts = coreGlue.contexts;\r\n            this.logger.trace(\"no need for platform registration, attaching the channels property to glue and returning\");\r\n            const api = this.toApi();\r\n            coreGlue.channels = api;\r\n        });\r\n    }\r\n    handleBridgeMessage() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            subscribe: this.subscribe.bind(this),\r\n            subscribeFor: this.subscribeFor.bind(this),\r\n            publish: this.publish.bind(this),\r\n            all: this.all.bind(this),\r\n            list: this.list.bind(this),\r\n            get: this.get.bind(this),\r\n            join: this.join.bind(this),\r\n            leave: this.leave.bind(this),\r\n            current: this.current.bind(this),\r\n            my: this.my.bind(this),\r\n            changed: this.changed.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            add: this.add.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    createContextName(channelName) {\r\n        return `${this.GlueWebChannelsPrefix}${channelName}`;\r\n    }\r\n    getAllChannelNames() {\r\n        const contextNames = this.contexts.all();\r\n        const channelContextNames = contextNames.filter((contextName) => contextName.startsWith(this.GlueWebChannelsPrefix));\r\n        const channelNames = channelContextNames.map((channelContextName) => channelContextName.replace(this.GlueWebChannelsPrefix, \"\"));\r\n        return channelNames;\r\n    }\r\n    unsubscribe() {\r\n        if (this.unsubscribeFunc) {\r\n            this.unsubscribeFunc();\r\n            this.unsubscribeFunc = undefined;\r\n        }\r\n    }\r\n    switchToChannel(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.unsubscribe();\r\n            this.currentChannelName = name;\r\n            if (typeof name !== \"undefined\") {\r\n                const contextName = this.createContextName(name);\r\n                this.unsubscribeFunc = yield this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n                    this.registry.execute(this.SubsKey, context.data, context, extraData === null || extraData === void 0 ? void 0 : extraData.updaterId);\r\n                });\r\n            }\r\n            this.registry.execute(this.ChangedKey, name);\r\n        });\r\n    }\r\n    updateData(name, data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const contextName = this.createContextName(name);\r\n            if (this.contexts.setPathSupported) {\r\n                const pathValues = Object.keys(data).map((key) => {\r\n                    return {\r\n                        path: `data.${key}`,\r\n                        value: data[key]\r\n                    };\r\n                });\r\n                yield this.contexts.setPaths(contextName, pathValues);\r\n            }\r\n            else {\r\n                yield this.contexts.update(contextName, { data });\r\n            }\r\n        });\r\n    }\r\n    subscribe(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channels, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(this.SubsKey, callback);\r\n    }\r\n    subscribeFor(name, callback) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(`Cannot subscribe to channel ${name}, because the provided callback is not a function!`);\r\n            }\r\n            const contextName = this.createContextName(name);\r\n            return this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n                callback(context.data, context, extraData === null || extraData === void 0 ? void 0 : extraData.updaterId);\r\n            });\r\n        });\r\n    }\r\n    publish(data, name) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Cannot publish to channel, because the provided data is not an object!\");\r\n        }\r\n        if (typeof name !== \"undefined\") {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n            return this.updateData(name, data);\r\n        }\r\n        if (typeof this.currentChannelName === \"undefined\") {\r\n            throw new Error(\"Cannot publish to channel, because not joined to a channel!\");\r\n        }\r\n        return this.updateData(this.currentChannelName, data);\r\n    }\r\n    all() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            return channelNames;\r\n        });\r\n    }\r\n    list() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            const channelContexts = yield Promise.all(channelNames.map((channelName) => this.get(channelName)));\r\n            return channelContexts;\r\n        });\r\n    }\r\n    get(name) {\r\n        const channelNames = this.getAllChannelNames();\r\n        channelNameDecoder(channelNames).runWithException(name);\r\n        const contextName = this.createContextName(name);\r\n        return this.contexts.get(contextName);\r\n    }\r\n    join(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n            yield this.switchToChannel(name);\r\n        });\r\n    }\r\n    leave() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.switchToChannel();\r\n        });\r\n    }\r\n    current() {\r\n        return this.currentChannelName;\r\n    }\r\n    my() {\r\n        return this.current();\r\n    }\r\n    changed(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channel changed, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(this.ChangedKey, callback);\r\n    }\r\n    onChanged(callback) {\r\n        return this.changed(callback);\r\n    }\r\n    add(info) {\r\n        throw new Error(\"Method `add()` isn't implemented.\");\r\n    }\r\n}\n\nclass IoC {\r\n    constructor(coreGlue) {\r\n        this.coreGlue = coreGlue;\r\n        this.controllers = {\r\n            windows: this.windowsController,\r\n            appManager: this.appManagerController,\r\n            layouts: this.layoutsController,\r\n            notifications: this.notificationsController,\r\n            intents: this.intentsController,\r\n            channels: this.channelsController\r\n        };\r\n    }\r\n    get windowsController() {\r\n        if (!this._windowsControllerInstance) {\r\n            this._windowsControllerInstance = new WindowsController();\r\n        }\r\n        return this._windowsControllerInstance;\r\n    }\r\n    get appManagerController() {\r\n        if (!this._appManagerControllerInstance) {\r\n            this._appManagerControllerInstance = new AppManagerController();\r\n        }\r\n        return this._appManagerControllerInstance;\r\n    }\r\n    get layoutsController() {\r\n        if (!this._layoutsControllerInstance) {\r\n            this._layoutsControllerInstance = new LayoutsController();\r\n        }\r\n        return this._layoutsControllerInstance;\r\n    }\r\n    get notificationsController() {\r\n        if (!this._notificationsControllerInstance) {\r\n            this._notificationsControllerInstance = new NotificationsController();\r\n        }\r\n        return this._notificationsControllerInstance;\r\n    }\r\n    get intentsController() {\r\n        if (!this._intentsControllerInstance) {\r\n            this._intentsControllerInstance = new IntentsController();\r\n        }\r\n        return this._intentsControllerInstance;\r\n    }\r\n    get channelsController() {\r\n        if (!this._channelsControllerInstance) {\r\n            this._channelsControllerInstance = new ChannelsController();\r\n        }\r\n        return this._channelsControllerInstance;\r\n    }\r\n    get bridge() {\r\n        if (!this._bridgeInstance) {\r\n            this._bridgeInstance = new GlueBridge(this.coreGlue);\r\n        }\r\n        return this._bridgeInstance;\r\n    }\r\n    buildWebWindow(id, name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const model = new WebWindowModel(id, name, this.bridge);\r\n            const api = yield model.toApi();\r\n            return { id, model, api };\r\n        });\r\n    }\r\n    buildApplication(app, applicationInstances) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const application = (new ApplicationModel(app, [], this.appManagerController)).toApi();\r\n            const instances = applicationInstances.map((instanceData) => this.buildInstance(instanceData, application));\r\n            application.instances.push(...instances);\r\n            return application;\r\n        });\r\n    }\r\n    buildInstance(instanceData, app) {\r\n        return (new InstanceModel(instanceData, this.bridge, app)).toApi();\r\n    }\r\n}\n\nconst createFactoryFunction = (coreFactoryFunction) => {\r\n    return (userConfig) => __awaiter(void 0, void 0, void 0, function* () {\r\n        const config = parseConfig(userConfig);\r\n        if (window.glue42gd) {\r\n            return enterprise(config);\r\n        }\r\n        checkSingleton();\r\n        const glue = yield PromiseWrap(() => coreFactoryFunction(config), 30000, \"Glue Web initialization timed out\");\r\n        const logger = glue.logger.subLogger(\"web.main.controller\");\r\n        const ioc = new IoC(glue);\r\n        yield ioc.bridge.start(ioc.controllers);\r\n        logger.trace(\"the bridge has been started, initializing all controllers\");\r\n        yield Promise.all(Object.values(ioc.controllers).map((controller) => controller.start(glue, ioc)));\r\n        logger.trace(\"all controllers reported started, starting all additional libraries\");\r\n        yield Promise.all(config.libraries.map((lib) => lib(glue, config)));\r\n        logger.trace(\"all libraries were started, glue is ready, returning it\");\r\n        return glue;\r\n    });\r\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign$1 = function() {\r\n    __assign$1 = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign$1.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter$1(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar MetricTypes = {\r\n    STRING: 1,\r\n    NUMBER: 2,\r\n    TIMESTAMP: 3,\r\n    OBJECT: 4\r\n};\n\nfunction getMetricTypeByValue(metric) {\r\n    if (metric.type === MetricTypes.TIMESTAMP) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (metric.type === MetricTypes.NUMBER) {\r\n        return \"number\";\r\n    }\r\n    else if (metric.type === MetricTypes.STRING) {\r\n        return \"string\";\r\n    }\r\n    else if (metric.type === MetricTypes.OBJECT) {\r\n        return \"object\";\r\n    }\r\n    return \"unknown\";\r\n}\r\nfunction getTypeByValue(value) {\r\n    if (value.constructor === Date) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"number\";\r\n    }\r\n    else if (typeof value === \"string\") {\r\n        return \"string\";\r\n    }\r\n    else if (typeof value === \"object\") {\r\n        return \"object\";\r\n    }\r\n    else {\r\n        return \"string\";\r\n    }\r\n}\r\nfunction serializeMetric(metric) {\r\n    var serializedMetrics = {};\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"object\") {\r\n        var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n            var innerType = getTypeByValue(metric.value[key]);\r\n            if (innerType === \"object\") {\r\n                var composite = defineNestedComposite(metric.value[key]);\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: composite,\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: innerType,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n        serializedMetrics.composite = values;\r\n    }\r\n    serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n    serializedMetrics.type = type;\r\n    serializedMetrics.description = metric.description;\r\n    serializedMetrics.context = {};\r\n    return serializedMetrics;\r\n}\r\nfunction defineNestedComposite(values) {\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var type = getTypeByValue(values[key]);\r\n        if (type === \"object\") {\r\n            memo[key] = {\r\n                type: \"object\",\r\n                description: \"\",\r\n                context: {},\r\n                composite: defineNestedComposite(values[key]),\r\n            };\r\n        }\r\n        else {\r\n            memo[key] = {\r\n                type: type,\r\n                description: \"\",\r\n                context: {},\r\n            };\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction normalizeMetricName(name) {\r\n    if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n        return \"/\" + name;\r\n    }\r\n    else {\r\n        return name;\r\n    }\r\n}\r\nfunction getMetricValueByType(metric) {\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"timestamp\") {\r\n        return Date.now();\r\n    }\r\n    else {\r\n        return publishNestedComposite(metric.value);\r\n    }\r\n}\r\nfunction publishNestedComposite(values) {\r\n    if (typeof values !== \"object\") {\r\n        return values;\r\n    }\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var value = values[key];\r\n        if (typeof value === \"object\" && value.constructor !== Date) {\r\n            memo[key] = publishNestedComposite(value);\r\n        }\r\n        else if (value.constructor === Date) {\r\n            memo[key] = new Date(value).getTime();\r\n        }\r\n        else if (value.constructor === Boolean) {\r\n            memo[key] = value.toString();\r\n        }\r\n        else {\r\n            memo[key] = value;\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction flatten(arr) {\r\n    return arr.reduce(function (flat, toFlatten) {\r\n        return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n    }, []);\r\n}\r\nfunction getHighestState(arr) {\r\n    return arr.sort(function (a, b) {\r\n        if (!a.state) {\r\n            return 1;\r\n        }\r\n        if (!b.state) {\r\n            return -1;\r\n        }\r\n        return b.state - a.state;\r\n    })[0];\r\n}\r\nfunction aggregateDescription(arr) {\r\n    var msg = \"\";\r\n    arr.forEach(function (m, idx, a) {\r\n        var path = m.path.join(\".\");\r\n        if (idx === a.length - 1) {\r\n            msg += path + \".\" + m.name + \": \" + m.description;\r\n        }\r\n        else {\r\n            msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n        }\r\n    });\r\n    if (msg.length > 100) {\r\n        return msg.slice(0, 100) + \"...\";\r\n    }\r\n    else {\r\n        return msg;\r\n    }\r\n}\r\nfunction composeMsgForRootStateMetric(system) {\r\n    var aggregatedState = system.root.getAggregateState();\r\n    var merged = flatten(aggregatedState);\r\n    var highestState = getHighestState(merged);\r\n    var aggregateDesc = aggregateDescription(merged);\r\n    return {\r\n        description: aggregateDesc,\r\n        value: highestState.state,\r\n    };\r\n}\n\nfunction gw3 (connection, config) {\r\n    var _this = this;\r\n    if (!connection || typeof connection !== \"object\") {\r\n        throw new Error(\"Connection is required parameter\");\r\n    }\r\n    var joinPromise;\r\n    var session;\r\n    var init = function (repo) {\r\n        var resolveReadyPromise;\r\n        joinPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        session = connection.domain(\"metrics\");\r\n        session.onJoined(function (reconnect) {\r\n            if (!reconnect && resolveReadyPromise) {\r\n                resolveReadyPromise();\r\n                resolveReadyPromise = undefined;\r\n            }\r\n            var rootStateMetric = {\r\n                name: \"/State\",\r\n                type: \"object\",\r\n                composite: {\r\n                    Description: {\r\n                        type: \"string\",\r\n                        description: \"\",\r\n                    },\r\n                    Value: {\r\n                        type: \"number\",\r\n                        description: \"\",\r\n                    },\r\n                },\r\n                description: \"System state\",\r\n                context: {},\r\n            };\r\n            var defineRootMetricsMsg = {\r\n                type: \"define\",\r\n                metrics: [rootStateMetric],\r\n            };\r\n            session.send(defineRootMetricsMsg);\r\n            if (reconnect) {\r\n                replayRepo(repo);\r\n            }\r\n        });\r\n        session.join({\r\n            system: config.system,\r\n            service: config.service,\r\n            instance: config.instance\r\n        });\r\n    };\r\n    var replayRepo = function (repo) {\r\n        replaySystem(repo.root);\r\n    };\r\n    var replaySystem = function (system) {\r\n        createSystem(system);\r\n        system.metrics.forEach(function (m) {\r\n            createMetric(m);\r\n        });\r\n        system.subSystems.forEach(function (ss) {\r\n            replaySystem(ss);\r\n        });\r\n    };\r\n    var createSystem = function (system) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var metric, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (system.parent === undefined) {\r\n                        return [2];\r\n                    }\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    metric = {\r\n                        name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                        type: \"object\",\r\n                        composite: {\r\n                            Description: {\r\n                                type: \"string\",\r\n                                description: \"\",\r\n                            },\r\n                            Value: {\r\n                                type: \"number\",\r\n                                description: \"\",\r\n                            },\r\n                        },\r\n                        description: \"System state\",\r\n                        context: {},\r\n                    };\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [metric],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateSystem = function (system, state) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var shadowedUpdateMetric, stateObj, rootMetric;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    shadowedUpdateMetric = {\r\n                        type: \"publish\",\r\n                        values: [{\r\n                                name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                value: {\r\n                                    Description: state.description,\r\n                                    Value: state.state,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(shadowedUpdateMetric);\r\n                    stateObj = composeMsgForRootStateMetric(system);\r\n                    rootMetric = {\r\n                        type: \"publish\",\r\n                        peer_id: connection.peerId,\r\n                        values: [{\r\n                                name: \"/State\",\r\n                                value: {\r\n                                    Description: stateObj.description,\r\n                                    Value: stateObj.value,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(rootMetric);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var createMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var metricClone, m, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    m = serializeMetric(metricClone);\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [m],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    if (typeof metricClone.value !== \"undefined\") {\r\n                        updateMetricCore(metricClone);\r\n                    }\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var metricClone;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    updateMetricCore(metricClone);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetricCore = function (metric) {\r\n        if (canUpdate()) {\r\n            var value = getMetricValueByType(metric);\r\n            var publishMetricsMsg = {\r\n                type: \"publish\",\r\n                values: [{\r\n                        name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                        value: value,\r\n                        timestamp: Date.now(),\r\n                    }],\r\n            };\r\n            return session.sendFireAndForget(publishMetricsMsg);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    var cloneMetric = function (metric) {\r\n        var metricClone = __assign$1({}, metric);\r\n        if (typeof metric.value === \"object\" && metric.value !== null) {\r\n            metricClone.value = __assign$1({}, metric.value);\r\n        }\r\n        return metricClone;\r\n    };\r\n    var canUpdate = function () {\r\n        var _a;\r\n        try {\r\n            var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n            return func();\r\n        }\r\n        catch (_b) {\r\n            return true;\r\n        }\r\n    };\r\n    return {\r\n        init: init,\r\n        createSystem: createSystem,\r\n        updateSystem: updateSystem,\r\n        createMetric: createMetric,\r\n        updateMetric: updateMetric,\r\n    };\r\n}\n\nvar Helpers = {\r\n    validate: function (definition, parent, transport) {\r\n        if (definition === null || typeof definition !== \"object\") {\r\n            throw new Error(\"Missing definition\");\r\n        }\r\n        if (parent === null || typeof parent !== \"object\") {\r\n            throw new Error(\"Missing parent\");\r\n        }\r\n        if (transport === null || typeof transport !== \"object\") {\r\n            throw new Error(\"Missing transport\");\r\n        }\r\n    },\r\n};\n\nvar BaseMetric = (function () {\r\n    function BaseMetric(definition, system, transport, value, type) {\r\n        this.definition = definition;\r\n        this.system = system;\r\n        this.transport = transport;\r\n        this.value = value;\r\n        this.type = type;\r\n        this.path = [];\r\n        Helpers.validate(definition, system, transport);\r\n        this.path = system.path.slice(0);\r\n        this.path.push(system.name);\r\n        this.name = definition.name;\r\n        this.description = definition.description;\r\n        transport.createMetric(this);\r\n    }\r\n    Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n        get: function () { return this.system.path + \"/\" + name; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseMetric.prototype.update = function (newValue) {\r\n        this.value = newValue;\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    return BaseMetric;\r\n}());\n\nvar NumberMetric = (function (_super) {\r\n    __extends(NumberMetric, _super);\r\n    function NumberMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n    }\r\n    NumberMetric.prototype.incrementBy = function (num) {\r\n        this.update(this.value + num);\r\n    };\r\n    NumberMetric.prototype.increment = function () {\r\n        this.incrementBy(1);\r\n    };\r\n    NumberMetric.prototype.decrement = function () {\r\n        this.incrementBy(-1);\r\n    };\r\n    NumberMetric.prototype.decrementBy = function (num) {\r\n        this.incrementBy(num * -1);\r\n    };\r\n    return NumberMetric;\r\n}(BaseMetric));\n\nvar ObjectMetric = (function (_super) {\r\n    __extends(ObjectMetric, _super);\r\n    function ObjectMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n    }\r\n    ObjectMetric.prototype.update = function (newValue) {\r\n        this.mergeValues(newValue);\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    ObjectMetric.prototype.mergeValues = function (values) {\r\n        var _this = this;\r\n        return Object.keys(this.value).forEach(function (k) {\r\n            if (typeof values[k] !== \"undefined\") {\r\n                _this.value[k] = values[k];\r\n            }\r\n        });\r\n    };\r\n    return ObjectMetric;\r\n}(BaseMetric));\n\nvar StringMetric = (function (_super) {\r\n    __extends(StringMetric, _super);\r\n    function StringMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n    }\r\n    return StringMetric;\r\n}(BaseMetric));\n\nvar TimestampMetric = (function (_super) {\r\n    __extends(TimestampMetric, _super);\r\n    function TimestampMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n    }\r\n    TimestampMetric.prototype.now = function () {\r\n        this.update(new Date());\r\n    };\r\n    return TimestampMetric;\r\n}(BaseMetric));\n\nfunction system(name, repo, protocol, parent, description) {\r\n    if (!repo) {\r\n        throw new Error(\"Repository is required\");\r\n    }\r\n    if (!protocol) {\r\n        throw new Error(\"Transport is required\");\r\n    }\r\n    var _transport = protocol;\r\n    var _name = name;\r\n    var _description = description || \"\";\r\n    var _repo = repo;\r\n    var _parent = parent;\r\n    var _path = _buildPath(parent);\r\n    var _state = {};\r\n    var id = _arrayToString(_path, \"/\") + name;\r\n    var root = repo.root;\r\n    var _subSystems = [];\r\n    var _metrics = [];\r\n    function subSystem(nameSystem, descriptionSystem) {\r\n        if (!nameSystem || nameSystem.length === 0) {\r\n            throw new Error(\"name is required\");\r\n        }\r\n        var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n        if (match.length > 0) {\r\n            return match[0];\r\n        }\r\n        var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n        _subSystems.push(_system);\r\n        return _system;\r\n    }\r\n    function setState(state, stateDescription) {\r\n        _state = { state: state, description: stateDescription };\r\n        _transport.updateSystem(me, _state);\r\n    }\r\n    function stringMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function numberMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function objectMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function timestampMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n        var metricDef = { name: \"\" };\r\n        if (typeof metricObject === \"string\") {\r\n            metricDef = { name: metricObject };\r\n        }\r\n        else {\r\n            metricDef = metricObject;\r\n        }\r\n        var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n        if (matching.length > 0) {\r\n            var existing = matching[0];\r\n            if (existing.type !== expectedType) {\r\n                throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n            }\r\n            if (typeof value !== \"undefined\") {\r\n                existing\r\n                    .update(value)\r\n                    .catch(function () { });\r\n            }\r\n            return existing;\r\n        }\r\n        var metric = createMetric(metricDef);\r\n        _metrics.push(metric);\r\n        return metric;\r\n    }\r\n    function _buildPath(shadowedSystem) {\r\n        if (!shadowedSystem || !shadowedSystem.parent) {\r\n            return [];\r\n        }\r\n        var path = _buildPath(shadowedSystem.parent);\r\n        path.push(shadowedSystem.name);\r\n        return path;\r\n    }\r\n    function _arrayToString(path, separator) {\r\n        return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n    }\r\n    function getAggregateState() {\r\n        var aggState = [];\r\n        if (Object.keys(_state).length > 0) {\r\n            aggState.push({\r\n                name: _name,\r\n                path: _path,\r\n                state: _state.state,\r\n                description: _state.description,\r\n            });\r\n        }\r\n        _subSystems.forEach(function (shadowedSubSystem) {\r\n            var result = shadowedSubSystem.getAggregateState();\r\n            if (result.length > 0) {\r\n                aggState.push.apply(aggState, result);\r\n            }\r\n        });\r\n        return aggState;\r\n    }\r\n    var me = {\r\n        get name() {\r\n            return _name;\r\n        },\r\n        get description() {\r\n            return _description;\r\n        },\r\n        get repo() {\r\n            return _repo;\r\n        },\r\n        get parent() {\r\n            return _parent;\r\n        },\r\n        path: _path,\r\n        id: id,\r\n        root: root,\r\n        get subSystems() {\r\n            return _subSystems;\r\n        },\r\n        get metrics() {\r\n            return _metrics;\r\n        },\r\n        subSystem: subSystem,\r\n        getState: function () {\r\n            return _state;\r\n        },\r\n        setState: setState,\r\n        stringMetric: stringMetric,\r\n        timestampMetric: timestampMetric,\r\n        objectMetric: objectMetric,\r\n        numberMetric: numberMetric,\r\n        getAggregateState: getAggregateState,\r\n    };\r\n    _transport.createSystem(me);\r\n    return me;\r\n}\n\nvar Repository = (function () {\r\n    function Repository(options, protocol) {\r\n        protocol.init(this);\r\n        this.root = system(\"\", this, protocol);\r\n        this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n    }\r\n    Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n        if (typeof navigator !== \"undefined\") {\r\n            rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n        }\r\n        if (useClickStream && typeof document !== \"undefined\") {\r\n            var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n            var documentClickHandler = function (e) {\r\n                if (!e.target) {\r\n                    return;\r\n                }\r\n                var target = e.target;\r\n                clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                    type: \"click\",\r\n                    timestamp: new Date(),\r\n                    target: {\r\n                        className: e.target ? target.className : \"\",\r\n                        id: target.id,\r\n                        type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                        href: target.href || \"\",\r\n                    },\r\n                });\r\n            };\r\n            clickStream_1.objectMetric(\"Page\", {\r\n                title: document.title,\r\n                page: window.location.href,\r\n            });\r\n            if (document.addEventListener) {\r\n                document.addEventListener(\"click\", documentClickHandler);\r\n            }\r\n            else {\r\n                document.attachEvent(\"onclick\", documentClickHandler);\r\n            }\r\n        }\r\n        var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n        var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n        var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n        if (typeof window !== \"undefined\") {\r\n            if (typeof window.location !== \"undefined\") {\r\n                var startUrl = window.location.href;\r\n                urlMetric.update(startUrl);\r\n            }\r\n            if (typeof window.glue42gd !== \"undefined\") {\r\n                appNameMetric.update(window.glue42gd.appName);\r\n            }\r\n        }\r\n    };\r\n    return Repository;\r\n}());\n\nvar NullProtocol = (function () {\r\n    function NullProtocol() {\r\n    }\r\n    NullProtocol.prototype.init = function (repo) {\r\n    };\r\n    NullProtocol.prototype.createSystem = function (system) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateSystem = function (metric, state) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.createMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    return NullProtocol;\r\n}());\n\nvar PerfTracker = (function () {\r\n    function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n        this.api = api;\r\n        this.lastCount = 0;\r\n        this.initialPublishTimeout = 10 * 1000;\r\n        this.publishInterval = 60 * 1000;\r\n        this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n        this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n        this.scheduleCollection();\r\n        this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n    }\r\n    PerfTracker.prototype.scheduleCollection = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.collect();\r\n            setInterval(function () {\r\n                _this.collect();\r\n            }, _this.publishInterval);\r\n        }, this.initialPublishTimeout);\r\n    };\r\n    PerfTracker.prototype.collect = function () {\r\n        try {\r\n            this.collectMemory();\r\n            this.collectEntries();\r\n        }\r\n        catch (_a) {\r\n        }\r\n    };\r\n    PerfTracker.prototype.collectMemory = function () {\r\n        var memory = window.performance.memory;\r\n        this.system.stringMetric(\"memory\", JSON.stringify({\r\n            totalJSHeapSize: memory.totalJSHeapSize,\r\n            usedJSHeapSize: memory.usedJSHeapSize\r\n        }));\r\n    };\r\n    PerfTracker.prototype.collectEntries = function () {\r\n        var allEntries = window.performance.getEntries();\r\n        if (allEntries.length <= this.lastCount) {\r\n            return;\r\n        }\r\n        this.lastCount = allEntries.length;\r\n        this.system.stringMetric(\"entries\", JSON.stringify(allEntries));\r\n    };\r\n    return PerfTracker;\r\n}());\n\nvar metrics = (function (options) {\r\n    var protocol;\r\n    if (!options.connection || typeof options.connection !== \"object\") {\r\n        protocol = new NullProtocol();\r\n    }\r\n    else {\r\n        protocol = gw3(options.connection, options);\r\n    }\r\n    var repo = new Repository(options, protocol);\r\n    var rootSystem = repo.root;\r\n    if (!options.disableAutoAppSystem) {\r\n        rootSystem = rootSystem.subSystem(\"App\");\r\n    }\r\n    var api = addFAVSupport(rootSystem);\r\n    initPerf(api, options.pagePerformanceMetrics);\r\n    return api;\r\n});\r\nvar perf;\r\nfunction initPerf(api, config) {\r\n    var _a, _b;\r\n    if (typeof window === \"undefined\") {\r\n        return;\r\n    }\r\n    var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n    if (perfConfig) {\r\n        config = perfConfig;\r\n    }\r\n    if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n        perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n    }\r\n}\r\nfunction addFAVSupport(system) {\r\n    var reportingSystem = system.subSystem(\"reporting\");\r\n    var def = {\r\n        name: \"features\"\r\n    };\r\n    var featureMetric;\r\n    var featureMetricFunc = function (name, action, payload) {\r\n        if (typeof name === \"undefined\" || name === \"\") {\r\n            throw new Error(\"name is mandatory\");\r\n        }\r\n        else if (typeof action === \"undefined\" || action === \"\") {\r\n            throw new Error(\"action is mandatory\");\r\n        }\r\n        else if (typeof payload === \"undefined\" || payload === \"\") {\r\n            throw new Error(\"payload is mandatory\");\r\n        }\r\n        if (!featureMetric) {\r\n            featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n        }\r\n        else {\r\n            featureMetric.update({\r\n                name: name,\r\n                action: action,\r\n                payload: payload\r\n            });\r\n        }\r\n    };\r\n    system.featureMetric = featureMetricFunc;\r\n    return system;\r\n}\n\nfunction createRegistry$1(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            if (allForKey.length === 0) {\r\n                delete callbacks[key];\r\n            }\r\n            else {\r\n                callbacks[key] = allForKey;\r\n            }\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry$1.default = createRegistry$1;\r\nvar lib$1 = createRegistry$1;\n\nvar InProcTransport = (function () {\r\n    function InProcTransport(settings, logger) {\r\n        var _this = this;\r\n        this.registry = lib$1();\r\n        this.gw = settings.facade;\r\n        this.gw.connect(function (_client, message) {\r\n            _this.messageHandler(message);\r\n        }).then(function (client) {\r\n            _this.client = client;\r\n        });\r\n    }\r\n    Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InProcTransport.prototype.sendObject = function (msg) {\r\n        if (this.client) {\r\n            this.client.send(msg);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        else {\r\n            return Promise.reject(\"not connected\");\r\n        }\r\n    };\r\n    InProcTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    InProcTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    InProcTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.name = function () {\r\n        return \"in-memory\";\r\n    };\r\n    InProcTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return InProcTransport;\r\n}());\n\nvar SharedWorkerTransport = (function () {\r\n    function SharedWorkerTransport(workerFile, logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        this.registry = lib$1();\r\n        this.worker = new SharedWorker(workerFile);\r\n        this.worker.port.onmessage = function (e) {\r\n            _this.messageHandler(e.data);\r\n        };\r\n    }\r\n    Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n        this.worker.port.postMessage(msg);\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    SharedWorkerTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.name = function () {\r\n        return \"shared-worker\";\r\n    };\r\n    SharedWorkerTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return SharedWorkerTransport;\r\n}());\n\nvar Utils = (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getGDMajorVersion = function () {\r\n        if (typeof window === \"undefined\") {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop) {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop.version) {\r\n            return undefined;\r\n        }\r\n        var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n        return isNaN(ver) ? undefined : ver;\r\n    };\r\n    Utils.isNode = function () {\r\n        if (typeof Utils._isNode !== \"undefined\") {\r\n            return Utils._isNode;\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            Utils._isNode = false;\r\n            return false;\r\n        }\r\n        try {\r\n            Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n        }\r\n        catch (e) {\r\n            Utils._isNode = false;\r\n        }\r\n        return Utils._isNode;\r\n    };\r\n    return Utils;\r\n}());\n\nvar PromiseWrapper = (function () {\r\n    function PromiseWrapper() {\r\n        var _this = this;\r\n        this.rejected = false;\r\n        this.resolved = false;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = function (t) {\r\n                _this.resolved = true;\r\n                resolve(t);\r\n            };\r\n            _this.reject = function (err) {\r\n                _this.rejected = true;\r\n                reject(err);\r\n            };\r\n        });\r\n    }\r\n    PromiseWrapper.delay = function (time) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n    };\r\n    Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n        get: function () {\r\n            return this.rejected || this.resolved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PromiseWrapper;\r\n}());\n\nvar timers = {};\r\nfunction getAllTimers() {\r\n    return timers;\r\n}\r\nfunction timer (timerName) {\r\n    var existing = timers[timerName];\r\n    if (existing) {\r\n        return existing;\r\n    }\r\n    var marks = [];\r\n    function now() {\r\n        return new Date().getTime();\r\n    }\r\n    var startTime = now();\r\n    mark(\"start\", startTime);\r\n    var endTime;\r\n    var period;\r\n    function stop() {\r\n        endTime = now();\r\n        mark(\"end\", endTime);\r\n        period = endTime - startTime;\r\n        return period;\r\n    }\r\n    function mark(name, time) {\r\n        var currentTime = time !== null && time !== void 0 ? time : now();\r\n        var diff = 0;\r\n        if (marks.length > 0) {\r\n            diff = currentTime - marks[marks.length - 1].time;\r\n        }\r\n        marks.push({ name: name, time: currentTime, diff: diff });\r\n    }\r\n    var timerObj = {\r\n        get startTime() {\r\n            return startTime;\r\n        },\r\n        get endTime() {\r\n            return endTime;\r\n        },\r\n        get period() {\r\n            return period;\r\n        },\r\n        stop: stop,\r\n        mark: mark,\r\n        marks: marks\r\n    };\r\n    timers[timerName] = timerObj;\r\n    return timerObj;\r\n}\n\nvar WebSocketConstructor = Utils.isNode() ? require(\"ws\") : window.WebSocket;\r\nvar WS = (function () {\r\n    function WS(settings, logger) {\r\n        this.startupTimer = timer(\"connection\");\r\n        this._running = true;\r\n        this._registry = lib$1();\r\n        this.wsRequests = [];\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        if (!this.settings.ws) {\r\n            throw new Error(\"ws is missing\");\r\n        }\r\n    }\r\n    WS.prototype.onMessage = function (callback) {\r\n        return this._registry.add(\"onMessage\", callback);\r\n    };\r\n    WS.prototype.send = function (msg, options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(function () {\r\n                var _a;\r\n                try {\r\n                    (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                    resolve();\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, reject);\r\n        });\r\n    };\r\n    WS.prototype.open = function () {\r\n        var _this = this;\r\n        this.logger.info(\"opening ws...\");\r\n        this._running = true;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(resolve, reject);\r\n        });\r\n    };\r\n    WS.prototype.close = function () {\r\n        this._running = false;\r\n        if (this.ws) {\r\n            this.ws.close();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WS.prototype.onConnectedChanged = function (callback) {\r\n        return this._registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WS.prototype.name = function () {\r\n        return \"ws \" + this.settings.ws;\r\n    };\r\n    WS.prototype.reconnect = function () {\r\n        var _a;\r\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n        var pw = new PromiseWrapper();\r\n        this.waitForSocketConnection(function () {\r\n            pw.resolve();\r\n        });\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n        var _a;\r\n        failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n        if (!this._running) {\r\n            failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n            return;\r\n        }\r\n        if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n            callback();\r\n            return;\r\n        }\r\n        this.wsRequests.push({ callback: callback, failed: failed });\r\n        if (this.wsRequests.length > 1) {\r\n            return;\r\n        }\r\n        this.openSocket();\r\n    };\r\n    WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var _a;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.startupTimer.mark(\"opening-socket\");\r\n                        if (retryInterval === undefined) {\r\n                            retryInterval = this.settings.reconnectInterval;\r\n                        }\r\n                        if (retriesLeft !== undefined) {\r\n                            if (retriesLeft === 0) {\r\n                                this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                return [2];\r\n                            }\r\n                            this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                        }\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4, this.initiateSocket()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.startupTimer.mark(\"socket-initiated\");\r\n                        this.notifyForSocketState();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        setTimeout(function () {\r\n                            var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                            _this.openSocket(retryInterval, retries);\r\n                        }, retryInterval);\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WS.prototype.initiateSocket = function () {\r\n        var _this = this;\r\n        var pw = new PromiseWrapper();\r\n        this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n        this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n        this.ws.onerror = function (err) {\r\n            var reason = \"\";\r\n            try {\r\n                reason = JSON.stringify(err);\r\n            }\r\n            catch (error) {\r\n                var seen_1 = new WeakSet();\r\n                var replacer = function (key, value) {\r\n                    if (typeof value === \"object\" && value !== null) {\r\n                        if (seen_1.has(value)) {\r\n                            return;\r\n                        }\r\n                        seen_1.add(value);\r\n                    }\r\n                    return value;\r\n                };\r\n                reason = JSON.stringify(err, replacer);\r\n            }\r\n            pw.reject(\"error\");\r\n            _this.notifyStatusChanged(false, reason);\r\n        };\r\n        this.ws.onclose = function (err) {\r\n            _this.logger.info(\"ws closed \" + err);\r\n            pw.reject(\"closed\");\r\n            _this.notifyStatusChanged(false);\r\n        };\r\n        this.ws.onopen = function () {\r\n            var _a;\r\n            _this.startupTimer.mark(\"ws-opened\");\r\n            _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n            pw.resolve();\r\n            _this.notifyStatusChanged(true);\r\n        };\r\n        this.ws.onmessage = function (message) {\r\n            _this._registry.execute(\"onMessage\", message.data);\r\n        };\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.notifyForSocketState = function (error) {\r\n        this.wsRequests.forEach(function (wsRequest) {\r\n            if (error) {\r\n                if (wsRequest.failed) {\r\n                    wsRequest.failed(error);\r\n                }\r\n            }\r\n            else {\r\n                wsRequest.callback();\r\n            }\r\n        });\r\n        this.wsRequests = [];\r\n    };\r\n    WS.prototype.notifyStatusChanged = function (status, reason) {\r\n        this._registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    return WS;\r\n}());\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nvar randomFromSeed = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed$1(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nvar alphabet_1 = {\n    characters: characters,\n    seed: setSeed$1,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nvar randomByteBrowser = randomByte;\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar encode_1 = encode;\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet_1.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nvar decode_1 = decode;\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet_1.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nvar isValid = isShortId;\n\nvar lib$1$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode_1(alphabet_1.lookup, version);\n    str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode_1(alphabet_1.lookup, counter);\n    }\n    str = str + encode_1(alphabet_1.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1.characters(newCharacters);\n    }\n\n    return alphabet_1.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode_1;\nmodule.exports.isValid = isValid;\n});\nvar lib_1 = lib$1$1.generate;\nvar lib_2 = lib$1$1.seed;\nvar lib_3 = lib$1$1.worker;\nvar lib_4 = lib$1$1.characters;\nvar lib_5 = lib$1$1.decode;\nvar lib_6 = lib$1$1.isValid;\n\nvar shortid = lib$1$1;\n\nfunction domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n    if (domain == null) {\r\n        domain = \"global\";\r\n    }\r\n    successMessages = successMessages || [\"success\"];\r\n    errorMessages = errorMessages || [\"error\"];\r\n    var isJoined = false;\r\n    var tryReconnecting = false;\r\n    var _latestOptions;\r\n    var _connectionOn = false;\r\n    var callbacks = lib$1();\r\n    connection.disconnected(handleConnectionDisconnected);\r\n    connection.loggedIn(handleConnectionLoggedIn);\r\n    connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n    connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n    connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n    if (successMessages) {\r\n        successMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n        });\r\n    }\r\n    if (errorMessages) {\r\n        errorMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n        });\r\n    }\r\n    var requestsMap = {};\r\n    function join(options) {\r\n        _latestOptions = options;\r\n        return new Promise(function (resolve, reject) {\r\n            if (isJoined) {\r\n                resolve();\r\n                return;\r\n            }\r\n            var joinPromise;\r\n            if (domain === \"global\") {\r\n                joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n            }\r\n            else {\r\n                logger.debug(\"joining domain \" + domain);\r\n                var joinMsg = {\r\n                    type: \"join\",\r\n                    destination: domain,\r\n                    domain: \"global\",\r\n                    options: options,\r\n                };\r\n                joinPromise = send(joinMsg);\r\n            }\r\n            joinPromise\r\n                .then(function () {\r\n                handleJoined();\r\n                resolve();\r\n            })\r\n                .catch(function (err) {\r\n                logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    function leave() {\r\n        if (domain === \"global\") {\r\n            return Promise.resolve();\r\n        }\r\n        logger.debug(\"stopping session \" + domain + \"...\");\r\n        var leaveMsg = {\r\n            type: \"leave\",\r\n            destination: domain,\r\n            domain: \"global\",\r\n        };\r\n        tryReconnecting = false;\r\n        return send(leaveMsg).then(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        });\r\n    }\r\n    function handleJoined() {\r\n        logger.debug(\"did join \" + domain);\r\n        isJoined = true;\r\n        var wasReconnect = tryReconnecting;\r\n        tryReconnecting = false;\r\n        callbacks.execute(\"onJoined\", wasReconnect);\r\n    }\r\n    function handleConnectionDisconnected() {\r\n        _connectionOn = false;\r\n        logger.debug(\"connection is down\");\r\n        isJoined = false;\r\n        tryReconnecting = true;\r\n        callbacks.execute(\"onLeft\", { disconnected: true });\r\n    }\r\n    function handleConnectionLoggedIn() {\r\n        _connectionOn = true;\r\n        if (tryReconnecting) {\r\n            logger.debug(\"connection is now up - trying to reconnect...\");\r\n            join(_latestOptions);\r\n        }\r\n    }\r\n    function onJoined(callback) {\r\n        if (isJoined) {\r\n            callback(false);\r\n        }\r\n        return callbacks.add(\"onJoined\", callback);\r\n    }\r\n    function onLeft(callback) {\r\n        if (!isJoined) {\r\n            callback();\r\n        }\r\n        return callbacks.add(\"onLeft\", callback);\r\n    }\r\n    function handleErrorMessage(msg) {\r\n        if (domain !== msg.domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.error(msg);\r\n    }\r\n    function handleSuccessMessage(msg) {\r\n        if (msg.domain !== domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.success(msg);\r\n    }\r\n    function getNextRequestId() {\r\n        return shortid();\r\n    }\r\n    function send(msg, tag, options) {\r\n        options = options || {};\r\n        msg.request_id = msg.request_id || getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        if (!options.skipPeerId) {\r\n            msg.peer_id = connection.peerId;\r\n        }\r\n        var requestId = msg.request_id;\r\n        return new Promise(function (resolve, reject) {\r\n            requestsMap[requestId] = {\r\n                success: function (successMsg) {\r\n                    delete requestsMap[requestId];\r\n                    successMsg._tag = tag;\r\n                    resolve(successMsg);\r\n                },\r\n                error: function (errorMsg) {\r\n                    logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                    delete requestsMap[requestId];\r\n                    errorMsg._tag = tag;\r\n                    reject(errorMsg);\r\n                },\r\n            };\r\n            connection\r\n                .send(msg, options)\r\n                .catch(function (err) {\r\n                requestsMap[requestId].error({ err: err });\r\n            });\r\n        });\r\n    }\r\n    function sendFireAndForget(msg) {\r\n        msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        msg.peer_id = connection.peerId;\r\n        return connection.send(msg);\r\n    }\r\n    return {\r\n        join: join,\r\n        leave: leave,\r\n        onJoined: onJoined,\r\n        onLeft: onLeft,\r\n        send: send,\r\n        sendFireAndForget: sendFireAndForget,\r\n        on: function (type, callback) {\r\n            connection.on(type, function (msg) {\r\n                if (msg.domain !== domain) {\r\n                    return;\r\n                }\r\n                try {\r\n                    callback(msg);\r\n                }\r\n                catch (e) {\r\n                    logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                }\r\n            });\r\n        },\r\n        loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n        connected: function (callback) { return connection.connected(callback); },\r\n        disconnected: function (callback) { return connection.disconnected(callback); },\r\n        get peerId() {\r\n            return connection.peerId;\r\n        },\r\n        get domain() {\r\n            return domain;\r\n        },\r\n    };\r\n}\n\nvar GW3ProtocolImpl = (function () {\r\n    function GW3ProtocolImpl(connection, settings, logger) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.protocolVersion = 3;\r\n        this.datePrefix = \"#T42_DATE#\";\r\n        this.datePrefixLen = this.datePrefix.length;\r\n        this.dateMinLen = this.datePrefixLen + 1;\r\n        this.datePrefixFirstChar = this.datePrefix[0];\r\n        this.registry = lib$1();\r\n        this._isLoggedIn = false;\r\n        this.shouldTryLogin = true;\r\n        this.initialLogin = true;\r\n        this.initialLoginAttempts = 3;\r\n        this.sessions = [];\r\n        connection.disconnected(function () {\r\n            _this.handleDisconnected();\r\n        });\r\n        this.ping();\r\n    }\r\n    Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n        get: function () {\r\n            return this._isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n        var _this = this;\r\n        var msg = JSON.parse(message, function (key, value) {\r\n            if (typeof value !== \"string\") {\r\n                return value;\r\n            }\r\n            if (value.length < _this.dateMinLen) {\r\n                return value;\r\n            }\r\n            if (value[0] !== _this.datePrefixFirstChar) {\r\n                return value;\r\n            }\r\n            if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                return value;\r\n            }\r\n            try {\r\n                var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                if (isNaN(milliseconds)) {\r\n                    return value;\r\n                }\r\n                return new Date(milliseconds);\r\n            }\r\n            catch (ex) {\r\n                return value;\r\n            }\r\n        });\r\n        return {\r\n            msg: msg,\r\n            msgType: msg.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n        var oldToJson = Date.prototype.toJSON;\r\n        try {\r\n            var datePrefix_1 = this.datePrefix;\r\n            Date.prototype.toJSON = function () {\r\n                return datePrefix_1 + this.getTime();\r\n            };\r\n            var result = JSON.stringify(message);\r\n            return result;\r\n        }\r\n        finally {\r\n            Date.prototype.toJSON = oldToJson;\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n        if (!message.type) {\r\n            throw new Error(\"Object should have type property\");\r\n        }\r\n        return {\r\n            msg: message,\r\n            msgType: message.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n        return message;\r\n    };\r\n    GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging in...\");\r\n                        this.loginConfig = config;\r\n                        if (!this.loginConfig) {\r\n                            this.loginConfig = { username: \"\", password: \"\" };\r\n                        }\r\n                        this.shouldTryLogin = true;\r\n                        authentication = {};\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        if (!config.gatewayToken) return [3, 5];\r\n                        if (!reconnect) return [3, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        return [4, this.getNewGWToken()];\r\n                    case 2:\r\n                        token = _c.sent();\r\n                        config.gatewayToken = token;\r\n                        return [3, 4];\r\n                    case 3:\r\n                        e_1 = _c.sent();\r\n                        this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                        return [3, 4];\r\n                    case 4:\r\n                        authentication.method = \"gateway-token\";\r\n                        authentication.token = config.gatewayToken;\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        return [3, 10];\r\n                    case 5:\r\n                        if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                        authentication.provider = \"win\";\r\n                        authentication.method = \"access-token\";\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                        _a = authentication;\r\n                        return [4, config.flowCallback(config.sessionId, null)];\r\n                    case 6:\r\n                        _a.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        return [3, 8];\r\n                    case 7: throw new Error(\"Invalid SSPI config\");\r\n                    case 8: return [3, 10];\r\n                    case 9:\r\n                        if (config.token) {\r\n                            authentication.method = \"access-token\";\r\n                            authentication.token = config.token;\r\n                        }\r\n                        else if (config.username) {\r\n                            authentication.method = \"secret\";\r\n                            authentication.login = config.username;\r\n                            authentication.secret = config.password;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                        }\r\n                        _c.label = 10;\r\n                    case 10:\r\n                        helloMsg = {\r\n                            type: \"hello\",\r\n                            identity: this.settings.identity,\r\n                            authentication: authentication\r\n                        };\r\n                        if (config.sessionId) {\r\n                            helloMsg.request_id = config.sessionId;\r\n                        }\r\n                        this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                            \"welcome\",\r\n                            \"token\",\r\n                            \"authentication-request\"\r\n                        ]);\r\n                        sendOptions = { skipPeerId: true };\r\n                        if (this.initialLogin) {\r\n                            sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                            sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                        }\r\n                        _c.label = 11;\r\n                    case 11:\r\n                        _c.trys.push([11, 19, 20, 21]);\r\n                        welcomeMsg = void 0;\r\n                        _c.label = 12;\r\n                    case 12:\r\n                        return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                    case 13:\r\n                        msg = _c.sent();\r\n                        if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                        token = Buffer.from(msg.authentication.token, \"base64\");\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                        _b = helloMsg.authentication;\r\n                        return [4, config.flowCallback(config.sessionId, token)];\r\n                    case 14:\r\n                        _b.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        _c.label = 15;\r\n                    case 15:\r\n                        helloMsg.request_id = config.sessionId;\r\n                        return [3, 12];\r\n                    case 16:\r\n                        if (msg.type === \"welcome\") {\r\n                            welcomeMsg = msg;\r\n                            return [3, 18];\r\n                        }\r\n                        else if (msg.type === \"error\") {\r\n                            throw new Error(\"Authentication failed: \" + msg.reason);\r\n                        }\r\n                        else {\r\n                            throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                        }\r\n                    case 17: return [3, 12];\r\n                    case 18:\r\n                        this.initialLogin = false;\r\n                        this.logger.debug(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                        this.connection.peerId = welcomeMsg.peer_id;\r\n                        this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                        this.connection.availableDomains = welcomeMsg.available_domains;\r\n                        if (welcomeMsg.options) {\r\n                            this.connection.token = welcomeMsg.options.access_token;\r\n                            this.connection.info = welcomeMsg.options.info;\r\n                        }\r\n                        this.setLoggedIn(true);\r\n                        return [2, welcomeMsg.resolved_identity];\r\n                    case 19:\r\n                        err_1 = _c.sent();\r\n                        this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                        throw err_1;\r\n                    case 20:\r\n                        if (config && config.flowCallback && config.sessionId) {\r\n                            config.flowCallback(config.sessionId, null);\r\n                        }\r\n                        return [7];\r\n                    case 21: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.logout = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var promises;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging out...\");\r\n                        this.shouldTryLogin = false;\r\n                        if (this.pingTimer) {\r\n                            clearTimeout(this.pingTimer);\r\n                        }\r\n                        promises = this.sessions.map(function (session) {\r\n                            session.leave();\r\n                        });\r\n                        return [4, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n        if (this._isLoggedIn) {\r\n            callback();\r\n        }\r\n        return this.registry.add(\"onLoggedIn\", callback);\r\n    };\r\n    GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n        var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n        if (!session) {\r\n            session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n            this.sessions.push(session);\r\n        }\r\n        return session;\r\n    };\r\n    GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n        var _this = this;\r\n        this.setLoggedIn(false);\r\n        var tryToLogin = this.shouldTryLogin;\r\n        if (tryToLogin && this.initialLogin) {\r\n            if (this.initialLoginAttempts <= 0) {\r\n                return;\r\n            }\r\n            this.initialLoginAttempts--;\r\n        }\r\n        this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n        if (this.shouldTryLogin) {\r\n            if (!this.loginConfig) {\r\n                throw new Error(\"no login info\");\r\n            }\r\n            this.connection.login(this.loginConfig, true)\r\n                .catch(function () {\r\n                setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n            });\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n        this._isLoggedIn = value;\r\n        if (this._isLoggedIn) {\r\n            this.registry.execute(\"onLoggedIn\");\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.ping = function () {\r\n        var _this = this;\r\n        if (!this.shouldTryLogin) {\r\n            return;\r\n        }\r\n        if (this._isLoggedIn) {\r\n            this.connection.send({ type: \"ping\" });\r\n        }\r\n        this.pingTimer = setTimeout(function () {\r\n            _this.ping();\r\n        }, 30 * 1000);\r\n    };\r\n    GW3ProtocolImpl.prototype.authToken = function () {\r\n        var createTokenReq = {\r\n            type: \"create-token\"\r\n        };\r\n        if (!this.globalDomain) {\r\n            return Promise.reject(new Error(\"no global domain session\"));\r\n        }\r\n        return this.globalDomain.send(createTokenReq)\r\n            .then(function (res) {\r\n            return res.token;\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n        if (typeof window !== undefined) {\r\n            var glue42gd = window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.getGWToken();\r\n            }\r\n        }\r\n        return Promise.reject(new Error(\"not running in GD\"));\r\n    };\r\n    return GW3ProtocolImpl;\r\n}());\n\nvar MessageReplayerImpl = (function () {\r\n    function MessageReplayerImpl(specs) {\r\n        this.specsNames = [];\r\n        this.messages = {};\r\n        this.subs = {};\r\n        this.subsRefCount = {};\r\n        this.specs = {};\r\n        for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n            var spec = specs_1[_i];\r\n            this.specs[spec.name] = spec;\r\n            this.specsNames.push(spec.name);\r\n        }\r\n    }\r\n    MessageReplayerImpl.prototype.init = function (connection) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var _loop_1 = function (type) {\r\n                var refCount = this_1.subsRefCount[type];\r\n                if (!refCount) {\r\n                    refCount = 0;\r\n                }\r\n                refCount += 1;\r\n                this_1.subsRefCount[type] = refCount;\r\n                if (refCount > 1) {\r\n                    return \"continue\";\r\n                }\r\n                var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                this_1.subs[type] = sub;\r\n            };\r\n            var this_1 = this;\r\n            for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                var type = _c[_b];\r\n                _loop_1(type);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n        if (this.isDone || !msg) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_2 = _a[_i];\r\n            if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                var messages = this.messages[name_2] || [];\r\n                this.messages[name_2] = messages;\r\n                messages.push(msg);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n        var _a;\r\n        if (callback) {\r\n            (this.messages[name] || []).forEach(callback);\r\n        }\r\n        delete this.messages[name];\r\n        for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n            var type = _b[_i];\r\n            this.subsRefCount[type] -= 1;\r\n            if (this.subsRefCount[type] <= 0) {\r\n                (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                delete this.subs[type];\r\n                delete this.subsRefCount[type];\r\n            }\r\n        }\r\n        delete this.specs[name];\r\n        if (!this.specs.length) {\r\n            this.isDone = true;\r\n        }\r\n    };\r\n    return MessageReplayerImpl;\r\n}());\n\nvar PromisePlus$1 = function (executor, timeoutMilliseconds, timeoutMessage) {\r\n    return new Promise(function (resolve, reject) {\r\n        var timeout = setTimeout(function () {\r\n            var message = timeoutMessage || \"Promise timeout hit: \" + timeoutMilliseconds;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        var providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then(function (result) {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch(function (error) {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nvar WebPlatformTransport = (function () {\r\n    function WebPlatformTransport(settings, logger, identity) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.identity = identity;\r\n        this.parentReady = false;\r\n        this.iAmConnected = false;\r\n        this.rejected = false;\r\n        this.children = [];\r\n        this.parentPingTimeout = 3000;\r\n        this.connectionRequestTimeout = 5000;\r\n        this.defaultTargetString = \"*\";\r\n        this.registry = lib$1();\r\n        this.messages = {\r\n            connectionAccepted: { name: \"connectionAccepted\", handle: this.handleConnectionAccepted.bind(this) },\r\n            connectionRejected: { name: \"connectionRejected\", handle: this.handleConnectionRejected.bind(this) },\r\n            connectionRequest: { name: \"connectionRequest\", handle: this.handleConnectionRequest.bind(this) },\r\n            parentReady: { name: \"parentReady\", handle: this.handleParentReady.bind(this) },\r\n            parentPing: { name: \"parentPing\", handle: this.handleParentPing.bind(this) },\r\n            platformPing: { name: \"platformPing\", handle: this.handlePlatformPing.bind(this) },\r\n            platformUnload: { name: \"platformUnload\", handle: this.handlePlatformUnload.bind(this) },\r\n            platformReady: { name: \"platformReady\", handle: this.handlePlatformReady.bind(this) },\r\n            clientUnload: { name: \"clientUnload\", handle: this.handleClientUnload.bind(this) }\r\n        };\r\n        this.setUpMessageListener();\r\n        this.setUpUnload();\r\n        if (!this.settings.port) {\r\n            this.parent = window.opener || window.top;\r\n            this.parentType = window.opener ? \"opener\" :\r\n                window.name.indexOf(\"#wsp\") !== -1 ? \"workspace\" : \"top\";\r\n        }\r\n    }\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"transportWindowId\", {\r\n        get: function () {\r\n            return this.publicWindowId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.sendObject = function (msg) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (!this.port) {\r\n                    throw new Error(\"Cannot send message, because the port was not opened yet\");\r\n                }\r\n                this.port.postMessage(msg);\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.send = function () {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    WebPlatformTransport.prototype.onConnectedChanged = function (callback) {\r\n        return this.registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.open = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"opening a connection to the web platform gateway.\");\r\n                        return [4, this.connect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.notifyStatusChanged(true);\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.name = function () {\r\n        return \"web-platform\";\r\n    };\r\n    WebPlatformTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.connect = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.parentReady) {\r\n                            this.logger.debug(\"cancelling connection attempt, because this client's parent has already given a ready signal\");\r\n                            return [2];\r\n                        }\r\n                        if (this.settings.port) {\r\n                            this.logger.debug(\"opening an internal web platform connection\");\r\n                            this.port = this.settings.port;\r\n                            this.publicWindowId = this.settings.windowId;\r\n                            if (this.identity) {\r\n                                this.identity.windowId = this.publicWindowId;\r\n                            }\r\n                            this.port.onmessage = function (event) { return _this.registry.execute(\"onMessage\", event.data); };\r\n                            this.logger.debug(\"internal web platform connection completed\");\r\n                            return [2];\r\n                        }\r\n                        if (!this.parentType || !this.parent) {\r\n                            throw new Error(\"Cannot initiate a connection, because there is no opener, no top and no port.\");\r\n                        }\r\n                        this.logger.debug(\"opening a \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client web platform connection\");\r\n                        return [4, this.waitParent(this.parent, this.parentType)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.initiateRemoteConnection(this.parent, this.parentType)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.logger.debug(\"the \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client is connected\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateRemoteConnection = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus$1(function (resolve, reject) {\r\n            _this.connectionResolve = resolve;\r\n            _this.connectionReject = reject;\r\n            _this.myClientId = shortid();\r\n            var bridgeInstanceId = _this.parentType === \"workspace\" ? window.name.substring(0, window.name.indexOf(\"#wsp\")) : window.name;\r\n            var request = {\r\n                glue42core: {\r\n                    type: _this.messages.connectionRequest.name,\r\n                    clientId: _this.myClientId,\r\n                    clientType: parentType === \"top\" || parentType === \"workspace\" ? \"grandChild\" : \"child\",\r\n                    bridgeInstanceId: bridgeInstanceId\r\n                }\r\n            };\r\n            _this.logger.debug(\"sending connection request to \" + parentType);\r\n            target.postMessage(request, _this.defaultTargetString);\r\n        }, this.connectionRequestTimeout, \"The connection to the opener/top window timed out\");\r\n    };\r\n    WebPlatformTransport.prototype.waitParent = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus$1(function (resolve) {\r\n            _this.parentPingResolve = resolve;\r\n            var message = {\r\n                glue42core: {\r\n                    type: parentType === \"opener\" ? _this.messages.platformPing.name : _this.messages.parentPing.name\r\n                }\r\n            };\r\n            _this.logger.debug(\"checking for \" + parentType + \" window availability\");\r\n            target.postMessage(message, _this.defaultTargetString);\r\n        }, this.parentPingTimeout, \"Cannot initiate glue, because this window was not opened or created by a glue client\");\r\n    };\r\n    WebPlatformTransport.prototype.setUpMessageListener = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping generic message listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n            if (!data || _this.rejected) {\r\n                return;\r\n            }\r\n            if (!_this.checkMessageTypeValid(data.type)) {\r\n                _this.logger.error(\"cannot handle the incoming glue42 core message, because the type is invalid: \" + data.type);\r\n                return;\r\n            }\r\n            var messageType = data.type;\r\n            _this.logger.debug(\"received valid glue42core message of type: \" + messageType);\r\n            _this.messages[messageType].handle(event);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpUnload = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping unload event listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"beforeunload\", function () {\r\n            var _a, _b;\r\n            var message = {\r\n                glue42core: {\r\n                    type: _this.messages.clientUnload.name,\r\n                    data: {\r\n                        clientId: _this.myClientId,\r\n                        ownWindowId: (_a = _this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                    }\r\n                }\r\n            };\r\n            if (_this.parent) {\r\n                _this.parent.postMessage(message, _this.defaultTargetString);\r\n            }\r\n            (_b = _this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleParentReady = function () {\r\n        this.logger.debug(\"handling the ready signal from the parent, by resoling the pending promise.\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformReady = function () {\r\n        this.logger.debug(\"the web platform gave the ready signal\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionAccepted = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (this.myClientId === data.clientId) {\r\n            return this.handleAcceptanceOfMyRequest(data);\r\n        }\r\n        return this.handleAcceptanceOfGrandChildRequest(data, event);\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfMyRequest = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me.\");\r\n        if (!data.port) {\r\n            this.logger.error(\"cannot set up my connection, because I was not provided with a port\");\r\n            return;\r\n        }\r\n        this.publicWindowId = this.parentType === \"opener\" ? window.name :\r\n            this.parentType === \"top\" ? data.parentWindowId :\r\n                window.name.substring(0, window.name.indexOf(\"#wsp\"));\r\n        if (this.identity && this.parentType !== \"top\") {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        this.port = data.port;\r\n        this.port.onmessage = function (e) { return _this.registry.execute(\"onMessage\", e.data); };\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n        this.logger.error(\"unable to call the connection resolve, because no connection promise was found\");\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfGrandChildRequest = function (data, event) {\r\n        this.logger.debug(\"handling a connection accepted signal targeted at a grandchild: \" + data.clientId);\r\n        var child = this.children.find(function (c) { return c.grandChildId === data.clientId; });\r\n        if (!child) {\r\n            this.logger.error(\"cannot handle connection accepted for grandchild: \" + data.clientId + \", because there is no grandchild with this id\");\r\n            return;\r\n        }\r\n        child.connected = true;\r\n        this.logger.debug(\"the grandchild connection for \" + data.clientId + \" is set up, forwarding the success message and the gateway port\");\r\n        data.parentWindowId = this.publicWindowId;\r\n        child.source.postMessage(event.data, child.origin, [data.port]);\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRejected = function () {\r\n        this.logger.debug(\"handling a connection rejection. Most likely the reason is that this window was not created by a glue API call\");\r\n        if (this.connectionReject) {\r\n            this.connectionReject(\"The platform connection was rejected. Most likely because this window was not created by a glue API call\");\r\n            delete this.connectionReject;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRequest = function (event) {\r\n        var source = event.source;\r\n        var data = event.data.glue42core;\r\n        if (!data.clientType || data.clientType !== \"grandChild\") {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source was not opened by a glue API call\");\r\n        }\r\n        if (!data.clientId) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source did not provide a valid id\");\r\n        }\r\n        if (this.parentType !== \"opener\" || !this.parent) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"Cannot forward the connection request, because no direct connection to the platform was found\");\r\n        }\r\n        this.logger.debug(\"handling a connection request for a grandchild: \" + data.clientId);\r\n        this.children.push({ grandChildId: data.clientId, source: source, connected: false, origin: event.origin });\r\n        this.logger.debug(\"grandchild: \" + data.clientId + \" is prepared, forwarding connection request to the platform\");\r\n        this.parent.postMessage(event.data, this.defaultTargetString);\r\n    };\r\n    WebPlatformTransport.prototype.handleParentPing = function (event) {\r\n        if (!this.parentReady) {\r\n            this.logger.debug(\"my parent is not ready, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        if (!this.iAmConnected) {\r\n            this.logger.debug(\"i am not fully connected yet, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.parentReady.name\r\n            }\r\n        };\r\n        var source = event.source;\r\n        this.logger.debug(\"responding to a parent ping with a ready message\");\r\n        source.postMessage(message, event.origin);\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformUnload = function (event) {\r\n        this.logger.debug(\"detected a web platform unload\");\r\n        this.parentReady = false;\r\n        if (this.children.length) {\r\n            this.logger.debug(\"forwarding the platform unload to all known children and starting platform discovery polling\");\r\n            this.children.forEach(function (child) { return child.source.postMessage(event.data, child.origin); });\r\n        }\r\n        this.notifyStatusChanged(false, \"Gateway unloaded\");\r\n    };\r\n    WebPlatformTransport.prototype.handleClientUnload = function (event) {\r\n        var data = event.data.glue42core;\r\n        if (!data.clientId) {\r\n            this.logger.warn(\"cannot process grand child unload, because the provided id was not valid\");\r\n            return;\r\n        }\r\n        var foundChild = this.children.find(function (child) { return child.grandChildId === data.clientId; });\r\n        if (!foundChild) {\r\n            this.logger.warn(\"cannot process grand child unload, because this client is unaware of this grandchild\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling grandchild unload for id: \" + data.clientId);\r\n        this.children = this.children.filter(function (child) { return child.grandChildId !== data.clientId; });\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformPing = function () {\r\n        this.logger.error(\"cannot handle platform ping, because this is not a platform calls handling component\");\r\n    };\r\n    WebPlatformTransport.prototype.notifyStatusChanged = function (status, reason) {\r\n        this.iAmConnected = status;\r\n        this.registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    WebPlatformTransport.prototype.checkMessageTypeValid = function (typeToValidate) {\r\n        return typeof typeToValidate === \"string\" && !!this.messages[typeToValidate];\r\n    };\r\n    WebPlatformTransport.prototype.rejectConnectionRequest = function (source, origin, reason) {\r\n        this.rejected = true;\r\n        this.logger.error(reason);\r\n        var rejection = {\r\n            glue42core: {\r\n                type: this.messages.connectionRejected.name\r\n            }\r\n        };\r\n        source.postMessage(rejection, origin);\r\n    };\r\n    return WebPlatformTransport;\r\n}());\n\nvar Connection = (function () {\r\n    function Connection(settings, logger) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.messageHandlers = {};\r\n        this.ids = 1;\r\n        this.registry = lib$1();\r\n        this._connected = false;\r\n        this.isTrace = false;\r\n        settings = settings || {};\r\n        settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n        settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n        if (settings.inproc) {\r\n            this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n        }\r\n        else if (settings.sharedWorker) {\r\n            this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n        }\r\n        else if (settings.webPlatform) {\r\n            this.transport = new WebPlatformTransport(settings.webPlatform, logger.subLogger(\"web-platform\"), settings.identity);\r\n        }\r\n        else if (settings.ws !== undefined) {\r\n            this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n        }\r\n        else {\r\n            throw new Error(\"No connection information specified\");\r\n        }\r\n        this.isTrace = logger.canPublish(\"trace\");\r\n        logger.debug(\"starting with \" + this.transport.name() + \" transport\");\r\n        this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n        this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        if (settings.replaySpecs && settings.replaySpecs.length) {\r\n            this.replayer = new MessageReplayerImpl(settings.replaySpecs);\r\n            this.replayer.init(this);\r\n        }\r\n    }\r\n    Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.send = function (message, options) {\r\n        if (this.transport.sendObject &&\r\n            this.transport.isObjectBasedTransport) {\r\n            var msg = this.protocol.createObjectMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + JSON.stringify(msg));\r\n            }\r\n            return this.transport.sendObject(msg, options);\r\n        }\r\n        else {\r\n            var strMessage = this.protocol.createStringMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + strMessage);\r\n            }\r\n            return this.transport.send(strMessage, options);\r\n        }\r\n    };\r\n    Connection.prototype.on = function (type, messageHandler) {\r\n        type = type.toLowerCase();\r\n        if (this.messageHandlers[type] === undefined) {\r\n            this.messageHandlers[type] = {};\r\n        }\r\n        var id = this.ids++;\r\n        this.messageHandlers[type][id] = messageHandler;\r\n        return {\r\n            type: type,\r\n            id: id,\r\n        };\r\n    };\r\n    Connection.prototype.off = function (info) {\r\n        delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n    };\r\n    Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n        get: function () {\r\n            return this.protocol.isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.connected = function (callback) {\r\n        var _this = this;\r\n        return this.protocol.loggedIn(function () {\r\n            callback(_this.settings.ws || _this.settings.sharedWorker || \"\");\r\n        });\r\n    };\r\n    Connection.prototype.disconnected = function (callback) {\r\n        return this.registry.add(\"disconnected\", callback);\r\n    };\r\n    Connection.prototype.login = function (authRequest, reconnect) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var identity;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.transport.open()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        timer(\"connection\").mark(\"transport-opened\");\r\n                        identity = this.protocol.login(authRequest, reconnect);\r\n                        timer(\"connection\").mark(\"protocol-logged-in\");\r\n                        return [2, identity];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.logout = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.protocol.logout()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.transport.close()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.loggedIn = function (callback) {\r\n        return this.protocol.loggedIn(callback);\r\n    };\r\n    Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n        return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n    };\r\n    Connection.prototype.authToken = function () {\r\n        return this.protocol.authToken();\r\n    };\r\n    Connection.prototype.reconnect = function () {\r\n        return this.transport.reconnect();\r\n    };\r\n    Connection.prototype.distributeMessage = function (message, type) {\r\n        var _this = this;\r\n        var handlers = this.messageHandlers[type.toLowerCase()];\r\n        if (handlers !== undefined) {\r\n            Object.keys(handlers).forEach(function (handlerId) {\r\n                var handler = handlers[handlerId];\r\n                if (handler !== undefined) {\r\n                    try {\r\n                        handler(message);\r\n                    }\r\n                    catch (error) {\r\n                        try {\r\n                            _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                        }\r\n                        catch (loggerError) {\r\n                            console.log(\"Message handler failed\", error);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Connection.prototype.handleConnectionChanged = function (connected) {\r\n        if (this._connected === connected) {\r\n            return;\r\n        }\r\n        this._connected = connected;\r\n        if (connected) {\r\n            this.registry.execute(\"connected\");\r\n        }\r\n        else {\r\n            this.registry.execute(\"disconnected\");\r\n        }\r\n    };\r\n    Connection.prototype.handleTransportMessage = function (msg) {\r\n        var msgObj;\r\n        if (typeof msg === \"string\") {\r\n            msgObj = this.protocol.processStringMessage(msg);\r\n        }\r\n        else {\r\n            msgObj = this.protocol.processObjectMessage(msg);\r\n        }\r\n        if (this.isTrace) {\r\n            this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n        }\r\n        this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n    };\r\n    return Connection;\r\n}());\n\nvar order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\nvar Logger = (function () {\r\n    function Logger(name, parent, logFn) {\r\n        this.name = name;\r\n        this.parent = parent;\r\n        this.subLoggers = [];\r\n        this.logFn = console;\r\n        this.customLogFn = false;\r\n        this.name = name;\r\n        if (parent) {\r\n            this.path = parent.path + \".\" + name;\r\n        }\r\n        else {\r\n            this.path = name;\r\n        }\r\n        this.loggerFullName = \"[\" + this.path + \"]\";\r\n        this.includeTimeAndLevel = !logFn;\r\n        if (logFn) {\r\n            this.logFn = logFn;\r\n            this.customLogFn = true;\r\n        }\r\n    }\r\n    Logger.prototype.subLogger = function (name) {\r\n        var existingSub = this.subLoggers.filter(function (subLogger) {\r\n            return subLogger.name === name;\r\n        })[0];\r\n        if (existingSub !== undefined) {\r\n            return existingSub;\r\n        }\r\n        Object.keys(this).forEach(function (key) {\r\n            if (key === name) {\r\n                throw new Error(\"This sub logger name is not allowed.\");\r\n            }\r\n        });\r\n        var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n        this.subLoggers.push(sub);\r\n        return sub;\r\n    };\r\n    Logger.prototype.publishLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._publishLevel = level;\r\n        }\r\n        return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n    };\r\n    Logger.prototype.consoleLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._consoleLevel = level;\r\n        }\r\n        return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n    };\r\n    Logger.prototype.log = function (message, level, error) {\r\n        this.publishMessage(level || \"info\", message, error);\r\n    };\r\n    Logger.prototype.trace = function (message) {\r\n        this.log(message, \"trace\");\r\n    };\r\n    Logger.prototype.debug = function (message) {\r\n        this.log(message, \"debug\");\r\n    };\r\n    Logger.prototype.info = function (message) {\r\n        this.log(message, \"info\");\r\n    };\r\n    Logger.prototype.warn = function (message) {\r\n        this.log(message, \"warn\");\r\n    };\r\n    Logger.prototype.error = function (message, err) {\r\n        this.log(message, \"error\");\r\n    };\r\n    Logger.prototype.canPublish = function (level, compareWith) {\r\n        var levelIdx = order.indexOf(level);\r\n        var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n        return levelIdx >= restrictionIdx;\r\n    };\r\n    Logger.prototype.publishMessage = function (level, message, error) {\r\n        var loggerName = this.loggerFullName;\r\n        if (level === \"error\" && !error) {\r\n            var e = new Error();\r\n            if (e.stack) {\r\n                message =\r\n                    message +\r\n                        \"\\n\" +\r\n                        e.stack\r\n                            .split(\"\\n\")\r\n                            .slice(3)\r\n                            .join(\"\\n\");\r\n            }\r\n        }\r\n        if (this.canPublish(level, this.publishLevel())) {\r\n            var interop = Logger.Interop;\r\n            if (interop) {\r\n                try {\r\n                    if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                        interop.invoke(Logger.InteropMethodName, {\r\n                            msg: \"\" + message,\r\n                            logger: loggerName,\r\n                            level: level\r\n                        });\r\n                    }\r\n                }\r\n                catch (_a) {\r\n                }\r\n            }\r\n        }\r\n        if (this.canPublish(level)) {\r\n            var prefix = \"\";\r\n            if (this.includeTimeAndLevel) {\r\n                var date = new Date();\r\n                var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n            }\r\n            var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n            switch (level) {\r\n                case \"trace\":\r\n                    this.logFn.debug(toPrint);\r\n                    break;\r\n                case \"debug\":\r\n                    if (this.logFn.debug) {\r\n                        this.logFn.debug(toPrint);\r\n                    }\r\n                    else {\r\n                        this.logFn.log(toPrint);\r\n                    }\r\n                    break;\r\n                case \"info\":\r\n                    this.logFn.info(toPrint);\r\n                    break;\r\n                case \"warn\":\r\n                    this.logFn.warn(toPrint);\r\n                    break;\r\n                case \"error\":\r\n                    this.logFn.error(toPrint, error);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n    return Logger;\r\n}());\n\nvar GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\nvar GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\nvar GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\nvar GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\nvar GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\nvar GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\nvar GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\nvar GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\nvar GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\nvar GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\nvar GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\nvar GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\nvar GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\nvar ContextMessageReplaySpec = {\r\n    get name() {\r\n        return \"context\";\r\n    },\r\n    get types() {\r\n        return [\r\n            GW_MESSAGE_CREATE_CONTEXT,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_DESTROY_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_UPDATE_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_JOINED_ACTIVITY\r\n        ];\r\n    }\r\n};\n\nvar version = \"5.3.0\";\n\nfunction prepareConfig (configuration, ext, glue42gd) {\r\n    var _a, _b, _c, _d, _e;\r\n    var nodeStartingContext;\r\n    if (Utils.isNode()) {\r\n        var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n        if (startingContextString) {\r\n            try {\r\n                nodeStartingContext = JSON.parse(startingContextString);\r\n            }\r\n            catch (_f) {\r\n            }\r\n        }\r\n    }\r\n    function getConnection() {\r\n        var _a, _b, _c, _d, _e;\r\n        var gwConfig = configuration.gateway;\r\n        var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n        var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n        var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n        var defaultWs = \"ws://localhost:8385\";\r\n        var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n        var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n        var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n        var webPlatform = (_b = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.webPlatform) !== null && _b !== void 0 ? _b : undefined;\r\n        if (glue42gd) {\r\n            ws = glue42gd.gwURL;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n            ws = nodeStartingContext.gwURL;\r\n        }\r\n        if (!ws && !sharedWorker && !inproc) {\r\n            ws = defaultWs;\r\n        }\r\n        var instanceId;\r\n        var windowId;\r\n        var pid;\r\n        var environment;\r\n        var region;\r\n        var appName = getApplication();\r\n        var uniqueAppName = appName;\r\n        if (typeof glue42gd !== \"undefined\") {\r\n            windowId = glue42gd.windowId;\r\n            pid = glue42gd.pid;\r\n            if (glue42gd.env) {\r\n                environment = glue42gd.env.env;\r\n                region = glue42gd.env.region;\r\n            }\r\n            uniqueAppName = (_c = glue42gd.application) !== null && _c !== void 0 ? _c : \"glue-app\";\r\n            instanceId = glue42gd.appInstanceId;\r\n        }\r\n        else if (Utils.isNode()) {\r\n            pid = process.pid;\r\n            if (nodeStartingContext) {\r\n                environment = nodeStartingContext.env;\r\n                region = nodeStartingContext.region;\r\n                instanceId = nodeStartingContext.instanceId;\r\n            }\r\n        }\r\n        var replaySpecs = (_e = (_d = configuration.gateway) === null || _d === void 0 ? void 0 : _d.replaySpecs) !== null && _e !== void 0 ? _e : [];\r\n        replaySpecs.push(ContextMessageReplaySpec);\r\n        return {\r\n            identity: {\r\n                application: uniqueAppName,\r\n                applicationName: appName,\r\n                windowId: windowId,\r\n                instance: instanceId,\r\n                process: pid,\r\n                region: region,\r\n                environment: environment,\r\n                api: ext.version || version\r\n            },\r\n            reconnectInterval: reconnectInterval,\r\n            ws: ws,\r\n            sharedWorker: sharedWorker,\r\n            webPlatform: webPlatform,\r\n            inproc: inproc,\r\n            protocolVersion: protocolVersion,\r\n            reconnectAttempts: reconnectAttempts,\r\n            replaySpecs: replaySpecs,\r\n        };\r\n    }\r\n    function getApplication() {\r\n        if (configuration.application) {\r\n            return configuration.application;\r\n        }\r\n        if (glue42gd) {\r\n            return glue42gd.applicationName;\r\n        }\r\n        var uid = shortid();\r\n        if (Utils.isNode()) {\r\n            if (nodeStartingContext) {\r\n                return nodeStartingContext.applicationConfig.name;\r\n            }\r\n            return \"NodeJS\" + uid;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n            return document.title + (\" (\" + uid + \")\");\r\n        }\r\n        return uid;\r\n    }\r\n    function getAuth() {\r\n        var _a, _b, _c;\r\n        if (typeof configuration.auth === \"string\") {\r\n            return {\r\n                token: configuration.auth\r\n            };\r\n        }\r\n        if (configuration.auth) {\r\n            return configuration.auth;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n            return {\r\n                gatewayToken: nodeStartingContext.gwToken\r\n            };\r\n        }\r\n        if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.webPlatform) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.inproc) || ((_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.sharedWorker)) {\r\n            return {\r\n                username: \"glue42\", password: \"glue42\"\r\n            };\r\n        }\r\n    }\r\n    function getLogger() {\r\n        var _a, _b;\r\n        var config = configuration.logger;\r\n        var defaultLevel = \"warn\";\r\n        if (!config) {\r\n            config = defaultLevel;\r\n        }\r\n        var gdConsoleLevel;\r\n        if (glue42gd) {\r\n            gdConsoleLevel = glue42gd.consoleLogLevel;\r\n        }\r\n        if (typeof config === \"string\") {\r\n            return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n        }\r\n        return {\r\n            console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n            publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n        };\r\n    }\r\n    var connection = getConnection();\r\n    var application = getApplication();\r\n    if (typeof window !== \"undefined\") {\r\n        var windowAsAny = window;\r\n        var containerApplication = windowAsAny.htmlContainer ?\r\n            windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n        if (containerApplication) {\r\n            application = containerApplication;\r\n        }\r\n    }\r\n    return {\r\n        bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n        application: application,\r\n        auth: getAuth(),\r\n        logger: getLogger(),\r\n        connection: connection,\r\n        metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n        contexts: (_d = configuration.contexts) !== null && _d !== void 0 ? _d : true,\r\n        version: ext.version || version,\r\n        libs: (_e = ext.libs) !== null && _e !== void 0 ? _e : [],\r\n        customLogger: configuration.customLogger\r\n    };\r\n}\n\nvar GW3ContextData = (function () {\r\n    function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n        this.updateCallbacks = {};\r\n        this.contextId = contextId;\r\n        this.name = name;\r\n        this.isAnnounced = isAnnounced;\r\n        this.activityId = activityId;\r\n        this.context = {};\r\n    }\r\n    GW3ContextData.prototype.hasCallbacks = function () {\r\n        return Object.keys(this.updateCallbacks).length > 0;\r\n    };\r\n    GW3ContextData.prototype.getState = function () {\r\n        if (this.isAnnounced && this.hasCallbacks()) {\r\n            return 3;\r\n        }\r\n        if (this.isAnnounced) {\r\n            return 2;\r\n        }\r\n        if (this.hasCallbacks()) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    return GW3ContextData;\r\n}());\n\nfunction applyContextDelta(context, delta, logger) {\r\n    try {\r\n        if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n            logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n        }\r\n        if (!delta) {\r\n            return context;\r\n        }\r\n        if (delta.reset) {\r\n            context = __assign$1({}, delta.reset);\r\n            return context;\r\n        }\r\n        context = deepClone(context, undefined);\r\n        if (delta.commands) {\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    deletePath(context, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(context, command.value, command.path);\r\n                }\r\n            }\r\n            return context;\r\n        }\r\n        var added_1 = delta.added;\r\n        var updated_1 = delta.updated;\r\n        var removed = delta.removed;\r\n        if (added_1) {\r\n            Object.keys(added_1).forEach(function (key) {\r\n                context[key] = added_1[key];\r\n            });\r\n        }\r\n        if (updated_1) {\r\n            Object.keys(updated_1).forEach(function (key) {\r\n                mergeObjectsProperties(key, context, updated_1);\r\n            });\r\n        }\r\n        if (removed) {\r\n            removed.forEach(function (key) {\r\n                delete context[key];\r\n            });\r\n        }\r\n        return context;\r\n    }\r\n    catch (e) {\r\n        logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n        return context;\r\n    }\r\n}\r\nfunction deepClone(obj, hash) {\r\n    hash = hash || new WeakMap();\r\n    if (Object(obj) !== obj) {\r\n        return obj;\r\n    }\r\n    if (obj instanceof Set) {\r\n        return new Set(obj);\r\n    }\r\n    if (hash.has(obj)) {\r\n        return hash.get(obj);\r\n    }\r\n    var result = obj instanceof Date ? new Date(obj)\r\n        : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n            : obj.constructor ? new obj.constructor()\r\n                : Object.create(null);\r\n    hash.set(obj, result);\r\n    return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n        var _a;\r\n        return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n    })));\r\n}\r\nvar mergeObjectsProperties = function (key, what, withWhat) {\r\n    var right = withWhat[key];\r\n    if (right === undefined) {\r\n        return what;\r\n    }\r\n    var left = what[key];\r\n    if (!left || !right) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    if (typeof left === \"string\" ||\r\n        typeof left === \"number\" ||\r\n        typeof left === \"boolean\" ||\r\n        typeof right === \"string\" ||\r\n        typeof right === \"number\" ||\r\n        typeof right === \"boolean\" ||\r\n        Array.isArray(left) ||\r\n        Array.isArray(right)) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    what[key] = Object.assign({}, left, right);\r\n    return what;\r\n};\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if (!(x instanceof Object) || !(y instanceof Object)) {\r\n        return false;\r\n    }\r\n    if (x.constructor !== y.constructor) {\r\n        return false;\r\n    }\r\n    for (var p in x) {\r\n        if (!x.hasOwnProperty(p)) {\r\n            continue;\r\n        }\r\n        if (!y.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n        if (x[p] === y[p]) {\r\n            continue;\r\n        }\r\n        if (typeof (x[p]) !== \"object\") {\r\n            return false;\r\n        }\r\n        if (!deepEqual(x[p], y[p])) {\r\n            return false;\r\n        }\r\n    }\r\n    for (var p in y) {\r\n        if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction setValueToPath(obj, value, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        if (typeof obj[pathArr[i]] !== \"object\") {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    obj[pathArr[i]] = value;\r\n}\r\nfunction deletePath(obj, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            return;\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    delete obj[pathArr[i]];\r\n}\n\nvar GW3Bridge = (function () {\r\n    function GW3Bridge(config) {\r\n        var _this = this;\r\n        var _a;\r\n        this._contextNameToData = {};\r\n        this._gw3Subscriptions = [];\r\n        this._nextCallbackSubscriptionNumber = 0;\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        this._protocolVersion = undefined;\r\n        this._connection = config.connection;\r\n        this._logger = config.logger;\r\n        this._gw3Session = this._connection.domain(\"global\", [\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n        ]);\r\n        this.subscribeToContextCreatedMessages();\r\n        this.subscribeToContextUpdatedMessages();\r\n        this.subscribeToContextDestroyedMessages();\r\n        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n            var type = message.type;\r\n            if (!type) {\r\n                return;\r\n            }\r\n            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                _this.handleContextCreatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                _this.handleContextUpdatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                _this.handleContextDestroyedMessage(message);\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            if (!this._protocolVersion) {\r\n                var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n            }\r\n            return this._protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this.protocolVersion >= 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3Bridge.prototype.dispose = function () {\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        this._gw3Subscriptions.length = 0;\r\n        for (var contextName in this._contextNameToData) {\r\n            if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                delete this._contextNameToData[contextName];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.createContext = function (name, data) {\r\n        var _this = this;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_CREATE_CONTEXT,\r\n            domain: \"global\",\r\n            name: name,\r\n            data: data,\r\n            lifetime: \"retained\",\r\n        })\r\n            .then(function (createContextMsg) {\r\n            _this._contextNameToId[name] = createContextMsg.context_id;\r\n            _this._contextIdToName[createContextMsg.context_id] = name;\r\n            var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n            contextData.isAnnounced = true;\r\n            contextData.name = name;\r\n            contextData.contextId = createContextMsg.context_id;\r\n            contextData.context = data;\r\n            _this._contextNameToData[name] = contextData;\r\n            return createContextMsg.context_id;\r\n        });\r\n    };\r\n    GW3Bridge.prototype.all = function () {\r\n        var _this = this;\r\n        return Object.keys(this._contextNameToData)\r\n            .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n    };\r\n    GW3Bridge.prototype.update = function (name, delta) {\r\n        var _a;\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var contextData, currentContext, calculatedDelta;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        contextData = this._contextNameToData[name];\r\n                        if (!contextData || !contextData.isAnnounced) {\r\n                            return [2, this.createContext(name, delta)];\r\n                        }\r\n                        currentContext = contextData.context;\r\n                        if (!!contextData.hasCallbacks()) return [3, 2];\r\n                        return [4, this.get(contextData.name)];\r\n                    case 1:\r\n                        currentContext = _b.sent();\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        calculatedDelta = this.protocolVersion === 2 ?\r\n                            this.calculateContextDeltaV2(currentContext, delta) :\r\n                            this.calculateContextDeltaV1(currentContext, delta);\r\n                        if (!Object.keys(calculatedDelta.added).length\r\n                            && !Object.keys(calculatedDelta.updated).length\r\n                            && !calculatedDelta.removed.length\r\n                            && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                            return [2, Promise.resolve()];\r\n                        }\r\n                        return [2, this._gw3Session\r\n                                .send({\r\n                                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                domain: \"global\",\r\n                                context_id: contextData.contextId,\r\n                                delta: calculatedDelta,\r\n                            }, {}, { skipPeerId: false })\r\n                                .then(function (gwResponse) {\r\n                                _this.handleUpdated(contextData, calculatedDelta, {\r\n                                    updaterId: gwResponse.peer_id\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.set = function (name, data) {\r\n        var _this = this;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return this.createContext(name, data);\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { reset: data },\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.setPath = function (name, path, value) {\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        return this.setPaths(name, [{ path: path, value: value }]);\r\n    };\r\n    GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n        var _this = this;\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            var obj = {};\r\n            for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                var pathValue = pathValues_1[_i];\r\n                setValueToPath(obj, pathValue.value, pathValue.path);\r\n            }\r\n            return this.createContext(name, obj);\r\n        }\r\n        var commands = [];\r\n        for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n            var pathValue = pathValues_2[_a];\r\n            if (pathValue.value === null) {\r\n                commands.push({ type: \"remove\", path: pathValue.path });\r\n            }\r\n            else {\r\n                commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n            }\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { commands: commands }\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.get = function (name) {\r\n        var _this = this;\r\n        var _a;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return Promise.resolve({});\r\n        }\r\n        if (contextData && !contextData.hasCallbacks()) {\r\n            return new Promise(function (resolve, _) { return __awaiter$1(_this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    this.subscribe(name, function (data, _d, _r, un) {\r\n                        _this.unsubscribe(un);\r\n                        resolve(data);\r\n                    });\r\n                    return [2];\r\n                });\r\n            }); });\r\n        }\r\n        var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n        return Promise.resolve(context);\r\n    };\r\n    GW3Bridge.prototype.subscribe = function (name, callback) {\r\n        var thisCallbackSubscriptionNumber = this._nextCallbackSubscriptionNumber;\r\n        this._nextCallbackSubscriptionNumber += 1;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData ||\r\n            !contextData.isAnnounced) {\r\n            contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n            this._contextNameToData[name] = contextData;\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n        var hadCallbacks = contextData.hasCallbacks();\r\n        contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n        if (!hadCallbacks) {\r\n            if (!contextData.joinedActivity) {\r\n                if (contextData.context && contextData.sentExplicitSubscription) {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n                return this.sendSubscribe(contextData)\r\n                    .then(function () { return thisCallbackSubscriptionNumber; });\r\n            }\r\n            else {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        }\r\n        else {\r\n            var clone = deepClone(contextData.context);\r\n            callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n        for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var contextId = this._contextNameToId[name_1];\r\n            var contextData = this._contextNameToData[name_1];\r\n            if (!contextData) {\r\n                return;\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            delete contextData.updateCallbacks[subscriptionKey];\r\n            if (contextData.isAnnounced &&\r\n                hadCallbacks &&\r\n                !contextData.hasCallbacks() &&\r\n                contextData.sentExplicitSubscription) {\r\n                this.sendUnsubscribe(contextData);\r\n            }\r\n            if (!contextData.isAnnounced &&\r\n                !contextData.hasCallbacks()) {\r\n                delete this._contextNameToData[name_1];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.destroy = function (name) {\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData) {\r\n            return Promise.reject(\"context with \" + name + \" does not exist\");\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_DESTROY_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n        var oldContext = contextData.context;\r\n        contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n        if (this._contextNameToData[contextData.name] === contextData &&\r\n            !deepEqual(oldContext, contextData.context)) {\r\n            this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n        var createdMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n        ];\r\n        for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n            var createdMessageType = createdMessageTypes_1[_i];\r\n            var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n        var createdMessageType = contextCreatedMsg.type;\r\n        if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n            this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n        }\r\n        else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n            this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n        }\r\n        var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n        if (!name) {\r\n            throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n        }\r\n        if (!this._contextNameToId[name]) {\r\n            throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (contextData) {\r\n            if (contextData.isAnnounced) {\r\n                return;\r\n            }\r\n            else {\r\n                if (!contextData.hasCallbacks()) {\r\n                    throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                }\r\n                contextData.isAnnounced = true;\r\n                contextData.contextId = contextCreatedMsg.context_id;\r\n                contextData.activityId = contextCreatedMsg.activity_id;\r\n                if (!contextData.sentExplicitSubscription) {\r\n                    this.sendSubscribe(contextData);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._contextNameToData[name] = contextData =\r\n                new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n        var updatedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_JOINED_ACTIVITY,\r\n        ];\r\n        for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n            var updatedMessageType = updatedMessageTypes_1[_i];\r\n            var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n        var updatedMessageType = contextUpdatedMsg.type;\r\n        var contextId = contextUpdatedMsg.context_id;\r\n        var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n        var justSeen = !contextData || !contextData.isAnnounced;\r\n        if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            if (!contextData) {\r\n                contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n            }\r\n            else {\r\n                contextData.contextId = contextId;\r\n                contextData.isAnnounced = true;\r\n                contextData.activityId = contextUpdatedMsg.activity_id;\r\n            }\r\n            contextData.joinedActivity = true;\r\n        }\r\n        else {\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                    contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                    contextData.sentExplicitSubscription = true;\r\n                    this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                    this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                }\r\n                else {\r\n                    this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        var oldContext = contextData.context;\r\n        if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            contextData.context = contextUpdatedMsg.data || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n            contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n        }\r\n        else {\r\n            throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n        }\r\n        if (justSeen ||\r\n            !deepEqual(contextData.context, oldContext) ||\r\n            updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n        }\r\n    };\r\n    GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n        delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n        if (delta.commands) {\r\n            delta.added = delta.updated = delta.reset = {};\r\n            delta.removed = [];\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    if (command.path.indexOf(\".\") === -1) {\r\n                        delta.removed.push(command.path);\r\n                    }\r\n                    setValueToPath(delta.updated, null, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(delta.updated, command.value, command.path);\r\n                }\r\n            }\r\n        }\r\n        for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n            if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                try {\r\n                    var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                    updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                }\r\n                catch (err) {\r\n                    this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n        var destroyedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n        ];\r\n        for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n            var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n            var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n        var destroyedMessageType = destroyedMsg.type;\r\n        var contextId;\r\n        var name;\r\n        if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n            name = destroyedMsg.activity_id;\r\n            contextId = this._contextNameToId[name];\r\n            if (!contextId) {\r\n                this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            contextId = destroyedMsg.context_id;\r\n            name = this._contextIdToName[contextId];\r\n            if (!name) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                return;\r\n            }\r\n        }\r\n        delete this._contextIdToName[contextId];\r\n        delete this._contextNameToId[name];\r\n        var contextData = this._contextNameToData[name];\r\n        delete this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n            return;\r\n        }\r\n    };\r\n    GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = true;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = false;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n        if (from) {\r\n            for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                var x = _a[_i];\r\n                if (Object.keys(to).indexOf(x) !== -1\r\n                    && to[x] !== null\r\n                    && !deepEqual(from[x], to[x])) {\r\n                    delta.updated[x] = to[x];\r\n                }\r\n            }\r\n        }\r\n        for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n            var x = _c[_b];\r\n            if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                if (to[x] !== null) {\r\n                    delta.added[x] = to[x];\r\n                }\r\n            }\r\n            else if (to[x] === null) {\r\n                delta.removed.push(x);\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n        var _a, _b;\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n        for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n            var x = _c[_i];\r\n            if (to[x] !== null) {\r\n                var fromX = from ? from[x] : null;\r\n                if (!deepEqual(fromX, to[x])) {\r\n                    (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                }\r\n            }\r\n            else {\r\n                (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    return GW3Bridge;\r\n}());\n\nvar ContextsModule = (function () {\r\n    function ContextsModule(config) {\r\n        this._bridge = new GW3Bridge(config);\r\n    }\r\n    ContextsModule.prototype.all = function () {\r\n        return this._bridge.all();\r\n    };\r\n    ContextsModule.prototype.update = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.update(name, data);\r\n    };\r\n    ContextsModule.prototype.set = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.set(name, data);\r\n    };\r\n    ContextsModule.prototype.setPath = function (name, path, data) {\r\n        this.checkName(name);\r\n        this.checkPath(path);\r\n        var isTopLevelPath = path === \"\";\r\n        if (isTopLevelPath) {\r\n            this.checkData(data);\r\n            return this.set(name, data);\r\n        }\r\n        return this._bridge.setPath(name, path, data);\r\n    };\r\n    ContextsModule.prototype.setPaths = function (name, paths) {\r\n        this.checkName(name);\r\n        if (!Array.isArray(paths)) {\r\n            throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n        }\r\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n            var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(value);\r\n            }\r\n        }\r\n        return this._bridge.setPaths(name, paths);\r\n    };\r\n    ContextsModule.prototype.subscribe = function (name, callback) {\r\n        var _this = this;\r\n        this.checkName(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Please provide the callback as a function!\");\r\n        }\r\n        return this._bridge\r\n            .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n            .then(function (key) {\r\n            return function () {\r\n                _this._bridge.unsubscribe(key);\r\n            };\r\n        });\r\n    };\r\n    ContextsModule.prototype.get = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.get(name);\r\n    };\r\n    ContextsModule.prototype.ready = function () {\r\n        return Promise.resolve(this);\r\n    };\r\n    ContextsModule.prototype.destroy = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.destroy(name);\r\n    };\r\n    Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this._bridge.setPathSupported;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextsModule.prototype.checkName = function (name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n            throw new Error(\"Please provide the name as a non-empty string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkPath = function (path) {\r\n        if (typeof path !== \"string\") {\r\n            throw new Error(\"Please provide the path as a dot delimited string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkData = function (data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Please provide the data as an object!\");\r\n        }\r\n    };\r\n    return ContextsModule;\r\n}());\n\nfunction promisify (promise, successCallback, errorCallback) {\r\n    if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n        return promise;\r\n    }\r\n    if (typeof successCallback !== \"function\") {\r\n        successCallback = function () { };\r\n    }\r\n    else if (typeof errorCallback !== \"function\") {\r\n        errorCallback = function () { };\r\n    }\r\n    return promise.then(successCallback, errorCallback);\r\n}\n\nfunction rejectAfter(ms, promise, error) {\r\n    if (ms === void 0) { ms = 0; }\r\n    var timeout;\r\n    promise.finally(function () {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        timeout = setTimeout(function () { return reject(error); }, ms);\r\n    });\r\n}\n\nvar InvokeStatus;\r\n(function (InvokeStatus) {\r\n    InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n    InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n})(InvokeStatus || (InvokeStatus = {}));\r\nvar Client = (function () {\r\n    function Client(protocol, repo, instance, configuration) {\r\n        this.protocol = protocol;\r\n        this.repo = repo;\r\n        this.instance = instance;\r\n        this.configuration = configuration;\r\n    }\r\n    Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n        var _this = this;\r\n        var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n            var _a;\r\n            options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n            _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n        };\r\n        var promise = new Promise(function (resolve, reject) {\r\n            var successProxy = function (sub) {\r\n                resolve(sub);\r\n            };\r\n            var errorProxy = function (err) {\r\n                reject(err);\r\n            };\r\n            if (!method) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            var methodDef;\r\n            if (typeof method === \"string\") {\r\n                methodDef = { name: method };\r\n            }\r\n            else {\r\n                methodDef = method;\r\n            }\r\n            if (!methodDef.name) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            if (options === undefined) {\r\n                options = {};\r\n            }\r\n            var target = options.target;\r\n            if (target === undefined) {\r\n                target = \"best\";\r\n            }\r\n            if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                return;\r\n            }\r\n            if (options.methodResponseTimeout === undefined) {\r\n                options.methodResponseTimeout = options.method_response_timeout;\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                }\r\n            }\r\n            if (options.waitTimeoutMs === undefined) {\r\n                options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                }\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n            if (currentServers.length > 0) {\r\n                callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n            }\r\n            else {\r\n                var retry_1 = function () {\r\n                    if (!target || !(options.waitTimeoutMs)) {\r\n                        return;\r\n                    }\r\n                    delayTillNow += delayStep;\r\n                    currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                    if (currentServers.length > 0) {\r\n                        var streamInfo = currentServers[0].methods[0];\r\n                        callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                    }\r\n                    else if (delayTillNow >= options.waitTimeoutMs) {\r\n                        var def = typeof method === \"string\" ? { name: method } : method;\r\n                        callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                    }\r\n                    else {\r\n                        setTimeout(retry_1, delayStep);\r\n                    }\r\n                };\r\n                setTimeout(retry_1, delayStep);\r\n            }\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Client.prototype.servers = function (methodFilter) {\r\n        var filterCopy = methodFilter === undefined\r\n            ? undefined\r\n            : __assign$1({}, methodFilter);\r\n        return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n            return serverMethodMap.server.instance;\r\n        });\r\n    };\r\n    Client.prototype.methods = function (methodFilter) {\r\n        if (typeof methodFilter === \"string\") {\r\n            methodFilter = { name: methodFilter };\r\n        }\r\n        else {\r\n            methodFilter = __assign$1({}, methodFilter);\r\n        }\r\n        return this.getMethods(methodFilter);\r\n    };\r\n    Client.prototype.methodsForInstance = function (instance) {\r\n        return this.getMethodsForInstance(instance);\r\n    };\r\n    Client.prototype.methodAdded = function (callback) {\r\n        return this.repo.onMethodAdded(callback);\r\n    };\r\n    Client.prototype.methodRemoved = function (callback) {\r\n        return this.repo.onMethodRemoved(callback);\r\n    };\r\n    Client.prototype.serverAdded = function (callback) {\r\n        return this.repo.onServerAdded(callback);\r\n    };\r\n    Client.prototype.serverRemoved = function (callback) {\r\n        return this.repo.onServerRemoved(function (server, reason) {\r\n            callback(server, reason);\r\n        });\r\n    };\r\n    Client.prototype.serverMethodAdded = function (callback) {\r\n        return this.repo.onServerMethodAdded(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.serverMethodRemoved = function (callback) {\r\n        return this.repo.onServerMethodRemoved(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var getInvokePromise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                getInvokePromise = function () { return __awaiter$1(_this, void 0, void 0, function () {\r\n                    var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                    var _this = this;\r\n                    var _a;\r\n                    return __generator(this, function (_b) {\r\n                        switch (_b.label) {\r\n                            case 0:\r\n                                if (typeof methodFilter === \"string\") {\r\n                                    methodDefinition = { name: methodFilter };\r\n                                }\r\n                                else {\r\n                                    methodDefinition = __assign$1({}, methodFilter);\r\n                                }\r\n                                if (!methodDefinition.name) {\r\n                                    return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                }\r\n                                if (!argumentObj) {\r\n                                    argumentObj = {};\r\n                                }\r\n                                if (!target) {\r\n                                    target = \"best\";\r\n                                }\r\n                                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                }\r\n                                if (!additionalOptions) {\r\n                                    additionalOptions = {};\r\n                                }\r\n                                if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                    additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                    additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                }\r\n                                if (typeof argumentObj !== \"object\") {\r\n                                    return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                }\r\n                                serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                _b.label = 1;\r\n                            case 1:\r\n                                _b.trys.push([1, 3, , 4]);\r\n                                return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                            case 2:\r\n                                serversMethodMap = _b.sent();\r\n                                return [3, 4];\r\n                            case 3:\r\n                                err_1 = _b.sent();\r\n                                method = __assign$1(__assign$1({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [] });\r\n                                errorObj = {\r\n                                    method: method,\r\n                                    called_with: argumentObj,\r\n                                    message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                    executed_by: undefined,\r\n                                    returned: undefined,\r\n                                    status: undefined,\r\n                                };\r\n                                return [2, Promise.reject(errorObj)];\r\n                            case 4:\r\n                                timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                additionalOptionsCopy = additionalOptions;\r\n                                invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                    var invId = shortid();\r\n                                    var method = serversMethodPair.methods[0];\r\n                                    var server = serversMethodPair.server;\r\n                                    var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                    return Promise.race([\r\n                                        invokePromise,\r\n                                        rejectAfter(timeout, invokePromise, {\r\n                                            invocationId: invId,\r\n                                            message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                            status: InvokeStatus.Error,\r\n                                        })\r\n                                    ]);\r\n                                });\r\n                                return [4, Promise.all(invokePromises)];\r\n                            case 5:\r\n                                invocationMessages = _b.sent();\r\n                                results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                if (allRejected) {\r\n                                    return [2, Promise.reject(results)];\r\n                                }\r\n                                return [2, results];\r\n                        }\r\n                    });\r\n                }); };\r\n                return [2, promisify(getInvokePromise(), success, error)];\r\n            });\r\n        });\r\n    };\r\n    Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n        var all_return_values = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n            .reduce(function (allValues, currentValue) {\r\n            allValues = __spreadArrays(allValues, [\r\n                {\r\n                    executed_by: currentValue.instance,\r\n                    returned: currentValue.result,\r\n                    called_with: calledWith,\r\n                    method: method,\r\n                    message: currentValue.message,\r\n                    status: currentValue.status,\r\n                }\r\n            ]);\r\n            return allValues;\r\n        }, []);\r\n        var all_errors = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n            .reduce(function (allErrors, currError) {\r\n            allErrors = __spreadArrays(allErrors, [\r\n                {\r\n                    executed_by: currError.instance,\r\n                    called_with: calledWith,\r\n                    name: method.name,\r\n                    message: currError.message,\r\n                }\r\n            ]);\r\n            return allErrors;\r\n        }, []);\r\n        var invResult = invocationResults[0];\r\n        var result = {\r\n            method: method,\r\n            called_with: calledWith,\r\n            returned: invResult.result,\r\n            executed_by: invResult.instance,\r\n            all_return_values: all_return_values,\r\n            all_errors: all_errors,\r\n            message: invResult.message,\r\n            status: invResult.status\r\n        };\r\n        return result;\r\n    };\r\n    Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (additionalOptions.waitTimeoutMs === 0) {\r\n                reject();\r\n                return;\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var retry = function () {\r\n                delayTillNow += delayStep;\r\n                var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                if (serversMethodMap.length > 0) {\r\n                    clearInterval(interval);\r\n                    resolve(serversMethodMap);\r\n                }\r\n                else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                    clearInterval(interval);\r\n                    reject();\r\n                    return;\r\n                }\r\n            };\r\n            var interval = setInterval(retry, delayStep);\r\n        });\r\n    };\r\n    Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n        var _this = this;\r\n        if (typeof target === \"string\") {\r\n            if (target === \"all\") {\r\n                return __spreadArrays(serverMethodMap);\r\n            }\r\n            else if (target === \"best\") {\r\n                var localMachine = serverMethodMap\r\n                    .find(function (s) { return s.server.instance.isLocal; });\r\n                if (localMachine) {\r\n                    return [localMachine];\r\n                }\r\n                if (serverMethodMap[0] !== undefined) {\r\n                    return [serverMethodMap[0]];\r\n                }\r\n            }\r\n            else if (target === \"skipMine\") {\r\n                return serverMethodMap.filter(function (_a) {\r\n                    var server = _a.server;\r\n                    return server.instance.peerId !== _this.instance.peerId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            var targetArray = void 0;\r\n            if (!Array.isArray(target)) {\r\n                targetArray = [target];\r\n            }\r\n            else {\r\n                targetArray = target;\r\n            }\r\n            var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                    return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                });\r\n                return matches.concat(myMatches);\r\n            }, []);\r\n            return allServersMatching;\r\n        }\r\n        return [];\r\n    };\r\n    Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n        return this.containsProps(instanceFilter, instanceDefinition);\r\n    };\r\n    Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n        return this.containsProps(methodFilter, methodDefinition);\r\n    };\r\n    Client.prototype.containsProps = function (filter, repoMethod) {\r\n        var filterProps = Object.keys(filter)\r\n            .filter(function (prop) {\r\n            return filter[prop] !== undefined\r\n                && typeof filter[prop] !== \"function\"\r\n                && prop !== \"object_types\"\r\n                && prop !== \"display_name\"\r\n                && prop !== \"id\"\r\n                && prop !== \"gatewayId\"\r\n                && prop !== \"identifier\"\r\n                && prop[0] !== \"_\";\r\n        });\r\n        return filterProps.reduce(function (isMatch, prop) {\r\n            var filterValue = filter[prop];\r\n            var repoMethodValue = repoMethod[prop];\r\n            if (prop === \"objectTypes\") {\r\n                var containsAllFromFilter = function (filterObjTypes, repoObjectTypes) {\r\n                    var objTypeToContains = filterObjTypes.reduce(function (object, objType) {\r\n                        object[objType] = false;\r\n                        return object;\r\n                    }, {});\r\n                    repoObjectTypes.forEach(function (repoObjType) {\r\n                        if (objTypeToContains[repoObjType] !== undefined) {\r\n                            objTypeToContains[repoObjType] = true;\r\n                        }\r\n                    });\r\n                    var filterIsFullfilled = function () { return Object.keys(objTypeToContains).reduce(function (isFullfiled, objType) {\r\n                        if (!objTypeToContains[objType]) {\r\n                            isFullfiled = false;\r\n                        }\r\n                        return isFullfiled;\r\n                    }, true); };\r\n                    return filterIsFullfilled();\r\n                };\r\n                if (filterValue.length > repoMethodValue.length\r\n                    || containsAllFromFilter(filterValue, repoMethodValue) === false) {\r\n                    isMatch = false;\r\n                }\r\n            }\r\n            else if (String(filterValue).toLowerCase() !== String(repoMethodValue).toLowerCase()) {\r\n                isMatch = false;\r\n            }\r\n            return isMatch;\r\n        }, true);\r\n    };\r\n    Client.prototype.getMethods = function (methodFilter) {\r\n        var _this = this;\r\n        if (methodFilter === undefined) {\r\n            return this.repo.getMethods();\r\n        }\r\n        var methods = this.repo.getMethods().filter(function (method) {\r\n            return _this.methodMatch(methodFilter, method);\r\n        });\r\n        return methods;\r\n    };\r\n    Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n        var _this = this;\r\n        var allServers = this.repo.getServers();\r\n        var matchingServers = allServers.filter(function (server) {\r\n            return _this.instanceMatch(instanceFilter, server.instance);\r\n        });\r\n        if (matchingServers.length === 0) {\r\n            return [];\r\n        }\r\n        var resultMethodsObject = {};\r\n        if (matchingServers.length === 1) {\r\n            resultMethodsObject = matchingServers[0].methods;\r\n        }\r\n        else {\r\n            matchingServers.forEach(function (server) {\r\n                Object.keys(server.methods).forEach(function (methodKey) {\r\n                    var method = server.methods[methodKey];\r\n                    resultMethodsObject[method.identifier] = method;\r\n                });\r\n            });\r\n        }\r\n        return Object.keys(resultMethodsObject)\r\n            .map(function (key) {\r\n            return resultMethodsObject[key];\r\n        });\r\n    };\r\n    Client.prototype.getServers = function (methodFilter) {\r\n        var _this = this;\r\n        var servers = this.repo.getServers();\r\n        if (methodFilter === undefined) {\r\n            return servers.map(function (server) {\r\n                return { server: server, methods: [] };\r\n            });\r\n        }\r\n        return servers.reduce(function (prev, current) {\r\n            var methodsForServer = _this.repo.getServerMethodsById(current.id);\r\n            var matchingMethods = methodsForServer.filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            if (matchingMethods.length > 0) {\r\n                prev.push({ server: current, methods: matchingMethods });\r\n            }\r\n            return prev;\r\n        }, []);\r\n    };\r\n    Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n        var serversMethodMap = this.getServers(methodFilter);\r\n        return this.filterByTarget(target, serversMethodMap);\r\n    };\r\n    return Client;\r\n}());\n\nvar ServerSubscription = (function () {\r\n    function ServerSubscription(protocol, repoMethod, subscription) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.subscription = subscription;\r\n    }\r\n    Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            if (!this.repoMethod.stream) {\r\n                throw new Error(\"no stream\");\r\n            }\r\n            return this.repoMethod.stream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n        get: function () { return this.subscription.arguments || {}; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n        get: function () { return this.subscription.branchKey; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n        get: function () {\r\n            if (!this.subscription.instance) {\r\n                throw new Error(\"no instance\");\r\n            }\r\n            return this.subscription.instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerSubscription.prototype.close = function () {\r\n        this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n    };\r\n    ServerSubscription.prototype.push = function (data) {\r\n        this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n    };\r\n    return ServerSubscription;\r\n}());\n\nvar Request = (function () {\r\n    function Request(protocol, repoMethod, requestContext) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.requestContext = requestContext;\r\n        this.arguments = requestContext.arguments;\r\n        this.instance = requestContext.instance;\r\n    }\r\n    Request.prototype.accept = function () {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n    };\r\n    Request.prototype.acceptOnBranch = function (branch) {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n    };\r\n    Request.prototype.reject = function (reason) {\r\n        this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n    };\r\n    return Request;\r\n}());\n\nvar ServerStreaming = (function () {\r\n    function ServerStreaming(protocol, server) {\r\n        var _this = this;\r\n        this.protocol = protocol;\r\n        this.server = server;\r\n        protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n        protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n        protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n    }\r\n    ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var request = new Request(this.protocol, repoMethod, requestContext);\r\n        repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n    };\r\n    ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n    };\r\n    ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerBranch = (function () {\r\n    function ServerBranch(key, protocol, repoMethod) {\r\n        this.key = key;\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n    }\r\n    ServerBranch.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n        });\r\n    };\r\n    ServerBranch.prototype.close = function () {\r\n        this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n    };\r\n    ServerBranch.prototype.push = function (data) {\r\n        this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n    };\r\n    return ServerBranch;\r\n}());\n\nvar ServerStream = (function () {\r\n    function ServerStream(_protocol, _repoMethod, _server) {\r\n        this._protocol = _protocol;\r\n        this._repoMethod = _repoMethod;\r\n        this._server = _server;\r\n        this.name = this._repoMethod.definition.name;\r\n    }\r\n    ServerStream.prototype.branches = function (key) {\r\n        var _this = this;\r\n        var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n        if (key) {\r\n            if (bList.indexOf(key) > -1) {\r\n                return new ServerBranch(key, this._protocol, this._repoMethod);\r\n            }\r\n            return undefined;\r\n        }\r\n        else {\r\n            return bList.map(function (branchKey) {\r\n                return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n            });\r\n        }\r\n    };\r\n    ServerStream.prototype.branch = function (key) {\r\n        return this.branches(key);\r\n    };\r\n    ServerStream.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n        });\r\n    };\r\n    Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n        get: function () {\r\n            var def2 = this._repoMethod.definition;\r\n            return {\r\n                accepts: def2.accepts,\r\n                description: def2.description,\r\n                displayName: def2.displayName,\r\n                name: def2.name,\r\n                objectTypes: def2.objectTypes,\r\n                returns: def2.returns,\r\n                supportsStreaming: def2.supportsStreaming,\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerStream.prototype.close = function () {\r\n        this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n        this._server.unregister(this._repoMethod.definition, true);\r\n    };\r\n    ServerStream.prototype.push = function (data, branches) {\r\n        if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n            throw new Error(\"invalid branches should be string or string array\");\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        this._protocol.server.pushData(this._repoMethod, data, branches);\r\n    };\r\n    ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n        this._repoMethod = repoMethod;\r\n    };\r\n    return ServerStream;\r\n}());\n\nvar Server = (function () {\r\n    function Server(protocol, serverRepository) {\r\n        this.protocol = protocol;\r\n        this.serverRepository = serverRepository;\r\n        this.invocations = 0;\r\n        this.currentlyUnregistering = {};\r\n        this.streaming = new ServerStreaming(protocol, this);\r\n        this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n    }\r\n    Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n        var _this = this;\r\n        var promise = new Promise(function (resolve, reject) {\r\n            if (!streamDef) {\r\n                reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                return;\r\n            }\r\n            var streamMethodDefinition;\r\n            if (typeof streamDef === \"string\") {\r\n                streamMethodDefinition = { name: \"\" + streamDef };\r\n            }\r\n            else {\r\n                streamMethodDefinition = __assign$1({}, streamDef);\r\n            }\r\n            if (!streamMethodDefinition.name) {\r\n                return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n            }\r\n            var nameAlreadyExists = _this.serverRepository.getList()\r\n                .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n            if (nameAlreadyExists) {\r\n                return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n            }\r\n            streamMethodDefinition.supportsStreaming = true;\r\n            if (!callbacks) {\r\n                callbacks = {};\r\n            }\r\n            if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                callbacks.subscriptionRequestHandler = function (request) {\r\n                    request.accept();\r\n                };\r\n            }\r\n            var repoMethod = _this.serverRepository.add({\r\n                definition: streamMethodDefinition,\r\n                streamCallbacks: callbacks,\r\n                protocolState: {},\r\n            });\r\n            _this.protocol.server.createStream(repoMethod)\r\n                .then(function () {\r\n                var streamUserObject;\r\n                if (existingStream) {\r\n                    streamUserObject = existingStream;\r\n                    existingStream.updateRepoMethod(repoMethod);\r\n                }\r\n                else {\r\n                    streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                }\r\n                repoMethod.stream = streamUserObject;\r\n                resolve(streamUserObject);\r\n            })\r\n                .catch(function (err) {\r\n                if (repoMethod.repoId) {\r\n                    _this.serverRepository.remove(repoMethod.repoId);\r\n                }\r\n                reject(err);\r\n            });\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Server.prototype.register = function (methodDefinition, callback) {\r\n        var _this = this;\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var result, resultValue, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        result = callback(context.args, context.instance);\r\n                        if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                        return [4, result];\r\n                    case 1:\r\n                        resultValue = _a.sent();\r\n                        resultCallback(undefined, resultValue);\r\n                        return [3, 3];\r\n                    case 2:\r\n                        resultCallback(undefined, result);\r\n                        _a.label = 3;\r\n                    case 3: return [3, 5];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        if (!e_1) {\r\n                            e_1 = \"\";\r\n                        }\r\n                        resultCallback(e_1, e_1);\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        }); };\r\n        wrappedCallbackFunction.userCallback = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n    };\r\n    Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallback = function (context, resultCallback) {\r\n            try {\r\n                var resultCalled_1 = false;\r\n                var success = function (result) {\r\n                    if (!resultCalled_1) {\r\n                        resultCallback(undefined, result);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var error = function (e) {\r\n                    if (!resultCalled_1) {\r\n                        if (!e) {\r\n                            e = \"\";\r\n                        }\r\n                        resultCallback(e, e);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var methodResult = callback(context.args, context.instance, success, error);\r\n                if (methodResult && typeof methodResult.then === \"function\") {\r\n                    methodResult\r\n                        .then(success)\r\n                        .catch(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                resultCallback(e, undefined);\r\n            }\r\n        };\r\n        wrappedCallback.userCallbackAsync = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallback);\r\n    };\r\n    Server.prototype.unregister = function (methodFilter, forStream) {\r\n        if (forStream === void 0) { forStream = false; }\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var methodDefinition, methodToBeRemoved;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (methodFilter === undefined) {\r\n                            return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                        }\r\n                        if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                        return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 2:\r\n                        if (typeof methodFilter === \"string\") {\r\n                            methodDefinition = { name: methodFilter };\r\n                        }\r\n                        else {\r\n                            methodDefinition = methodFilter;\r\n                        }\r\n                        if (methodDefinition.name === undefined) {\r\n                            return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                        }\r\n                        methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                            return serverMethod.definition.name === methodDefinition.name\r\n                                && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodToBeRemoved) {\r\n                            return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var methodsOrStreamsToRemove;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                            .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                            .filter(function (serverMethod) {\r\n                            return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                            return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n        var _this = this;\r\n        var methodUnregPromises = [];\r\n        methodsToRemove.forEach(function (method) {\r\n            var promise = _this.protocol.server.unregister(method)\r\n                .then(function () {\r\n                if (method.repoId) {\r\n                    _this.serverRepository.remove(method.repoId);\r\n                }\r\n            });\r\n            methodUnregPromises.push(promise);\r\n            _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n        });\r\n        return Promise.all(methodUnregPromises);\r\n    };\r\n    Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var timeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                    delete _this.currentlyUnregistering[methodName];\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.registerCore = function (method, theFunction) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof method === \"string\") {\r\n                            methodDefinition = { name: \"\" + method };\r\n                        }\r\n                        else {\r\n                            methodDefinition = __assign$1({}, method);\r\n                        }\r\n                        if (!methodDefinition.name) {\r\n                            return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                        }\r\n                        unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                        if (!unregisterInProgress) return [3, 2];\r\n                        return [4, unregisterInProgress];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        nameAlreadyExists = this.serverRepository.getList()\r\n                            .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                        if (nameAlreadyExists) {\r\n                            return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                        }\r\n                        if (methodDefinition.supportsStreaming) {\r\n                            return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                        }\r\n                        repoMethod = this.serverRepository.add({\r\n                            definition: methodDefinition,\r\n                            theFunction: theFunction,\r\n                            protocolState: {},\r\n                        });\r\n                        return [2, this.protocol.server.register(repoMethod)\r\n                                .catch(function (err) {\r\n                                if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                    _this.serverRepository.remove(repoMethod.repoId);\r\n                                }\r\n                                throw err;\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n        var _this = this;\r\n        if (!methodToExecute || !methodToExecute.theFunction) {\r\n            return;\r\n        }\r\n        methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n            if (err !== undefined && err !== null) {\r\n                if (err.message && typeof err.message === \"string\") {\r\n                    err = err.message;\r\n                }\r\n                else if (typeof err !== \"string\") {\r\n                    try {\r\n                        err = JSON.stringify(err);\r\n                    }\r\n                    catch (unStrException) {\r\n                        err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                    }\r\n                }\r\n            }\r\n            if (!result) {\r\n                result = {};\r\n            }\r\n            else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                result = { _value: result };\r\n            }\r\n            _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n        });\r\n    };\r\n    return Server;\r\n}());\n\nvar InstanceWrapper = (function () {\r\n    function InstanceWrapper(instance, connection) {\r\n        var _this = this;\r\n        this.wrapped = {\r\n            getMethods: getMethods,\r\n            getStreams: getStreams,\r\n        };\r\n        if (instance) {\r\n            this.refreshWrappedObject(instance);\r\n        }\r\n        if (connection) {\r\n            connection.loggedIn(function () {\r\n                _this.refresh(connection);\r\n            });\r\n            this.refresh(connection);\r\n        }\r\n    }\r\n    InstanceWrapper.prototype.unwrap = function () {\r\n        return this.wrapped;\r\n    };\r\n    InstanceWrapper.prototype.refresh = function (connection) {\r\n        if (!connection) {\r\n            return;\r\n        }\r\n        var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n        var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n        this.refreshWrappedObject(instance);\r\n    };\r\n    InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n        var _a, _b, _c;\r\n        this.wrapped.user = resolvedIdentity.user;\r\n        this.wrapped.instance = resolvedIdentity.instance;\r\n        this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n        this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n        this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n        this.wrapped.machine = resolvedIdentity.machine;\r\n        this.wrapped.environment = resolvedIdentity.environment;\r\n        this.wrapped.region = resolvedIdentity.region;\r\n        this.wrapped.windowId = resolvedIdentity.windowId;\r\n        this.wrapped.isLocal = true;\r\n        this.wrapped.api = resolvedIdentity.api;\r\n        this.wrapped.service = resolvedIdentity.service;\r\n        this.wrapped.peerId = resolvedIdentity.peerId;\r\n    };\r\n    return InstanceWrapper;\r\n}());\r\nfunction getMethods() {\r\n    var _a;\r\n    return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this);\r\n}\r\nfunction getStreams() {\r\n    var _a;\r\n    return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n}\n\nvar ClientRepository = (function () {\r\n    function ClientRepository(logger) {\r\n        this.logger = logger;\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n        this.callbacks = lib$1();\r\n    }\r\n    ClientRepository.prototype.addServer = function (info, serverId) {\r\n        this.logger.debug(\"adding server \" + serverId);\r\n        var current = this.servers[serverId];\r\n        if (current) {\r\n            return current.id;\r\n        }\r\n        var wrapper = new InstanceWrapper(info);\r\n        var serverEntry = {\r\n            id: serverId,\r\n            methods: {},\r\n            instance: wrapper.unwrap(),\r\n            wrapper: wrapper,\r\n        };\r\n        this.servers[serverId] = serverEntry;\r\n        this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n        return serverId;\r\n    };\r\n    ClientRepository.prototype.removeServerById = function (id, reason) {\r\n        var _this = this;\r\n        var server = this.servers[id];\r\n        if (!server) {\r\n            this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n            return;\r\n        }\r\n        else {\r\n            this.logger.debug(\"removing server \" + id);\r\n        }\r\n        Object.keys(server.methods).forEach(function (methodId) {\r\n            _this.removeServerMethod(id, methodId);\r\n        });\r\n        delete this.servers[id];\r\n        this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n    };\r\n    ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        if (server.methods[method.id]) {\r\n            return;\r\n        }\r\n        var identifier = this.createMethodIdentifier(method);\r\n        var that = this;\r\n        var methodDefinition = {\r\n            identifier: identifier,\r\n            gatewayId: method.id,\r\n            name: method.name,\r\n            displayName: method.display_name,\r\n            description: method.description,\r\n            version: method.version,\r\n            objectTypes: method.object_types || [],\r\n            accepts: method.input_signature,\r\n            returns: method.result_signature,\r\n            supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n            getServers: function () {\r\n                return that.getServersByMethod(identifier);\r\n            }\r\n        };\r\n        methodDefinition.object_types = methodDefinition.objectTypes;\r\n        methodDefinition.display_name = methodDefinition.displayName;\r\n        methodDefinition.version = methodDefinition.version;\r\n        server.methods[method.id] = methodDefinition;\r\n        if (!this.methodsCount[identifier]) {\r\n            this.methodsCount[identifier] = 0;\r\n            this.callbacks.execute(\"onMethodAdded\", methodDefinition);\r\n        }\r\n        this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n        this.callbacks.execute(\"onServerMethodAdded\", server.instance, methodDefinition);\r\n        return methodDefinition;\r\n    };\r\n    ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        var method = server.methods[methodId];\r\n        delete server.methods[methodId];\r\n        this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n        if (this.methodsCount[method.identifier] === 0) {\r\n            this.callbacks.execute(\"onMethodRemoved\", method);\r\n        }\r\n        this.callbacks.execute(\"onServerMethodRemoved\", server.instance, method);\r\n    };\r\n    ClientRepository.prototype.getMethods = function () {\r\n        var _this = this;\r\n        var allMethods = {};\r\n        Object.keys(this.servers).forEach(function (serverId) {\r\n            var server = _this.servers[serverId];\r\n            Object.keys(server.methods).forEach(function (methodId) {\r\n                var method = server.methods[methodId];\r\n                allMethods[method.identifier] = method;\r\n            });\r\n        });\r\n        var methodsAsArray = Object.keys(allMethods).map(function (id) {\r\n            return allMethods[id];\r\n        });\r\n        return methodsAsArray;\r\n    };\r\n    ClientRepository.prototype.getServers = function () {\r\n        var _this = this;\r\n        var allServers = [];\r\n        Object.keys(this.servers).forEach(function (serverId) {\r\n            var server = _this.servers[serverId];\r\n            allServers.push(server);\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.getServerMethodsById = function (serverId) {\r\n        var server = this.servers[serverId];\r\n        return Object.keys(server.methods).map(function (id) {\r\n            return server.methods[id];\r\n        });\r\n    };\r\n    ClientRepository.prototype.onServerAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n        var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n        var methodsToReplay = this.getMethods();\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n        var unsubCalled = false;\r\n        var servers = this.getServers();\r\n        setTimeout(function () {\r\n            servers.forEach(function (server) {\r\n                var methods = server.methods;\r\n                Object.keys(methods).forEach(function (methodId) {\r\n                    if (!unsubCalled) {\r\n                        callback(server.instance, methods[methodId]);\r\n                    }\r\n                });\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.getServerById = function (id) {\r\n        return this.servers[id];\r\n    };\r\n    ClientRepository.prototype.reset = function () {\r\n        var _this = this;\r\n        Object.keys(this.servers).forEach(function (key) {\r\n            _this.removeServerById(key, \"reset\");\r\n        });\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n    };\r\n    ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n        var accepts = methodInfo.input_signature !== undefined ? methodInfo.input_signature : \"\";\r\n        var returns = methodInfo.result_signature !== undefined ? methodInfo.result_signature : \"\";\r\n        return (methodInfo.name + accepts + returns).toLowerCase();\r\n    };\r\n    ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n        var _this = this;\r\n        var allServers = [];\r\n        Object.keys(this.servers).forEach(function (serverId) {\r\n            var server = _this.servers[serverId];\r\n            Object.keys(server.methods).forEach(function (methodId) {\r\n                var methodInfo = server.methods[methodId];\r\n                if (methodInfo.identifier === identifier) {\r\n                    allServers.push(server.instance);\r\n                }\r\n            });\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n        var unsubCalled = false;\r\n        setTimeout(function () {\r\n            collectionToReplay.forEach(function (item) {\r\n                if (!unsubCalled) {\r\n                    callback(item);\r\n                }\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    return ClientRepository;\r\n}());\n\nvar ServerRepository = (function () {\r\n    function ServerRepository() {\r\n        this.nextId = 0;\r\n        this.methods = [];\r\n    }\r\n    ServerRepository.prototype.add = function (method) {\r\n        method.repoId = String(this.nextId);\r\n        this.nextId += 1;\r\n        this.methods.push(method);\r\n        return method;\r\n    };\r\n    ServerRepository.prototype.remove = function (repoId) {\r\n        if (typeof repoId !== \"string\") {\r\n            return new TypeError(\"Expecting a string\");\r\n        }\r\n        this.methods = this.methods.filter(function (m) {\r\n            return m.repoId !== repoId;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getById = function (id) {\r\n        if (typeof id !== \"string\") {\r\n            return undefined;\r\n        }\r\n        return this.methods.find(function (m) {\r\n            return m.repoId === id;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getList = function () {\r\n        return this.methods.map(function (m) { return m; });\r\n    };\r\n    ServerRepository.prototype.length = function () {\r\n        return this.methods.length;\r\n    };\r\n    ServerRepository.prototype.reset = function () {\r\n        this.methods = [];\r\n    };\r\n    return ServerRepository;\r\n}());\n\nvar SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\nvar SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\nvar SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\nvar ServerStreaming$1 = (function () {\r\n    function ServerStreaming(session, repository, serverRepository) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.serverRepository = serverRepository;\r\n        this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n        this.callbacks = lib$1();\r\n        this.nextStreamId = 0;\r\n        session.on(\"add-interest\", function (msg) {\r\n            _this.handleAddInterest(msg);\r\n        });\r\n        session.on(\"remove-interest\", function (msg) {\r\n            _this.handleRemoveInterest(msg);\r\n        });\r\n    }\r\n    ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n        if (typeof branch !== \"string\") {\r\n            branch = \"\";\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n        }\r\n        if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            throw new TypeError(\"The streaming method is missing its branches.\");\r\n        }\r\n        var streamId = this.getStreamId(streamingMethod, branch);\r\n        var key = requestContext.msg.subscription_id;\r\n        var subscription = {\r\n            id: key,\r\n            arguments: requestContext.arguments,\r\n            instance: requestContext.instance,\r\n            branchKey: branch,\r\n            streamId: streamId,\r\n            subscribeMsg: requestContext.msg,\r\n        };\r\n        streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n        this.session.sendFireAndForget({\r\n            type: \"accepted\",\r\n            subscription_id: key,\r\n            stream_id: streamId,\r\n        });\r\n        this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n        if (typeof reason !== \"string\") {\r\n            reason = \"\";\r\n        }\r\n        this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n    };\r\n    ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            return;\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        if (typeof branches === \"string\") {\r\n            branches = [branches];\r\n        }\r\n        else if (!Array.isArray(branches) || branches.length <= 0) {\r\n            branches = [];\r\n        }\r\n        var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n            .filter(function (br) {\r\n            if (!branches || branches.length === 0) {\r\n                return true;\r\n            }\r\n            return branches.indexOf(br.key) >= 0;\r\n        }).map(function (br) {\r\n            return br.streamId;\r\n        });\r\n        streamIdList.forEach(function (streamId) {\r\n            var publishMessage = {\r\n                type: \"publish\",\r\n                stream_id: streamId,\r\n                data: data,\r\n            };\r\n            _this.session.sendFireAndForget(publishMessage);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        var postMessage = {\r\n            type: \"post\",\r\n            subscription_id: subscription.id,\r\n            data: data,\r\n        };\r\n        this.session.sendFireAndForget(postMessage);\r\n    };\r\n    ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n        if (streamingMethod.protocolState.subscriptionsMap) {\r\n            delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n        }\r\n        var dropSubscriptionMessage = {\r\n            type: \"drop-subscription\",\r\n            subscription_id: subscription.id,\r\n            reason: \"Server dropping a single subscription\",\r\n        };\r\n        this.session.sendFireAndForget(dropSubscriptionMessage);\r\n        var subscriber = subscription.instance;\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey === \"string\") {\r\n            subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        subscriptionsToClose.forEach(function (subscription) {\r\n            delete subscriptionsMap[subscription.id];\r\n            var drop = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n            };\r\n            _this.session.sendFireAndForget(drop);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        var subscriptions = [];\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey !== \"string\") {\r\n            subscriptions = allSubscriptions;\r\n        }\r\n        else {\r\n            subscriptions = allSubscriptions.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        return subscriptions;\r\n    };\r\n    ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        var result = [];\r\n        allSubscriptions.forEach(function (sub) {\r\n            var branch = \"\";\r\n            if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                branch = sub.branchKey;\r\n            }\r\n            if (result.indexOf(branch) === -1) {\r\n                result.push(branch);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ServerStreaming.prototype.onSubAdded = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRequest = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n    };\r\n    ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (typeof msg.subscription_id !== \"string\" ||\r\n            typeof streamingMethod !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n            return;\r\n        }\r\n        var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n        this.callbacks.add(eventName, handlerFunc);\r\n    };\r\n    ServerStreaming.prototype.getNextStreamId = function () {\r\n        return this.nextStreamId++ + \"\";\r\n    };\r\n    ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n        var caller = this.repository.getServerById(msg.caller_id);\r\n        var instance = caller.instance;\r\n        var requestContext = {\r\n            msg: msg,\r\n            arguments: msg.arguments_kv || {},\r\n            instance: instance,\r\n        };\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (streamingMethod === undefined) {\r\n            var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n            this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n            return;\r\n        }\r\n        if (streamingMethod.protocolState.subscriptionsMap &&\r\n            streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n            this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n            return;\r\n        }\r\n        this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n        var errorMessage = {\r\n            type: \"error\",\r\n            reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n            reason: reason,\r\n            request_id: subscriptionId,\r\n        };\r\n        this.session.sendFireAndForget(errorMessage);\r\n    };\r\n    ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n        if (typeof branchKey !== \"string\") {\r\n            branchKey = \"\";\r\n        }\r\n        if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n            throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n        }\r\n        var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n            return branch.key === branchKey;\r\n        })[0];\r\n        var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n        if (typeof streamId !== \"string\" || streamId === \"\") {\r\n            streamId = this.getNextStreamId();\r\n            streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n        }\r\n        return streamId;\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerProtocol = (function () {\r\n    function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.clientRepository = clientRepository;\r\n        this.serverRepository = serverRepository;\r\n        this.logger = logger;\r\n        this.callbacks = lib$1();\r\n        this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n        this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n    }\r\n    ServerProtocol.prototype.createStream = function (repoMethod) {\r\n        repoMethod.protocolState.subscriptionsMap = {};\r\n        repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n        return this.register(repoMethod, true);\r\n    };\r\n    ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n        var _this = this;\r\n        var methodDef = repoMethod.definition;\r\n        var flags = { streaming: isStreaming || false };\r\n        var registerMsg = {\r\n            type: \"register\",\r\n            methods: [{\r\n                    id: repoMethod.repoId,\r\n                    name: methodDef.name,\r\n                    display_name: methodDef.displayName,\r\n                    description: methodDef.description,\r\n                    version: methodDef.version,\r\n                    flags: flags,\r\n                    object_types: methodDef.objectTypes || methodDef.object_types,\r\n                    input_signature: methodDef.accepts,\r\n                    result_signature: methodDef.returns,\r\n                    restrictions: undefined,\r\n                }],\r\n        };\r\n        return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n            .then(function () {\r\n            _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n        })\r\n            .catch(function (msg) {\r\n            _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n            throw msg;\r\n        });\r\n    };\r\n    ServerProtocol.prototype.onInvoked = function (callback) {\r\n        this.callbacks.add(\"onInvoked\", callback);\r\n    };\r\n    ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n        var msg;\r\n        if (err || err === \"\") {\r\n            msg = {\r\n                type: \"error\",\r\n                request_id: invocationId,\r\n                reason_uri: \"agm.errors.client_error\",\r\n                reason: err,\r\n                context: result,\r\n                peer_id: undefined,\r\n            };\r\n        }\r\n        else {\r\n            msg = {\r\n                type: \"yield\",\r\n                invocation_id: invocationId,\r\n                peer_id: this.session.peerId,\r\n                result: result,\r\n                request_id: undefined,\r\n            };\r\n        }\r\n        this.session.sendFireAndForget(msg);\r\n    };\r\n    ServerProtocol.prototype.unregister = function (method) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var msg;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        msg = {\r\n                            type: \"unregister\",\r\n                            methods: [method.repoId],\r\n                        };\r\n                        return [4, this.session.send(msg)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerProtocol.prototype.getBranchList = function (method) {\r\n        return this.streaming.getBranchList(method);\r\n    };\r\n    ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n        return this.streaming.getSubscriptionList(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n        this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n        this.streaming.pushData(method, data, branches);\r\n    };\r\n    ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        this.streaming.pushDataToSingle(method, subscription, data);\r\n    };\r\n    ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n        this.streaming.closeSingleSubscription(method, subscription);\r\n    };\r\n    ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n        this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n    };\r\n    ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n        this.streaming.rejectRequest(requestContext, method, reason);\r\n    };\r\n    ServerProtocol.prototype.onSubRequest = function (callback) {\r\n        this.streaming.onSubRequest(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubAdded = function (callback) {\r\n        this.streaming.onSubAdded(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n        this.streaming.onSubRemoved(callback);\r\n    };\r\n    ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n        var invocationId = msg.invocation_id;\r\n        var callerId = msg.caller_id;\r\n        var methodId = msg.method_id;\r\n        var args = msg.arguments_kv;\r\n        var methodList = this.serverRepository.getList();\r\n        var method = methodList.filter(function (m) {\r\n            return m.repoId === methodId;\r\n        })[0];\r\n        if (method === undefined) {\r\n            return;\r\n        }\r\n        var client = this.clientRepository.getServerById(callerId).instance;\r\n        var invocationArgs = { args: args, instance: client };\r\n        this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n    };\r\n    return ServerProtocol;\r\n}());\n\nvar UserSubscription = (function () {\r\n    function UserSubscription(repository, subscriptionData) {\r\n        this.repository = repository;\r\n        this.subscriptionData = subscriptionData;\r\n    }\r\n    Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n        get: function () {\r\n            return this.subscriptionData.params.arguments || {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return this.subscriptionData.trackedServers\r\n                .filter(function (pair) { return pair.subscriptionId; })\r\n                .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n        get: function () {\r\n            return this.servers[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            return this.subscriptionData.method;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    UserSubscription.prototype.onData = function (dataCallback) {\r\n        if (typeof dataCallback !== \"function\") {\r\n            throw new TypeError(\"The data callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onData.push(dataCallback);\r\n        if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n            this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                dataCallback(dataItem);\r\n            });\r\n        }\r\n    };\r\n    UserSubscription.prototype.onClosed = function (closedCallback) {\r\n        if (typeof closedCallback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n    };\r\n    UserSubscription.prototype.onFailed = function (callback) {\r\n    };\r\n    UserSubscription.prototype.onConnected = function (callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onConnected.push(callback);\r\n    };\r\n    UserSubscription.prototype.close = function () {\r\n        this.subscriptionData.close();\r\n    };\r\n    UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n        this.subscriptionData = newSub;\r\n    };\r\n    return UserSubscription;\r\n}());\n\nvar STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\nvar STATUS_SUBSCRIBED = \"subscribed\";\r\nvar ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\nvar ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\nvar ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\nvar ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\nvar ClientStreaming = (function () {\r\n    function ClientStreaming(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        this.nextSubLocalKey = 0;\r\n        this.handleErrorSubscribing = function (errorResponse) {\r\n            var tag = errorResponse._tag;\r\n            var subLocalKey = tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                return server.serverId !== tag.serverId;\r\n            });\r\n            if (pendingSub.trackedServers.length <= 0) {\r\n                clearTimeout(pendingSub.timeoutId);\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                        ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                        \" No reason given.\";\r\n                    var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                        JSON.stringify(pendingSub.params.arguments) :\r\n                        \"{}\";\r\n                    pendingSub.error({\r\n                        message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                        called_with: pendingSub.params.arguments,\r\n                        method: pendingSub.method,\r\n                    });\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                }\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n        };\r\n        this.handleSubscribed = function (msg) {\r\n            var subLocalKey = msg._tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            var serverId = msg._tag.serverId;\r\n            var acceptingServer = pendingSub.trackedServers\r\n                .filter(function (server) {\r\n                return server.serverId === serverId;\r\n            })[0];\r\n            if (typeof acceptingServer !== \"object\") {\r\n                return;\r\n            }\r\n            acceptingServer.subscriptionId = msg.subscription_id;\r\n            _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n            var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n            pendingSub.status = STATUS_SUBSCRIBED;\r\n            if (isFirstResponse) {\r\n                var reconnect = false;\r\n                var sub = pendingSub.subscription;\r\n                if (sub) {\r\n                    sub.setNewSubscription(pendingSub);\r\n                    pendingSub.success(sub);\r\n                    reconnect = true;\r\n                }\r\n                else {\r\n                    sub = new UserSubscription(_this.repository, pendingSub);\r\n                    pendingSub.subscription = sub;\r\n                    pendingSub.success(sub);\r\n                }\r\n                for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                    var handler = _a[_i];\r\n                    try {\r\n                        handler(sub.serverInstance, reconnect);\r\n                    }\r\n                    catch (e) {\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.handleEventData = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                return server.subscriptionId === msg.subscription_id;\r\n            });\r\n            if (trackedServersFound.length !== 1) {\r\n                return;\r\n            }\r\n            var isPrivateData = msg.oob;\r\n            var sendingServerId = trackedServersFound[0].serverId;\r\n            var receivedStreamData = function () {\r\n                return {\r\n                    data: msg.data,\r\n                    server: _this.repository.getServerById(sendingServerId).instance,\r\n                    requestArguments: subscription.params.arguments,\r\n                    message: undefined,\r\n                    private: isPrivateData,\r\n                };\r\n            };\r\n            var onDataHandlers = subscription.handlers.onData;\r\n            var queuedData = subscription.queued.data;\r\n            if (onDataHandlers.length > 0) {\r\n                onDataHandlers.forEach(function (callback) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(receivedStreamData());\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                queuedData.push(receivedStreamData());\r\n            }\r\n        };\r\n        this.handleSubscriptionCancelled = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var expectedNewLength = subscription.trackedServers.length - 1;\r\n            subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                if (server.subscriptionId === msg.subscription_id) {\r\n                    subscription.queued.closers.push(server.serverId);\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            if (subscription.trackedServers.length !== expectedNewLength) {\r\n                return;\r\n            }\r\n            if (subscription.trackedServers.length <= 0) {\r\n                clearTimeout(subscription.timeoutId);\r\n                _this.callOnClosedHandlers(subscription);\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n        };\r\n        session.on(\"subscribed\", this.handleSubscribed);\r\n        session.on(\"event\", this.handleEventData);\r\n        session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n    }\r\n    ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n        var _this = this;\r\n        if (targetServers.length === 0) {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n            });\r\n            return;\r\n        }\r\n        var subLocalKey = this.getNextSubscriptionLocalKey();\r\n        var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n        if (typeof pendingSub !== \"object\") {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n            });\r\n            return;\r\n        }\r\n        targetServers.forEach(function (target) {\r\n            var serverId = target.server.id;\r\n            var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n            if (!method) {\r\n                _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                return;\r\n            }\r\n            pendingSub.trackedServers.push({\r\n                serverId: serverId,\r\n                subscriptionId: undefined,\r\n            });\r\n            var msg = {\r\n                type: \"subscribe\",\r\n                server_id: serverId,\r\n                method_id: method.gatewayId,\r\n                arguments_kv: params.arguments,\r\n            };\r\n            _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                .then(function (m) { return _this.handleSubscribed(m); })\r\n                .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptions = function () {\r\n        var existing = Object.values(this.subscriptionsList);\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        return existing;\r\n    };\r\n    ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n        var current = this.nextSubLocalKey;\r\n        this.nextSubLocalKey += 1;\r\n        return current;\r\n    };\r\n    ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n        var _this = this;\r\n        var subsInfo = {\r\n            localKey: subLocalKey,\r\n            status: STATUS_AWAITING_ACCEPT,\r\n            method: method,\r\n            params: params,\r\n            success: success,\r\n            error: error,\r\n            trackedServers: [],\r\n            handlers: {\r\n                onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n            },\r\n            queued: {\r\n                data: [],\r\n                closers: [],\r\n            },\r\n            timeoutId: undefined,\r\n            close: function () { return _this.closeSubscription(subLocalKey); },\r\n            subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n        };\r\n        if (!existingSub) {\r\n            if (params.onData) {\r\n                subsInfo.handlers.onData.push(params.onData);\r\n            }\r\n            if (params.onClosed) {\r\n                subsInfo.handlers.onClosed.push(params.onClosed);\r\n            }\r\n            if (params.onConnected) {\r\n                subsInfo.handlers.onConnected.push(params.onConnected);\r\n            }\r\n        }\r\n        this.subscriptionsList[subLocalKey] = subsInfo;\r\n        subsInfo.timeoutId = setTimeout(function () {\r\n            if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                return;\r\n            }\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                error({\r\n                    method: method,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                });\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return (typeof server.subscriptionId !== \"undefined\");\r\n                });\r\n                delete pendingSub.timeoutId;\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            }\r\n        }, timeout);\r\n        return subsInfo;\r\n    };\r\n    ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n        var closersCount = subscription.queued.closers.length;\r\n        var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n        var closingServer;\r\n        if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n            closingServer = this.repository.getServerById(closingServerId).instance;\r\n        }\r\n        subscription.handlers.onClosed.forEach(function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                return;\r\n            }\r\n            callback({\r\n                message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                requestArguments: subscription.params.arguments || {},\r\n                server: closingServer,\r\n                stream: subscription.method,\r\n            });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n        var _this = this;\r\n        var subscription = this.subscriptionsList[subLocalKey];\r\n        if (typeof subscription !== \"object\") {\r\n            return;\r\n        }\r\n        subscription.trackedServers.forEach(function (server) {\r\n            if (typeof server.subscriptionId === \"undefined\") {\r\n                return;\r\n            }\r\n            subscription.queued.closers.push(server.serverId);\r\n            _this.session.sendFireAndForget({\r\n                type: \"unsubscribe\",\r\n                subscription_id: server.subscriptionId,\r\n                reason_uri: \"\",\r\n                reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n            });\r\n            delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n        });\r\n        subscription.trackedServers = [];\r\n        this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n        delete this.subscriptionsList[subLocalKey];\r\n    };\r\n    return ClientStreaming;\r\n}());\n\nvar ClientProtocol = (function () {\r\n    function ClientProtocol(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n        session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n        session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n        session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n        this.streaming = new ClientStreaming(session, repository, logger);\r\n    }\r\n    ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n        this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n    };\r\n    ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n        var _this = this;\r\n        var serverId = target.id;\r\n        var methodId = method.gatewayId;\r\n        var msg = {\r\n            type: \"call\",\r\n            server_id: serverId,\r\n            method_id: methodId,\r\n            arguments_kv: args,\r\n        };\r\n        return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n            .then(function (m) { return _this.handleResultMessage(m); })\r\n            .catch(function (err) { return _this.handleInvocationError(err); });\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptions = function () {\r\n        return this.streaming.drainSubscriptions();\r\n    };\r\n    ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n        var newPeerId = msg.new_peer_id;\r\n        var remoteId = msg.identity;\r\n        var isLocal = msg.meta ? msg.meta.local : true;\r\n        var pid = Number(remoteId.process);\r\n        var serverInfo = {\r\n            machine: remoteId.machine,\r\n            pid: isNaN(pid) ? remoteId.process : pid,\r\n            instance: remoteId.instance,\r\n            application: remoteId.application,\r\n            applicationName: remoteId.applicationName,\r\n            environment: remoteId.environment,\r\n            region: remoteId.region,\r\n            user: remoteId.user,\r\n            windowId: remoteId.windowId,\r\n            peerId: newPeerId,\r\n            api: remoteId.api,\r\n            isLocal: isLocal\r\n        };\r\n        this.repository.addServer(serverInfo, newPeerId);\r\n    };\r\n    ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n        var removedPeerId = msg.removed_id;\r\n        var reason = msg.reason;\r\n        this.repository.removeServerById(removedPeerId, reason);\r\n    };\r\n    ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methods = msg.methods;\r\n        methods.forEach(function (method) {\r\n            _this.repository.addServerMethod(serverId, method);\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methodIdList = msg.methods;\r\n        var server = this.repository.getServerById(serverId);\r\n        var serverMethodKeys = Object.keys(server.methods);\r\n        serverMethodKeys.forEach(function (methodKey) {\r\n            var method = server.methods[methodKey];\r\n            if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                _this.repository.removeServerMethod(serverId, methodKey);\r\n            }\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n        var invocationId = msg._tag.invocationId;\r\n        var result = msg.result;\r\n        var serverId = msg._tag.serverId;\r\n        var server = this.repository.getServerById(serverId);\r\n        return {\r\n            invocationId: invocationId,\r\n            result: result,\r\n            instance: server.instance,\r\n            status: InvokeStatus.Success,\r\n            message: \"\"\r\n        };\r\n    };\r\n    ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n        this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n        if (\"_tag\" in msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            var message = msg.reason;\r\n            var context_1 = msg.context;\r\n            return {\r\n                invocationId: invocationId,\r\n                result: context_1,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Error,\r\n                message: message\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                invocationId: \"\",\r\n                message: msg.message,\r\n                status: InvokeStatus.Error,\r\n                error: msg\r\n            };\r\n        }\r\n    };\r\n    return ClientProtocol;\r\n}());\n\nfunction gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n    var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n    var resolveReadyPromise;\r\n    var readyPromise = new Promise(function (resolve) {\r\n        resolveReadyPromise = resolve;\r\n    });\r\n    var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n    var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n    var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n    function handleReconnect() {\r\n        logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n        var existingSubscriptions = client.drainSubscriptions();\r\n        for (var _i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n            var sub = existingSubscriptions_1[_i];\r\n            var methodInfo = sub.method;\r\n            var params = Object.assign({}, sub.params);\r\n            logger.info(\"trying to re-subscribe to method \" + methodInfo.name);\r\n            interop.client.subscribe(methodInfo, params, undefined, undefined, sub);\r\n        }\r\n        var registeredMethods = serverRepository.getList();\r\n        serverRepository.reset();\r\n        for (var _a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n            var method = registeredMethods_1[_a];\r\n            var def = method.definition;\r\n            logger.info(\"re-publishing method \" + def.name);\r\n            if (method.stream) {\r\n                interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallback) {\r\n                interop.register(def, method.theFunction.userCallback);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                interop.registerAsync(def, method.theFunction.userCallbackAsync);\r\n            }\r\n        }\r\n    }\r\n    function handleInitialJoin() {\r\n        if (resolveReadyPromise) {\r\n            resolveReadyPromise({\r\n                client: client,\r\n                server: server,\r\n            });\r\n            resolveReadyPromise = undefined;\r\n        }\r\n    }\r\n    session.onJoined(function (reconnect) {\r\n        clientRepository.addServer(instance, connection.peerId);\r\n        if (reconnect) {\r\n            handleReconnect();\r\n        }\r\n        else {\r\n            handleInitialJoin();\r\n        }\r\n    });\r\n    session.onLeft(function () {\r\n        clientRepository.reset();\r\n    });\r\n    session.join();\r\n    return readyPromise;\r\n}\n\nvar Interop = (function () {\r\n    function Interop(configuration) {\r\n        var _this = this;\r\n        if (typeof configuration === \"undefined\") {\r\n            throw new Error(\"configuration is required\");\r\n        }\r\n        if (typeof configuration.connection === \"undefined\") {\r\n            throw new Error(\"configuration.connections is required\");\r\n        }\r\n        var connection = configuration.connection;\r\n        if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n            configuration.methodResponseTimeout = 30 * 1000;\r\n        }\r\n        if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n            configuration.waitTimeoutMs = 30 * 1000;\r\n        }\r\n        InstanceWrapper.API = this;\r\n        this.instance = new InstanceWrapper(undefined, connection).unwrap();\r\n        this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"));\r\n        this.serverRepository = new ServerRepository();\r\n        var protocolPromise;\r\n        if (connection.protocolVersion === 3) {\r\n            protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n        }\r\n        else {\r\n            throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n        }\r\n        this.readyPromise = protocolPromise.then(function (protocol) {\r\n            _this.protocol = protocol;\r\n            _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n            _this.server = new Server(_this.protocol, _this.serverRepository);\r\n            return _this;\r\n        });\r\n    }\r\n    Interop.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    Interop.prototype.serverRemoved = function (callback) {\r\n        return this.client.serverRemoved(callback);\r\n    };\r\n    Interop.prototype.serverAdded = function (callback) {\r\n        return this.client.serverAdded(callback);\r\n    };\r\n    Interop.prototype.serverMethodRemoved = function (callback) {\r\n        return this.client.serverMethodRemoved(callback);\r\n    };\r\n    Interop.prototype.serverMethodAdded = function (callback) {\r\n        return this.client.serverMethodAdded(callback);\r\n    };\r\n    Interop.prototype.methodRemoved = function (callback) {\r\n        return this.client.methodRemoved(callback);\r\n    };\r\n    Interop.prototype.methodAdded = function (callback) {\r\n        return this.client.methodAdded(callback);\r\n    };\r\n    Interop.prototype.methodsForInstance = function (instance) {\r\n        return this.client.methodsForInstance(instance);\r\n    };\r\n    Interop.prototype.methods = function (methodFilter) {\r\n        return this.client.methods(methodFilter);\r\n    };\r\n    Interop.prototype.servers = function (methodFilter) {\r\n        return this.client.servers(methodFilter);\r\n    };\r\n    Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n        return this.client.subscribe(method, options, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n        return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.unregister = function (methodFilter) {\r\n        return this.server.unregister(methodFilter);\r\n    };\r\n    Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n        return this.server.registerAsync(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.register = function (methodDefinition, callback) {\r\n        return this.server.register(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n    };\r\n    return Interop;\r\n}());\n\nvar successMessages = [\"subscribed\", \"success\"];\r\nvar MessageBus = (function () {\r\n    function MessageBus(connection, logger) {\r\n        var _this = this;\r\n        this.publish = function (topic, data, options) {\r\n            var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n            var args = _this.removeEmptyValues({\r\n                type: \"publish\",\r\n                topic: topic,\r\n                data: data,\r\n                peer_id: _this.peerId,\r\n                routing_key: routingKey,\r\n                target_identity: target\r\n            });\r\n            _this.session.send(args);\r\n        };\r\n        this.subscribe = function (topic, callback, options) {\r\n            return new Promise(function (resolve, reject) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"subscribe\",\r\n                    topic: topic,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    source: target\r\n                });\r\n                _this.session.send(args)\r\n                    .then(function (response) {\r\n                    var subscription_id = response.subscription_id;\r\n                    _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                    resolve({\r\n                        unsubscribe: function () {\r\n                            _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                            _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                            return Promise.resolve();\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (error) { return reject(error); });\r\n            });\r\n        };\r\n        this.watchOnEvent = function () {\r\n            _this.session.on(\"event\", function (args) {\r\n                var data = args.data, subscription_id = args.subscription_id;\r\n                var source = args[\"publisher-identity\"];\r\n                var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                if (subscription) {\r\n                    if (!subscription.source) {\r\n                        subscription.callback(data, subscription.topic, source);\r\n                    }\r\n                    else {\r\n                        if (_this.keysMatch(subscription.source, source)) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        this.connection = connection;\r\n        this.logger = logger;\r\n        this.peerId = connection.peerId;\r\n        this.subscriptions = [];\r\n        this.session = connection.domain(\"bus\", successMessages);\r\n        this.readyPromise = this.session.join();\r\n        this.readyPromise.then(function () {\r\n            _this.watchOnEvent();\r\n        });\r\n    }\r\n    MessageBus.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    MessageBus.prototype.removeEmptyValues = function (obj) {\r\n        var cleaned = {};\r\n        Object.keys(obj).forEach(function (key) {\r\n            if (obj[key] !== undefined && obj[key] !== null) {\r\n                cleaned[key] = obj[key];\r\n            }\r\n        });\r\n        return cleaned;\r\n    };\r\n    MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n        var keysObj1 = Object.keys(obj1);\r\n        var allMatch = true;\r\n        keysObj1.forEach(function (key) {\r\n            if (obj1[key] !== obj2[key]) {\r\n                allMatch = false;\r\n            }\r\n        });\r\n        return allMatch;\r\n    };\r\n    return MessageBus;\r\n}());\n\nvar GlueCore = function (userConfig, ext) {\r\n    var gdVersion = Utils.getGDMajorVersion();\r\n    var glue42gd;\r\n    var preloadPromise = Promise.resolve();\r\n    if (gdVersion) {\r\n        if (gdVersion < 3) {\r\n            throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n        }\r\n        else if (gdVersion >= 3) {\r\n            glue42gd = window.glue42gd;\r\n            preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n        }\r\n    }\r\n    var glueInitTimer = timer(\"glue\");\r\n    userConfig = userConfig || {};\r\n    ext = ext || {};\r\n    var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n    var _connection;\r\n    var _interop;\r\n    var _logger;\r\n    var _metrics;\r\n    var _contexts;\r\n    var _bus;\r\n    var _allowTrace;\r\n    var libs = {};\r\n    function registerLib(name, inner, t) {\r\n        _allowTrace = _logger.canPublish(\"trace\");\r\n        if (_allowTrace) {\r\n            _logger.trace(\"registering \" + name + \" module\");\r\n        }\r\n        var done = function () {\r\n            inner.initTime = t.stop();\r\n            inner.initEndTime = t.endTime;\r\n            inner.marks = t.marks;\r\n            if (_allowTrace) {\r\n                _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n            }\r\n        };\r\n        inner.initStartTime = t.startTime;\r\n        if (inner.ready) {\r\n            inner.ready().then(function () {\r\n                done();\r\n            });\r\n        }\r\n        else {\r\n            done();\r\n        }\r\n        if (!Array.isArray(name)) {\r\n            name = [name];\r\n        }\r\n        name.forEach(function (n) {\r\n            libs[n] = inner;\r\n            GlueCore[n] = inner;\r\n        });\r\n    }\r\n    function setupConnection() {\r\n        var initTimer = timer(\"connection\");\r\n        _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n        var authPromise = Promise.resolve(internalConfig.auth);\r\n        if (internalConfig.connection && !internalConfig.auth) {\r\n            if (glue42gd) {\r\n                authPromise = glue42gd.getGWToken()\r\n                    .then(function (token) {\r\n                    return {\r\n                        gatewayToken: token\r\n                    };\r\n                });\r\n            }\r\n            else {\r\n                authPromise = Promise.reject(\"You need to provide auth information\");\r\n            }\r\n        }\r\n        return authPromise\r\n            .then(function (authConfig) {\r\n            initTimer.mark(\"auth-promise-resolved\");\r\n            var authRequest;\r\n            if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                authRequest = authConfig;\r\n            }\r\n            else {\r\n                throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n            }\r\n            return _connection.login(authRequest);\r\n        })\r\n            .then(function () {\r\n            registerLib(\"connection\", _connection, initTimer);\r\n            return internalConfig;\r\n        })\r\n            .catch(function (e) {\r\n            if (_connection) {\r\n                _connection.logout();\r\n            }\r\n            throw e;\r\n        });\r\n    }\r\n    function setupLogger() {\r\n        var _a;\r\n        var initTimer = timer(\"logger\");\r\n        _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n        _logger.consoleLevel(internalConfig.logger.console);\r\n        _logger.publishLevel(internalConfig.logger.publish);\r\n        if (_logger.canPublish(\"debug\")) {\r\n            _logger.debug(\"initializing glue...\");\r\n        }\r\n        registerLib(\"logger\", _logger, initTimer);\r\n        return Promise.resolve(undefined);\r\n    }\r\n    function setupMetrics() {\r\n        var _a, _b, _c, _d;\r\n        var initTimer = timer(\"metrics\");\r\n        var config = internalConfig.metrics;\r\n        var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n        var identity = internalConfig.connection.identity;\r\n        var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n        var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n        _metrics = metrics({\r\n            connection: config ? _connection : undefined,\r\n            logger: _logger.subLogger(\"metrics\"),\r\n            canUpdateMetric: canUpdateMetric,\r\n            system: \"Glue42\",\r\n            service: (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : \"metrics-service\",\r\n            instance: (_d = (_c = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _c !== void 0 ? _c : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _d !== void 0 ? _d : shortid(),\r\n            disableAutoAppSystem: disableAutoAppSystem,\r\n            pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n        });\r\n        registerLib(\"metrics\", _metrics, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupInterop() {\r\n        var initTimer = timer(\"interop\");\r\n        var agmConfig = {\r\n            connection: _connection,\r\n            logger: _logger.subLogger(\"interop\"),\r\n        };\r\n        _interop = new Interop(agmConfig);\r\n        Logger.Interop = _interop;\r\n        registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupContexts() {\r\n        var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n        var needsContexts = internalConfig.contexts || hasActivities;\r\n        if (needsContexts) {\r\n            var initTimer = timer(\"contexts\");\r\n            _contexts = new ContextsModule({\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"contexts\")\r\n            });\r\n            registerLib(\"contexts\", _contexts, initTimer);\r\n            return _contexts;\r\n        }\r\n        else {\r\n            var replayer = _connection.replayer;\r\n            if (replayer) {\r\n                replayer.drain(ContextMessageReplaySpec.name);\r\n            }\r\n        }\r\n    }\r\n    function setupBus() {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var initTimer;\r\n            return __generator(this, function (_a) {\r\n                if (!internalConfig.bus) {\r\n                    return [2, Promise.resolve()];\r\n                }\r\n                initTimer = timer(\"bus\");\r\n                _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                registerLib(\"bus\", _bus, initTimer);\r\n                return [2, Promise.resolve()];\r\n            });\r\n        });\r\n    }\r\n    function setupExternalLibs(externalLibs) {\r\n        try {\r\n            externalLibs.forEach(function (lib) {\r\n                setupExternalLib(lib.name, lib.create);\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    function setupExternalLib(name, createCallback) {\r\n        var initTimer = timer(name);\r\n        var lib = createCallback(libs);\r\n        if (lib) {\r\n            registerLib(name, lib, initTimer);\r\n        }\r\n    }\r\n    function waitForLibs() {\r\n        var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n            var lib = libs[key];\r\n            return lib.ready ?\r\n                lib.ready() : Promise.resolve();\r\n        });\r\n        return Promise.all(libsReadyPromises);\r\n    }\r\n    function constructGlueObject() {\r\n        var feedbackFunc = function (feedbackInfo) {\r\n            if (!_interop) {\r\n                return;\r\n            }\r\n            _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n        };\r\n        var info = {\r\n            coreVersion: version,\r\n            version: internalConfig.version\r\n        };\r\n        glueInitTimer.stop();\r\n        var glue = {\r\n            feedback: feedbackFunc,\r\n            info: info,\r\n            logger: _logger,\r\n            interop: _interop,\r\n            agm: _interop,\r\n            connection: _connection,\r\n            metrics: _metrics,\r\n            contexts: _contexts,\r\n            bus: _bus,\r\n            version: internalConfig.version,\r\n            userConfig: userConfig,\r\n            done: function () {\r\n                _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                return _connection.logout();\r\n            }\r\n        };\r\n        glue.performance = {\r\n            get glueVer() {\r\n                return internalConfig.version;\r\n            },\r\n            get glueConfig() {\r\n                return JSON.stringify(userConfig);\r\n            },\r\n            get browser() {\r\n                return window.performance.timing.toJSON();\r\n            },\r\n            get memory() {\r\n                return window.performance.memory;\r\n            },\r\n            get initTimes() {\r\n                var all = getAllTimers();\r\n                return Object.keys(all).map(function (key) {\r\n                    var t = all[key];\r\n                    return {\r\n                        name: key,\r\n                        duration: t.endTime - t.startTime,\r\n                        marks: t.marks\r\n                    };\r\n                });\r\n            }\r\n        };\r\n        Object.keys(libs).forEach(function (key) {\r\n            var lib = libs[key];\r\n            glue[key] = lib;\r\n        });\r\n        glue.config = {};\r\n        Object.keys(internalConfig).forEach(function (k) {\r\n            glue.config[k] = internalConfig[k];\r\n        });\r\n        if (ext && ext.extOptions) {\r\n            Object.keys(ext.extOptions).forEach(function (k) {\r\n                glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n            });\r\n        }\r\n        if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n            ext.enrichGlue(glue);\r\n        }\r\n        if (glue42gd && glue42gd.updatePerfData) {\r\n            glue42gd.updatePerfData(glue.performance);\r\n        }\r\n        if (glue.agm) {\r\n            var deprecatedDecorator = function (fn, wrong, proper) {\r\n                return function () {\r\n                    glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                    fn.apply(glue.agm, arguments);\r\n                };\r\n            };\r\n            var agmAny = glue.agm;\r\n            agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n            agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n            agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n            agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n            agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n        }\r\n        return glue;\r\n    }\r\n    return preloadPromise\r\n        .then(setupLogger)\r\n        .then(setupConnection)\r\n        .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n        .then(function () { return _interop.readyPromise; })\r\n        .then(function () {\r\n        return setupExternalLibs(internalConfig.libs || []);\r\n    })\r\n        .then(waitForLibs)\r\n        .then(constructGlueObject)\r\n        .catch(function (err) {\r\n        return Promise.reject({\r\n            err: err,\r\n            libs: libs\r\n        });\r\n    });\r\n};\r\nif (typeof window !== \"undefined\") {\r\n    window.GlueCore = GlueCore;\r\n}\r\nGlueCore.version = version;\r\nGlueCore.default = GlueCore;\n\nvar version$1 = \"2.0.1\";\n\nconst glueWebFactory = createFactoryFunction(GlueCore);\r\nif (typeof window !== \"undefined\") {\r\n    const windowAny = window;\r\n    windowAny.GlueWeb = glueWebFactory;\r\n    delete windowAny.GlueCore;\r\n}\r\nglueWebFactory.version = version$1;\n\nexport default glueWebFactory;\n//# sourceMappingURL=web.es.js.map\n","/** @license React v17.0.1\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","/** @license React v17.0.1\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),n=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w(\"react.element\");p=w(\"react.portal\");exports.Fragment=w(\"react.fragment\");exports.StrictMode=w(\"react.strict_mode\");exports.Profiler=w(\"react.profiler\");q=w(\"react.provider\");r=w(\"react.context\");t=w(\"react.forward_ref\");exports.Suspense=w(\"react.suspense\");u=w(\"react.memo\");v=w(\"react.lazy\")}var x=\"function\"===typeof Symbol&&Symbol.iterator;\nfunction y(a){if(null===a||\"object\"!==typeof a)return null;a=x&&a[x]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function z(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,\"setState\")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;F.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};\nfunction J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}\nfunction K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===n}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var M=/\\/+/g;function N(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction O(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case n:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+N(h,0):e,Array.isArray(d)?(c=\"\",null!=a&&(c=a.replace(M,\"$&/\")+\"/\"),O(d,b,c,\"\",function(a){return a})):null!=d&&(L(d)&&(d=K(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(M,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(Array.isArray(a))for(var g=\n0;g<a.length;g++){k=a[g];var f=e+N(k,g);h+=O(k,b,c,f,d)}else if(f=y(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+N(k,g++),h+=O(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(z(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;O(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\nfunction Q(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};\nexports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;P(a,function(){b++});return b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=G.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=J;exports.createFactory=function(a){var b=J.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=L;\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return S().useCallback(a,b)};exports.useContext=function(a,b){return S().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return S().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S().useMemo(a,b)};exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)};exports.useRef=function(a){return S().useRef(a)};exports.useState=function(a){return S().useState(a)};exports.version=\"17.0.1\";\n","/** @license React v17.0.1\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),m=require(\"object-assign\"),r=require(\"scheduler\");function y(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(a,b){ea(a,b);ea(a+\"Capture\",b)}\nfunction ea(a,b){ca[a]=b;for(a=0;a<b.length;a++)ba.add(b[a])}\nvar fa=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ha=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,ia=Object.prototype.hasOwnProperty,\nja={},ka={};function la(a){if(ia.call(ka,a))return!0;if(ia.call(ja,a))return!1;if(ha.test(a))return ka[a]=!0;ja[a]=!0;return!1}function ma(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction na(a,b,c,d){if(null===b||\"undefined\"===typeof b||ma(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function B(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var D={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){D[a]=new B(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];D[b]=new B(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){D[a]=new B(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){D[a]=new B(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){D[a]=new B(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){D[a]=new B(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){D[a]=new B(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){D[a]=new B(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){D[a]=new B(a,5,!1,a.toLowerCase(),null,!1,!1)});var oa=/[\\-:]([a-z])/g;function pa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(oa,\npa);D[b]=new B(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!1,!1)});\nD.xlinkHref=new B(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction qa(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(na(b,c,e,d)&&(c=null),d||null===e?la(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nvar ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var E=Symbol.for;sa=E(\"react.element\");ta=E(\"react.portal\");ua=E(\"react.fragment\");wa=E(\"react.strict_mode\");xa=E(\"react.profiler\");ya=E(\"react.provider\");za=E(\"react.context\");Aa=E(\"react.forward_ref\");Ba=E(\"react.suspense\");Ca=E(\"react.suspense_list\");Da=E(\"react.memo\");Ea=E(\"react.lazy\");Fa=E(\"react.block\");E(\"react.scope\");Ga=E(\"react.opaque.id\");Ha=E(\"react.debug_trace_mode\");Ia=E(\"react.offscreen\");Ja=E(\"react.legacy_hidden\")}\nvar Ka=\"function\"===typeof Symbol&&Symbol.iterator;function La(a){if(null===a||\"object\"!==typeof a)return null;a=Ka&&a[Ka]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var Ma;function Na(a){if(void 0===Ma)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);Ma=b&&b[1]||\"\"}return\"\\n\"+Ma+a}var Oa=!1;\nfunction Pa(a,b){if(!a||Oa)return\"\";Oa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error();}catch(k){d=k}a()}}catch(k){if(k&&d&&\"string\"===typeof k.stack){for(var e=k.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h])return\"\\n\"+e[g].replace(\" at new \",\" at \");while(1<=g&&0<=h)}break}}}finally{Oa=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Na(a):\"\"}\nfunction Qa(a){switch(a.tag){case 5:return Na(a.type);case 16:return Na(\"Lazy\");case 13:return Na(\"Suspense\");case 19:return Na(\"SuspenseList\");case 0:case 2:case 15:return a=Pa(a.type,!1),a;case 11:return a=Pa(a.type.render,!1),a;case 22:return a=Pa(a.type._render,!1),a;case 1:return a=Pa(a.type,!0),a;default:return\"\"}}\nfunction Ra(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ua:return\"Fragment\";case ta:return\"Portal\";case xa:return\"Profiler\";case wa:return\"StrictMode\";case Ba:return\"Suspense\";case Ca:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case za:return(a.displayName||\"Context\")+\".Consumer\";case ya:return(a._context.displayName||\"Context\")+\".Provider\";case Aa:var b=a.render;b=b.displayName||b.name||\"\";\nreturn a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\"ForwardRef\");case Da:return Ra(a.type);case Fa:return Ra(a._render);case Ea:b=a._payload;a=a._init;try{return Ra(a(b))}catch(c){}}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return m({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function $a(a,b){b=b.checked;null!=b&&qa(a,\"checked\",b,!1)}\nfunction ab(a,b){$a(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?bb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&bb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction cb(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction bb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}function db(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function eb(a,b){a=m({children:void 0},b);if(b=db(b.children))a.children=b;return a}\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(y(91));return m({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(y(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(y(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}var kb={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction lb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function mb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?lb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar nb,ob=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==kb.svg||\"innerHTML\"in a)a.innerHTML=b;else{nb=nb||document.createElement(\"div\");nb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=nb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction pb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(qb).forEach(function(a){rb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);qb[b]=qb[a]})});function sb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||qb.hasOwnProperty(a)&&qb[a]?(\"\"+b).trim():b+\"px\"}\nfunction tb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=sb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction vb(a,b){if(b){if(ub[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(y(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(y(60));if(!(\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML))throw Error(y(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(y(62));}}\nfunction wb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(y(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(a,b,c,d,e){return a(b,c,d,e)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){if(null!==zb||null!==Ab)Ib(),Fb()}\nfunction Nb(a,b,c){if(Lb)return a(b,c);Lb=!0;try{return Jb(a,b,c)}finally{Lb=!1,Mb()}}\nfunction Ob(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(y(231,b,typeof c));return c}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,\"passive\",{get:function(){Pb=!0}});window.addEventListener(\"test\",Qb,Qb);window.removeEventListener(\"test\",Qb,Qb)}catch(a){Pb=!1}function Rb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(n){this.onError(n)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(a){Sb=!0;Tb=a}};function Xb(a,b,c,d,e,f,g,h,k){Sb=!1;Tb=null;Rb.apply(Wb,arguments)}\nfunction Yb(a,b,c,d,e,f,g,h,k){Xb.apply(this,arguments);if(Sb){if(Sb){var l=Tb;Sb=!1;Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=l)}}function Zb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function $b(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function ac(a){if(Zb(a)!==a)throw Error(y(188));}\nfunction bc(a){var b=a.alternate;if(!b){b=Zb(a);if(null===b)throw Error(y(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ac(e),a;if(f===d)return ac(e),b;f=f.sibling}throw Error(y(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(y(189));}}if(c.alternate!==d)throw Error(y(190));}if(3!==c.tag)throw Error(y(188));return c.stateNode.current===c?a:b}function cc(a){a=bc(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nfunction dc(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction rc(a,b,c,d,e){return{blockedOn:a,domEventName:b,eventSystemFlags:c|16,nativeEvent:e,targetContainers:[d]}}function sc(a,b){switch(a){case \"focusin\":case \"focusout\":kc=null;break;case \"dragenter\":case \"dragleave\":lc=null;break;case \"mouseover\":case \"mouseout\":mc=null;break;case \"pointerover\":case \"pointerout\":nc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":oc.delete(b.pointerId)}}\nfunction tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=rc(b,c,d,e,f),null!==b&&(b=Cb(b),null!==b&&fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction uc(a,b,c,d,e){switch(b){case \"focusin\":return kc=tc(kc,a,b,c,d,e),!0;case \"dragenter\":return lc=tc(lc,a,b,c,d,e),!0;case \"mouseover\":return mc=tc(mc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;nc.set(f,tc(nc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,oc.set(f,tc(oc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction vc(a){var b=wc(a.target);if(null!==b){var c=Zb(b);if(null!==c)if(b=c.tag,13===b){if(b=$b(c),null!==b){a.blockedOn=b;hc(a.lanePriority,function(){r.unstable_runWithPriority(a.priority,function(){gc(c)})});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c)return b=Cb(c),null!==b&&fc(b),a.blockedOn=c,!1;b.shift()}return!0}function zc(a,b,c){xc(a)&&c.delete(b)}\nfunction Ac(){for(ic=!1;0<jc.length;){var a=jc[0];if(null!==a.blockedOn){a=Cb(a.blockedOn);null!==a&&ec(a);break}for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c){a.blockedOn=c;break}b.shift()}null===a.blockedOn&&jc.shift()}null!==kc&&xc(kc)&&(kc=null);null!==lc&&xc(lc)&&(lc=null);null!==mc&&xc(mc)&&(mc=null);nc.forEach(zc);oc.forEach(zc)}\nfunction Bc(a,b){a.blockedOn===b&&(a.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}\nfunction Cc(a){function b(b){return Bc(b,a)}if(0<jc.length){Bc(jc[0],a);for(var c=1;c<jc.length;c++){var d=jc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==kc&&Bc(kc,a);null!==lc&&Bc(lc,a);null!==mc&&Bc(mc,a);nc.forEach(b);oc.forEach(b);for(c=0;c<pc.length;c++)d=pc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<pc.length&&(c=pc[0],null===c.blockedOn);)vc(c),null===c.blockedOn&&pc.shift()}\nfunction Dc(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Ec={animationend:Dc(\"Animation\",\"AnimationEnd\"),animationiteration:Dc(\"Animation\",\"AnimationIteration\"),animationstart:Dc(\"Animation\",\"AnimationStart\"),transitionend:Dc(\"Transition\",\"TransitionEnd\")},Fc={},Gc={};\nfa&&(Gc=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),\"TransitionEvent\"in window||delete Ec.transitionend.transition);function Hc(a){if(Fc[a])return Fc[a];if(!Ec[a])return a;var b=Ec[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Gc)return Fc[a]=b[c];return a}\nvar Ic=Hc(\"animationend\"),Jc=Hc(\"animationiteration\"),Kc=Hc(\"animationstart\"),Lc=Hc(\"transitionend\"),Mc=new Map,Nc=new Map,Oc=[\"abort\",\"abort\",Ic,\"animationEnd\",Jc,\"animationIteration\",Kc,\"animationStart\",\"canplay\",\"canPlay\",\"canplaythrough\",\"canPlayThrough\",\"durationchange\",\"durationChange\",\"emptied\",\"emptied\",\"encrypted\",\"encrypted\",\"ended\",\"ended\",\"error\",\"error\",\"gotpointercapture\",\"gotPointerCapture\",\"load\",\"load\",\"loadeddata\",\"loadedData\",\"loadedmetadata\",\"loadedMetadata\",\"loadstart\",\"loadStart\",\n\"lostpointercapture\",\"lostPointerCapture\",\"playing\",\"playing\",\"progress\",\"progress\",\"seeking\",\"seeking\",\"stalled\",\"stalled\",\"suspend\",\"suspend\",\"timeupdate\",\"timeUpdate\",Lc,\"transitionEnd\",\"waiting\",\"waiting\"];function Pc(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];e=\"on\"+(e[0].toUpperCase()+e.slice(1));Nc.set(d,b);Mc.set(d,e);da(e,[d])}}var Qc=r.unstable_now;Qc();var F=8;\nfunction Rc(a){if(0!==(1&a))return F=15,1;if(0!==(2&a))return F=14,2;if(0!==(4&a))return F=13,4;var b=24&a;if(0!==b)return F=12,b;if(0!==(a&32))return F=11,32;b=192&a;if(0!==b)return F=10,b;if(0!==(a&256))return F=9,256;b=3584&a;if(0!==b)return F=8,b;if(0!==(a&4096))return F=7,4096;b=4186112&a;if(0!==b)return F=6,b;b=62914560&a;if(0!==b)return F=5,b;if(a&67108864)return F=4,67108864;if(0!==(a&134217728))return F=3,134217728;b=805306368&a;if(0!==b)return F=2,b;if(0!==(1073741824&a))return F=1,1073741824;\nF=8;return a}function Sc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,a));}}\nfunction Uc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(f=c&134217727,0!==f){var k=f&~g;0!==k?(d=Rc(k),e=F):(h&=f,0!==h&&(d=Rc(h),e=F))}else f=c&~g,0!==f?(d=Rc(f),e=F):0!==h&&(d=Rc(h),e=F);if(0===d)return 0;d=31-Vc(d);d=c&((0>d?0:1<<d)<<1)-1;if(0!==b&&b!==d&&0===(b&g)){Rc(b);if(e<=F)return b;F=e}b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-Vc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction Wc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function Xc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return a=Yc(24&~b),0===a?Xc(10,b):a;case 10:return a=Yc(192&~b),0===a?Xc(8,b):a;case 8:return a=Yc(3584&~b),0===a&&(a=Yc(4186112&~b),0===a&&(a=512)),a;case 2:return b=Yc(805306368&~b),0===b&&(b=268435456),b}throw Error(y(358,a));}function Yc(a){return a&-a}function Zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction $c(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d;a.pingedLanes&=d;a=a.eventTimes;b=31-Vc(b);a[b]=c}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(a){return 0===a?32:31-(bd(a)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(a,b,c,d){Kb||Ib();var e=hd,f=Kb;Kb=!0;try{Hb(e,a,b,c,d)}finally{(Kb=f)||Mb()}}function id(a,b,c,d){ed(dd,hd.bind(null,a,b,c,d))}\nfunction hd(a,b,c,d){if(fd){var e;if((e=0===(b&4))&&0<jc.length&&-1<qc.indexOf(a))a=rc(null,a,b,c,d),jc.push(a);else{var f=yc(a,b,c,d);if(null===f)e&&sc(a,d);else{if(e){if(-1<qc.indexOf(a)){a=rc(f,a,b,c,d);jc.push(a);return}if(uc(f,a,b,c,d))return;sc(a,d)}jd(a,b,d,null,c)}}}}\nfunction yc(a,b,c,d){var e=xb(d);e=wc(e);if(null!==e){var f=Zb(e);if(null===f)e=null;else{var g=f.tag;if(13===g){e=$b(f);if(null!==e)return e;e=null}else if(3===g){if(f.stateNode.hydrate)return 3===f.tag?f.stateNode.containerInfo:null;e=null}else f!==e&&(e=null)}}jd(a,b,d,e,c);return null}var kd=null,ld=null,md=null;\nfunction nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}function od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}m(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=m({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=m({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&\"CompositionEvent\"in window,be=null;fa&&\"documentMode\"in document&&(be=document.documentMode);var ce=fa&&\"TextEvent\"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(fa){var xe;if(fa){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));a=re;if(Kb)a(b);else{Kb=!0;try{Gb(a,b)}finally{Kb=!1,Mb()}}}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;\nfunction Je(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Ie.call(b,c[d])||!He(a[c[d]],b[c[d]]))return!1;return!0}function Ke(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Le(a,b){var c=Ke(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Ke(c)}}function Me(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Me(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Ne(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Oe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nvar Pe=fa&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Oe(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Je(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nPc(\"cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange\".split(\" \"),\n0);Pc(\"drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel\".split(\" \"),1);Pc(Oc,2);for(var Ve=\"change selectionchange textInput compositionstart compositionend compositionupdate\".split(\" \"),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);\nea(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ea(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);ea(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);da(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));da(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));da(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);da(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));\nda(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));da(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var Xe=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),Ye=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(Xe));\nfunction Ze(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Yb(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}}}if(Ub)throw a=Vb,Ub=!1,Vb=null,a;}\nfunction G(a,b){var c=$e(b),d=a+\"__bubble\";c.has(d)||(af(b,a,2,!1),c.add(d))}var bf=\"_reactListening\"+Math.random().toString(36).slice(2);function cf(a){a[bf]||(a[bf]=!0,ba.forEach(function(b){Ye.has(b)||df(b,!1,a,null);df(b,!0,a,null)}))}\nfunction df(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,f=c;\"selectionchange\"===a&&9!==c.nodeType&&(f=c.ownerDocument);if(null!==d&&!b&&Ye.has(a)){if(\"scroll\"!==a)return;e|=2;f=d}var g=$e(f),h=a+\"__\"+(b?\"capture\":\"bubble\");g.has(h)||(b&&(e|=4),af(f,a,e,b),g.add(h))}\nfunction af(a,b,c,d){var e=Nc.get(b);switch(void 0===e?2:e){case 0:e=gd;break;case 1:e=id;break;default:e=hd}c=e.bind(null,b,c,a);e=void 0;!Pb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction jd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Nb(function(){var d=f,e=xb(c),g=[];\na:{var h=Mc.get(a);if(void 0!==h){var k=td,x=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":x=\"focus\";k=Fd;break;case \"focusout\":x=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case Ic:case Jc:case Kc:k=Hd;break;case Lc:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var w=0!==(b&4),z=!w&&\"scroll\"===a,u=w?null!==h?h+\"Capture\":null:h;w=[];for(var t=d,q;null!==\nt;){q=t;var v=q.stateNode;5===q.tag&&null!==v&&(q=v,null!==u&&(v=Ob(t,u),null!=v&&w.push(ef(t,v,q))));if(z)break;t=t.return}0<w.length&&(h=new k(h,x,null,c,e),g.push({event:h,listeners:w}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&0===(b&16)&&(x=c.relatedTarget||c.fromElement)&&(wc(x)||x[ff]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(x=c.relatedTarget||c.toElement,k=d,x=x?wc(x):null,null!==\nx&&(z=Zb(x),x!==z||5!==x.tag&&6!==x.tag))x=null}else k=null,x=d;if(k!==x){w=Bd;v=\"onMouseLeave\";u=\"onMouseEnter\";t=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)w=Td,v=\"onPointerLeave\",u=\"onPointerEnter\",t=\"pointer\";z=null==k?h:ue(k);q=null==x?h:ue(x);h=new w(v,t+\"leave\",k,c,e);h.target=z;h.relatedTarget=q;v=null;wc(e)===d&&(w=new w(u,t+\"enter\",x,c,e),w.target=q,w.relatedTarget=z,v=w);z=v;if(k&&x)b:{w=k;u=x;t=0;for(q=w;q;q=gf(q))t++;q=0;for(v=u;v;v=gf(v))q++;for(;0<t-q;)w=gf(w),t--;for(;0<q-t;)u=\ngf(u),q--;for(;t--;){if(w===u||null!==u&&w===u.alternate)break b;w=gf(w);u=gf(u)}w=null}else w=null;null!==k&&hf(g,h,k,w,!1);null!==x&&null!==z&&hf(g,z,x,w,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var J=ve;else if(me(h))if(we)J=Fe;else{J=De;var K=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(J=Ee);if(J&&(J=J(a,d))){ne(g,J,c,e);break a}K&&K(a,h,d);\"focusout\"===a&&(K=h._wrapperState)&&\nK.controlled&&\"number\"===h.type&&bb(h,\"number\",h.value)}K=d?ue(d):window;switch(a){case \"focusin\":if(me(K)||\"true\"===K.contentEditable)Qe=K,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var Q;if(ae)b:{switch(a){case \"compositionstart\":var L=\"onCompositionStart\";break b;case \"compositionend\":L=\"onCompositionEnd\";break b;\ncase \"compositionupdate\":L=\"onCompositionUpdate\";break b}L=void 0}else ie?ge(a,c)&&(L=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(L=\"onCompositionStart\");L&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==L?\"onCompositionEnd\"===L&&ie&&(Q=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),K=oe(d,L),0<K.length&&(L=new Ld(L,a,null,c,e),g.push({event:L,listeners:K}),Q?L.data=Q:(Q=he(c),null!==Q&&(L.data=Q))));if(Q=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),0<d.length&&(e=new Ld(\"onBeforeInput\",\n\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=Q)}se(g,b)})}function ef(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Ob(a,c),null!=f&&d.unshift(ef(a,f,e)),f=Ob(a,b),null!=f&&d.push(ef(a,f,e)));a=a.return}return d}function gf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction hf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Ob(c,f),null!=k&&g.unshift(ef(c,k,h))):e||(k=Ob(c,f),null!=k&&g.push(ef(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}function jf(){}var kf=null,lf=null;function mf(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}\nfunction nf(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var of=\"function\"===typeof setTimeout?setTimeout:void 0,pf=\"function\"===typeof clearTimeout?clearTimeout:void 0;function qf(a){1===a.nodeType?a.textContent=\"\":9===a.nodeType&&(a=a.body,null!=a&&(a.textContent=\"\"))}\nfunction rf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function sf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var tf=0;function uf(a){return{$$typeof:Ga,toString:a,valueOf:a}}var vf=Math.random().toString(36).slice(2),wf=\"__reactFiber$\"+vf,xf=\"__reactProps$\"+vf,ff=\"__reactContainer$\"+vf,yf=\"__reactEvents$\"+vf;\nfunction wc(a){var b=a[wf];if(b)return b;for(var c=a.parentNode;c;){if(b=c[ff]||c[wf]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=sf(a);null!==a;){if(c=a[wf])return c;a=sf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[wf]||a[ff];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(y(33));}function Db(a){return a[xf]||null}\nfunction $e(a){var b=a[yf];void 0===b&&(b=a[yf]=new Set);return b}var zf=[],Af=-1;function Bf(a){return{current:a}}function H(a){0>Af||(a.current=zf[Af],zf[Af]=null,Af--)}function I(a,b){Af++;zf[Af]=a.current;a.current=b}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;\nfunction Ef(a,b){var c=a.type.contextTypes;if(!c)return Cf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function Ff(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Gf(){H(N);H(M)}function Hf(a,b,c){if(M.current!==Cf)throw Error(y(168));I(M,b);I(N,c)}\nfunction If(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(y(108,Ra(b)||\"Unknown\",e));return m({},c,d)}function Jf(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Cf;Df=M.current;I(M,a);I(N,N.current);return!0}function Kf(a,b,c){var d=a.stateNode;if(!d)throw Error(y(169));c?(a=If(a,b,Df),d.__reactInternalMemoizedMergedChildContext=a,H(N),H(M),I(M,a)):H(N);I(N,c)}\nvar Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=void 0!==Rf?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1E4>dg?Sf:function(){return Sf()-dg};\nfunction eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332));}}function fg(a){switch(a){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332));}}function gg(a,b){a=fg(a);return Nf(a,b)}function hg(a,b,c){a=fg(a);return Of(a,b,c)}function ig(){if(null!==bg){var a=bg;bg=null;Pf(a)}jg()}\nfunction jg(){if(!cg&&null!==ag){cg=!0;var a=0;try{var b=ag;gg(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});ag=null}catch(c){throw null!==ag&&(ag=ag.slice(a+1)),Of(Uf,ig),c;}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(a,b){if(a&&a.defaultProps){b=m({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}\nfunction rg(a){var b=mg.current;H(mg);a.type._context._currentValue=b}function sg(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b)if(null===c||(c.childLanes&b)===b)break;else c.childLanes|=b;else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}function tg(a,b){ng=a;pg=og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(ug=!0),a.firstContext=null)}\nfunction vg(a,b){if(pg!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)pg=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===og){if(null===ng)throw Error(y(308));og=b;ng.dependencies={lanes:0,firstContext:b,responders:null}}else og=og.next=b}return a._currentValue}var wg=!1;function xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}\nfunction yg(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zg(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function Ag(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}\nfunction Bg(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction Cg(a,b,c,d){var e=a.updateQueue;wg=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var n=a.alternate;if(null!==n){n=n.updateQueue;var A=n.lastBaseUpdate;A!==g&&(null===A?n.firstBaseUpdate=l:A.next=l,n.lastBaseUpdate=k)}}if(null!==f){A=e.baseState;g=0;n=l=k=null;do{h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,\nnext:null});a:{var C=a,x=f;h=b;p=c;switch(x.tag){case 1:C=x.payload;if(\"function\"===typeof C){A=C.call(p,A,h);break a}A=C;break a;case 3:C.flags=C.flags&-4097|64;case 0:C=x.payload;h=\"function\"===typeof C?C.call(p,A,h):C;if(null===h||void 0===h)break a;A=m({},A,h);break a;case 2:wg=!0}}null!==f.callback&&(a.flags|=32,h=e.effects,null===h?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=A):n=n.next=p,g|=h;f=f.next;if(null===\nf)if(h=e.shared.pending,null===h)break;else f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}while(1);null===n&&(k=A);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=n;Dg|=g;a.lanes=g;a.memoizedState=A}}function Eg(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(y(191,e));e.call(d)}}}var Fg=(new aa.Component).refs;\nfunction Gg(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:m({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Kg={isMounted:function(a){return(a=a._reactInternals)?Zb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=Hg(),d=Ig(a),e=zg(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=\nb);Ag(a,e);Jg(a,d,c)}};function Lg(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Je(c,d)||!Je(e,f):!0}\nfunction Mg(a,b,c){var d=!1,e=Cf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=vg(f):(e=Ff(b)?Df:M.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Ef(a,e):Cf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Kg;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Ng(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Kg.enqueueReplaceState(b,b.state,null)}\nfunction Og(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Fg;xg(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=vg(f):(f=Ff(b)?Df:M.current,e.context=Ef(a,f));Cg(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Gg(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||\n(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Kg.enqueueReplaceState(e,e.state,null),Cg(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4)}var Pg=Array.isArray;\nfunction Qg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(y(309));var d=c.stateNode}if(!d)throw Error(y(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Fg&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(y(284));if(!c._owner)throw Error(y(290,a));}return a}\nfunction Rg(a,b){if(\"textarea\"!==a.type)throw Error(y(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b));}\nfunction Sg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Tg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags=2,\nc):d;b.flags=2;return c}function g(b){a&&null===b.alternate&&(b.flags=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Ug(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Qg(a,b,c),d.return=a,d;d=Vg(c.type,c.key,c.props,null,a.mode,d);d.ref=Qg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=\nWg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function n(a,b,c,d,f){if(null===b||7!==b.tag)return b=Xg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function A(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=Ug(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case sa:return c=Vg(b.type,b.key,b.props,null,a.mode,c),c.ref=Qg(a,null,b),c.return=a,c;case ta:return b=Wg(b,a.mode,c),b.return=a,b}if(Pg(b)||La(b))return b=Xg(b,\na.mode,c,null),b.return=a,b;Rg(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case sa:return c.key===e?c.type===ua?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ta:return c.key===e?l(a,b,c,d):null}if(Pg(c)||La(c))return null!==e?null:n(a,b,c,d,null);Rg(a,c)}return null}function C(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=a.get(c)||\nnull,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case sa:return a=a.get(null===d.key?c:d.key)||null,d.type===ua?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ta:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Pg(d)||La(d))return a=a.get(c)||null,n(b,a,d,e,null);Rg(b,d)}return null}function x(e,g,h,k){for(var l=null,t=null,u=g,z=g=0,q=null;null!==u&&z<h.length;z++){u.index>z?(q=u,u=null):q=u.sibling;var n=p(e,u,h[z],k);if(null===n){null===u&&(u=q);break}a&&u&&null===\nn.alternate&&b(e,u);g=f(n,g,z);null===t?l=n:t.sibling=n;t=n;u=q}if(z===h.length)return c(e,u),l;if(null===u){for(;z<h.length;z++)u=A(e,h[z],k),null!==u&&(g=f(u,g,z),null===t?l=u:t.sibling=u,t=u);return l}for(u=d(e,u);z<h.length;z++)q=C(u,e,z,h[z],k),null!==q&&(a&&null!==q.alternate&&u.delete(null===q.key?z:q.key),g=f(q,g,z),null===t?l=q:t.sibling=q,t=q);a&&u.forEach(function(a){return b(e,a)});return l}function w(e,g,h,k){var l=La(h);if(\"function\"!==typeof l)throw Error(y(150));h=l.call(h);if(null==\nh)throw Error(y(151));for(var t=l=null,u=g,z=g=0,q=null,n=h.next();null!==u&&!n.done;z++,n=h.next()){u.index>z?(q=u,u=null):q=u.sibling;var w=p(e,u,n.value,k);if(null===w){null===u&&(u=q);break}a&&u&&null===w.alternate&&b(e,u);g=f(w,g,z);null===t?l=w:t.sibling=w;t=w;u=q}if(n.done)return c(e,u),l;if(null===u){for(;!n.done;z++,n=h.next())n=A(e,n.value,k),null!==n&&(g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);return l}for(u=d(e,u);!n.done;z++,n=h.next())n=C(u,e,z,n.value,k),null!==n&&(a&&null!==n.alternate&&\nu.delete(null===n.key?z:n.key),g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);a&&u.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===ua&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case sa:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===ua){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,k.sibling);\nd=e(k,f.props);d.ref=Qg(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===ua?(d=Xg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Vg(f.type,f.key,f.props,null,a.mode,h),h.ref=Qg(a,d,f),h.return=a,a=h)}return g(a);case ta:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=\nWg(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Ug(f,a.mode,h),d.return=a,a=d),g(a);if(Pg(f))return x(a,d,f,h);if(La(f))return w(a,d,f,h);l&&Rg(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(a.type)||\"Component\"));}return c(a,d)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);\nfunction dh(a){if(a===$g)throw Error(y(174));return a}function eh(a,b){I(ch,b);I(bh,a);I(ah,$g);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:mb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=mb(b,a)}H(ah);I(ah,b)}function fh(){H(ah);H(bh);H(ch)}function gh(a){dh(ch.current);var b=dh(ah.current);var c=mb(b,a.type);b!==c&&(I(bh,a),I(ah,c))}function hh(a){bh.current===a&&(H(ah),H(bh))}var P=Bf(0);\nfunction ih(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var jh=null,kh=null,lh=!1;\nfunction mh(a,b){var c=nh(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.flags=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function oh(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\nfunction ph(a){if(lh){var b=kh;if(b){var c=b;if(!oh(a,b)){b=rf(c.nextSibling);if(!b||!oh(a,b)){a.flags=a.flags&-1025|2;lh=!1;jh=a;return}mh(jh,c)}jh=a;kh=rf(b.firstChild)}else a.flags=a.flags&-1025|2,lh=!1,jh=a}}function qh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;jh=a}\nfunction rh(a){if(a!==jh)return!1;if(!lh)return qh(a),lh=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!nf(b,a.memoizedProps))for(b=kh;b;)mh(a,b),b=rf(b.nextSibling);qh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(y(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){kh=rf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}kh=null}}else kh=jh?rf(a.stateNode.nextSibling):null;return!0}\nfunction sh(){kh=jh=null;lh=!1}var th=[];function uh(){for(var a=0;a<th.length;a++)th[a]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321));}function Bh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Ch(a,b,c,d,e,f){xh=f;R=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;vh.current=null===a||null===a.memoizedState?Dh:Eh;a=c(d,e);if(zh){f=0;do{zh=!1;if(!(25>f))throw Error(y(301));f+=1;T=S=null;b.updateQueue=null;vh.current=Fh;a=c(d,e)}while(zh)}vh.current=Gh;b=null!==S&&null!==S.next;xh=0;T=S=R=null;yh=!1;if(b)throw Error(y(300));return a}function Hh(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===T?R.memoizedState=T=a:T=T.next=a;return T}\nfunction Ih(){if(null===S){var a=R.alternate;a=null!==a?a.memoizedState:null}else a=S.next;var b=null===T?R.memoizedState:T.next;if(null!==b)T=b,S=a;else{if(null===a)throw Error(y(310));S=a;a={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null};null===T?R.memoizedState=T=a:T=T.next=a}return T}function Jh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Kh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=S,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((xh&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,\neagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n;R.lanes|=l;Dg|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;He(d,b.memoizedState)||(ug=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}\nfunction Lh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}\nfunction Mh(a,b,c){var d=b._getVersion;d=d(b._source);var e=b._workInProgressVersionPrimary;if(null!==e)a=e===d;else if(a=a.mutableReadLanes,a=(xh&a)===a)b._workInProgressVersionPrimary=d,th.push(b);if(a)return c(b._source);th.push(b);throw Error(y(350));}\nfunction Nh(a,b,c,d){var e=U;if(null===e)throw Error(y(349));var f=b._getVersion,g=f(b._source),h=vh.current,k=h.useState(function(){return Mh(e,b,c)}),l=k[1],n=k[0];k=T;var A=a.memoizedState,p=A.refs,C=p.getSnapshot,x=A.source;A=A.subscribe;var w=R;a.memoizedState={refs:p,source:b,subscribe:d};h.useEffect(function(){p.getSnapshot=c;p.setSnapshot=l;var a=f(b._source);if(!He(g,a)){a=c(b._source);He(n,a)||(l(a),a=Ig(w),e.mutableReadLanes|=a&e.pendingLanes);a=e.mutableReadLanes;e.entangledLanes|=a;for(var d=\ne.entanglements,h=a;0<h;){var k=31-Vc(h),v=1<<k;d[k]|=a;h&=~v}}},[c,b,d]);h.useEffect(function(){return d(b._source,function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=Ig(w);e.mutableReadLanes|=d&e.pendingLanes}catch(q){c(function(){throw q;})}})},[b,d]);He(C,c)&&He(x,b)&&He(A,d)||(a={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:n},a.dispatch=l=Oh.bind(null,R,a),k.queue=a,k.baseQueue=null,n=Mh(e,b,c),k.memoizedState=k.baseState=n);return n}\nfunction Ph(a,b,c){var d=Ih();return Nh(d,a,b,c)}function Qh(a){var b=Hh();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:a};a=a.dispatch=Oh.bind(null,R,a);return[b.memoizedState,a]}\nfunction Rh(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=R.updateQueue;null===b?(b={lastEffect:null},R.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function Sh(a){var b=Hh();a={current:a};return b.memoizedState=a}function Th(){return Ih().memoizedState}function Uh(a,b,c,d){var e=Hh();R.flags|=a;e.memoizedState=Rh(1|b,c,void 0,void 0===d?null:d)}\nfunction Vh(a,b,c,d){var e=Ih();d=void 0===d?null:d;var f=void 0;if(null!==S){var g=S.memoizedState;f=g.destroy;if(null!==d&&Bh(d,g.deps)){Rh(b,c,f,d);return}}R.flags|=a;e.memoizedState=Rh(1|b,c,f,d)}function Wh(a,b){return Uh(516,4,a,b)}function Xh(a,b){return Vh(516,4,a,b)}function Yh(a,b){return Vh(4,2,a,b)}function Zh(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}\nfunction $h(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Vh(4,2,Zh.bind(null,b,a),c)}function ai(){}function bi(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function ci(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}\nfunction di(a,b){var c=eg();gg(98>c?98:c,function(){a(!0)});gg(97<c?97:c,function(){var c=wh.transition;wh.transition=1;try{a(!1),b()}finally{wh.transition=c}})}\nfunction Oh(a,b,c){var d=Hg(),e=Ig(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;null===g?f.next=f:(f.next=g.next,g.next=f);b.pending=f;g=a.alternate;if(a===R||null!==g&&g===R)zh=yh=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&(g=b.lastRenderedReducer,null!==g))try{var h=b.lastRenderedState,k=g(h,c);f.eagerReducer=g;f.eagerState=k;if(He(k,h))return}catch(l){}finally{}Jg(a,e,d)}}\nvar Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(a,b){Hh().memoizedState=[a,void 0===b?null:b];return a},useContext:vg,useEffect:Wh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Uh(4,2,Zh.bind(null,\nb,a),c)},useLayoutEffect:function(a,b){return Uh(4,2,a,b)},useMemo:function(a,b){var c=Hh();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Hh();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=Oh.bind(null,R,a);return[d.memoizedState,a]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(a){var b=Qh(a),c=b[0],d=b[1];Wh(function(){var b=wh.transition;\nwh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Qh(!1),b=a[0];a=di.bind(null,a[1]);Sh(a);return[a,b]},useMutableSource:function(a,b,c){var d=Hh();d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c};return Nh(d,a,b,c)},useOpaqueIdentifier:function(){if(lh){var a=!1,b=uf(function(){a||(a=!0,c(\"r:\"+(tf++).toString(36)));throw Error(y(355));}),c=Qh(b)[1];0===(R.mode&2)&&(R.flags|=516,Rh(5,function(){c(\"r:\"+(tf++).toString(36))},\nvoid 0,null));return b}b=\"r:\"+(tf++).toString(36);Qh(b);return b},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Kh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Kh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Lh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Lh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(a,b,c,d){b.child=null===a?Zg(b,null,c,d):Yg(b,a.child,c,d)}function gi(a,b,c,d,e){c=c.render;var f=b.ref;tg(b,e);d=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,d,e);return b.child}\nfunction ii(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!ji(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ki(a,b,g,d,e,f);a=Vg(c.type,null,d,b,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(0===(e&f)&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Je,c(e,d)&&a.ref===b.ref))return hi(a,b,f);b.flags|=1;a=Tg(g,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction ki(a,b,c,d,e,f){if(null!==a&&Je(a.memoizedProps,d)&&a.ref===b.ref)if(ug=!1,0!==(f&e))0!==(a.flags&16384)&&(ug=!0);else return b.lanes=a.lanes,hi(a,b,f);return li(a,b,c,d,f)}\nfunction mi(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode||\"unstable-defer-without-hiding\"===d.mode)if(0===(b.mode&4))b.memoizedState={baseLanes:0},ni(b,c);else if(0!==(c&1073741824))b.memoizedState={baseLanes:0},ni(b,null!==f?f.baseLanes:c);else return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},ni(b,a),null;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,ni(b,d);fi(a,b,e,c);return b.child}\nfunction oi(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=128}function li(a,b,c,d,e){var f=Ff(c)?Df:M.current;f=Ef(b,f);tg(b,e);c=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,c,e);return b.child}\nfunction pi(a,b,c,d,e){if(Ff(c)){var f=!0;Jf(b)}else f=!1;tg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),Mg(b,c,d),Og(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=vg(l):(l=Ff(c)?Df:M.current,l=Ef(b,l));var n=c.getDerivedStateFromProps,A=\"function\"===typeof n||\"function\"===typeof g.getSnapshotBeforeUpdate;A||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Ng(b,g,d,l);wg=!1;var p=b.memoizedState;g.state=p;Cg(b,d,g,e);k=b.memoizedState;h!==d||p!==k||N.current||wg?(\"function\"===typeof n&&(Gg(b,c,n,d),k=b.memoizedState),(h=wg||Lg(b,c,h,d,p,k,l))?(A||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===\ntypeof g.componentDidMount&&(b.flags|=4)):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode;yg(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:lg(b.type,h);g.props=l;A=b.pendingProps;p=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=vg(k):(k=Ff(c)?Df:M.current,k=Ef(b,k));var C=c.getDerivedStateFromProps;(n=\"function\"===typeof C||\n\"function\"===typeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==A||p!==k)&&Ng(b,g,d,k);wg=!1;p=b.memoizedState;g.state=p;Cg(b,d,g,e);var x=b.memoizedState;h!==A||p!==x||N.current||wg?(\"function\"===typeof C&&(Gg(b,c,C,d),x=b.memoizedState),(l=wg||Lg(b,c,l,d,p,x,k))?(n||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,\nx,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||\nh===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return qi(a,b,c,d,f,e)}\nfunction qi(a,b,c,d,e,f){oi(a,b);var g=0!==(b.flags&64);if(!d&&!g)return e&&Kf(b,c,!1),hi(a,b,f);d=b.stateNode;ei.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Yg(b,a.child,null,f),b.child=Yg(b,null,h,f)):fi(a,b,h,f);b.memoizedState=d.state;e&&Kf(b,c,!0);return b.child}function ri(a){var b=a.stateNode;b.pendingContext?Hf(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Hf(a,b.context,!1);eh(a,b.containerInfo)}\nvar si={dehydrated:null,retryLane:0};\nfunction ti(a,b,c){var d=b.pendingProps,e=P.current,f=!1,g;(g=0!==(b.flags&64))||(g=null!==a&&null===a.memoizedState?!1:0!==(e&2));g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1);I(P,e&1);if(null===a){void 0!==d.fallback&&ph(b);a=d.children;e=d.fallback;if(f)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=si,a;if(\"number\"===typeof d.unstable_expectedLoadTime)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},\nb.memoizedState=si,b.lanes=33554432,a;c=vi({mode:\"visible\",children:a},b.mode,c,null);c.return=b;return b.child=c}if(null!==a.memoizedState){if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:\n{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}function ui(a,b,c,d){var e=a.mode,f=a.child;b={mode:\"hidden\",children:b};0===(e&2)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=vi(b,e,0,null);c=Xg(c,e,d,null);f.return=a;c.return=a;f.sibling=c;a.child=f;return c}\nfunction xi(a,b,c,d){var e=a.child;a=e.sibling;c=Tg(e,{mode:\"visible\",children:c});0===(b.mode&2)&&(c.lanes=d);c.return=b;c.sibling=null;null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a);return b.child=c}\nfunction wi(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:\"hidden\",children:c};0===(f&2)&&b.child!==g?(c=b.child,c.childLanes=0,c.pendingProps=h,g=c.lastEffect,null!==g?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Tg(g,h);null!==a?d=Tg(a,d):(d=Xg(d,f,e,null),d.flags|=2);d.return=b;c.return=b;c.sibling=d;b.child=c;return d}function yi(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);sg(a.return,b)}\nfunction zi(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}\nfunction Ai(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;fi(a,b,d.children,c);d=P.current;if(0!==(d&2))d=d&1|2,b.flags|=64;else{if(null!==a&&0!==(a.flags&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&yi(a,c);else if(19===a.tag)yi(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}I(P,d);if(0===(b.mode&2))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===ih(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);zi(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===ih(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}zi(b,!0,c,null,f,b.lastEffect);break;case \"together\":zi(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\nfunction hi(a,b,c){null!==a&&(b.dependencies=a.dependencies);Dg|=b.lanes;if(0!==(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(y(153));if(null!==b.child){a=b.child;c=Tg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Tg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}return null}var Bi,Ci,Di,Ei;\nBi=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Ci=function(){};\nDi=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;dh(ah.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"option\":e=eb(a,e);d=eb(a,d);f=[];break;case \"select\":e=m({},e,{value:void 0});d=m({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=jf)}vb(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===\nl){var h=e[l];for(g in h)h.hasOwnProperty(g)&&(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ca.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||\n(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,c)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ca.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&G(\"scroll\",a),f||h===k||(f=[])):\"object\"===typeof k&&null!==k&&k.$$typeof===Ga?k.toString():(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",\nc);var l=f;if(b.updateQueue=l)b.flags|=4}};Ei=function(a,b,c,d){c!==d&&(b.flags|=4)};function Fi(a,b){if(!lh)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction Gi(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(b.type)&&Gf(),null;case 3:fh();H(N);H(M);uh();d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)rh(b)?b.flags|=4:d.hydrate||(b.flags|=256);Ci(b);return null;case 5:hh(b);var e=dh(ch.current);c=b.type;if(null!==a&&null!=b.stateNode)Di(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===\nb.stateNode)throw Error(y(166));return null}a=dh(ah.current);if(rh(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[wf]=b;d[xf]=f;switch(c){case \"dialog\":G(\"cancel\",d);G(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",d);break;case \"video\":case \"audio\":for(a=0;a<Xe.length;a++)G(Xe[a],d);break;case \"source\":G(\"error\",d);break;case \"img\":case \"image\":case \"link\":G(\"error\",d);G(\"load\",d);break;case \"details\":G(\"toggle\",d);break;case \"input\":Za(d,f);G(\"invalid\",d);break;case \"select\":d._wrapperState=\n{wasMultiple:!!f.multiple};G(\"invalid\",d);break;case \"textarea\":hb(d,f),G(\"invalid\",d)}vb(c,f);a=null;for(var g in f)f.hasOwnProperty(g)&&(e=f[g],\"children\"===g?\"string\"===typeof e?d.textContent!==e&&(a=[\"children\",e]):\"number\"===typeof e&&d.textContent!==\"\"+e&&(a=[\"children\",\"\"+e]):ca.hasOwnProperty(g)&&null!=e&&\"onScroll\"===g&&G(\"scroll\",d));switch(c){case \"input\":Va(d);cb(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=\njf)}d=a;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;a===kb.html&&(a=lb(c));a===kb.html?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[wf]=b;a[xf]=d;Bi(a,b,!1,!1);b.stateNode=a;g=wb(c,d);switch(c){case \"dialog\":G(\"cancel\",a);G(\"close\",a);\ne=d;break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<Xe.length;e++)G(Xe[e],a);e=d;break;case \"source\":G(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":G(\"error\",a);G(\"load\",a);e=d;break;case \"details\":G(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);G(\"invalid\",a);break;case \"option\":e=eb(a,d);break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=m({},d,{value:void 0});G(\"invalid\",a);break;case \"textarea\":hb(a,d);e=\ngb(a,d);G(\"invalid\",a);break;default:e=d}vb(c,e);var h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?tb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&ob(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==c||\"\"!==k)&&pb(a,k):\"number\"===typeof k&&pb(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ca.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&G(\"scroll\",a):null!=k&&qa(a,f,k,g))}switch(c){case \"input\":Va(a);cb(a,d,!1);\nbreak;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=jf)}mf(c,d)&&(b.flags|=4)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)Ei(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(y(166));\nc=dh(ch.current);dh(ah.current);rh(b)?(d=b.stateNode,c=b.memoizedProps,d[wf]=b,d.nodeValue!==c&&(b.flags|=4)):(d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[wf]=b,b.stateNode=d)}return null;case 13:H(P);d=b.memoizedState;if(0!==(b.flags&64))return b.lanes=c,b;d=null!==d;c=!1;null===a?void 0!==b.memoizedProps.fallback&&rh(b):c=null!==a.memoizedState;if(d&&!c&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(P.current&1))0===V&&(V=3);else{if(0===V||3===V)V=\n4;null===U||0===(Dg&134217727)&&0===(Hi&134217727)||Ii(U,W)}if(d||c)b.flags|=4;return null;case 4:return fh(),Ci(b),null===a&&cf(b.stateNode.containerInfo),null;case 10:return rg(b),null;case 17:return Ff(b.type)&&Gf(),null;case 19:H(P);d=b.memoizedState;if(null===d)return null;f=0!==(b.flags&64);g=d.rendering;if(null===g)if(f)Fi(d,!1);else{if(0!==V||null!==a&&0!==(a.flags&64))for(a=b.child;null!==a;){g=ih(a);if(null!==g){b.flags|=64;Fi(d,!1);f=g.updateQueue;null!==f&&(b.updateQueue=f,b.flags|=4);\nnull===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,g=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,\nf.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;I(P,P.current&1|2);return b.child}a=a.sibling}null!==d.tail&&O()>Ji&&(b.flags|=64,f=!0,Fi(d,!1),b.lanes=33554432)}else{if(!f)if(a=ih(g),null!==a){if(b.flags|=64,f=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Fi(d,!0),null===d.tail&&\"hidden\"===d.tailMode&&!g.alternate&&!lh)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*O()-d.renderingStartTime>Ji&&1073741824!==c&&(b.flags|=\n64,f=!0,Fi(d,!1),b.lanes=33554432);d.isBackwards?(g.sibling=b.child,b.child=g):(c=d.last,null!==c?c.sibling=g:b.child=g,d.last=g)}return null!==d.tail?(c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=O(),c.sibling=null,b=P.current,I(P,f?b&1|2:b&1),c):null;case 23:case 24:return Ki(),null!==a&&null!==a.memoizedState!==(null!==b.memoizedState)&&\"unstable-defer-without-hiding\"!==d.mode&&(b.flags|=4),null}throw Error(y(156,b.tag));}\nfunction Li(a){switch(a.tag){case 1:Ff(a.type)&&Gf();var b=a.flags;return b&4096?(a.flags=b&-4097|64,a):null;case 3:fh();H(N);H(M);uh();b=a.flags;if(0!==(b&64))throw Error(y(285));a.flags=b&-4097|64;return a;case 5:return hh(a),null;case 13:return H(P),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(a),null;case 23:case 24:return Ki(),null;default:return null}}\nfunction Mi(a,b){try{var c=\"\",d=b;do c+=Qa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e}}function Ni(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Oi=\"function\"===typeof WeakMap?WeakMap:Map;function Pi(a,b,c){c=zg(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Qi||(Qi=!0,Ri=d);Ni(a,b)};return c}\nfunction Si(a,b,c){c=zg(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){Ni(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Ti?Ti=new Set([this]):Ti.add(this),Ni(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}var Ui=\"function\"===typeof WeakSet?WeakSet:Set;\nfunction Vi(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Wi(a,c)}else b.current=null}function Xi(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:lg(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:b.flags&256&&qf(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163));}\nfunction Yi(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{if(3===(a.tag&3)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{var e=a;d=e.next;e=e.tag;0!==(e&4)&&0!==(e&1)&&(Zi(c,a),$i(c,a));a=d}while(a!==b)}return;case 1:a=c.stateNode;c.flags&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:lg(c.type,b.memoizedProps),a.componentDidUpdate(d,\nb.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&Eg(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}Eg(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.flags&4&&mf(c.type,c.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Cc(c))));\nreturn;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163));}\nfunction aj(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d=d.style,\"function\"===typeof d.setProperty?d.setProperty(\"display\",\"none\",\"important\"):d.display=\"none\";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null;d.style.display=sb(\"display\",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?\"\":c.memoizedProps;else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===\na)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\nfunction bj(a,b){if(Mf&&\"function\"===typeof Mf.onCommitFiberUnmount)try{Mf.onCommitFiberUnmount(Lf,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var c=a=a.next;do{var d=c,e=d.destroy;d=d.tag;if(void 0!==e)if(0!==(d&4))Zi(b,c);else{d=b;try{e()}catch(f){Wi(d,f)}}c=c.next}while(c!==a)}break;case 1:Vi(b);a=b.stateNode;if(\"function\"===typeof a.componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){Wi(b,\nf)}break;case 5:Vi(b);break;case 4:cj(a,b)}}function dj(a){a.alternate=null;a.child=null;a.dependencies=null;a.firstEffect=null;a.lastEffect=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.return=null;a.updateQueue=null}function ej(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction fj(a){a:{for(var b=a.return;null!==b;){if(ej(b))break a;b=b.return}throw Error(y(160));}var c=b;b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(y(161));}c.flags&16&&(pb(b,\"\"),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||ej(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue b;if(null===\nc.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break a}}d?gj(a,c,b):hj(a,c,b)}\nfunction gj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=jf));else if(4!==d&&(a=a.child,null!==a))for(gj(a,b,c),a=a.sibling;null!==a;)gj(a,b,c),a=a.sibling}\nfunction hj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(hj(a,b,c),a=a.sibling;null!==a;)hj(a,b,c),a=a.sibling}\nfunction cj(a,b){for(var c=b,d=!1,e,f;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(y(160));e=d.stateNode;switch(d.tag){case 5:f=!1;break a;case 3:e=e.containerInfo;f=!0;break a;case 4:e=e.containerInfo;f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag){a:for(var g=a,h=c,k=h;;)if(bj(g,k),null!==k.child&&4!==k.tag)k.child.return=k,k=k.child;else{if(k===h)break a;for(;null===k.sibling;){if(null===k.return||k.return===h)break a;k=k.return}k.sibling.return=k.return;k=k.sibling}f?(g=e,h=c.stateNode,\n8===g.nodeType?g.parentNode.removeChild(h):g.removeChild(h)):e.removeChild(c.stateNode)}else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo;f=!0;c.child.return=c;c=c.child;continue}}else if(bj(a,c),null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return;4===c.tag&&(d=!1)}c.sibling.return=c.return;c=c.sibling}}\nfunction ij(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var c=b.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do 3===(d.tag&3)&&(a=d.destroy,d.destroy=void 0,void 0!==a&&a()),d=d.next;while(d!==c)}return;case 1:return;case 5:c=b.stateNode;if(null!=c){d=b.memoizedProps;var e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[xf]=d;\"input\"===a&&\"radio\"===d.type&&null!=d.name&&$a(c,d);wb(a,e);b=wb(a,d);for(e=0;e<f.length;e+=\n2){var g=f[e],h=f[e+1];\"style\"===g?tb(c,h):\"dangerouslySetInnerHTML\"===g?ob(c,h):\"children\"===g?pb(c,h):qa(c,g,h,b)}switch(a){case \"input\":ab(c,d);break;case \"textarea\":ib(c,d);break;case \"select\":a=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,f=d.value,null!=f?fb(c,!!d.multiple,f,!1):a!==!!d.multiple&&(null!=d.defaultValue?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:\"\",!1))}}}return;case 6:if(null===b.stateNode)throw Error(y(162));b.stateNode.nodeValue=\nb.memoizedProps;return;case 3:c=b.stateNode;c.hydrate&&(c.hydrate=!1,Cc(c.containerInfo));return;case 12:return;case 13:null!==b.memoizedState&&(jj=O(),aj(b.child,!0));kj(b);return;case 19:kj(b);return;case 17:return;case 23:case 24:aj(b,null!==b.memoizedState);return}throw Error(y(163));}function kj(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Ui);b.forEach(function(b){var d=lj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction mj(a,b){return null!==a&&(a=a.memoizedState,null===a||null!==a.dehydrated)?(b=b.memoizedState,null!==b&&null===b.dehydrated):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=Infinity;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return 0!==(X&48)?O():-1!==Fj?Fj:Fj=O()}\nfunction Ig(a){a=a.mode;if(0===(a&2))return 1;if(0===(a&4))return 99===eg()?1:2;0===Gj&&(Gj=tj);if(0!==kg.transition){0!==Hj&&(Hj=null!==vj?vj.pendingLanes:0);a=Gj;var b=4186112&~Hj;b&=-b;0===b&&(a=4186112&~a,b=a&-a,0===b&&(b=8192));return b}a=eg();0!==(X&4)&&98===a?a=Xc(12,Gj):(a=Sc(a),a=Xc(a,Gj));return a}\nfunction Jg(a,b,c){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));a=Kj(a,b);if(null===a)return null;$c(a,b,c);a===U&&(Hi|=b,4===V&&Ii(a,W));var d=eg();1===b?0!==(X&8)&&0===(X&48)?Lj(a):(Mj(a,c),0===X&&(wj(),ig())):(0===(X&4)||98!==d&&99!==d||(null===Cj?Cj=new Set([a]):Cj.add(a)),Mj(a,c));vj=a}function Kj(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}\nfunction Mj(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-Vc(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b;Rc(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5E3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}d=Uc(a,a===U?W:0);b=F;if(0===d)null!==c&&(c!==Zf&&Pf(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Zf&&Pf(c)}15===b?(c=Lj.bind(null,a),null===ag?(ag=[c],bg=Of(Uf,jg)):ag.push(c),\nc=Zf):14===b?c=hg(99,Lj.bind(null,a)):(c=Tc(b),c=hg(c,Nj.bind(null,a)));a.callbackPriority=b;a.callbackNode=c}}\nfunction Nj(a){Fj=-1;Hj=Gj=0;if(0!==(X&48))throw Error(y(327));var b=a.callbackNode;if(Oj()&&a.callbackNode!==b)return null;var c=Uc(a,a===U?W:0);if(0===c)return null;var d=c;var e=X;X|=16;var f=Pj();if(U!==a||W!==d)wj(),Qj(a,d);do try{Rj();break}catch(h){Sj(a,h)}while(1);qg();oj.current=f;X=e;null!==Y?d=0:(U=null,W=0,d=V);if(0!==(tj&Hi))Qj(a,0);else if(0!==d){2===d&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),c=Wc(a),0!==c&&(d=Tj(a,c)));if(1===d)throw b=sj,Qj(a,0),Ii(a,c),Mj(a,O()),b;a.finishedWork=\na.current.alternate;a.finishedLanes=c;switch(d){case 0:case 1:throw Error(y(345));case 2:Uj(a);break;case 3:Ii(a,c);if((c&62914560)===c&&(d=jj+500-O(),10<d)){if(0!==Uc(a,0))break;e=a.suspendedLanes;if((e&c)!==c){Hg();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=of(Uj.bind(null,a),d);break}Uj(a);break;case 4:Ii(a,c);if((c&4186112)===c)break;d=a.eventTimes;for(e=-1;0<c;){var g=31-Vc(c);f=1<<g;g=d[g];g>e&&(e=g);c&=~f}c=e;c=O()-c;c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3E3>c?3E3:4320>\nc?4320:1960*nj(c/1960))-c;if(10<c){a.timeoutHandle=of(Uj.bind(null,a),c);break}Uj(a);break;case 5:Uj(a);break;default:throw Error(y(329));}}Mj(a,O());return a.callbackNode===b?Nj.bind(null,a):null}function Ii(a,b){b&=~uj;b&=~Hi;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-Vc(b),d=1<<c;a[c]=-1;b&=~d}}\nfunction Lj(a){if(0!==(X&48))throw Error(y(327));Oj();if(a===U&&0!==(a.expiredLanes&W)){var b=W;var c=Tj(a,b);0!==(tj&Hi)&&(b=Uc(a,b),c=Tj(a,b))}else b=Uc(a,0),c=Tj(a,b);0!==a.tag&&2===c&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),b=Wc(a),0!==b&&(c=Tj(a,b)));if(1===c)throw c=sj,Qj(a,0),Ii(a,b),Mj(a,O()),c;a.finishedWork=a.current.alternate;a.finishedLanes=b;Uj(a);Mj(a,O());return null}\nfunction Vj(){if(null!==Cj){var a=Cj;Cj=null;a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes;Mj(a,O())})}ig()}function Wj(a,b){var c=X;X|=1;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function Xj(a,b){var c=X;X&=-2;X|=8;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function ni(a,b){I(rj,qj);qj|=b;tj|=b}function Ki(){qj=rj.current;H(rj)}\nfunction Qj(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,pf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&Gf();break;case 3:fh();H(N);H(M);uh();break;case 5:hh(d);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(d);break;case 23:case 24:Ki()}c=c.return}U=a;Y=Tg(a.current,null);W=qj=tj=b;V=0;sj=null;uj=Hi=Dg=0}\nfunction Sj(a,b){do{var c=Y;try{qg();vh.current=Gh;if(yh){for(var d=R.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}yh=!1}xh=0;T=S=R=null;zh=!1;pj.current=null;if(null===c||null===c.return){V=1;sj=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=W;h.flags|=2048;h.firstEffect=h.lastEffect=null;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k;if(0===(h.mode&2)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):\n(h.updateQueue=null,h.memoizedState=null)}var A=0!==(P.current&1),p=g;do{var C;if(C=13===p.tag){var x=p.memoizedState;if(null!==x)C=null!==x.dehydrated?!0:!1;else{var w=p.memoizedProps;C=void 0===w.fallback?!1:!0!==w.unstable_avoidThisFallback?!0:A?!1:!0}}if(C){var z=p.updateQueue;if(null===z){var u=new Set;u.add(l);p.updateQueue=u}else z.add(l);if(0===(p.mode&2)){p.flags|=64;h.flags|=16384;h.flags&=-2981;if(1===h.tag)if(null===h.alternate)h.tag=17;else{var t=zg(-1,1);t.tag=2;Ag(h,t)}h.lanes|=1;break a}k=\nvoid 0;h=b;var q=f.pingCache;null===q?(q=f.pingCache=new Oi,k=new Set,q.set(l,k)):(k=q.get(l),void 0===k&&(k=new Set,q.set(l,k)));if(!k.has(h)){k.add(h);var v=Yj.bind(null,f,l,h);l.then(v,v)}p.flags|=4096;p.lanes=b;break a}p=p.return}while(null!==p);k=Error((Ra(h.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\")}5!==V&&(V=2);k=Mi(k,h);p=\ng;do{switch(p.tag){case 3:f=k;p.flags|=4096;b&=-b;p.lanes|=b;var J=Pi(p,f,b);Bg(p,J);break a;case 1:f=k;var K=p.type,Q=p.stateNode;if(0===(p.flags&64)&&(\"function\"===typeof K.getDerivedStateFromError||null!==Q&&\"function\"===typeof Q.componentDidCatch&&(null===Ti||!Ti.has(Q)))){p.flags|=4096;b&=-b;p.lanes|=b;var L=Si(p,f,b);Bg(p,L);break a}}p=p.return}while(null!==p)}Zj(c)}catch(va){b=va;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}\nfunction Pj(){var a=oj.current;oj.current=Gh;return null===a?Gh:a}function Tj(a,b){var c=X;X|=16;var d=Pj();U===a&&W===b||Qj(a,b);do try{ak();break}catch(e){Sj(a,e)}while(1);qg();X=c;oj.current=d;if(null!==Y)throw Error(y(261));U=null;W=0;return V}function ak(){for(;null!==Y;)bk(Y)}function Rj(){for(;null!==Y&&!Qf();)bk(Y)}function bk(a){var b=ck(a.alternate,a,qj);a.memoizedProps=a.pendingProps;null===b?Zj(a):Y=b;pj.current=null}\nfunction Zj(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&2048)){c=Gi(c,b,qj);if(null!==c){Y=c;return}c=b;if(24!==c.tag&&23!==c.tag||null===c.memoizedState||0!==(qj&1073741824)||0===(c.mode&4)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0===(a.flags&2048)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==\na.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{c=Li(b);if(null!==c){c.flags&=2047;Y=c;return}null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===V&&(V=5)}function Uj(a){var b=eg();gg(99,dk.bind(null,a,b));return null}\nfunction dk(a,b){do Oj();while(null!==yj);if(0!==(X&48))throw Error(y(327));var c=a.finishedWork;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(y(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=e;a.mutableReadLanes&=e;a.entangledLanes&=e;e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-Vc(f),l=1<<k;e[k]=0;g[k]=-1;h[k]=-1;f&=~l}null!==\nCj&&0===(d&24)&&Cj.has(a)&&Cj.delete(a);a===U&&(Y=U=null,W=0);1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect;if(null!==d){e=X;X|=32;pj.current=null;kf=fd;g=Ne();if(Oe(g)){if(\"selectionStart\"in g)h={start:g.selectionStart,end:g.selectionEnd};else a:if(h=(h=g.ownerDocument)&&h.defaultView||window,(l=h.getSelection&&h.getSelection())&&0!==l.rangeCount){h=l.anchorNode;f=l.anchorOffset;k=l.focusNode;l=l.focusOffset;try{h.nodeType,k.nodeType}catch(va){h=null;\nbreak a}var n=0,A=-1,p=-1,C=0,x=0,w=g,z=null;b:for(;;){for(var u;;){w!==h||0!==f&&3!==w.nodeType||(A=n+f);w!==k||0!==l&&3!==w.nodeType||(p=n+l);3===w.nodeType&&(n+=w.nodeValue.length);if(null===(u=w.firstChild))break;z=w;w=u}for(;;){if(w===g)break b;z===h&&++C===f&&(A=n);z===k&&++x===l&&(p=n);if(null!==(u=w.nextSibling))break;w=z;z=w.parentNode}w=u}h=-1===A||-1===p?null:{start:A,end:p}}else h=null;h=h||{start:0,end:0}}else h=null;lf={focusedElem:g,selectionRange:h};fd=!1;Ij=null;Jj=!1;Z=d;do try{ek()}catch(va){if(null===\nZ)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Ij=null;Z=d;do try{for(g=a;null!==Z;){var t=Z.flags;t&16&&pb(Z.stateNode,\"\");if(t&128){var q=Z.alternate;if(null!==q){var v=q.ref;null!==v&&(\"function\"===typeof v?v(null):v.current=null)}}switch(t&1038){case 2:fj(Z);Z.flags&=-3;break;case 6:fj(Z);Z.flags&=-3;ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025;ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:h=Z;cj(g,h);var J=h.alternate;dj(h);null!==\nJ&&dj(J)}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);v=lf;q=Ne();t=v.focusedElem;g=v.selectionRange;if(q!==t&&t&&t.ownerDocument&&Me(t.ownerDocument.documentElement,t)){null!==g&&Oe(t)&&(q=g.start,v=g.end,void 0===v&&(v=q),\"selectionStart\"in t?(t.selectionStart=q,t.selectionEnd=Math.min(v,t.value.length)):(v=(q=t.ownerDocument||document)&&q.defaultView||window,v.getSelection&&(v=v.getSelection(),h=t.textContent.length,J=Math.min(g.start,h),g=void 0===\ng.end?J:Math.min(g.end,h),!v.extend&&J>g&&(h=g,g=J,J=h),h=Le(t,J),f=Le(t,g),h&&f&&(1!==v.rangeCount||v.anchorNode!==h.node||v.anchorOffset!==h.offset||v.focusNode!==f.node||v.focusOffset!==f.offset)&&(q=q.createRange(),q.setStart(h.node,h.offset),v.removeAllRanges(),J>g?(v.addRange(q),v.extend(f.node,f.offset)):(q.setEnd(f.node,f.offset),v.addRange(q))))));q=[];for(v=t;v=v.parentNode;)1===v.nodeType&&q.push({element:v,left:v.scrollLeft,top:v.scrollTop});\"function\"===typeof t.focus&&t.focus();for(t=\n0;t<q.length;t++)v=q[t],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}fd=!!kf;lf=kf=null;a.current=c;Z=d;do try{for(t=a;null!==Z;){var K=Z.flags;K&36&&Yi(t,Z.alternate,Z);if(K&128){q=void 0;var Q=Z.ref;if(null!==Q){var L=Z.stateNode;switch(Z.tag){case 5:q=L;break;default:q=L}\"function\"===typeof Q?Q(q):Q.current=q}}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Z=null;$f();X=e}else a.current=c;if(xj)xj=!1,yj=a,zj=b;else for(Z=d;null!==Z;)b=\nZ.nextEffect,Z.nextEffect=null,Z.flags&8&&(K=Z,K.sibling=null,K.stateNode=null),Z=b;d=a.pendingLanes;0===d&&(Ti=null);1===d?a===Ej?Dj++:(Dj=0,Ej=a):Dj=0;c=c.stateNode;if(Mf&&\"function\"===typeof Mf.onCommitFiberRoot)try{Mf.onCommitFiberRoot(Lf,c,void 0,64===(c.current.flags&64))}catch(va){}Mj(a,O());if(Qi)throw Qi=!1,a=Ri,Ri=null,a;if(0!==(X&8))return null;ig();return null}\nfunction ek(){for(;null!==Z;){var a=Z.alternate;Jj||null===Ij||(0!==(Z.flags&8)?dc(Z,Ij)&&(Jj=!0):13===Z.tag&&mj(a,Z)&&dc(Z,Ij)&&(Jj=!0));var b=Z.flags;0!==(b&256)&&Xi(a,Z);0===(b&512)||xj||(xj=!0,hg(97,function(){Oj();return null}));Z=Z.nextEffect}}function Oj(){if(90!==zj){var a=97<zj?97:zj;zj=90;return gg(a,fk)}return!1}function $i(a,b){Aj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}function Zi(a,b){Bj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}\nfunction fk(){if(null===yj)return!1;var a=yj;yj=null;if(0!==(X&48))throw Error(y(331));var b=X;X|=32;var c=Bj;Bj=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;e.destroy=void 0;if(\"function\"===typeof g)try{g()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}c=Aj;Aj=[];for(d=0;d<c.length;d+=2){e=c[d];f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,h.flags&8&&(h.sibling=\nnull,h.stateNode=null),h=a;X=b;ig();return!0}function gk(a,b,c){b=Mi(c,b);b=Pi(a,b,1);Ag(a,b);b=Hg();a=Kj(a,1);null!==a&&($c(a,1,b),Mj(a,b))}\nfunction Wi(a,b){if(3===a.tag)gk(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){gk(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d))){a=Mi(b,a);var e=Si(c,a,1);Ag(c,e);e=Hg();c=Kj(c,1);if(null!==c)$c(c,1,e),Mj(c,e);else if(\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}\nfunction Yj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=Hg();a.pingedLanes|=a.suspendedLanes&c;U===a&&(W&c)===c&&(4===V||3===V&&(W&62914560)===W&&500>O()-jj?Qj(a,0):uj|=c);Mj(a,b)}function lj(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=a.mode,0===(b&2)?b=1:0===(b&4)?b=99===eg()?1:2:(0===Gj&&(Gj=tj),b=Yc(62914560&~Gj),0===b&&(b=4194304)));c=Hg();a=Kj(a,b);null!==a&&($c(a,b,c),Mj(a,c))}var ck;\nck=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||N.current)ug=!0;else if(0!==(c&d))ug=0!==(a.flags&16384)?!0:!1;else{ug=!1;switch(b.tag){case 3:ri(b);sh();break;case 5:gh(b);break;case 1:Ff(b.type)&&Jf(b);break;case 4:eh(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;var e=b.type._context;I(mg,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){if(0!==(c&b.child.childLanes))return ti(a,b,c);I(P,P.current&1);b=hi(a,b,c);return null!==\nb?b.sibling:null}I(P,P.current&1);break;case 19:d=0!==(c&b.childLanes);if(0!==(a.flags&64)){if(d)return Ai(a,b,c);b.flags|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);I(P,P.current);if(d)break;else return null;case 23:case 24:return b.lanes=0,mi(a,b,c)}return hi(a,b,c)}else ug=!1;b.lanes=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;e=Ef(b,M.current);tg(b,c);e=Ch(null,b,d,a,e,c);b.flags|=1;if(\"object\"===\ntypeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(Ff(d)){var f=!0;Jf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;xg(b);var g=d.getDerivedStateFromProps;\"function\"===typeof g&&Gg(b,d,g,a);e.updater=Kg;b.stateNode=e;e._reactInternals=b;Og(b,d,a,c);b=qi(null,b,d,!0,f,c)}else b.tag=0,fi(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);\na=b.pendingProps;f=e._init;e=f(e._payload);b.type=e;f=b.tag=hk(e);a=lg(e,a);switch(f){case 0:b=li(null,b,e,a,c);break a;case 1:b=pi(null,b,e,a,c);break a;case 11:b=gi(null,b,e,a,c);break a;case 14:b=ii(null,b,e,lg(e.type,a),d,c);break a}throw Error(y(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),li(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),pi(a,b,d,e,c);case 3:ri(b);d=b.updateQueue;if(null===a||null===d)throw Error(y(282));\nd=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;yg(a,b);Cg(b,d,null,c);d=b.memoizedState.element;if(d===e)sh(),b=hi(a,b,c);else{e=b.stateNode;if(f=e.hydrate)kh=rf(b.stateNode.containerInfo.firstChild),jh=b,f=lh=!0;if(f){a=e.mutableSourceEagerHydrationData;if(null!=a)for(e=0;e<a.length;e+=2)f=a[e],f._workInProgressVersionPrimary=a[e+1],th.push(f);c=Zg(b,null,d,c);for(b.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else fi(a,b,d,c),sh();b=b.child}return b;case 5:return gh(b),null===a&&\nph(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,nf(d,e)?g=null:null!==f&&nf(d,f)&&(b.flags|=16),oi(a,b),fi(a,b,g,c),b.child;case 6:return null===a&&ph(b),null;case 13:return ti(a,b,c);case 4:return eh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Yg(b,null,d,c):fi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),gi(a,b,d,e,c);case 7:return fi(a,b,b.pendingProps,c),b.child;case 8:return fi(a,b,b.pendingProps.children,\nc),b.child;case 12:return fi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;I(mg,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=He(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!N.current){b=hi(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=\nk.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=zg(-1,c&-c),l.tag=2,Ag(h,l));h.lanes|=c;l=h.alternate;null!==l&&(l.lanes|=c);sg(h.return,c);k.lanes|=c;break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}fi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,tg(b,c),e=vg(e,\nf.unstable_observedBits),d=d(e),b.flags|=1,fi(a,b,d,c),b.child;case 14:return e=b.type,f=lg(e,b.pendingProps),f=lg(e.type,f),ii(a,b,e,f,d,c);case 15:return ki(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ff(d)?(a=!0,Jf(b)):a=!1,tg(b,c),Mg(b,d,e),Og(b,d,e,c),qi(null,b,d,!0,a,c);case 19:return Ai(a,b,c);case 23:return mi(a,b,c);case 24:return mi(a,b,c)}throw Error(y(156,b.tag));\n};function ik(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function nh(a,b,c,d){return new ik(a,b,c,d)}function ji(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction hk(a){if(\"function\"===typeof a)return ji(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Aa)return 11;if(a===Da)return 14}return 2}\nfunction Tg(a,b){var c=a.alternate;null===c?(c=nh(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Vg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)ji(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ua:return Xg(c.children,e,f,b);case Ha:g=8;e|=16;break;case wa:g=8;e|=1;break;case xa:return a=nh(12,c,b,e|8),a.elementType=xa,a.type=xa,a.lanes=f,a;case Ba:return a=nh(13,c,b,e),a.type=Ba,a.elementType=Ba,a.lanes=f,a;case Ca:return a=nh(19,c,b,e),a.elementType=Ca,a.lanes=f,a;case Ia:return vi(c,e,f,b);case Ja:return a=nh(24,c,b,e),a.elementType=Ja,a.lanes=f,a;default:if(\"object\"===\ntypeof a&&null!==a)switch(a.$$typeof){case ya:g=10;break a;case za:g=9;break a;case Aa:g=11;break a;case Da:g=14;break a;case Ea:g=16;d=null;break a;case Fa:g=22;break a}throw Error(y(130,null==a?a:typeof a,\"\"));}b=nh(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Xg(a,b,c,d){a=nh(7,a,d,b);a.lanes=c;return a}function vi(a,b,c,d){a=nh(23,a,d,b);a.elementType=Ia;a.lanes=c;return a}function Ug(a,b,c){a=nh(6,a,null,b);a.lanes=c;return a}\nfunction Wg(a,b,c){b=nh(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction jk(a,b,c){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Zc(0);this.expirationTimes=Zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Zc(0);this.mutableSourceEagerHydrationData=null}\nfunction kk(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ta,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction lk(a,b,c,d){var e=b.current,f=Hg(),g=Ig(e);a:if(c){c=c._reactInternals;b:{if(Zb(c)!==c||1!==c.tag)throw Error(y(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(Ff(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(y(171));}if(1===c.tag){var k=c.type;if(Ff(k)){c=If(c,k,h);break a}}c=h}else c=Cf;null===b.context?b.context=c:b.pendingContext=c;b=zg(f,g);b.payload={element:a};d=void 0===d?null:d;null!==\nd&&(b.callback=d);Ag(e,b);Jg(e,g,f);return g}function mk(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function nk(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function ok(a,b){nk(a,b);(a=a.alternate)&&nk(a,b)}function pk(){return null}\nfunction qk(a,b,c){var d=null!=c&&null!=c.hydrationOptions&&c.hydrationOptions.mutableSources||null;c=new jk(a,b,null!=c&&!0===c.hydrate);b=nh(3,null,null,2===b?7:1===b?3:0);c.current=b;b.stateNode=c;xg(b);a[ff]=c.current;cf(8===a.nodeType?a.parentNode:a);if(d)for(a=0;a<d.length;a++){b=d[a];var e=b._getVersion;e=e(b._source);null==c.mutableSourceEagerHydrationData?c.mutableSourceEagerHydrationData=[b,e]:c.mutableSourceEagerHydrationData.push(b,e)}this._internalRoot=c}\nqk.prototype.render=function(a){lk(a,this._internalRoot,null,null)};qk.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;lk(null,a,null,function(){b[ff]=null})};function rk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}\nfunction sk(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new qk(a,0,b?{hydrate:!0}:void 0)}\nfunction tk(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if(\"function\"===typeof e){var h=e;e=function(){var a=mk(g);h.call(a)}}lk(b,g,a,e)}else{f=c._reactRootContainer=sk(c,d);g=f._internalRoot;if(\"function\"===typeof e){var k=e;e=function(){var a=mk(g);k.call(a)}}Xj(function(){lk(b,g,a,e)})}return mk(g)}ec=function(a){if(13===a.tag){var b=Hg();Jg(a,4,b);ok(a,4)}};fc=function(a){if(13===a.tag){var b=Hg();Jg(a,67108864,b);ok(a,67108864)}};\ngc=function(a){if(13===a.tag){var b=Hg(),c=Ig(a);Jg(a,c,b);ok(a,c)}};hc=function(a,b){return b()};\nyb=function(a,b,c){switch(b){case \"input\":ab(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(y(90));Wa(d);ab(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Wj;\nHb=function(a,b,c,d,e){var f=X;X|=4;try{return gg(98,a.bind(null,b,c,d,e))}finally{X=f,0===X&&(wj(),ig())}};Ib=function(){0===(X&49)&&(Vj(),Oj())};Jb=function(a,b){var c=X;X|=2;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}};function uk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rk(b))throw Error(y(200));return kk(a,b,null,c)}var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:\"17.0.1\",rendererPackageName:\"react-dom\"};\nvar xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=cc(a);return null===a?null:a.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||\npk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;exports.createPortal=uk;\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(y(188));throw Error(y(268,Object.keys(a)));}a=cc(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a,b){var c=X;if(0!==(c&48))return a(b);X|=1;try{if(a)return gg(99,a.bind(null,b))}finally{X=c,ig()}};exports.hydrate=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!0,c)};\nexports.render=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!rk(a))throw Error(y(40));return a._reactRootContainer?(Xj(function(){tk(null,null,a,!1,function(){a._reactRootContainer=null;a[ff]=null})}),!0):!1};exports.unstable_batchedUpdates=Wj;exports.unstable_createPortal=function(a,b){return uk(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!rk(c))throw Error(y(200));if(null==a||void 0===a._reactInternals)throw Error(y(38));return tk(a,b,c,!1,d)};exports.version=\"17.0.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/** @license React v0.20.1\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f,g,h,k;if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var t=null,u=null,w=function(){if(null!==t)try{var a=exports.unstable_now();t(!0,a);t=null}catch(b){throw setTimeout(w,0),b;}};f=function(a){null!==t?setTimeout(f,0,a):(t=a,setTimeout(w,0))};g=function(a,b){u=setTimeout(a,b)};h=function(){clearTimeout(u)};exports.unstable_shouldYield=function(){return!1};k=exports.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,y=window.clearTimeout;if(\"undefined\"!==typeof console){var z=\nwindow.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\");\"function\"!==typeof z&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\")}var A=!1,B=null,C=-1,D=5,E=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=\nE};k=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):D=0<a?Math.floor(1E3/a):5};var F=new MessageChannel,G=F.port2;F.port1.onmessage=function(){if(null!==B){var a=exports.unstable_now();E=a+D;try{B(!0,a)?G.postMessage(null):(A=!1,B=null)}catch(b){throw G.postMessage(null),b;}}else A=!1};f=function(a){B=a;A||(A=!0,G.postMessage(null))};g=function(a,b){C=\nx(function(){a(exports.unstable_now())},b)};h=function(){y(C);C=-1}}function H(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<I(e,b))a[d]=b,a[c]=e,c=d;else break a}}function J(a){a=a[0];return void 0===a?null:a}\nfunction K(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>I(n,c))void 0!==r&&0>I(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>I(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function I(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var L=[],M=[],N=1,O=null,P=3,Q=!1,R=!1,S=!1;\nfunction T(a){for(var b=J(M);null!==b;){if(null===b.callback)K(M);else if(b.startTime<=a)K(M),b.sortIndex=b.expirationTime,H(L,b);else break;b=J(M)}}function U(a){S=!1;T(a);if(!R)if(null!==J(L))R=!0,f(V);else{var b=J(M);null!==b&&g(U,b.startTime-a)}}\nfunction V(a,b){R=!1;S&&(S=!1,h());Q=!0;var c=P;try{T(b);for(O=J(L);null!==O&&(!(O.expirationTime>b)||a&&!exports.unstable_shouldYield());){var d=O.callback;if(\"function\"===typeof d){O.callback=null;P=O.priorityLevel;var e=d(O.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?O.callback=e:O===J(L)&&K(L);T(b)}else K(L);O=J(L)}if(null!==O)var m=!0;else{var n=J(M);null!==n&&g(U,n.startTime-b);m=!1}return m}finally{O=null,P=c,Q=!1}}var W=k;exports.unstable_IdlePriority=5;\nexports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){R||Q||(R=!0,f(V))};exports.unstable_getCurrentPriorityLevel=function(){return P};exports.unstable_getFirstCallbackNode=function(){return J(L)};\nexports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=W;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:N++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,H(M,a),null===J(L)&&a===J(M)&&(S?h():S=!0,g(U,c-d))):(a.sortIndex=e,H(L,a),R||Q||(R=!0,f(V)));return a};\nexports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}};\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nmodule.exports = function() {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n"],"sourceRoot":""}