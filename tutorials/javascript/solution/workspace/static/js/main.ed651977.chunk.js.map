{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","../../src/defaultComponents/HeaderButton.tsx","../../src/defaultComponents/popups/addApplication/ApplicationItem.tsx","../../src/defaultComponents/popups/addApplication/ApplicationsList.tsx","../../src/defaultComponents/popups/addApplication/ContainerSwitch.tsx","../../src/withGlueInstance.tsx","../../src/defaultComponents/popups/addApplication/AddApplicationPopup.tsx","../../src/defaultComponents/popups/Feedback.tsx","../../src/defaultComponents/popups/helpers.ts","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutItem.tsx","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutsList.tsx","../../src/defaultComponents/popups/addWorkspace/AddWorkspacePopup.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveContextCheckbox.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspaceButton.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspacePopup.tsx","../../../workspaces-ui-core/dist/export.js","../../src/workspacesManager.ts","../../node_modules/reactjs-popup/dist/reactjs-popup.esm.js","../../src/WorkspacePopup.tsx","../../src/Portal.tsx","../../src/WorkspacesWrapper.tsx","../../src/WorkspacesElementCreationWrapper.tsx","../../src/index.tsx","../../src/config/index.ts","../../src/config/checkSingleton.ts","../../src/enterprise/index.ts","../../node_modules/decoder-validate/dist/index.es5.js","../../src/shared/decoders.ts","../../src/windows/protocol.ts","../../node_modules/callback-registry/lib/index.js","../../src/windows/webWindow.ts","../../src/windows/controller.ts","../../src/shared/promise-plus.ts","../../src/communication/constants.ts","../../src/communication/bridge.ts","../../src/appManager/protocol.ts","../../src/appManager/controller.ts","../../src/appManager/instance.ts","../../src/appManager/application.ts","../../src/layouts/protocol.ts","../../src/layouts/controller.ts","../../src/notifications/controller.ts","../../src/intents/protocol.ts","../../src/intents/controller.ts","../../src/channels/controller.ts","../../src/shared/ioc.ts","../../../core/dist/core.es.js","../../src/index.ts","../../src/web.ts","App.tsx","reportWebVitals.ts","../../src/communication/interop-transport.ts","../../src/shared/promisePlus.ts","../../src/builders/parentBuilder.ts","../../src/builders/baseBuilder.ts","../../src/builders/workspaceBuilder.ts","../../src/models/row.ts","../../src/models/column.ts","../../src/models/group.ts","../../src/models/workspace.ts","../../src/models/window.ts","../../src/models/frame.ts","../../src/shared/privateDataManager.ts","../../src/models/base/base.ts","../../src/controllers/base.ts","../../src/controllers/main.ts","../../src/main.ts","index.tsx"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","__spreadArrays","il","r","k","a","j","jl","ApplicationItem","_a","appName","onClick","React","preventDefault","className","ApplicationsList","glue","inLane","parent","hidePopup","searchTerm","updatePopupHeight","filter","filterApps","isActivity","isShell","type","app","userProperties","includeInWorkspaces","includeInCanvas","workspacesFriendlyApps","appManager","applications","useEffect","id","title","name","toLowerCase","map","key","callback","w","workspaceWindow","focus","unsub","onWindowLoaded","workspace","addGroup","children","newGroup","addWindow","console","warn","error_1","ContainerSwitch","setInLane","wordInLabel","labelToPut","toUpperCase","substring","htmlFor","role","withGlueInstance","WrappedComponent","props","window","useContext","GlueContext","Error","workspaceId","boxId","resizePopup","_b","useState","_c","setParent","_d","setSearchTerm","containerRef","createRef","shouldUpdate","workspaces","getAllWorkspaces","allWorkspaces","myWorkspace","find","getBox","refreshPopupHeight","containerHeight","current","getBoundingClientRect","height","width","ref","placeholder","onChange","target","Feedback","message","regexResult","exec","getFeedbackErrorMessage","WorkspaceLayoutItem","onCloseClick","WorkspaceLayoutsList","frameId","showFeedback","layoutSummaries","setLayoutSummaries","getSummaries","layouts","summary","layoutName","restoreWorkspace","stopPropagation","feedbackText","setFeedbackText","resizePopupWithContainerHeight","createWorkspace","frame","reuseFrameId","itemType","errMessage","SaveContextCheckbox","changeChecked","refreshHeight","inputRef","checked","SaveWorkspaceButton","inputValue","clearInput","shouldSaveContext","hideFeedback","buildMode","shouldSave","setShouldSave","workspaceName","save","saveContext","setTitle","error","instance","agm","payload","operation","operationArguments","invoke","returned","layout","downloadElement","document","createElement","data","encodeURIComponent","JSON","stringify","append","setAttribute","click","remove","err","setShouldSaveContext","feedbackMessage","setFeedbackMessage","setWorkspaceName","bounds","o","c","globalThis","global","self","path","exports","require","config","container","controls","errors","items","utils","F","extend","createObject","contructor","objectKeys","keys","getHashValue","location","hash","match","RegExp","getQueryStringParam","search","substr","split","copy","animFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","setTimeout","Int8Array","isFunction","toString","fnBind","Function","bind","concat","slice","removeFromArray","splice","now","Date","getTime","getUniqueId","Math","random","replace","filterXss","stripTags","trim","EventEmitter","_mSubscriptions","ALL_EVENT","on","fn","ctx","emit","unshift","unbind","off","trigger","DragListener","_eElement","_oDocument","_eBody","_nButtonCode","_nDelay","_nDistance","_nX","_nY","_nOriginalX","_nOriginalY","_bDragging","_fMove","onMouseMove","_fUp","onMouseUp","_fDown","onMouseDown","timeout","destroy","button","_getCoordinates","x","one","_timeout","_startDrag","abs","clearTimeout","removeClass","css","addClass","originalEvent","touches","pageX","pageY","LayoutManager","$","noConflict","isInitialised","_isFullPage","_resizeTimeoutId","_components","lm-react-component","ReactComponentHandler","_itemAreas","_resizeFunction","_onResize","_unloadFunction","_onUnload","_maximizedItem","_maximizePlaceholder","_creationTimeoutPassed","_subWindowsCreated","_dragSources","_dragProxies","_updatingColumnsResponsive","_firstLoad","_componentFactory","root","openPopouts","selectedItem","isSubWindow","eventHub","EventHub","_createConfig","dropTargetIndicator","transitionIndicator","tabDropPlaceholder","_typeToItem","column","RowOrColumn","row","stack","Stack","component","Component","__lm","minifyConfig","ConfigMinifier","unminifyConfig","registerComponent","toConfig","AbstractContentItem","settings","dimensions","labels","context","workspacesOptions","content","contentItems","_$reconcilePopoutWindows","maximizedItemId","getComponent","ConfigurationError","init","_createSubWindows","readyState","_adjustToWindowMode","_setContainer","DropTargetIndicator","TransitionIndicator","updateSize","_create","_bindEvents","_adjustColumnsResponsive","ready","callDownwards","element","forEach","_dragListener","_element","_itemConfig","createContentItem","componentName","join","Root","createPopout","l","h","u","isRoot","addId","isNaN","screenX","screenLeft","screenY","screenTop","left","offset","top","BrowserPopout","createDragSource","constrainDragToContainer","DragSource","selectItem","selectionEnabled","deselect","select","_$maximiseItem","_$minimizeItem","after","prepend","_$minimiseItem","removeId","_$closeWindow","close","_$getArea","x1","x2","y1","y2","surface","_$createRootItemAreas","side","_$calculateItemAreas","_getAllContentItems","isStack","contentItem","_contentAreaDimensions","header","highlightArea","mode","_$normalizeContentItem","isPlainObject","getWindow","closed","resize","localStorage","getItem","parse","removeItem","defaultConfig","hasHeaders","headerHeight","popin","html","offsetHeight","__glInstance","parentId","indexInParent","margin","padding","overflow","getItemsById","toggleMaximise","closePopoutsOnUnload","_useResponsiveLayout","minItemWidth","isRow","is","max","floor","_findAllStackContainers","_addChildContentItemsToContainer","responsiveMode","addChild","removeChild","_findAllStackContainersRecursive","isComponent","default","GoldenLayout","reorderEnabled","popoutWholeStack","blockedPopoutsThrowError","showMinimizeIcon","showPopoutIcon","showMaximizeIcon","showCloseIcon","tabOverlapAllowance","reorderOnTabMenuClick","tabControlOffset","borderWidth","borderGrabWidth","minItemHeight","dragProxyWidth","dragProxyHeight","maximize","restore","minimize","popout","tabDropdown","itemDefaultConfig","isClosable","workspacesConfig","ItemContainer","layoutManager","isHidden","_config","_contentElement","getElement","hide","show","setSize","isColumn","getState","componentState","extendState","setState","emitBubblingEvent","_$setSize","offsetWidth","clientWidth","clientHeight","_dimensions","_parentId","_indexInParent","_layoutManager","_popoutWindow","_id","_createWindow","getGlInstance","popIn","_createUrl","_serializeWindowOptions","innerWidth","innerHeight","menubar","toolbar","personalbar","resizable","scrollbars","status","open","_positionWindow","_onClose","setInterval","_onInitialised","clearInterval","setItem","href","moveTo","DragProxy","_contentItem","_originalParent","_area","_lastValidArea","_onDrag","_onDrop","_template","_side","_sided","attr","childElementContainer","disableDragProxy","_updateTree","_setDimensions","_minX","_minY","_maxX","_maxY","_width","_height","_setDropPosition","_$highlightDropZone","canceled","_$destroy","_$onDrop","_$setParent","_createDragListener","_onDragStart","transitionElements","highlight","Header","_onHeaderClick","createLogo","domNode","createAddWorkspace","createSystemButtons","tabsContainer","tabDropdownContainer","controlsContainer","workspaceControlsContainer","tabsControlsContainer","_updateTabSizesWithoutDropdown","tabs","activeContentItem","closeButton","tabDropdownButton","hideAdditionalTabsDropdown","_hideAdditionalTabsDropdown","mouseup","_lastVisibleTabIndex","_tabControlOffset","_createControls","createTab","Tab","before","removeTab","setActiveContentItem","setActive","activeItemIndex","position","_header","_setupHeaderPosition","_$setClosable","_isClosable","_getHeaderSetting","_showAdditionalTabsDropdown","HeaderButton","_onPopoutClick","minimizeLabel","minimizeButton","_updateTabSizes","toggle","outerWidth","tab","outerHeight","parseInt","z-index","margin-left","_action","Splitter","_isVertical","_size","_grabSize","_createElement","titleElement","closeElement","isActive","_onTabClickFn","_onTabClick","_onCloseClickFn","_onCloseClick","noTabHeader","_onCloseMousedown","isMaximized","windowId","getActiveContentItem","_toElement","_fromDimensions","_totalAnimationDuration","_animationStartTime","_nextAnimationFrame","_measure","opacity","node","_extendItemNode","isVisible","_pendingEventPropagations","_throttledEvents","_propagateEvent","_createContentItems","_$init","replaceChild","parentNode","_$hide","hasId","getItemsByFilter","getItemsByType","_$getItemsByProperty","getComponentsByName","_callOnActiveComponents","_$show","BubblingEvent","isPropagationStopped","_scheduleEventPropagationToLayoutManager","origin","_propagateEventToLayoutManager","_$shown","shown","_containerElement","_splitterSize","_splitterGrabSize","_isColumn","_dimension","_splitter","_splitterPosition","_splitterMinPosition","_splitterMaxPosition","_createSplitter","_calculateRelativeSizes","_setAbsoluteSizes","_calculateAbsoluteSizes","additionalPixel","itemSizes","totalWidth","totalHeight","round","_respectMinItemWidth","_onSplitterDrag","_onSplitterDragStop","_onSplitterDragStart","_getItemsForSplitter","_getMinimumDimensions","minWidth","minHeight","horizontal","vertical","_activeContentItem","_dropZones","_dropSegment","_dropIndex","_$validateClosability","_resetHeaderDropZone","hoverArea","_highlightHeaderDropZone","_highlightBodyDropZone","right","bottom","min","placeHolderTop","_keys","_values","_nextLevel","_min","_max","_dontPropagateToParent","_childEventSource","_onEventFromThis","_boundOnEventFromChild","_onEventFromChild","_propagateToParent","_propagateToChildren","_$onEventFromParent","__gl","__glArgs","createEvent","opener","initEvent","createEventObject","eventType","eventName","dispatchEvent","fireEvent","_reactComponent","_originalComponentWillUpdate","_container","_initialState","_reactClass","_getReactClass","_render","_destroy","ReactDOM","render","_getReactComponent","componentWillUpdate","_onUpdate","unmountComponentAtNode","glEventHub","glContainer","errorHandling","add","includes","isArray","reduce","execute","clear","clearKey","[object Object]","_idToLayout","workspaceLayout","getByContainerIdCore","innerText","getById","windows","mergeWindows","hibernatedWindows","lastActive","some","values","workspaceTitles","workspaceIds","getWorkspaceTitle","_workspaceLayout","containerElement","setupEvents","MutationObserver","from","classList","contains","handleTabCountChanged","removedNodes","attributeName","handleTabHeaderResized","observe","childList","subtree","attributes","attributeFilter","attributeOldValue","characterData","characterDataOldValue","disconnect","visibleTabs","refreshTabClasses","visibilityState","logo","addWorkspace","systemButtons","workspaceContents","componentsFactory","_decoratedFactory","callbackRegistry","observer","getWorkspaceIdFromContents","style","display","decoratedFactory","createWorkspaceContents","subscribeForWorkspaceContentsVisibility","getElementById","m","_maximizedId","_workspaceLayoutElementId","_registry","_emptyVisibleWindowName","_stackMaximizeLabel","_stackRestoreLabel","_options","_emitter","_stateResolver","_configFactory","_frameId","initWorkspaceConfig","refreshLayoutSize","all","workspaceConfigs","initWorkspaceContents","emitter","raiseEvent","setupOuterLayout","setupContentLayouts","getByContainerId","isWorkspaceHibernated","hideAddButton","getWindowInfoFromConfig","placementId","url","registerWindowComponent","onContentComponentCreated","wrapper","wrapInGroup","getId","bundleWorkspace","onContentItemCreated","getByWindowId","getContainerConfig","getWorkspaceLayoutComponentName","registerWorkspaceComponent","removeLayout","reuseWorkspaceId","getWorkspaceLayoutItemById","removeById","getElementsByTagName","getDragElement","addedNodes","setDragElementSize","getWindowContentItem","waitForWindowContainer","getWorkspaceContentItem","addOrUpdate","showAddButton","signal","promise","getDefaultWorkspaceSettings","registerEmptyWindowComponent","raiseEventWithDynamicName","layoutId","item","onclick","args","laneId","disableCustomButtons","toBack","toFront","mousedown","refreshTabSizeClass","catch","getElementByClass","getElementsByClassName","appendChild","waitForLayout","composedPath","activeElement","blur","onOuterLayoutContainerResized","onContentContainerResized","parentType","log","hasClass","C","I","lastIndexOf","T","A","Q","get","characters","seed","lookup","shuffled","E","crypto","msCrypto","W","getRandomValues","Uint8Array","S","LN2","D","pow","M","test","L","generate","worker","isValid","_idToFrame","_glue","src","waitForWindow","contentWindow","Event","onWindowAdded","list","O","LAST_SESSION_KEY","B","URLSearchParams","emptyFrame","workspaceNames","build","cleanUpUrl","removeQueryParams","history","replaceState","pathname","N","resolver","_configConverter","_layoutsType","_layoutComponentType","_initialWorkspaceConfig","generateInitialConfig","getWorkspaceByName","layoutData","getLastSession","getDefaultFrameConfig","addWorkspaceIds","addWindowIds","convertToRendererConfig","getAll","export","components","state","metadata","hibernateConfig","saveWorkspaceCore","getWorkspaceContext","import","saveWorkspaceCoreSync","set","getWorkspaceConfig","removeWorkspaceIds","applyWindowLayoutState","convertToAPIConfig","removeWorkspaceItemIds","windowSummariesToWindowLayout","addWindowUrlsToWindows","workspaceSummaryToWorkspaceLayout","isLoaded","isFocused","positionIndex","findById","getContext","application","details","getWindowLayoutState","layoutState","contexts","z","_layoutEventEmitter","waitForWindowContentItem","getWindowSummaryCore","isHibernated","getWorkspaceTabIndex","isSelected","isWorkspaceSelected","transformComponentsToWindowSummary","transformParentsToContainerSummary","getContainer","itemId","findElementInConfig","getWorkspaceSummary","getFrameSnapshot","findIndex","getWindowPositionIndex","getUserFriendlyParent","isWindowMaximized","getWindowSummarySync","getContainerSummary","R","_pattern","sort","H","_titleGenerator","_defaultWorkspaceLayoutSettings","createWindowConfigurationCore","getTitle","getDefaultWorkspaceConfig","wrap","instances","registry","action","q","flat","convertToRendererConfigCore","convertToApiConfigCore","applyDefaultRendererConfig","every","getGroupWithEmptyVisibleWindow","createEmptyVisibleWindowConfig","getAppNameFromWindowId","createGDWindowConfig","createApiWindow","U","_externalPopupManager","_componentPopupManager","createAddApplicationPopup","showAddWindowPopup","createAddWorkspacePopup","showOpenWorkspacePopup","createSaveWorkspacePopup","showSaveWorkspacePopup","V","_addApplicationType","_openWorkspaceType","_saveWorkspaceType","_showPopupMethod","initPopup","registerHideMethod","registerResizeMethod","getPopupSize","showElement","_popup","getPopupInteropId","servers","interopId","G","_popupSizes","hideSystemPopups","showInternalAddAppPopup","showInternalOpenWorkspacePopup","showInternalSaveWorkspacePopup","onblur","tagName","X","_frameController","_manager","WAIT_FOR_WINDOWS_TIMEOUT","getTitleByAppName","vaidateTitle","getUrlByAppName","getURL","workspacesEventEmitter","raiseWindowEvent","windowSummary","notifyFrameWillStart","startFrame","moveFrame","getWindowSummary","getAppNameByWindowId","raiseFailed","closeTab","interop","domain","waitFor","onLoaded","onFailed","Y","_isLayoutInitialized","_initPromise","_workspacesEventEmitter","getComponentBounds","_controller","subscribeForWindowClicked","onFrameContentClicked","cleanUp","_isDisposing","stateResolver","extractWindowSummariesFromSnapshot","_applicationFactory","notifyFrameWillClose","raiseWorkspaceEvent","frameSummary","workspaceSummary","_layoutsManager","saveWorkspacesFrame","raiseFrameEvent","_facade","loadConfig","_initialized","_popupManager","initLayout","reInitialize","getActiveWorkspace","reinitializeWorkspace","setInitialWorkspaceConfig","delete","maximizeWindow","restoreWindow","closeWorkspace","closeContainer","addContainer","setWorkspaceTitle","setWindowTitle","closeItem","reuseId","start","waitForFrameLoaded","resumeWorkspace","focusWorkspace","focusWindow","my","generateLayout","showSaveIcon","showHibernationIcon","removeLayoutElement","checkForEmptyWorkspace","getInitialConfig","subscribeForPopups","subscribeForLayout","reportLayoutStructure","onContentItemResized","onTabCloseRequested","onWorkspaceTabCloseRequested","onTabElementMouseDown","onTabDragStart","bringToFront","onTabDragEnd","selectionChanged","onSelectionChanged","onWorkspaceAdded","selectionChangedDeep","onWorkspaceSelectionChanged","isWindowVisible","onAddButtonClicked","peerId","onContentLayoutInit","onWorkspaceAddButtonClicked","workspaceLayoutHeader","onWorkspaceSaveRequested","onStackMaximized","maximizeTab","onStackRestored","restoreTab","onEjectRequested","eject","onWorkspaceContentsShown","onWorkspaceContentsHidden","onWorkspaceEvent","onWindowTitleChanged","setItemTitle","closeHibernatedWorkspaceCore","closeWorkspaceCore","getSnapshot","executeAfterControlIsDone","removeWorkspace","onWindowEvent","J","_workspacesControlMethod","_workspacesEventMethod","_inDisposing","_controlPromise","handleControlCore","initPromise","handleIsWindowInWorkspace","handleAddWindow","handleAddContainer","handleGetWorkspaceSnapshot","handleOpenWorkspace","handleSaveLayout","handleExportAllLayouts","handleDeleteLayout","handleGetAllWorkspaceSummaries","handleMaximizeItem","handleRestoreItem","handleCloseItem","handleSetItemTitle","handleAddWorkspaceChildren","handleEject","handleCreateWorkspace","handleForceLoadWindow","handleFocusItem","handleBundleWorkspace","handleGetFrameSummary","handleMoveFrame","handleGetFrameSnapshot","handleGetSnapshot","handleMoveWindowTo","handleGenerateLayout","handlePing","handleHibernateWorkspace","handleResumeWorkspace","handleControl","_converter","registerAgmMethods","onFrameEvent","publishEventData","onContainerEvent","finally","registerAsync","openWorkspace","restoreOptions","exportAllLayouts","saveWorkspace","deleteLayout","summaries","restoreItem","maximizeItem","definition","loadWindow","focusItem","inWorkspace","isWindowInWorkspace","getFrameSummary","move","moveWindowTo","containerId","generateWorkspaceLayout","live","hibernateWorkspace","methods","Z","getPrototypeOf","nodeType","nonce","noModule","text","getAttribute","head","jquery","toArray","pushStack","merge","prevObject","each","first","eq","last","even","grep","odd","end","expando","isReady","noop","isEmptyObject","globalEval","makeArray","inArray","guid","support","ct","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","K","tt","et","nt","String","fromCharCode","it","ot","charCodeAt","st","rt","_t","disabled","nodeName","dir","childNodes","at","ownerDocument","qsa","yt","scope","wt","querySelectorAll","removeAttribute","cacheLength","shift","lt","dt","ht","attrHandle","ut","sourceIndex","nextSibling","pt","mt","ft","isDisabled","gt","isXML","namespaceURI","documentElement","setDocument","defaultView","addEventListener","attachEvent","createComment","getElementsByName","getAttributeNode","innerHTML","matchesSelector","matches","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","sortDetached","specified","escape","uniqueSort","detectDuplicates","sortStable","getText","textContent","firstChild","nodeValue","selectors","createPseudo","relative",">"," ","+","~","preFilter","lastChild","uniqueID","pseudos","setFilters","not","has","lang","hasFocus","tabIndex","enabled","selected","selectedIndex","empty","input","nth","radio","checkbox","file","password","image","submit","reset","vt","bt","Ct","It","kt","filters","tokenize","compile","selector","defaultValue","expr","unique","isXMLDoc","escapeSelector","parseHTML","contents","prev","closest","index","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","contentDocument","reverse","fail","Callbacks","once","stopOnFalse","memory","disable","lock","locked","fireWith","fire","fired","Deferred","always","pipe","progress","notify","notifyWith","resolveWith","exceptionHook","stackTrace","rejectWith","getStackHook","when","readyException","removeEventListener","readyWait","doScroll","uid","cache","defineProperty","configurable","access","hasData","removeData","_data","_removeData","queue","dequeue","_queueHooks","stop","clearQueue","source","composed","getRootNode","cur","cssNumber","unit","createDocumentFragment","checkClone","cloneNode","noCloneChecked","option","thead","col","tr","td","_default","tbody","tfoot","colgroup","caption","th","optgroup","htmlPrefilter","createTextNode","xt","Et","Wt","event","St","namespace","handler","isTrigger","special","delegateType","stopImmediatePropagation","events","handle","triggered","dispatch","bindType","origType","delegateCount","setup","teardown","removeEvent","fix","delegateTarget","preDispatch","handlers","currentTarget","elem","isImmediatePropagationStopped","rnamespace","handleObj","postDispatch","addProp","enumerable","writable","load","noBubble","beforeunload","returnValue","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","which","mouseenter","mouseleave","pointerenter","pointerleave","Tt","At","Dt","Pt","Mt","Lt","Ft","Ot","Bt","clone","_evalUrl","Nt","cleanData","detach","insertBefore","replaceWith","appendTo","prependTo","insertAfter","replaceAll","zt","$t","getComputedStyle","Rt","Ht","jt","getPropertyValue","pixelBoxStyles","maxWidth","qt","cssText","marginLeft","parseFloat","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","Ut","Vt","Gt","Xt","cssProps","Yt","Jt","Zt","visibility","Qt","letterSpacing","fontWeight","Kt","te","ceil","ee","getClientRects","ne","cssHooks","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","order","orphans","widows","zIndex","zoom","setProperty","isFinite","border","expand","Tween","prop","easing","options","propHooks","run","duration","pos","fx","scrollTop","scrollLeft","linear","swing","cos","PI","ie","oe","se","re","ae","hidden","interval","tick","ce","le","de","he","tweeners","prefilters","startTime","tweens","opts","specialEasing","originalProperties","originalOptions","createTween","complete","timer","anim","Animation","*","tweener","unqueued","overflowX","overflowY","prefilter","speed","speeds","old","fadeTo","animate","finish","timers","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","delay","checkOn","optSelected","radioValue","ue","pe","removeAttr","attrHooks","me","fe","ge","ye","ve","removeProp","propFix","for","class","toggleClass","we","val","valHooks","focusin","_e","be","parentWindow","simulate","triggerHandler","Ce","Ie","ke","parseXML","DOMParser","parseFromString","xe","Ee","We","Se","Te","param","serialize","serializeArray","Ae","De","Pe","Me","Le","Fe","Oe","Be","Ne","ze","$e","Re","dataTypes","He","ajaxSettings","flatOptions","active","lastModified","etag","isLocal","protocol","processData","async","contentType","accepts","xml","json","responseFields","converters","* text","text html","text json","text xml","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","statusCode","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","abort","method","dataType","crossDomain","host","traditional","hasContent","ifModified","headers","beforeSend","success","send","dataFilter","throws","statusText","getJSON","getScript","text script","wrapAll","firstElementChild","wrapInner","unwrap","visible","xhr","XMLHttpRequest","je","0","1223","qe","cors","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","response","script","scriptAttrs","charset","scriptCharset","Ue","Ve","Ge","jsonp","jsonpCallback","createHTMLDocument","implementation","animated","setOffset","using","pageYOffset","pageXOffset","offsetParent","scrollTo","Height","Width","delegate","undelegate","hover","Xe","proxy","holdReady","parseJSON","isWindow","camelCase","isNumeric","Ye","jQuery","Je","dispose","initialized","subscribeForWorkspaceEvents","getFrameId","notifyMoveAreaChanged","registerPopup","removePopup","removePopupById","unmount","subscribeForWindowFocused","notifyWorkspacePopupChanged","requestFocus","WorkspacesManagerDecorator","componentFactory","workspacesManager","elementId","cb","_extends","useIsomorphicLayoutEffect","useLayoutEffect","Style","popupContent","tooltip","modal","popupArrow","background","color","overlay","POSITION_TYPES","getCoordinatesForPosition","triggerBounding","ContentBounding","arrow","_ref","CenterTop","CenterLeft","transform","arrowTop","arrowLeft","popupIdCounter","forwardRef","_ref$trigger","_ref$onOpen","onOpen","_ref$onClose","onClose","_ref$defaultOpen","defaultOpen","_ref$open","_ref$disabled","_ref$nested","nested","_ref$closeOnDocumentC","closeOnDocumentClick","_ref$repositionOnResi","repositionOnResize","_ref$closeOnEscape","closeOnEscape","_ref$on","_ref$contentStyle","contentStyle","_ref$arrowStyle","arrowStyle","_ref$overlayStyle","overlayStyle","_ref$className","_ref$position","_ref$modal","_ref$lockScroll","lockScroll","_ref$arrow","_ref$offsetX","_ref$offsetY","_ref$mouseEnterDelay","mouseEnterDelay","_ref$mouseLeaveDelay","mouseLeaveDelay","_ref$keepTooltipInsid","keepTooltipInside","_useState","isOpen","setIsOpen","triggerRef","useRef","contentRef","arrowRef","focusedElBeforeOpen","popupId","isModal","timeOut","setPosition","focusContentOnOpen","lockScrolll","resetScroll","openPopup","closePopup","togglePopup","onMouseEnter","onContextMenu","onMouseLeave","_contentRef$current","focusableEls","firstEl","useImperativeHandle","_arrowStyle$top","_arrowStyle$left","cords","_ref2","bestCoords","wrapperBox","boundingBox","querySelector","positions","contentBox","calculatePosition","scrollY","scrollX","listener","els","firstFocusableEl","lastFocusableEl","refs","PopupRoot","renderContent","popupContentStyle","childrenElementProps","pointerEvents","data-testid","viewBox","fill","ovStyle","data-popup","Fragment","triggerProps","aria-describedby","onAsArray","len","onFocus","onBlur","comp","cloneElement","createPortal","Portal","templateId","WorkspacesWrapper","template","onCreateLogoRequested","onCreateAddWorkspaceRequested","onCreateSystemButtonsRequested","onCreateWorkspaceContentsRequested","onCreateSaveWorkspacePopupRequested","onCreateAddApplicationPopupRequested","onCreateAddWorkspacePopupRequested","onHideSystemPopupsRequested","externalPopupApplications","_super","_this","saveWorkspacePopup","addApplicationPopup","addWorkspacePopup","LogoCustomElement","LogoComponent","AddWorkspaceCustomComponent","AddWorkspaceComponent","SystemButtonsCustomComponent","SystemButtonsComponent","WorkspaceContentsComponent","WorkspaceContents","wc","SaveWorkspaceCustomComponent","popups","SaveWorkspaceComponent","SaveWorkspacePopup","AddApplicationCustomComponent","AddApplicationComponent","AddApplicationPopup","AddWorkspacePopup","undefined","WorkspacesElementCreationWrapper","_g","additionalProperties","addApplicationComponent","saveWorkspaceComponent","addWorkspaceComponent","onCreateAddApplicationRequested","onCreateSaveWorkspaceRequested","addApplication","renderLogoComponent","renderAddWorkspaceComponent","renderSystemButtonsComponent","renderWorskpaceContents","renderSaveWorkspacePopupComponent","renderAddApplicationPopupComponent","renderAddWorkspacePopupComponent","onHideSystemPopups","logger","gateway","webPlatform","libraries","parseConfig","combined","systemLogger","level","checkSingleton","glue42CoreNamespace","glue42core","webStarted","enterprise","enterpriseConfig","channels","Glue","ok","asPromise","withDefault","withException","map2","ar","br","mapError","andThen","freeze","isOk","isErr","successes","results","acc","isEqual","isJsonArray","isJsonObject","expectedGot","expected","got","typeString","printPath","paths","prependAt","newAt","rest","Decoder","decode","kind","runPromise","runWithException","where","errorMessage","succeed","string","number","boolean","constant","object","decoders","obj","array","decoder","arr","err$$1","decodeValue_1","tuple","union","ad","bd","_i","oneOf","intersection","ds","anyJson","unknownJson","dict","optional","errorsList","valueAt","jsonAtPath","fixedValue","lazy","mkDecoder","layoutSummaryDecoder","operations","openWindow","dataDecoder","openWindowConfigDecoder","resultDecoder","coreWindowDataDecoder","windowHello","windowHelloDecoder","helloSuccessDecoder","windowAdded","windowRemoved","simpleWindowDecoder","getBounds","windowBoundsResultDecoder","getUrl","windowUrlResultDecoder","moveResize","windowMoveResizeConfigDecoder","windowTitleConfigDecoder","createRegistry","_userErrorHandler","callbacks","callbacksForKey","WebWindowModel","_name","_bridge","CallbackRegistryFactory","myCtxKey","ctxUnsubscribe","contextLib","subscribe","api","resizeTo","updateContext","setContext","onContextUpdated","dimension","targetBounds","boundsDecoder","commandArgs","nonNegativeNumberDecoder","ttl","nonEmptyStringDecoder","anyDecoder","update","WindowsController","allWindowProjections","coreGlue","ioc","subLogger","trace","publicWindowId","connection","transport","actualWindowId","addWindowOperationExecutors","bridge","platformRegistration","registerWithPlatform","toApi","operationName","windowOperationTypesDecoder","operationData","windowOpenSettingsDecoder","windowSuccess","buildWebWindow","projection","onWindowRemoved","handleWindowAdded","handleWindowRemoved","handleGetBounds","handleGetTitle","handleGetUrl","handleMoveResize","handleSetTitle","helloSuccess","sayHello","isWorkspaceFrame","myWindow","currentWindows","webWindowProjection","removed","model","clean","targetTop","targetLeft","targetHeight","targetWidth","moveMethod","moveBy","resizeMethod","resizeBy","PromiseWrap","timeoutMilliseconds","timeoutMessage","promiseActive","operationResult","executor","appHello","appHelloSuccessDecoder","applicationAdded","baseApplicationDataDecoder","applicationRemoved","applicationChanged","instanceStarted","instanceDataDecoder","instanceStopped","applicationStart","applicationStartConfigDecoder","instanceStop","basicInstanceDataDecoder","appRemoveConfigDecoder","appsExportOperationDecoder","AppManagerController","addOperationsExecutors","appManagerOperationTypesDecoder","startOptions","waitForAGMReady","relativeTo","relativeDirection","openResult","applicationName","buildInstance","myInstance","inMemory","getApplication","getApplications","getInstances","onAppAdded","onAppChanged","onAppRemoved","onInstanceStarted","onInstanceStopped","handleApplicationAddedMessage","handleApplicationRemovedMessage","handleApplicationChangedMessage","handleInstanceStartedMessage","handleInstanceStoppedMessage","appData","buildApplication","appIndex","version","icon","instanceData","instIdx","inst","instIdxApps","definitions","importModeDecoder","parseResult","soFar","decodeResult","allApplicationDefinitionsDecoder","valid","invalid","imported","verifiedName","apps","instancesSoFar","findMyInstance","foundInstance","InstanceModel","getInteropInstance","ApplicationModel","controller","startApplication","layoutAdded","glueLayoutDecoder","layoutChanged","layoutRemoved","simpleLayoutConfigDecoder","optionalSimpleLayoutResult","getAllLayoutsConfigDecoder","allLayoutsSummariesResultDecoder","allLayoutsFullConfigDecoder","layoutsImportConfigDecoder","LayoutsController","layoutsOperationTypesDecoder","onAdded","onChanged","onRemoved","handleOnAdded","handleOnChanged","handleOnRemoved","layoutTypeDecoder","newLayoutOptionsDecoder","restoreOptionsDecoder","NotificationsController","notifications","raise","permissionPromise","Notification","permission","requestPermission","notification","raiseUsingWebApi","clickInterop","interopOptions","getIntents","wrappedIntentsDecoder","findIntent","wrappedIntentFilterDecoder","raiseIntent","intentRequestDecoder","intentResultDecoder","IntentsController","myIntents","Set","GlueWebIntentsPrefix","intents","intentsOperationTypesDecoder","addIntentListener","request","requestObj","raiseRequestDecoder","intent","addIntentListenerIntentDecoder","subscribed","intentName","methodName","unsubscribe","unregister","intentFlag","register","flags","intentFilter","intentFilterObj","findFilterDecoder","ChannelsController","GlueWebChannelsPrefix","SubsKey","ChangedKey","subscribeFor","publish","leave","changed","channelName","contextName","startsWith","channelContextName","unsubscribeFunc","currentChannelName","createContextName","___","extraData","updaterId","setPathSupported","pathValues","setPaths","channelNames","getAllChannelNames","channelNameDecoder","updateData","channelContexts","switchToChannel","info","MetricTypes","getMetricTypeByValue","metric","getTypeByValue","serializeMetric","serializedMetrics","memo","innerType","composite","defineNestedComposite","description","normalizeMetricName","getMetricValueByType","publishNestedComposite","Boolean","flatten","toFlatten","composeMsgForRootStateMetric","system","merged","getAggregateState","highestState","msg","idx","aggregateDescription","Helpers","BaseMetric","createMetric","repo","newValue","updateMetric","NumberMetric","incrementBy","num","increment","decrement","decrementBy","ObjectMetric","mergeValues","StringMetric","TimestampMetric","separator","_transport","_description","_repo","_parent","_path","_buildPath","shadowedSystem","_state","_subSystems","_metrics","_getOrCreateMetric","metricObject","expectedType","metricDef","matching","shadowedMetric","existing","subSystem","nameSystem","descriptionSystem","_system","stateDescription","updateSystem","stringMetric","timestampMetric","objectMetric","numberMetric","aggState","shadowedSubSystem","createSystem","Repository","addSystemMetrics","clickStream","rootSystem","useClickStream","navigator","userAgent","clickStream_1","documentClickHandler","timestamp","page","urlMetric","appNameMetric","startUrl","glue42gd","NullProtocol","PerfTracker","initialPublishTimeout","publishInterval","lastCount","scheduleCollection","collect","collectMemory","collectEntries","performance","totalJSHeapSize","usedJSHeapSize","allEntries","getEntries","metrics","joinPromise","session","replayRepo","replaySystem","subSystems","ss","createMetricsMsg","Description","Value","metricClone","cloneMetric","updateMetricCore","canUpdate","publishMetricsMsg","sendFireAndForget","canUpdateMetric","resolveReadyPromise","onJoined","reconnect","defineRootMetricsMsg","service","shadowedUpdateMetric","stateObj","rootMetric","peer_id","gw3","disableAutoAppSystem","featureMetric","reportingSystem","def","featureMetricFunc","addFAVSupport","perfConfig","pagePerformanceMetrics","initPerf","_handleError","exceptionArtifact","errParam","replayArgumentsArr","replayArgument","allForKey","argumentsArr","lib","InProcTransport","gw","facade","connect","_client","messageHandler","client","sendObject","_msg","onMessage","onConnectedChanged","SharedWorkerTransport","workerFile","SharedWorker","port","onmessage","postMessage","Utils","getGDMajorVersion","glueDesktop","ver","Number","isNode","_isNode","process","PromiseWrapper","resolved","time","timerName","marks","endTime","period","mark","currentTime","diff","timerObj","WebSocketConstructor","WebSocket","WS","startupTimer","_running","wsRequests","ws","waitForSocketConnection","pw","failed","openSocket","retryInterval","retriesLeft","reconnectInterval","notifyForSocketState","debug","initiateSocket","retries","reason","seen_1","WeakSet","notifyStatusChanged","onclose","onopen","identity","wsRequest","alphabet","previousSeed","randomFromSeed","nextValue","_seed_","ORIGINAL","setCharacters","_alphabet_","ind","getShuffled","characterIndex","sourceArray","targetArray","shuffle","alphabet_1","randomByteBrowser","dest","encode_1","loopCounter","str","decode_1","lib$1","module","createCommonjsModule","counter","previousSeconds","clusterWorkerId","seconds","seedValue","workerId","newCharacters","shortid","domainSession","successMessages","errorMessages","_latestOptions","isJoined","tryReconnecting","_connectionOn","disconnected","loggedIn","handleSuccessMessage","handleErrorMessage","sm","requestsMap","destination","wasReconnect","handleJoined","requestId","request_id","entry","getNextRequestId","tag","skipPeerId","successMsg","_tag","errorMsg","onLeft","connected","GW3ProtocolImpl","protocolVersion","datePrefix","datePrefixLen","dateMinLen","datePrefixFirstChar","_isLoggedIn","shouldTryLogin","initialLogin","initialLoginAttempts","sessions","handleDisconnected","ping","processStringMessage","milliseconds","ex","msgType","createStringMessage","oldToJson","toJSON","datePrefix_1","processObjectMessage","createObjectMessage","login","authentication","e_1","helloMsg","sendOptions","welcomeMsg","token","err_1","loginConfig","gatewayToken","getNewGWToken","flowName","provider","flowCallback","sessionId","secret","globalDomain","maxRetries","reconnectAttempts","Buffer","resolvedIdentity","resolved_identity","availableDomains","available_domains","access_token","setLoggedIn","logout","promises","pingTimer","domainName","domainLogger","authToken","res","getGWToken","MessageReplayerImpl","specs","specsNames","messages","subs","subsRefCount","specs_1","spec","name_1","_loop_1","refCount","this_1","sub","processMessage","types","isDone","name_2","drain","PromisePlus","WebPlatformTransport","parentReady","iAmConnected","parentPingTimeout","connectionRequestTimeout","defaultTargetString","connectionAccepted","handleConnectionAccepted","connectionRejected","handleConnectionRejected","connectionRequest","handleConnectionRequest","handleParentReady","parentPing","handleParentPing","platformPing","handlePlatformPing","platformUnload","handlePlatformUnload","platformReady","handlePlatformReady","clientUnload","handleClientUnload","setUpMessageListener","setUpUnload","waitParent","initiateRemoteConnection","connectionResolve","connectionReject","myClientId","bridgeInstanceId","clientId","clientType","parentPingResolve","checkMessageTypeValid","messageType","ownWindowId","handleAcceptanceOfMyRequest","handleAcceptanceOfGrandChildRequest","parentWindowId","child","grandChildId","rejectConnectionRequest","typeToValidate","rejection","Connection","messageHandlers","ids","_connected","isTrace","inproc","sharedWorker","canPublish","handleConnectionChanged","handleTransportMessage","replaySpecs","replayer","isObjectBasedTransport","strMessage","isLoggedIn","authRequest","distributeMessage","handlerId","loggerError","msgObj","Logger","logFn","subLoggers","customLogFn","loggerFullName","includeTimeAndLevel","existingSub","publishLevel","_publishLevel","consoleLevel","_consoleLevel","publishMessage","compareWith","loggerName","Interop","InteropMethodName","prefix","date","getHours","getMinutes","getSeconds","getMilliseconds","toPrint","GW_MESSAGE_CREATE_CONTEXT","GW_MESSAGE_ACTIVITY_CREATED","GW_MESSAGE_ACTIVITY_DESTROYED","GW_MESSAGE_CONTEXT_CREATED","GW_MESSAGE_CONTEXT_ADDED","GW_MESSAGE_SUBSCRIBE_CONTEXT","GW_MESSAGE_SUBSCRIBED_CONTEXT","GW_MESSAGE_UNSUBSCRIBE_CONTEXT","GW_MESSAGE_DESTROY_CONTEXT","GW_MESSAGE_CONTEXT_DESTROYED","GW_MESSAGE_UPDATE_CONTEXT","GW_MESSAGE_CONTEXT_UPDATED","GW_MESSAGE_JOINED_ACTIVITY","ContextMessageReplaySpec","GW3ContextData","contextId","isAnnounced","activityId","updateCallbacks","hasCallbacks","applyContextDelta","delta","deepClone","commands","command","deletePath","setValueToPath","added_1","added","updated_1","updated","mergeObjectsProperties","WeakMap","what","withWhat","deepEqual","pathArr","isSubset","superObj","subObj","ele","InvokeStatus","GW3Bridge","_contextNameToData","_gw3Subscriptions","_nextCallbackSubscriptionNumber","_contextNameToId","_contextIdToName","_protocolVersion","_connection","_logger","_gw3Session","subscribeToContextCreatedMessages","subscribeToContextUpdatedMessages","subscribeToContextDestroyedMessages","handleContextCreatedMessage","handleContextUpdatedMessage","handleContextDestroyedMessage","contextsDomainInfo","uri","createContext","lifetime","createContextMsg","context_id","contextData","currentContext","calculatedDelta","calculateContextDeltaV2","calculateContextDeltaV1","gwResponse","handleUpdated","setPath","pathValues_1","pathValue","pathValues_2","_r","un","thisCallbackSubscriptionNumber","hadCallbacks","joinedActivity","sentExplicitSubscription","sendSubscribe","subscriptionKey","sendUnsubscribe","oldContext","invokeUpdateCallbacks","createdMessageTypes_1","createdMessageType","contextCreatedMsg","activity_id","updatedMessageTypes_1","updatedMessageType","contextUpdatedMsg","justSeen","context_snapshot","updater_id","updateCallbackIndex","updateCallback","destroyedMessageTypes_1","destroyedMessageType","destroyedMsg","to","ContextsModule","checkName","checkData","checkPath","paths_1","promisify","successCallback","errorCallback","rejectAfter","ms","Client","configuration","callProtocolSubscribe","targetServers","stream","successProxy","errorProxy","methodResponseTimeout","waitTimeoutMs","methodDef","method_response_timeout","wait_for_method_timeout","delayTillNow","currentServers","getServerMethodsByFilterAndTarget","retry_1","streamInfo","methodFilter","filterCopy","getServers","serverMethodMap","server","getMethods","methodsForInstance","getMethodsForInstance","methodAdded","onMethodAdded","methodRemoved","onMethodRemoved","serverAdded","onServerAdded","serverRemoved","onServerRemoved","serverMethodAdded","onServerMethodAdded","serverMethodRemoved","onServerMethodRemoved","argumentObj","additionalOptions","methodDefinition","serversMethodMap","errorObj","additionalOptionsCopy","invokePromises","invocationMessages","methodResponseTimeoutMs","tryToAwaitForMethods","supportsStreaming","objectTypes","called_with","executed_by","serversMethodPair","invId","invokePromise","race","invocationId","getInvocationResultObj","getInvokePromise","invocationResults","calledWith","all_return_values","invokeMessage","Success","allValues","currentValue","all_errors","allErrors","currError","invResult","filterByTarget","myMatches","serverMethodPair","instanceMatch","localMachine","instanceFilter","instanceDefinition","containsProps","methodMatch","repoMethod","isMatch","filterValue","repoMethodValue","filterValueEl","matchingServers","resultMethodsObject","methodKey","identifier","matchingMethods","ServerSubscription","subscription","branchKey","closeSingleSubscription","pushDataToSingle","Request","requestContext","accept","acceptRequestOnBranch","acceptOnBranch","branch","rejectRequest","ServerStreaming","onSubRequest","rc","rm","handleSubRequest","onSubAdded","handleSubAdded","onSubRemoved","handleSubRemoved","streamCallbacks","subscriptionRequestHandler","subscriptionAddedHandler","subscriptionRemovedHandler","ServerBranch","subscriptions","getSubscriptionList","closeAllSubscriptions","pushData","ServerStream","_protocol","_repoMethod","_server","branches","bList","getBranchList","def2","displayName","returns","updateRepoMethod","Server","serverRepository","invocations","currentlyUnregistering","streaming","onInvoked","onMethodInvoked","createStream","streamDef","existingStream","streamMethodDefinition","getList","serverMethod","protocolState","streamUserObject","repoId","wrappedCallbackFunction","resultCallback","resultValue","userCallback","registerCore","wrappedCallback","resultCalled_1","methodResult","userCallbackAsync","forStream","methodToBeRemoved","unregisterWithPredicate","removeMethodsOrStreams","filterPredicate","methodsOrStreamsToRemove","methodsToRemove","methodUnregPromises","addAsCurrentlyUnregistering","theFunction","unregisterInProgress","methodToExecute","invocationArgs","unStrException","_value","methodInvocationResult","InstanceWrapper","API","wrapped","getStreams","refreshWrappedObject","refresh","user","pid","machine","environment","region","hideMethodSystemFlags","ClientRepository","methodsCount","myServer","unwrappedInstance","addServer","serverId","serverEntry","removeServerById","methodId","removeServerMethod","addServerMethod","createMethodIdentifier","that","gatewayId","display_name","object_types","input_signature","result_signature","getServersByMethod","clientMethodDefinition","extractMethodsFromServers","hideServerMethodSystemFlags","serversWithMethodsToReplay","returnUnsubWithDelayedReplay","methodsToReplay","unsubCalled","getServerById","methodInfo","allServers","collectionToReplay","clientMethods","entries","ServerRepository","nextId","SUBSCRIPTION_REQUEST","SUBSCRIPTION_ADDED","SUBSCRIPTION_REMOVED","ServerStreaming$1","repository","ERR_URI_SUBSCRIPTION_FAILED","nextStreamId","handleAddInterest","handleRemoveInterest","streamingMethod","subscriptionsMap","branchKeyToStreamIdMap","streamId","getStreamId","subscription_id","subscribeMsg","stream_id","sendSubscriptionFailed","dropSubscriptionMessage","closeMultipleSubscriptions","subscriptionsToClose","drop","allSubscriptions","onSubscriptionLifetimeEvent","method_id","handlerFunc","getNextStreamId","caller_id","arguments_kv","subscriptionId","reason_uri","needleBranch","ServerProtocol","clientRepository","handleInvokeMessage","isStreaming","registerMsg","restrictions","invocation_id","callerId","UserSubscription","subscriptionData","params","trackedServers","pair","onData","dataCallback","queued","dataItem","onClosed","closedCallback","onConnected","setNewSubscription","newSub","STATUS_AWAITING_ACCEPT","STATUS_SUBSCRIBED","ERR_MSG_SUB_FAILED","ON_CLOSE_MSG_CLIENT_INIT","ClientStreaming","subscriptionsList","subscriptionIdToLocalKeyMap","nextSubLocalKey","handleErrorSubscribing","errorResponse","subLocalKey","pendingSub","timeoutId","callArgs","callOnClosedHandlers","handleSubscribed","acceptingServer","isFirstResponse","serverInstance","handleEventData","trackedServersFound","isPrivateData","oob","sendingServerId","receivedStreamData","requestArguments","private","onDataHandlers","queuedData","handleSubscriptionCancelled","expectedNewLength","closers","getNextSubscriptionLocalKey","registerSubscription","server_id","drainSubscriptions","subsInfo","localKey","closeSubscription","closingServer","closersCount","closingServerId","ClientProtocol","handlePeerAdded","handlePeerRemoved","handleMethodsAddedMessage","handleMethodsRemovedMessage","handleResultMessage","handleInvocationError","newPeerId","new_peer_id","remoteId","meta","local","serverInfo","removedPeerId","removed_id","methodIdList","gW3ProtocolFactory","libConfig","readyPromise","existingSubscriptions_1","registeredMethods","registeredMethods_1","handleReconnect","protocolPromise","waitForMethod","MessageBus","topic","routingKey","removeEmptyValues","routing_key","target_identity","watchOnEvent","keysMatch","cleaned","obj1","obj2","keysObj1","allMatch","GlueCore","userConfig","ext","gdVersion","preloadPromise","gdPreloadPromise","_interop","_contexts","_bus","_allowTrace","glueInitTimer","internalConfig","nodeStartingContext","startingContextString","_GD_STARTING_CONTEXT_","_f","applicationConfig","instanceId","gwConfig","gwURL","uniqueAppName","env","appInstanceId","getConnection","windowAsAny","containerApplication","htmlContainer","containerName","bus","auth","gwToken","getAuth","gdConsoleLevel","defaultLevel","consoleLogLevel","getLogger","libs","customLogger","prepareConfig","registerLib","inner","initTime","initEndTime","initStartTime","setupMetrics","initTimer","metricsPublishingEnabledFunc","getMetricsPublishingEnabled","setupInterop","agmConfig","setupContexts","hasActivities","activities","setupBus","setupExternalLibs","externalLibs","createCallback","setupExternalLib","authPromise","authConfig","libsReadyPromises","coreVersion","feedback","feedbackInfo","timing","extOptions","enrichGlue","updatePerfData","deprecatedDecorator","wrong","proper","agmAny","method_added","method_removed","server_added","server_method_aded","server_method_removed","coreFactoryFunction","createGlueCore","IoC","controllers","App","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","isWindowInSwimlaneResultDecoder","allParentDecoder","subParentDecoder","frameStateDecoder","checkThrowCallback","allowUndefined","argumentType","workspaceBuilderCreateConfigDecoder","saveLayout","deleteLayoutConfigDecoder","swimlaneWindowDefinitionDecoder","strictSwimlaneWindowDefinitionDecoder","parentDefinitionDecoder","strictParentDefinitionDecoder","newFrameConfigDecoder","restoreTypeDecoder","restoreWorkspaceConfigDecoder","restoreType","lockdown","activateFrame","newFrame","inMemoryLayout","openWorkspaceConfigDecoder","workspaceDefinitionDecoder","builderConfigDecoder","workspaceCreateConfigDecoder","saveConfig","getFrameSummaryConfigDecoder","frameSummaryDecoder","eventTypeDecoder","focused","streamRequestArgumentsDecoder","workspaceEventActionDecoder","workspaceConfigResultDecoder","baseChildSnapshotConfigDecoder","parentSnapshotConfigDecoder","swimlaneWindowSnapshotConfigDecoder","childSnapshotResultDecoder","workspaceSnapshotResultDecoder","customWorkspaceChildSnapshotDecoder","windowLayoutItemDecoder","groupLayoutItemDecoder","columnLayoutItemDecoder","rowLayoutItemDecoder","workspaceLayoutDecoder","workspacesImportLayoutDecoder","exportedLayoutsResultDecoder","frameSummaryResultDecoder","frameSummariesResultDecoder","workspaceSummaryResultDecoder","workspaceSummariesResultDecoder","frameSnapshotResultDecoder","layoutSummariesDecoder","simpleWindowOperationSuccessResultDecoder","voidResultDecoder","frameStateResultDecoder","resizeConfigDecoder","moveConfigDecoder","simpleItemConfigDecoder","frameStateConfigDecoder","requestedState","setItemTitleConfigDecoder","moveWindowConfigDecoder","resizeItemConfigDecoder","moveFrameConfigDecoder","addWindowConfigDecoder","addContainerConfigDecoder","addItemResultDecoder","pingResultDecoder","bundleConfigDecoder","containerSummaryResultDecoder","frameStreamDataDecoder","workspaceStreamDataDecoder","containerStreamDataDecoder","containerSummary","windowStreamDataDecoder","workspaceLayoutSaveConfigDecoder","workspaceSelectorDecoder","webPlatformMethodName","webPlatformWspStreamName","METHODS","control","isStream","frameStream","workspaceStream","containerStream","windowStream","STREAMS","payloadDecoder","OPERATIONS","argsDecoder","getAllFramesSummaries","getAllWorkspacesSummaries","getWorkspaceSnapshot","getAllLayoutsSummaries","importLayout","resizeItem","changeFrameState","getFrameState","forceLoadWindow","ejectWindow","activeSubscriptions","coreSubscriptionReady","handleCoreEvent","registryKey","scopeId","scopeConfig","receivedIds","checkScopeMatch","operationArgs","operationDefinition","transmitControl","operationResultRaw","activeSub","getActiveSubscription","getRegistryKey","getBranchKey","gdSub","streamData","requestedArgumentsResult","actionResult","streamType","validatedPayload","keyToExecute","levelId","callbacksCount","verifiedAction","verifiedType","verifiedPayload","defaultTransportTimeout","coreEventMethodInitiated","verifyMethodLive","eventCallback","subscribePlatform","corePlatformSubPromise","streamName","streamBranch","subscriptionArgs","invocationArguments","baseErrorMessage","invocationResult","invocationErrorMessage","privateData","base","wrapChildren","serializeChildren","getBuilder","validatedDefinition","childBuilder","getBase","addParent","predicate","getWorkspaceId","getPositionIndex","getAllChildren","getMyParent","getMyFrame","getMyWorkspace","getData","manager","getWorkspaceData","getDataManager","dataManager","refreshReference","iterateFindChild","wsp","setWorkspaceContext","updateWorkspaceContext","subscribeWorkspaceContextUpdated","newSnapshot","existingChildren","foundChildren","foundChild","swimlaneWindow","newChildren","refreshChildren","currentFrame","remapFrame","actualFrame","frameCreateConfig","getModel","remapWorkspace","allParents","iterateFilterChildren","getAllBoxes","allWindows","bundleTo","processLocalSubscription","windowParent","foundWindow","win","getWindowData","newWindowId","getGdWindow","myId","getGDWindow","getParent","checkIsWindowLoaded","getFrameData","validatedConfig","getWorkspaces","validatedOptions","getWorkspace","foundParent","parentsData","workspacesData","windowsData","framesData","windowPlacementIdData","keyForDeleting","newData","getParentData","getWindowFromPlacementId","placemenId","getWindowByPlacementId","typeToAdd","parentDefinition","transformDefinition","newParentId","modelData","createConfig","snapshot","frameConfig","workspaceConfig","allFrameSummaries","frames","frameToCheck","bridgeResults","allSummaries","summaryResult","addedUnSub","changedUnSub","gdWindow","controlResult","newChildSnapshot","childToAdd","childType","privateDataManager","remapChild","grandChildren","innerFound","getLayoutSummaries","allLayouts","handleEnterpriseLocalSubscription","handleCoreLocalSubscription","handleEnterpriseGlobalSubscription","handleCoreGlobalSubscription","getFrame","getFrames","iterateWorkspaces","foundWorkspace","matchingWorkspaces","allSummariesResult","getAllWorkspaceSummaries","resultWindow","resultParent","allLayoutsResult","matchingLayouts","handleOnSaved","frameResult","notifyWindowAdded","createCoreEventSubscription","originalCB","wrappedCB","callbackData","handleCoreSubscription","ended","workspaceSummaries","fetchWorkspace","initiate","frameData","setFrameData","windowPrivateData","newWindow","setWindowData","newParent","parentBase","builtChildren","buildChildren","parentPrivateData","setParentData","newWorkspace","workspacePrivateData","setWorkspaceData","baseBuilder","_baseController","_controllerInstance","baseController","_bridgeInstance","CallbackFactory","_transportInstance","_privateDataManagerInstance","_parentBaseInstance","checkIsInSwimlane","getAllFrames","exportLayout","verifiedConfig","onSaved","onFrameOpened","processGlobalSubscription","onFrameClosed","onWorkspaceOpened","onWorkspaceClosed","GlueWorkspaces","StrictMode","glueFactory","GlueWeb"],"mappings":"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","file":"static/js/main.ed651977.chunk.js","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import React from \"react\";\r\n\r\nconst HeaderButton: React.FC<{ title: string, className: string }> = ({ title, className, children, ...props }) => {\r\n    return (\r\n        <li {...props} title={title} className={className}>\r\n            {children}\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default HeaderButton;\r\n","import React from \"react\";\r\nimport { ApplicationItemProps } from \"../../../types/internal\";\r\n\r\nconst ApplicationItem: React.FC<ApplicationItemProps> = ({ appName, onClick }) => {\r\n    return (\r\n        <a onClick={(e) => {\r\n            e.preventDefault();\r\n            if (typeof onClick === \"function\") {\r\n                return onClick(e);\r\n            }\r\n        }} className=\"list-group-item list-group-item-action px-3\">\r\n            {appName}\r\n        </a>\r\n    )\r\n};\r\n\r\nexport default ApplicationItem;","import React, { useEffect } from \"react\";\r\nimport { ApplicationListProps } from \"../../../types/internal\";\r\nimport ApplicationItem from \"./ApplicationItem\";\r\n\r\nconst ApplicationsList: React.FC<ApplicationListProps> = ({ glue, inLane, parent, hidePopup, searchTerm, updatePopupHeight, filterApps }) => {\r\n    const hasFlag = (app: any) => app?.userProperties?.includeInWorkspaces ?? app?.userProperties?.includeInCanvas;\r\n    const isFromSupportedType = (a: any) => !a.type || (a.type !== \"activity\" &&\r\n        a.type !== \"canvas\" &&\r\n        a.type !== \"workspaces\" &&\r\n        a.type !== \"node\");\r\n\r\n    const defaultFilter = (a: any) => !a.isActivity &&\r\n        !a.isShell &&\r\n        isFromSupportedType(a) && hasFlag(a);\r\n\r\n    const filter = filterApps || defaultFilter;\r\n\r\n    const workspacesFriendlyApps: any[] = glue.appManager.applications().filter(filter);\r\n\r\n    const getElementOnClick = (appName: string) => {\r\n        return async () => {\r\n            let workspaceWindow: any;\r\n            let unsub: any;\r\n\r\n            const callback = (w: any) => {\r\n                if (!workspaceWindow) {\r\n                    unsub();\r\n                } else if (workspaceWindow.id === w.id) {\r\n                    w.focus();\r\n                    unsub();\r\n                }\r\n            }\r\n            if (!parent.type) {\r\n                unsub = await parent.onWindowLoaded(callback);\r\n            } else {\r\n                unsub = await parent.workspace.onWindowLoaded(callback);\r\n            }\r\n\r\n            try {\r\n                if (parent.type === \"group\" && inLane) {\r\n                    const newGroup = await parent.parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                    workspaceWindow = newGroup.children[0];\r\n                } else if (parent.type !== \"group\" && !inLane) {\r\n                    const newGroup = await parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                    workspaceWindow = newGroup.children[0];\r\n                } else {\r\n                    workspaceWindow = await parent.addWindow({ type: \"window\", appName });\r\n                }  \r\n            } catch (error) {\r\n                console.warn(error);\r\n            }\r\n\r\n            hidePopup();\r\n        };\r\n    }\r\n\r\n    useEffect(() => {\r\n        updatePopupHeight();\r\n    }, []);\r\n\r\n    return (\r\n        <nav id=\"applicationsList\" className=\"nav list-group\">\r\n            {workspacesFriendlyApps\r\n                .filter((a) => (a.title || a.name).toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\r\n                .map((app: any, i) => {\r\n                    return <ApplicationItem\r\n                        key={i}\r\n                        onClick={() => { getElementOnClick(app.name)() }}\r\n                        appName={app.title || app.name} />\r\n                })}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default ApplicationsList;","import React, { useEffect } from \"react\";\r\nimport { ContainerSwitchProps } from \"../../../types/internal\";\r\n\r\nconst ContainerSwitch: React.FC<ContainerSwitchProps> = ({ inLane, setInLane, parent }) => {\r\n    let wordInLabel = \"\";\r\n    if (!parent.type) {\r\n        wordInLabel = `workspace`;\r\n    } else if (parent.type === \"group\" && !parent.children.length) {\r\n        wordInLabel = \"\";\r\n    } else if (parent.type === \"group\") {\r\n        wordInLabel = `${parent.parent.type || \"\"}`;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!wordInLabel || wordInLabel === \"workspace\") {\r\n            setInLane(false);\r\n        }\r\n    }, [wordInLabel])\r\n\r\n    if (!wordInLabel || wordInLabel === \"workspace\") {\r\n        return null;\r\n    }\r\n\r\n    const labelToPut = `This ${wordInLabel[0].toUpperCase() + wordInLabel.substring(1)}`;\r\n\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"Application placement\">Application Placement</label>\r\n            <div className=\"btn-group d-flex mb-2\" role=\"group\" aria-label=\"Application placement\">\r\n                <button\r\n                    onClick={() => setInLane(true)}\r\n                    type=\"button\"\r\n                    id=\"laneButton\"\r\n                    className={`btn btn-outline-primary w-100 ${inLane ? \"active\" : \"\"}`}>\r\n                    {labelToPut}\r\n                </button>\r\n                <button\r\n                    onClick={() => setInLane(false)}\r\n                    type=\"button\"\r\n                    id=\"tabGroupButton\"\r\n                    className={`btn btn-outline-primary w-100 ${!inLane ? \"active\" : \"\"}`}>\r\n                    This Tab Group\r\n            </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ContainerSwitch;","import { GlueContext } from \"@glue42/react-hooks\";\r\nimport React, { useContext } from \"react\"\r\n\r\nconst withGlueInstance = <T extends { glue?: any }>(WrappedComponent: React.ComponentType<T>) => {\r\n    return (props: T) => {\r\n        const glue = props.glue || (window as any).glue || useContext(GlueContext);\r\n        if (!glue) {\r\n            throw new Error(\"An instance of Glue is not provided\");\r\n        }\r\n        return (\r\n            <WrappedComponent {...Object.assign({}, props, { glue })} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default withGlueInstance;","import React, { useEffect, useState } from \"react\";\r\nimport { AddApplicationPopupProps } from \"../../../types/internal\";\r\nimport ApplicationsList from \"./ApplicationsList\";\r\nimport ContainerSwitch from \"./ContainerSwitch\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\ndeclare const window: Window & { glue?: any };\r\n\r\nconst AddApplicationPopup: React.FC<AddApplicationPopupProps> = ({ workspaceId, boxId, hidePopup, resizePopup, glue, frameId, filterApps, ...props }) => {\r\n    const [inLane, setInLane] = useState(false);\r\n    const [parent, setParent] = useState(undefined);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            const myWorkspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n            const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setParent(parent);\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [boxId, workspaceId]);\r\n\r\n    const refreshPopupHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshPopupHeight();\r\n    }, [searchTerm, parent]);\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-application\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Application</h5>\r\n                </div>\r\n            </div>\r\n            <div id=\"applicationPlacementSection\" className=\"row\">\r\n                <div className=\"col\">\r\n                    {parent && <ContainerSwitch\r\n                        inLane={inLane}\r\n                        setInLane={setInLane}\r\n                        parent={parent} />}\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"input-group position-relative mb-2\">\r\n                        <input type=\"text\" id=\"appSearch\" className=\"form-control pr-4\" placeholder=\"Search аpplication\"\r\n                            value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} aria-label=\"Search аpplication\" aria-describedby=\"\" />\r\n                        <div className=\"icon-search\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"applications mb-2\">\r\n                        <ApplicationsList\r\n                            glue={glue}\r\n                            hidePopup={hidePopup}\r\n                            inLane={inLane}\r\n                            parent={parent}\r\n                            searchTerm={searchTerm}\r\n                            filterApps={filterApps}\r\n                            updatePopupHeight={() => { refreshPopupHeight() }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withGlueInstance(AddApplicationPopup);","import React from \"react\";\r\nimport { getFeedbackErrorMessage } from \"./helpers\";\r\n\r\nconst Feedback: React.FC<{ errMessage: string }> = ({ errMessage }) => {\r\n    const message = getFeedbackErrorMessage(errMessage);\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col\">\r\n                <div id=\"feedbackContainer\" className=\"d-flex flex-row pb-2\">\r\n                    <div className=\"invalid-feedback mt-0 d-block\">\r\n                        {message || \"Something went wrong.\"}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Feedback;","export const getFeedbackErrorMessage = (message: string) => {\r\n    const innerMessageRegex = /Inner message:\\s+(.+)/gm;\r\n    const regexResult = innerMessageRegex.exec(message);\r\n    const innerMessage = (regexResult && regexResult[1]) || message;\r\n\r\n    return innerMessage;\r\n}","import React from \"react\";\r\nimport { WorkspaceLayoutItemProps } from \"../../../types/internal\";\r\n\r\nconst WorkspaceLayoutItem: React.FC<WorkspaceLayoutItemProps> = ({ name, onClick, onCloseClick }) => {\r\n    return (\r\n        <a onClick={(e) => {\r\n            e.preventDefault();\r\n            if (typeof onClick === \"function\") {\r\n                return onClick(e);\r\n            }\r\n        }} className=\"list-group-item list-group-item-action ry-2\">\r\n            <div className=\"align-items-center workspace d-flex flex-row\">\r\n                <div className=\"workspace__icon mr-2\"></div>\r\n                <div className=\"workspace__description\">\r\n                    <h5 className=\"mb-0 text-truncate\">{name}</h5>\r\n                </div>\r\n                <div onClick={onCloseClick} className=\"close-icon ml-auto\"></div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\n\r\nexport default WorkspaceLayoutItem;","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspaceLayoutsListProps } from \"../../../types/internal\";\r\nimport WorkspaceLayoutItem from \"./WorkspaceLayoutItem\";\r\n\r\nconst WorkspaceLayoutsList: React.FC<WorkspaceLayoutsListProps> = ({ glue, frameId, showFeedback, hidePopup, resizePopup }) => {\r\n    const [layoutSummaries, setLayoutSummaries] = useState([] as any[]);\r\n\r\n    const getSummaries = () => {\r\n        return glue.workspaces.layouts.getSummaries();\r\n    };\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        getSummaries().then((s: any) => {\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setLayoutSummaries(s);\r\n        });\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        resizePopup();\r\n    }, [layoutSummaries]);\r\n\r\n    const getOnClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.restoreWorkspace(layoutName, { frameId, title: layoutName }).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).finally(() => {\r\n                hidePopup();\r\n            });\r\n        };\r\n    };\r\n\r\n    const getOnCloseClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.layouts.delete(layoutName).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).then(() => {\r\n                getSummaries().then((s: any) => { setLayoutSummaries(s); });\r\n            });\r\n        };\r\n    }\r\n\r\n    return (\r\n        <nav id=\"workspacesList\" className=\"nav flex-column\">\r\n            {layoutSummaries.map((summary, i) => {\r\n                return <WorkspaceLayoutItem\r\n                    key={i}\r\n                    name={summary.name}\r\n                    onClick={() => getOnClickCallback(summary.name)()}\r\n                    onCloseClick={(e) => { e.stopPropagation(); getOnCloseClickCallback(summary.name)(); }}\r\n                />\r\n            })}\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default WorkspaceLayoutsList;","import React, { useEffect, useState } from \"react\";\r\nimport { AddWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport WorkspaceLayoutsList from \"./WorkspaceLayoutsList\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst AddWorkspacePopup: React.FC<AddWorkspacePopupProps> = ({ frameId, hidePopup, resizePopup, glue, ...props }) => {\r\n    const [feedbackText, setFeedbackText] = useState<string | undefined>(undefined);\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const resizePopupWithContainerHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        resizePopupWithContainerHeight();\r\n    }, [feedbackText]);\r\n    const onCreateNewClicked = () => {\r\n        glue.workspaces.createWorkspace({\r\n            children: [],\r\n            frame: {\r\n                reuseFrameId: frameId\r\n            }\r\n        });\r\n        hidePopup();\r\n    }\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 onClick={onCreateNewClicked} itemType=\"h5\" id=\"createNewButton\" className=\"btn btn-primary mb-3 w-100\">Create New</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h3>Load Workspace</h3>\r\n                    <div className=\"workspaces mb-2\">\r\n                        <WorkspaceLayoutsList\r\n                            frameId={frameId}\r\n                            glue={glue}\r\n                            showFeedback={setFeedbackText}\r\n                            hidePopup={hidePopup}\r\n                            resizePopup={resizePopupWithContainerHeight}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {feedbackText && <Feedback errMessage={feedbackText} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withGlueInstance(AddWorkspacePopup);","import React, { useEffect } from \"react\";\r\nimport { SaveContextCheckboxProps } from \"../../../types/internal\";\r\n\r\nconst SaveContextCheckbox: React.FC<SaveContextCheckboxProps> = ({ changeChecked, refreshHeight }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, []);\r\n\r\n    const onInputChanged = () => {\r\n        if (!inputRef?.current) {\r\n            return;\r\n        }\r\n\r\n        changeChecked(inputRef.current.checked);\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-check\">\r\n            <input onChange={onInputChanged} ref={inputRef} className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"saveContextCheckbox\" />\r\n            <label className=\"form-check-label\" htmlFor=\"saveContextCheckbox\">Save context</label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SaveContextCheckbox;","import React, { useEffect, useState } from \"react\";\r\nimport { SaveWorkspaceButtonProps } from \"../../../types/internal\";\r\n\r\nconst SaveWorkspaceButton: React.FC<SaveWorkspaceButtonProps> = ({ workspaceId,\r\n    inputValue,\r\n    clearInput,\r\n    showFeedback,\r\n    shouldSaveContext,\r\n    hideFeedback,\r\n    glue,\r\n    hidePopup,\r\n    buildMode }) => {\r\n    const [shouldSave, setShouldSave] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldSave) {\r\n            return;\r\n        }\r\n        let shouldUpdate = true;\r\n        let workspace: any;\r\n        const workspaceName = inputValue;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            workspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n\r\n            return glue.workspaces.layouts.save({\r\n                name: workspaceName,\r\n                workspaceId: workspace.id,\r\n                saveContext: shouldSaveContext\r\n            });\r\n        }).then(() => {\r\n            return workspace.setTitle(workspaceName);\r\n        }).catch((error: Error) => {\r\n            if (shouldUpdate) {\r\n                showFeedback(error.message)\r\n            }\r\n        }).finally(() => {\r\n            if (shouldUpdate) {\r\n                clearInput();\r\n                setShouldSave(false);\r\n                hidePopup();\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [shouldSave]);\r\n\r\n    const exportJson = (layout: object, name: string) => {\r\n        const downloadElement = document.createElement(\"a\");\r\n        const data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(layout));\r\n\r\n        document.body.append(downloadElement);\r\n        downloadElement.setAttribute(\"href\", \"data:\" + data);\r\n        downloadElement.setAttribute(\"download\", `${name}.txt`);\r\n        downloadElement.click();\r\n        downloadElement.remove();\r\n    }\r\n\r\n    const generateLayout = async (name: string, workspaceId: string) => {\r\n        const instance = glue.agm.instance;\r\n        const payload = { operation: \"generateLayout\", operationArguments: { name, workspaceId } };\r\n\r\n        return (await glue.agm.invoke(\"T42.Workspaces.Control\", payload, instance || \"best\")).returned;\r\n    }\r\n\r\n    const onClick = () => {\r\n        const workspaceName = inputValue;\r\n\r\n        if (workspaceId && !buildMode) {\r\n            hideFeedback();\r\n            if (!workspaceName) {\r\n                showFeedback(\"Please provide a valid name\");\r\n                return;\r\n            }\r\n\r\n            if (shouldSave) {\r\n                return;\r\n            }\r\n\r\n            setShouldSave(true);\r\n        } else if (workspaceId) {\r\n            generateLayout(workspaceName, workspaceId).then((layout) => {\r\n                exportJson(layout, workspaceName);\r\n            }).catch((err) => {\r\n                showFeedback(err.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    return (<button onClick={onClick} id=\"saveButton\" type=\"button\" className=\"btn btn-primary\">\r\n        {buildMode ? \"Download\" : \"Save\"}\r\n    </button>);\r\n};\r\n\r\nexport default SaveWorkspaceButton;","import React, {\r\n    useContext,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    useState\r\n} from \"react\";\r\nimport { SaveWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport SaveContextCheckbox from \"./SaveContextCheckbox\";\r\nimport SaveWorkspaceButton from \"./SaveWorkspaceButton\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst SaveWorkspacePopup: React.FC<SaveWorkspacePopupProps> = ({ workspaceId, resizePopup, hidePopup, buildMode, glue, ...props }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const [shouldSaveContext, setShouldSaveContext] = useState(false);\r\n    const [feedbackMessage, setFeedbackMessage] = useState(\"\");\r\n    const [workspaceName, setWorkspaceName] = useState(\"\");\r\n\r\n    const refreshHeight = () => {\r\n        if (!containerRef?.current) {\r\n            return;\r\n        }\r\n\r\n        const bounds = containerRef.current.getBoundingClientRect();\r\n        resizePopup({\r\n            height: bounds.height,\r\n            width: 300\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, [feedbackMessage, workspaceId]);\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        \r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any[]) => {\r\n            const myWorkspace = allWorkspaces.find((w) => w.id === workspaceId);\r\n            if (shouldUpdate) {\r\n                setWorkspaceName(myWorkspace.layoutName || \"\");\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [workspaceId]);\r\n\r\n    const clearInput = () => {\r\n        setWorkspaceName(\"\");\r\n    }\r\n\r\n    return (\r\n        <div {...props} onClick={(e) => e.stopPropagation()} ref={containerRef} className=\"container-fluid save-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Save Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                    <input ref={inputRef}\r\n                        value={workspaceName}\r\n                        onChange={(e) => setWorkspaceName(e.target.value)}\r\n                        onClick={(e) => setFeedbackMessage(\"\")}\r\n                        className=\"form-control mr-1\"\r\n                        type=\"text\"\r\n                        placeholder=\"Workspace name\"\r\n                        id=\"js-workspace-name\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"row  align-items-center pb-2\">\r\n                <div className=\"col\">\r\n                    {!buildMode &&\r\n                        <SaveContextCheckbox\r\n                            changeChecked={(v) => setShouldSaveContext(v)}\r\n                            refreshHeight={refreshHeight}\r\n                        />}\r\n                </div>\r\n\r\n                <div className=\"col  text-right\">\r\n                    <SaveWorkspaceButton\r\n                        clearInput={clearInput}\r\n                        inputValue={workspaceName}\r\n                        workspaceId={workspaceId}\r\n                        shouldSaveContext={shouldSaveContext}\r\n                        showFeedback={setFeedbackMessage}\r\n                        hideFeedback={() => setFeedbackMessage(\"\")}\r\n                        hidePopup={hidePopup}\r\n                        buildMode={buildMode}\r\n                        glue={glue}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {feedbackMessage && <Feedback errMessage={feedbackMessage} />}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withGlueInstance(SaveWorkspacePopup);","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction t(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{c(i.next(t))}catch(t){s(t)}}function a(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((i=i.apply(t,e||[])).next())}))}var e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}(null==e&&n.path)}},n.exports),n.exports}var i=n((function(t,e){!function(e){var n={config:{},container:{},controls:{},errors:{},items:{},utils:{}};n.utils.F=function(){},n.utils.extend=function(t,e){t.prototype=n.utils.createObject(e.prototype),t.prototype.contructor=t},n.utils.createObject=function(t){return\"function\"==typeof Object.create?Object.create(t):(n.utils.F.prototype=t,new n.utils.F)},n.utils.objectKeys=function(t){var e,n;if(\"function\"==typeof Object.keys)return Object.keys(t);for(n in e=[],t)e.push(n);return e},n.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+\"=([^&]*)\"));return e?e[1]:null},n.utils.getQueryStringParam=function(t){if(window.location.hash)return n.utils.getHashValue(t);if(!window.location.search)return null;var e,i,o=window.location.search.substr(1).split(\"&\"),s={};for(i=0;i<o.length;i++)s[(e=o[i].split(\"=\"))[0]]=e[1];return s[t]||null},n.utils.copy=function(t,e){for(var n in e)t[n]=e[n];return t},n.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})((function(){t()}))},n.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error(\"Haystack is not an Array\");if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},\"function\"!=typeof/./&&\"object\"!=typeof Int8Array?n.utils.isFunction=function(t){return\"function\"==typeof t||!1}:n.utils.isFunction=function(t){return\"[object Function]\"===toString.call(t)},n.utils.fnBind=function(t,e,n){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(t,[e].concat(n||[]));var i=function(){var o=(n||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof i))return t.apply(e,o);t.apply(this,o)};return i.prototype=t.prototype,i},n.utils.removeFromArray=function(t,e){var i=n.utils.indexOf(t,e);if(-1===i)throw new Error(\"Can't remove item from array. Item is not in the array\");e.splice(i,1)},n.utils.now=function(){return\"function\"==typeof Date.now?Date.now():(new Date).getTime()},n.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(\".\",\"\")},n.utils.filterXss=function(t,e){var n=t.replace(/javascript/gi,\"j&#97;vascript\").replace(/expression/gi,\"expr&#101;ssion\").replace(/onload/gi,\"onlo&#97;d\").replace(/script/gi,\"&#115;cript\").replace(/onerror/gi,\"on&#101;rror\");return!0===e?n:n.replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\")},n.utils.stripTags=function(t){return e.trim(t.replace(/(<([^>]+)>)/gi,\"\"))},n.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,i){if(!n.utils.isFunction(e))throw new Error(\"Tried to listen to event \"+t+\" with non-function callback \"+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:i})},this.emit=function(t){var e,i,o;o=Array.prototype.slice.call(arguments,1);var s=this._mSubscriptions[t];if(s)for(s=s.slice(),e=0;e<s.length;e++)i=s[e].ctx||{},s[e].fn.apply(i,o);o.unshift(t);var r=this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<r.length;e++)i=r[e].ctx||{},r[e].fn.apply(i,o)},this.unbind=function(t,e,n){if(this._mSubscriptions[t]){var i,o=!1;for(i=0;i<this._mSubscriptions[t].length;i++)e&&this._mSubscriptions[t][i].fn!==e||n&&n!==this._mSubscriptions[t][i].ctx||(this._mSubscriptions[t].splice(i,1),o=!0);if(!1===o)throw new Error(\"Nothing to unbind for \"+t)}},this.off=this.unbind,this.trigger=this.emit},n.utils.EventEmitter.ALL_EVENT=\"__all\",n.utils.DragListener=function(t,i){n.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=i||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=n.utils.fnBind(this.onMouseMove,this),this._fUp=n.utils.fnBind(this.onMouseUp,this),this._fDown=n.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},n.utils.DragListener.timeout=null,n.utils.copy(n.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this._timeout=setTimeout(n.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX)))},_startDrag:function(t){this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),n.LayoutManager=function(t,i,o){if(!e&&window.$&&(e=window.$),!e||\"function\"!=typeof e.noConflict){throw'Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to ',\"your paths when using RequireJS/AMD\",new Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to your paths when using RequireJS/AMD')}n.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={\"lm-react-component\":n.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=n.utils.fnBind(this._onResize,this),this._unloadFunction=n.utils.fnBind(this._onUnload,this),this._maximizedItem=null,this._maximizePlaceholder=e('<div class=\"lm_maximise_place\"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._dragProxies=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._componentFactory=o,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new n.utils.EventHub(this),this.config=this._createConfig(t),this.container=i,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=e('<div class=\"lm_drop_tab_placeholder\"></div>'),!0===this.isSubWindow&&e(\"body\").css(\"visibility\",\"hidden\"),this._typeToItem={column:n.utils.fnBind(n.items.RowOrColumn,this,[!0]),row:n.utils.fnBind(n.items.RowOrColumn,this,[!1]),stack:n.items.Stack,component:n.items.Component}},n.LayoutManager.__lm=n,n.LayoutManager.minifyConfig=function(t){return(new n.utils.ConfigMinifier).minifyConfig(t)},n.LayoutManager.unminifyConfig=function(t){return(new n.utils.ConfigMinifier).unminifyConfig(t)},n.utils.copy(n.LayoutManager.prototype,{registerComponent:function(t,e){if(\"function\"!=typeof e)throw new Error(\"Please register a constructor function\");if(void 0!==this._components[t])throw new Error(\"Component \"+t+\" is already registered\");this._components[t]=e},toConfig:function(t){var e,i,o;if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");if(t&&!(t instanceof n.items.AbstractContentItem))throw new Error(\"Root must be a ContentItem\");for((e={settings:n.utils.copy({},this.config.settings),dimensions:n.utils.copy({},this.config.dimensions),labels:n.utils.copy({},this.config.labels),context:n.utils.copy({},this.config.context),workspacesOptions:n.utils.copy({},this.config.workspacesOptions)}).content=[],(i=function(t,e){var n,o;for(n in e.config)\"content\"!==n&&(t[n]=e.config[n]);if(e.contentItems.length)for(t.content=[],o=0;o<e.contentItems.length;o++)t.content[o]={},i(t.content[o],e.contentItems[o])})(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],o=0;o<this.openPopouts.length;o++)e.openPopouts.push(this.openPopouts[o].toConfig());return e.maximizedItemId=this._maximizedItem?\"__glMaximised\":null,e},getComponent:function(t){if(void 0===this._components[t])throw new n.errors.ConfigurationError('Unknown component \"'+t+'\"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),\"loading\"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(n.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new n.controls.DropTargetIndicator(this.container),this.transitionIndicator=new n.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit(\"initialised\")}else e(document).ready(n.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards(\"setSize\",[this.width,this.height]),this._maximizedItem&&(this._maximizedItem.element.width(t),this._maximizedItem.element.height(e),this._maximizedItem.callDownwards(\"setSize\")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),e(window).off(\"resize\",this._resizeFunction),e(window).off(\"unload beforeunload\",this._unloadFunction),this.root.callDownwards(\"_$destroy\",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach((function(t){\"function\"==typeof t._dragListener.destroy&&t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null})),this._dragSources=[])},createContentItem:function(t,e){var i;if(\"string\"!=typeof t.type)throw new n.errors.ConfigurationError(\"Missing parameter 'type'\",t);if(\"react-component\"===t.type&&(t.type=\"component\",t.componentName=\"lm-react-component\"),!this._typeToItem[t.type])throw i=\"Unknown type '\"+t.type+\"'. Valid types are \"+n.utils.objectKeys(this._typeToItem).join(\",\"),new n.errors.ConfigurationError(i);return\"component\"!==t.type||e instanceof n.items.Stack||!e||!0===this.isSubWindow&&e instanceof n.items.Root||(t={type:\"stack\",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,i,o){var s,r,a,c,l,d,h=t,u=t instanceof n.items.AbstractContentItem,p=this;if(i=i||null,u){for(h=this.toConfig(t).content,i=n.utils.getUniqueId(),c=t.parent,l=t;1===c.contentItems.length&&!c.isRoot;)c=c.parent,l=l.parent;c.addId(i),isNaN(o)&&(o=n.utils.indexOf(l,c.contentItems))}else h instanceof Array||(h=[h]);return!e&&u&&(s=window.screenX||window.screenLeft,r=window.screenY||window.screenTop,e={left:s+(a=t.element.offset()).left,top:r+a.top,width:t.element.width(),height:t.element.height()}),e||u||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),u&&t.remove(),(d=new n.controls.BrowserPopout(h,e,i,o,this)).on(\"initialised\",(function(){p.emit(\"windowOpened\",d)})),d.on(\"closed\",(function(){p._$reconcilePopoutWindows()})),this.openPopouts.push(d),d},createDragSource:function(t,i,o){this.config.settings.constrainDragToContainer=!1;var s=new n.controls.DragSource(e(t),i,this,o);return this._dragSources.push(s),s},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error(\"Please set selectionEnabled to true to use this feature\");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit(\"selectionChanged\",t))},_$maximiseItem:function(t){null!==this._maximizedItem&&this._$minimizeItem(this._maximizedItem),this._maximizedItem=t,this._maximizedItem.addId(\"__glMaximised\"),t.element.addClass(\"lm_maximised\"),t.element.after(this._maximizePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards(\"setSize\"),this._maximizedItem.emit(\"maximized\"),this.emit(\"stateChanged\")},_$minimiseItem:function(t){t.element.removeClass(\"lm_maximised\"),t.removeId(\"__glMaximised\"),this._maximizePlaceholder.after(t.element),this._maximizePlaceholder.remove(),t.parent.callDownwards(\"setSize\"),this._maximizedItem=null,t.emit(\"minimized\"),this.emit(\"stateChanged\")},_$closeWindow:function(){window.setTimeout((function(){window.close()}),1)},_$getArea:function(t,e){var n,i,o=1/0,s=null;for(n=0;n<this._itemAreas.length;n++)t>(i=this._itemAreas[n]).x1&&t<i.x2&&e>i.y1&&e<i.y2&&o>i.surface&&(o=i.surface,s=i);return s},_$createRootItemAreas:function(){var t={y2:0,x2:0,y1:\"y2\",x1:\"x2\"};for(var e in t){var n=this.root._$getArea();n.side=e,n[e]=t[e]?n[t[e]]-50:\"y2\"===e?50+this.root.element.offset().top:50,n.surface=(n.x2-n.x1)*(n.y2-n.y1),this._itemAreas.push(n)}},_$calculateItemAreas:function(){var t,e,i=this._getAllContentItems();if(this._itemAreas=[],1!==i.length){for(this._$createRootItemAreas(),t=0;t<i.length;t++)if(i[t].isStack&&null!==(e=i[t]._$getArea()))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var o={};n.utils.copy(o,e),n.utils.copy(o,e.contentItem._contentAreaDimensions.header.highlightArea),o.surface=(o.x2-o.x1)*(o.y2-o.y1),this._itemAreas.push(o)}\"workspace\"===this.config.settings.mode&&(this._itemAreas=[this._itemAreas[this._itemAreas.length-1]])}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,i){if(!t)throw new Error(\"No content item defined\");if(n.utils.isFunction(t)&&(t=t()),t instanceof n.items.AbstractContentItem)return t;if(e.isPlainObject(t)&&t.type){var o=this.createContentItem(t,i);return o.callDownwards(\"_$init\"),o}throw new Error(\"Invalid contentItem\")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit(\"windowClosed\",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit(\"stateChanged\"),this.openPopouts=e)},_getAllContentItems:function(){var t=[],e=function(n){if(t.push(n),n.contentItems instanceof Array)for(var i=0;i<n.contentItems.length;i++)e(n.contentItems[i])};return e(this.root),t},_bindEvents:function(){this._isFullPage&&e(window).resize(this._resizeFunction),e(window).on(\"unload beforeunload\",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(n.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var i=n.utils.getQueryStringParam(\"gl-window\");i&&(this.isSubWindow=!0,t=localStorage.getItem(i),t=JSON.parse(t),t=(new n.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(i)),t=e.extend(!0,{},n.config.defaultConfig,t);var o=function(t){for(var e in t)\"props\"!==e&&\"object\"==typeof t[e]?o(t[e]):\"type\"===e&&\"react-component\"===t[e]&&(t.type=\"component\",t.componentName=\"lm-react-component\")};return o(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=e('<div class=\"lm_popin\" title=\"'+this.config.labels.popin+'\"><div class=\"lm_icon\"></div><div class=\"lm_bg\"></div></div>');t.click(n.utils.fnBind((function(){this.emit(\"popIn\")}),this)),document.title=n.utils.stripTags(this.config.content[0].title),e(\"head\").append(e(\"body link, body style, template, .gl_keep\")),this.container=e(\"body\").html(\"\").css(\"visibility\",\"visible\").append(t);document.body.offsetHeight;window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=e(this.container||\"body\");if(0===t.length)throw new Error(\"GoldenLayout container not found\");if(t.length>1)throw new Error(\"GoldenLayout more than one container element specified\");t[0]===document.body&&(this._isFullPage=!0,e(\"html, body\").css({height:\"100%\",margin:0,padding:0,overflow:\"hidden\"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?\"Missing setting 'content' on top level of configuration\":\"Configuration parameter 'content' must be an array\",new n.errors.ConfigurationError(e,t);if(t.content.length>1)throw e=\"Top level content can't contain more then one element.\",new n.errors.ConfigurationError(e,t);this.root=new n.items.Root(this,{content:t.content},this.container),this.root.callDownwards(\"_$init\"),\"__glMaximised\"===t.maximizedItemId&&this.root.getItemsById(t.maximizedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)&&this.container.is(\":visible\")){this._updatingColumnsResponsive=!0;for(var n=t-Math.max(Math.floor(this.width/e),1),i=this.root.contentItems[0],o=this._findAllStackContainers()[0],s=0;s<n;s++){var r=i.contentItems[i.contentItems.length-1];this._addChildContentItemsToContainer(o,r)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_useResponsiveLayout:function(){return this.config.settings&&(\"always\"==this.config.settings.responsiveMode||\"onload\"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(t,e){\"stack\"===e.type?e.contentItems.forEach((function(n){t.addChild(n),e.removeChild(n,!0)})):e.contentItems.forEach(n.utils.fnBind((function(e){this._addChildContentItemsToContainer(t,e)}),this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(t,e){e.contentItems.forEach(n.utils.fnBind((function(e){\"stack\"==e.type?t.push(e):e.isComponent||this._findAllStackContainersRecursive(t,e)}),this))}}),n.LayoutManager.default=n.LayoutManager,t.exports=n.LayoutManager,window.GoldenLayout=n.LayoutManager,n.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showMinimizeIcon:!1,showPopoutIcon:!0,showMaximizeIcon:!0,showCloseIcon:!0,responsiveMode:\"always\",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,mode:\"default\"},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:500,dragProxyHeight:500},labels:{close:\"close\",maximize:\"maximize\",restore:\"restore\",minimize:\"minimize\",popout:\"eject\",popin:\"pop in\",tabDropdown:\"additional tabs\"},workspacesOptions:{}},n.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:\"\",workspacesConfig:{}},n.container.ItemContainer=function(t,i,o){n.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=i,this.layoutManager=o,this.isHidden=!1,this._config=t,this._element=e(['<div class=\"lm_item_container\">','<div class=\"lm_content\"></div>',\"</div>\"].join(\"\")),this._contentElement=this._element.find(\".lm_content\")},n.utils.copy(n.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit(\"hide\"),this.isHidden=!0,this._element.hide()},show:function(){this.emit(\"show\"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit(\"shown\")},setSize:function(t,e){for(var n,i,o,s,r=this.parent,a=this;!r.isColumn&&!r.isRow;)if(a=r,(r=r.parent).isRoot)return!1;for(n=(\"height\"===(i=r.isColumn?\"height\":\"width\")?e:t)/(this[i]*(1/(a.config[i]/100)))*100,o=(a.config[i]-n)/(r.contentItems.length-1),s=0;s<r.contentItems.length;s++)r.contentItems[s]===a?r.contentItems[s].config[i]=n:r.contentItems[s].config[i]+=o;return r.callDownwards(\"setSize\"),!0},close:function(){this._config.isClosable&&(this.emit(\"close\"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(e.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent(\"stateChanged\")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var n=this._contentElement[0],i=n.offsetWidth-n.clientWidth,o=n.offsetHeight-n.clientHeight;this._contentElement.width(this.width-i).height(this.height-o),this.emit(\"resize\")}}}),n.controls.BrowserPopout=function(t,e,i,o,s){n.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=i,this._indexInParent=o,this._layoutManager=s,this._popoutWindow=null,this._id=null,this._createWindow()},n.utils.copy(n.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,n;this._indexInParent;this._parentId&&(t=e.extend(!0,{},this.getGlInstance().toConfig()).content[0],(n=this._layoutManager.root.getItemsById(this._parentId)[0])||(n=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),n.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,i=this._createUrl(),o=Math.floor(1e6*Math.random()).toString(36),s=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:\"no\",toolbar:\"no\",location:\"no\",personalbar:\"no\",resizable:\"yes\",scrollbars:\"no\",status:\"no\"});if(this._popoutWindow=window.open(i,o,s),this._popoutWindow)e(this._popoutWindow).on(\"load\",n.utils.fnBind(this._positionWindow,this)).on(\"unload beforeunload\",n.utils.fnBind(this._onClose,this)),t=setInterval(n.utils.fnBind((function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))}),this),10);else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError){var r=new Error(\"Popout blocked\");throw r.type=\"popoutBlocked\",r}},_serializeWindowOptions:function(t){var e,n=[];for(e in t)n.push(e+\"=\"+t[e]);return n.join(\",\")},_createUrl:function(){var t,e={content:this._config},i=\"gl-window-config-\"+n.utils.getUniqueId();e=(new n.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(i,JSON.stringify(e))}catch(t){throw new Error(\"Error while writing to localStorage \"+t.toString())}return 1===(t=document.location.href.split(\"?\")).length?t[0]+\"?gl-window=\"+i:document.location.href+\"&gl-window=\"+i},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on(\"popIn\",this.popIn,this),this.emit(\"initialised\")},_onClose:function(){setTimeout(n.utils.fnBind(this.emit,this,[\"closed\"]),50)}}),n.controls.DragProxy=function(t,i,o,s,r,a){n.utils.EventEmitter.call(this),this._dragListener=o,this._layoutManager=s,this._contentItem=r,this._originalParent=a,this._area=null,this._lastValidArea=null,this._dragListener.on(\"drag\",this._onDrag,this),this._dragListener.on(\"dragStop\",this._onDrop,this),this.element=e(n.controls.DragProxy._template),a&&a._side&&(this._sided=a._sided,this.element.addClass(\"lm_\"+a._side),[\"right\",\"bottom\"].indexOf(a._side)>=0&&this.element.find(\".lm_content\").after(this.element.find(\".lm_header\"))),this.element.css({left:t,top:i}),this.element.find(\".lm_tab\").attr(\"title\",n.utils.stripTags(this._contentItem.config.title)),this.element.find(\".lm_title\").html(this._contentItem.config.title),this.childElementContainer=this.element.find(\".lm_content\"),this.childElementContainer.append(r.element),this._originalParent&&this._originalParent.layoutManager.config&&this._originalParent.layoutManager.config.settings&&this._originalParent.layoutManager.config.settings.disableDragProxy&&this.element.find(\".lm_content\").css(\"display\",\"none\"),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),e(document.body).append(this.element);var c=this._layoutManager.container.offset();this._minX=c.left,this._minY=c.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this._layoutManager.config.dimensions.dragProxyWidth,this._height=this._layoutManager.config.dimensions.dragProxyHeight,this._setDropPosition(t,i)},n.controls.DragProxy._template='<div class=\"lm_dragProxy\"><div class=\"lm_header\"><ul class=\"lm_tabs\"><li class=\"lm_tab lm_active\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><i class=\"lm_right\"></i></li></ul></div><div class=\"lm_content\"></div></div>',n.utils.copy(n.controls.DragProxy.prototype,{_onDrag:function(t,e,n){var i=(n=n.originalEvent&&n.originalEvent.touches?n.originalEvent.touches[0]:n).pageX,o=n.pageY;(i>this._minX&&i<this._maxX&&o>this._minY&&o<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(i,o)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area&&(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area))},_onDrop:function(t){this._layoutManager.dropTargetIndicator.hide(),this.element.find(\".lm_content\").css(\"display\",\"\"),null===this._area||t&&t.canceled?null===this._lastValidArea||t&&t.canceled?!this._originalParent||t&&t.canceled?this._contentItem._$destroy():this._originalParent.addChild(this._contentItem):this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):(this._area.contentItem._$onDrop(this._contentItem,this._area),this._originalParent&&this._area.contentItem!==this._originalParent&&this._layoutManager.emit(\"parentChanged\",this._contentItem,this._originalParent)),this.element.remove();const e=this._layoutManager._dragProxies.indexOf(this);e>-1&&this._layoutManager._dragProxies.splice(e,1),this._layoutManager.emit(\"itemDropped\",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){this._contentItem.callDownwards(\"_$show\")}}),n.controls.DragSource=function(t,e,n,i){this._element=t,this._itemConfig=e,this._layoutManager=n,this._dragListener=null,this._createDragListener(i)},n.utils.copy(n.controls.DragSource.prototype,{_createDragListener:function(t){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=t||new n.utils.DragListener(this._element),\"function\"==typeof this._dragListener.on&&(this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"dragStop\",this._createDragListener,this))},_onDragStart:function(t,i){var o=this._itemConfig;n.utils.isFunction(o)&&(o=o());var s=this._layoutManager._$normalizeContentItem(e.extend(!0,{},o)),r=new n.controls.DragProxy(t,i,this._dragListener,this._layoutManager,s,null);this._layoutManager.transitionIndicator.transitionElements(this._element,r.element)}}),n.controls.DropTargetIndicator=function(){this.element=e(n.controls.DropTargetIndicator._template),e(document.body).append(this.element)},n.controls.DropTargetIndicator._template='<div class=\"lm_dropTargetIndicator\"><div class=\"lm_inner\"><span></span><span></span><span></span></div></div>',n.utils.copy(n.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,n,i){this.highlightArea({x1:t,y1:e,x2:n,y2:i})},highlightArea:function(t){this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show()},hide:function(){this.element.hide()}}),n.controls.Header=function(t,i){if(n.utils.EventEmitter.call(this),this.layoutManager=t,this.element=e(n.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass(\"lm_selectable\"),this.element.on(\"click touchstart\",n.utils.fnBind(this._onHeaderClick,this))),\"workspace\"===this.layoutManager.config.settings.mode&&this.element.addClass(\"header_double\"),\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory){const t=this.element.children(\".lm_controls\")[0],e=this.element.children(\".lm_workspace_controls\")[0],n=this.element.children(\".lm_logo\")[0];this.layoutManager._componentFactory.createLogo&&this.layoutManager._componentFactory.createLogo({domNode:n}),this.layoutManager._componentFactory.createAddWorkspace&&this.layoutManager._componentFactory.createAddWorkspace({domNode:e}),this.layoutManager._componentFactory.createSystemButtons&&this.layoutManager._componentFactory.createSystemButtons({domNode:t})}this.tabsContainer=this.element.find(\".lm_tabs\"),this.tabDropdownContainer=this.element.find(\".lm_tabdropdown_list\"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(\".lm_controls\"),this.workspaceControlsContainer=\"workspace\"===this.layoutManager.config.settings.mode?this.element.find(\".lm_workspace_controls\"):void 0,this.tabsControlsContainer=\"workspace\"!==this.layoutManager.config.settings.mode?this.element.find(\".lm_tabs_controls\"):void 0,this.parent=i,this.parent.on(\"resize\",this._updateTabSizesWithoutDropdown,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=n.utils.fnBind(this._hideAdditionalTabsDropdown,this),e(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory&&this.layoutManager._componentFactory.createSystemButtons||this._createControls()},n.controls.Header._template=['<div class=\"lm_header\">','<div class=\"lm_logo\"></div>','<ul class=\"lm_tabs\"></ul>','<ul class=\"lm_workspace_controls\"></ul>','<ul class=\"lm_tabs_controls\"></ul>','<div class=\"move_area\"></div>','<ul class=\"lm_controls\"></ul>','<ul class=\"lm_tabdropdown_list\"></ul>',\"</div>\"].join(\"\"),n.utils.copy(n.controls.Header.prototype,{createTab:function(t,e){var i,o;for(o=0;o<this.tabs.length;o++)if(this.tabs[o].contentItem===t)return;if(i=new n.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(i),void this.tabsContainer.append(i.element);void 0===e&&(e=this.tabs.length),e>0?this.tabs[e-1].element.after(i.element):this.tabs[0].element.before(i.element),this.tabs.splice(e,0,i),this._updateTabSizesWithoutDropdown()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error(\"contentItem is not controlled by this header\")},setActiveContentItem:function(t){var e,n,i,o;for(e=0;e<this.tabs.length;e++)i=this.tabs[e].contentItem===t,this.tabs[e].setActive(i),!0===i&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(o=this.tabs[this.parent.config.activeItemIndex],n=this.parent.config.activeItemIndex;n>0;n--)this.tabs[n]=this.tabs[n-1];this.tabs[0]=o,this.parent.config.activeItemIndex=0}this._updateTabSizesWithoutDropdown(),this.parent.emitBubblingEvent(\"stateChanged\")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e=\"top\"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable())&&(this.closeButton.element[t?\"show\":\"hide\"](),!0)},_$destroy:function(){this.emit(\"destroy\",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();e(document).off(\"mouseup\",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,i,o,s,r,a,c,l;l=n.utils.fnBind(this._showAdditionalTabsDropdown,this),c=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new n.controls.HeaderButton(this,c,\"lm_tabdropdown\",l),this.tabDropdownButton.element.hide(),this._getHeaderSetting(\"popout\")&&(e=n.utils.fnBind(this._onPopoutClick,this),i=this._getHeaderSetting(\"popout\"),new n.controls.HeaderButton(this,i,\"lm_popout\",e)),this._getHeaderSetting(\"minimize\")&&(minimizeLabel=this._getHeaderSetting(\"minimize\"),minimizeButton=new n.controls.HeaderButton(this,minimizeLabel,\"lm_minimise\",void 0)),this._getHeaderSetting(\"maximize\")&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(r=n.utils.fnBind(this.parent.toggleMaximise,this.parent)),o=this._getHeaderSetting(\"maximize\"),a=new n.controls.HeaderButton(this,o,\"lm_maximise\",r),s=this._getHeaderSetting(\"restore\"),this.parent.on(\"maximized\",(function(){a.element.attr(\"title\",s)})),this.parent.on(\"minimized\",(function(){a.element.attr(\"title\",o)}))),this._isClosable()&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(t=n.utils.fnBind(this.parent.remove,this.parent)),i=this._getHeaderSetting(\"close\"),this.closeButton=new n.controls.HeaderButton(this,i,\"lm_close\",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){this.parent.emit(\"popoutRequested\")},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===t);this.element.css(!this.parent._sided?\"width\":\"height\",\"\");var e,n,i,o,s=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,r=0,a=0,c=0,l=this.layoutManager.config.settings.tabOverlapAllowance,d=!1,h=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,u=this.tabs[h];for(this.parent._sided&&(s=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,n=0;n<this.tabs.length;n++)if(e=this.tabs[n].element,this.tabsContainer.append(e),r+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),(a=h<=n?r:r+u.element.outerWidth()+parseInt(u.element.css(\"margin-right\"),10))>s){if(d)n===h&&(e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e));else if((c=h>0&&h<=n?(a-s)/(n-1):(a-s)/n)<l){for(i=0;i<=n;i++)o=i!==h&&0!==i?\"-\"+c+\"px\":\"\",this.tabs[i].element.css({\"z-index\":n-i,\"margin-left\":o});this._lastVisibleTabIndex=n,this.tabsContainer.append(e)}else d=!0;if(d&&n!==h){if(!t)return void this._updateTabSizes(!0);e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabDropdownContainer.append(e)}}else this._lastVisibleTabIndex=n,e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_updateTabSizesWithoutDropdown:function(t){if(0!==this.tabs.length){this.element.css(!this.parent._sided?\"width\":\"height\",\"\");this.element.outerWidth(),this.controlsContainer.outerWidth(),this._tabControlOffset;var e,n,i=0,o=(this.layoutManager.config.settings.tabOverlapAllowance,this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0),s=this.tabs[o];for(this.parent._sided&&this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset,n=0;n<this.tabs.length;n++)e=this.tabs[n].element,this.tabsContainer.append(e),i+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),o<=n?i:i+s.element.outerWidth()+parseInt(s.element.css(\"margin-right\"),10),e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}}}),n.controls.HeaderButton=function(t,n,i,o){this._header=t,this.element=e('<li class=\"'+i+'\" title=\"'+n+'\"></li>'),this._header.on(\"destroy\",this._$destroy,this),this._action=o,this.element.on(\"click touchstart\",this._action),this._header.controlsContainer.append(this.element)},n.utils.copy(n.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),n.controls.Splitter=function(t,e,i){this._isVertical=t,this._size=e,this._grabSize=i<e?e:i,this.element=this._createElement(),this._dragListener=new n.utils.DragListener(this.element)},n.utils.copy(n.controls.Splitter.prototype,{on:function(t,e,n){this._dragListener.on(t,e,n)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=e('<div class=\"lm_drag_handle\"></div>'),n=e('<div class=\"lm_splitter\"></div>');n.append(t);var i=this._grabSize-this._size,o=i/2;return this._isVertical?(t.css(\"top\",-o),t.css(\"height\",this._size+i),n.addClass(\"lm_vertical\"),n.height(this._size)):(t.css(\"left\",-o),t.css(\"width\",this._size+i),n.addClass(\"lm_horizontal\"),n.width(this._size)),n}}),n.controls.Tab=function(t,i){this.header=t,this.contentItem=i,this.element=e(n.controls.Tab._template),this.titleElement=this.element.find(\".lm_title\"),this.closeElement=this.element.find(\".lm_close_tab\"),this.closeElement[i.config.isClosable?\"show\":\"hide\"](),this.isActive=!1,this.setTitle(i.config.title),this.contentItem.on(\"titleChanged\",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,!0===this._layoutManager.config.settings.reorderEnabled&&!0===i.config.reorderEnabled&&(this._dragListener=new n.utils.DragListener(this.element),this._dragListener.on(\"dragStart\",this._onDragStart,this),this.contentItem.on(\"destroy\",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=n.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=n.utils.fnBind(this._onCloseClick,this),\"workspace\"===this._layoutManager.config.settings.mode&&i.config.noTabHeader&&this.element.hide(),this.element.on(\"mousedown touchstart\",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on(\"click touchstart\",this._onCloseClickFn),this.closeElement.on(\"mousedown\",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit(\"tab\",this),this.contentItem.layoutManager.emit(\"tabCreated\",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit(\"tab\",this))},n.controls.Tab._template='<li class=\"lm_tab\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><div class=\"lm_close_tab\"></div><i class=\"lm_right\"></i></li>',n.utils.copy(n.controls.Tab.prototype,{setTitle:function(t){this.element.attr(\"title\",n.utils.stripTags(t)),this.titleElement.html(t)},onCloseClick:void 0,setActive:function(t){t!==this.isActive&&(this.isActive=t,t?this.element.addClass(\"lm_active\"):this.element.removeClass(\"lm_active\"))},_$destroy:function(){this.element.off(\"mousedown touchstart\",this._onTabClickFn),this.closeElement.off(\"click touchstart\",this._onCloseClickFn),this._dragListener&&(this.contentItem.off(\"destroy\",this._dragListener.destroy,this._dragListener),this._dragListener.off(\"dragStart\",this._onDragStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximized&&this.contentItem.parent.toggleMaximise();const i=\"workspace\"===this.contentItem.layoutManager.config.settings.mode,o=this.contentItem.parent.header.tabs.length<2,s=!this.contentItem.config.windowId&&this.contentItem.config.componentState&&!this.contentItem.config.componentState.windowId;if(i&&o)return;if(!i&&s)return;const r=new n.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent);this._layoutManager._dragProxies.push(r)},_onTabClick:function(t){if(0===t.button||\"touchstart\"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){this.contentItem.layoutManager.emit(\"tabCloseRequested\",this),this.onCloseClick&&this.onCloseClick(t)},_onCloseMousedown:function(t){t.stopPropagation()}}),n.controls.TransitionIndicator=function(){this._element=e('<div class=\"lm_transition_indicator\"></div>'),e(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},n.utils.copy(n.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),i=(n.utils.now()-this._animationStartTime)/this._totalAnimationDuration,o={};if(i>=1)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)o[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*i;this._element.css(o),n.utils.animFrame(n.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),n.errors.ConfigurationError=function(t,e){Error.call(this),this.name=\"Configuration Error\",this.message=t,this.node=e},n.errors.ConfigurationError.prototype=new Error,n.items.AbstractContentItem=function(t,e,i){n.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=i,this.isInitialised=!1,this.isMaximized=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.isVisible=!0,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=[\"stateChanged\"],this.on(n.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},n.utils.copy(n.items.AbstractContentItem.prototype,{setSize:function(){throw new Error(\"Abstract Method\")},callDownwards:function(t,e,n,i){var o;for(!0!==n&&!0!==i&&this[t].apply(this,e||[]),o=0;o<this.contentItems.length;o++)this.contentItems[o].callDownwards(t,e,n);!0===n&&!0!==i&&this[t].apply(this,e||[])},removeChild:function(t,e){var i=n.utils.indexOf(t,this.contentItems);if(-1===i)throw new Error(\"Can't remove child item. Unknown content item\");!0!==e&&this.contentItems[i]._$destroy(),this.contentItems.splice(i,1),this.config.content.splice(i,1),this.contentItems.length>0?this.callDownwards(\"setSize\"):this instanceof n.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){void 0===e&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,i){e=this.layoutManager._$normalizeContentItem(e);var o=n.utils.indexOf(t,this.contentItems),s=t.element[0].parentNode;if(-1===o)throw new Error(\"Can't replace child. oldChild is not child of this\");s.replaceChild(e.element[0],t.element[0]);const r=t.isVisible;!0===i&&(t.parent=null,t._$destroy()),this.contentItems[o]=e,e.parent=this,this.isStack&&(this.header.tabs[o].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),r||e._$hide(),this.callDownwards(\"setSize\")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent(\"stateChanged\"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximized?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximized=!this.isMaximized,this.emitBubblingEvent(\"stateChanged\")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass(\"lm_selected\"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass(\"lm_selected\"))},setTitle:function(t){this.config.title=t,this.emit(\"titleChanged\",t),this.emit(\"stateChanged\")},hasId:function(t){return!!this.config.id&&(\"string\"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==n.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?\"string\"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error(\"Id not found\");if(\"string\"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=n.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(t){var e=[],n=function(i){for(var o=0;o<i.contentItems.length;o++)!0===t(i.contentItems[o])&&e.push(i.contentItems[o]),n(i.contentItems[o])};return n(this),e},getItemsById:function(t){return this.getItemsByFilter((function(e){return e.config.id instanceof Array?-1!==n.utils.indexOf(t,e.config.id):e.config.id===t}))},getItemsByType:function(t){return this._$getItemsByProperty(\"type\",t)},getComponentsByName:function(t){var e,n=this._$getItemsByProperty(\"componentName\",t),i=[];for(e=0;e<n.length;e++)i.push(n[e].instance&&0!==Object.keys(n[e].instance).length?n[e].instance:n[e]);return i},_$getItemsByProperty:function(t,e){return this.getItemsByFilter((function(n){return n[t]===e}))},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,n){this.layoutManager.dropTargetIndicator.highlightArea(n)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents(\"hide\"),this.element.hide(),this.isVisible=!1,this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents(\"show\"),this.element.show(),this.isVisible=!0,this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,n,i=this.getItemsByType(\"stack\");for(n=0;n<i.length;n++)(e=i[n].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this.emitBubblingEvent(\"beforeItemDestroyed\"),this.callDownwards(\"_$destroy\",[],!0,!0),this.element.remove(),this.emitBubblingEvent(\"itemDestroyed\")},_$getArea:function(t){var e=(t=t||this.element).offset(),n=t.width(),i=t.height();return{x1:e.left,y1:e.top,x2:e.left+n,y2:e.top+i,surface:n*i,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent(\"itemCreated\"),this.emitBubblingEvent(this.type+\"Created\")},emitBubblingEvent:function(t){var e=new n.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,i;if(!(t.content instanceof Array))throw new n.errors.ConfigurationError(\"content must be an Array\",t);for(i=0;i<t.content.length;i++)e=this.layoutManager.createContentItem(t.content[i],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in n.config.itemDefaultConfig)void 0===t[e]&&(t[e]=n.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof n.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===n.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,n.utils.animFrame(n.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),n.items.Component=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,o);var s=t.getComponent(this.config.componentName),r=e.extend(!0,{},this.config.componentState||{});r.componentName=this.config.componentName,this.componentName=this.config.componentName,\"\"===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new n.container.ItemContainer(this.config,this,t),this.instance=new s(this.container,r),this.element=this.container._element},n.utils.extend(n.items.Component,n.items.AbstractContentItem),n.utils.copy(n.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(\":visible\")&&(this.emit(\"size-changed\",{width:this.element.width(),height:this.element.height()}),this.container._$setSize(this.element.width(),this.element.height()))},_$init:function(){n.items.AbstractContentItem.prototype._$init.call(this),this.container.emit(\"open\")},_$hide:function(){this.container.hide(),n.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),n.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),n.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit(\"destroy\",this),n.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),n.items.Root=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,null),this.isRoot=!0,this.type=\"root\",this.element=e('<div class=\"lm_goldenlayout lm_item lm_root\"></div>'),this.childElementContainer=this.element,this._containerElement=o,this._containerElement.append(this.element)},n.utils.extend(n.items.Root,n.items.AbstractContentItem),n.utils.copy(n.items.Root.prototype,{addChild:function(t){if(this.contentItems.length>0)throw new Error(\"Root node can only have a single child\");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},_$highlightDropZone:function(t,e,i){this.layoutManager.tabDropPlaceholder.remove(),n.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var i;if(t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),this.contentItems.length){var o=\"x\"==e.side[0]?\"row\":\"column\",s=\"x\"==e.side[0]?\"width\":\"height\",r=\"2\"==e.side[1],a=this.contentItems[0];if(!a instanceof n.items.RowOrColumn||a.type!=o){var c=this.layoutManager.createContentItem({type:o},this);this.replaceChild(a,c),c.addChild(t,r?0:void 0,!0),c.addChild(a,r?void 0:0,!0),a.config[s]=50,t.config[s]=50,c.callDownwards(\"setSize\")}else{var l=a.contentItems[r?0:a.contentItems.length-1];a.addChild(t,r?0:void 0,!0),l.config[s]*=.5,t.config[s]=l.config[s],a.callDownwards(\"setSize\")}}else this.addChild(t)}}),n.items.RowOrColumn=function(t,i,o,s){n.items.AbstractContentItem.call(this,i,o,s),this.isRow=!t,this.isColumn=t,this.element=e('<div class=\"lm_item lm_'+(t?\"column\":\"row\")+'\"></div>'),this.childElementContainer=this.element,this._splitterSize=i.config.dimensions.borderWidth,this._splitterGrabSize=i.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?\"height\":\"width\",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,this._layoutManager=i},n.utils.extend(n.items.RowOrColumn,n.items.AbstractContentItem),n.utils.copy(n.items.RowOrColumn.prototype,{addChild:function(t,e,i){var o,s,r,a;if(t=this.layoutManager._$normalizeContentItem(t,this),void 0===e&&(e=this.contentItems.length),this.contentItems.length>0?(a=this._createSplitter(Math.max(0,e-1)).element,e>0?(this.contentItems[e-1].element.after(a),a.after(t.element)):(this.contentItems[0].element.before(a),a.before(t.element))):this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t,e),o=1/this.contentItems.length*100,!0!==i){for(r=0;r<this.contentItems.length;r++)this.contentItems[r]===t?t.config[this._dimension]=o:(s=this.contentItems[r].config[this._dimension]*=(100-o)/100,this.contentItems[r].config[this._dimension]=s);this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")}else this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i,o,s=t.config[this._dimension],r=n.utils.indexOf(t,this.contentItems),a=Math.max(r-1,0);if(-1===r)throw new Error(\"Can't remove child. ContentItem is not child of this Row or Column\");for(this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1)),i=0;i<this.contentItems.length;i++)this.contentItems[i]!==t&&(this.contentItems[i].config[this._dimension]+=s/(this.contentItems.length-1));n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(o=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,o,!0)):(this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\"))},replaceChild:function(t,e){var i=t.config[this._dimension];e.config=e.config||{},e.config[this._dimension]=i,n.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent(\"stateChanged\"),this.emit(\"resize\")},_$init:function(){var t;if(!0!==this.isInitialised)for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();for(t=0;t<this.contentItems.length;t++)e.additionalPixel-t>0&&e.itemSizes[t]++,this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight))},_calculateAbsoluteSizes:function(){var t,e,n=(this.contentItems.length-1)*this._splitterSize,i=this.element.width(),o=this.element.height(),s=0,r=[];for(this._isColumn?o-=n:i-=n,t=0;t<this.contentItems.length;t++)s+=e=this._isColumn?Math.floor(o*(this.contentItems[t].config.height/100)):Math.floor(i*(this.contentItems[t].config.width/100)),r.push(e);return{itemSizes:r,additionalPixel:Math.floor((this._isColumn?o:i)-s),totalWidth:i,totalHeight:o}},_calculateRelativeSizes:function(){var t,e=0,n=[],i=this._isColumn?\"height\":\"width\";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[i]?e+=this.contentItems[t].config[i]:n.push(this.contentItems[t]);if(100!==Math.round(e))if(Math.round(e)<100&&n.length>0){for(t=0;t<n.length;t++)n[t].config[i]=(100-e)/n.length;this._respectMinItemWidth()}else{if(Math.round(e)>100)for(t=0;t<n.length;t++)n[t].config[i]=50,e+=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[i]=this.contentItems[t].config[i]/e*100;this._respectMinItemWidth()}else this._respectMinItemWidth()},_respectMinItemWidth:function(){var t,e,n,i,o=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,s=[],r=0,a=0,c=0,l=0,d=[];if(!(this._isColumn||!o||this.contentItems.length<=1)){t=this._calculateAbsoluteSizes();for(var h=0;h<this.contentItems.length;h++)this.contentItems[h],(l=t.itemSizes[h])<o?(a+=o-l,i={width:o}):(r+=l-o,i={width:l},s.push(i)),d.push(i);if(!(0===a||a>r)){for(e=a/r,c=a,h=0;h<s.length;h++)i=s[h],c-=n=Math.round((i.width-o)*e),i.width-=n;for(0!==c&&(d[d.length-1].width-=c),h=0;h<this.contentItems.length;h++)this.contentItems[h].config.width=d[h].width/t.totalWidth*100}}},_createSplitter:function(t){var e;return(e=new n.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on(\"drag\",n.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on(\"dragStop\",n.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on(\"dragStart\",n.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=n.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,n=0,i=0;i<t.length;++i)e=Math.max(t[i].minWidth||0,e),n=Math.max(t[i].minHeight||0,n);return{horizontal:e,vertical:n}},_onSplitterDragStart:function(t){var e=this._getItemsForSplitter(t),n=this.layoutManager.config.dimensions[this._isColumn?\"minItemHeight\":\"minItemWidth\"],i=this._getMinimumDimensions(e.before.config.content),o=this._isColumn?i.vertical:i.horizontal,s=this._getMinimumDimensions(e.after.config.content),r=this._isColumn?s.vertical:s.horizontal;this._splitterPosition=0,this._splitterMinPosition=-1*(e.before.element[this._dimension]()-(o||n)),this._splitterMaxPosition=e.after.element[this._dimension]()-(r||n)},_onSplitterDrag:function(t,e,n){var i=this._isColumn?n:e;i>this._splitterMinPosition&&i<this._splitterMaxPosition&&(this._splitterPosition=i,t.element.css(this._isColumn?\"top\":\"left\",i)),this._layoutManager.emit(\"splitterDragged\",t)},_onSplitterDragStop:function(t){var e=this._getItemsForSplitter(t),i=e.before.element[this._dimension](),o=e.after.element[this._dimension](),s=(this._splitterPosition+i)/(i+o),r=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=s*r,e.after.config[this._dimension]=(1-s)*r,t.element.css({top:0,left:0}),n.utils.animFrame(n.utils.fnBind(this.callDownwards,this,[\"setSize\"])),this._layoutManager.emit(\"splitterDragStopped\",t)}}),n.items.Stack=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,o),this.element=e('<div class=\"lm_item lm_stack\"></div>'),this._activeContentItem=null;var s=t.config;this._header={show:!0===s.settings.hasHeaders&&!1!==i.hasHeaders,popout:s.settings.showPopoutIcon&&s.labels.popout,maximize:s.settings.showMaximizeIcon&&s.labels.maximize,minimize:s.settings.showMinimizeIcon&&s.labels.minimize,close:s.settings.showCloseIcon&&s.labels.close},s.header&&n.utils.copy(this._header,s.header),i.header&&n.utils.copy(this._header,i.header),i.content&&i.content[0]&&i.content[0].header&&n.utils.copy(this._header,i.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=e('<div class=\"lm_items\"></div>'),this.header=new n.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},n.utils.extend(n.items.Stack,n.items.AbstractContentItem),n.utils.copy(n.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.header.element.height():0,n=this.element.width()-(this._sided?e:0),i=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(n),this.childElementContainer.height(i),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(n).height(i);this.emit(\"resize\"),this.emitBubblingEvent(\"stateChanged\")},_$init:function(){var t,e;if(!0!==this.isInitialised){for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(this.contentItems.length>0){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error(\"Configured activeItemIndex out of bounds\");this.setActiveContentItem(e)}}},setActiveContentItem:function(t){if(-1===n.utils.indexOf(t,this.contentItems))throw new Error(\"contentItem is not a child of this stack\");const e=this._activeContentItem;null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit(\"activeContentItemChanged\",t),this.layoutManager.emit(\"activeContentItemChanged\",t),e&&e.emit(\"focusLost\"),this.emitBubblingEvent(\"stateChanged\")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,i,o=!0){t=this.layoutManager._$normalizeContentItem(t,this),n.items.AbstractContentItem.prototype.addChild.call(this,t,i),this.childElementContainer.append(t.element),this.header.createTab(t,i),e(this.layoutManager.container).is(\":visible\")&&o?this.setActiveContentItem(t):t._$hide(),this.callDownwards(\"setSize\"),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i=n.utils.indexOf(t,this.contentItems);n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t&&(this.contentItems.length>0?this.setActiveContentItem(this.contentItems[Math.max(i-1,0)]):this._activeContentItem=null),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},_$validateClosability:function(){var t,e,n;for(t=this.header._isClosable(),n=0,e=this.contentItems.length;n<e&&t;n++)t=this.contentItems[n].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){n.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if(\"header\"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if(\"body\"!==this._dropSegment){var e,i,o,s=\"top\"===this._dropSegment||\"bottom\"===this._dropSegment,r=\"left\"===this._dropSegment||\"right\"===this._dropSegment,a=\"top\"===this._dropSegment||\"left\"===this._dropSegment,c=s&&this.parent.isColumn||r&&this.parent.isRow,l=s?\"column\":\"row\",d=s?\"height\":\"width\";t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),c?(e=n.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,a?e:e+1,!0),this.config[d]*=.5,t.config[d]=this.config[d],this.parent.callDownwards(\"setSize\")):(l=s?\"column\":\"row\",o=this.layoutManager.createContentItem({type:l},this),this.parent.replaceChild(this,o),o.addChild(t,a?0:void 0,!0),o.addChild(this,a?void 0:0,!0),this.config[d]=50,t.config[d]=50,o.callDownwards(\"setSize\"))}else this.addChild(t)},_$highlightDropZone:function(t,e){var n,i;for(n in this._contentAreaDimensions)if((i=this._contentAreaDimensions[n].hoverArea).x1<t&&i.x2>t&&i.y1<e&&i.y2>e)return void(\"header\"===n?(this._dropSegment=\"header\",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(n)))},_$getArea:function(){if(!1===this.element.is(\":visible\"))return null;var t=n.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),i=t.call(this,this.childElementContainer),o=i.x2-i.x1,s=i.y2-i.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}},t.call(this,this.element)):(\"workspace\"!==this.layoutManager.config.settings.mode&&(this._contentAreaDimensions.left={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x1+.25*o,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x1+.5*o,y2:i.y2}},this._contentAreaDimensions.top={hoverArea:{x1:i.x1+.25*o,y1:i.y1,x2:i.x1+.75*o,y2:i.y1+.5*s},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y1+.5*s}},this._contentAreaDimensions.right={hoverArea:{x1:i.x1+.75*o,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1+.5*o,y1:i.y1,x2:i.x2,y2:i.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:i.x1+.25*o,y1:i.y1+.5*s,x2:i.x1+.75*o,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1+.5*s,x2:i.x2,y2:i.y2}}),t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,n,i,o,s,r,a,c,l=this.header.tabs.length,d=!1;if(0===l)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(e=0;e<l;e++)if(s=(n=this.header.tabs[e].element).offset(),this._sided?(o=s.top,i=s.left,c=n.height()):(o=s.left,i=s.top,c=n.width()),t>o&&t<o+c){d=!0;break}if(!(!1===d&&t<o)){if(t<o+c/2?(this._dropIndex=e,n.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,l),n.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:i,x2:i+n.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});r=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:r,x2:r+this.layoutManager.tabDropPlaceholder.width(),y1:i,y2:i+n.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=[\"right\",\"left\",\"bottom\"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=[\"right\",\"left\"].indexOf(this._side)>=0,this.element.removeClass(\"lm_left lm_right lm_bottom\"),this._side&&this.element.addClass(\"lm_\"+this._side),this.element.find(\".lm_header\").length&&this.childElementContainer){var e=[\"right\",\"bottom\"].indexOf(this._side)>=0?\"before\":\"after\";this.header.element[e](this.childElementContainer),this.callDownwards(\"setSize\")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t}}),n.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},n.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},n.utils.ConfigMinifier=function(){if(this._keys=[\"settings\",\"hasHeaders\",\"constrainDragToContainer\",\"selectionEnabled\",\"dimensions\",\"borderWidth\",\"minItemHeight\",\"minItemWidth\",\"headerHeight\",\"dragProxyWidth\",\"dragProxyHeight\",\"labels\",\"close\",\"maximize\",\"minimize\",\"popout\",\"content\",\"componentName\",\"componentState\",\"id\",\"width\",\"type\",\"height\",\"isClosable\",\"title\",\"popoutWholeStack\",\"openPopouts\",\"parentId\",\"activeItemIndex\",\"reorderEnabled\",\"borderGrabWidth\"],this._keys.length>36)throw new Error(\"Too many keys in config minifier map\");this._values=[!0,!1,\"row\",\"column\",\"stack\",\"component\",\"close\",\"maximize\",\"minimize\",\"open in new window\"]},n.utils.copy(n.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_min\"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_max\"),e},_nextLevel:function(t,e,n){var i,o;for(i in t)t instanceof Array&&(i=parseInt(i,10)),t.hasOwnProperty(i)&&(o=this[n](i,this._keys),\"object\"==typeof t[i]?(e[o]=t[i]instanceof Array?[]:{},this._nextLevel(t[i],e[o],n)):e[o]=this[n](t[i],this._values))},_min:function(t,e){if(\"string\"==typeof t&&1===t.length)return\"___\"+t;var i=n.utils.indexOf(t,e);return-1===i?t:i.toString(36)},_max:function(t,e){return\"string\"==typeof t&&1===t.length?e[parseInt(t,36)]:\"string\"==typeof t&&\"___\"===t.substr(0,3)?t[3]:t}}),n.utils.EventHub=function(t){n.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(n.utils.EventEmitter.ALL_EVENT,n.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=n.utils.fnBind(this._onEventFromChild,this),e(window).on(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},n.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},n.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},n.utils.EventHub.prototype._propagateToParent=function(t){var e,n=\"gl_child_event\";document.createEvent?(e=window.opener.document.createEvent(\"HTMLEvents\")).initEvent(n,!0,!0):(e=window.opener.document.createEventObject()).eventType=n,e.eventName=n,e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent(\"on\"+e.eventType,e)},n.utils.EventHub.prototype._propagateToChildren=function(t){var e,n;for(n=0;n<this._layoutManager.openPopouts.length;n++)(e=this._layoutManager.openPopouts[n].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},n.utils.EventHub.prototype.destroy=function(){e(window).off(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on(\"open\",this._render,this),this._container.on(\"destroy\",this._destroy,this)},n.utils.copy(n.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off(\"open\",this._render,this),this._container.off(\"destroy\",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error(\"No react component name. type: react-component needs a field `component`\");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component \"'+e+'\" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},n=e.extend(t,this._container._config.props);return React.createElement(this._reactClass,n)}})}(window.$)}));function o(t){if(t&&t.errorHandling&&\"function\"!=typeof t.errorHandling&&\"log\"!==t.errorHandling&&\"silent\"!==t.errorHandling&&\"throw\"!==t.errorHandling)throw new Error('Invalid options passed to createRegistry. Prop errorHandling should be [\"log\" | \"silent\" | \"throw\" | (err) => void], but '+typeof t.errorHandling+\" was passed\");var e=t&&\"function\"==typeof t.errorHandling&&t.errorHandling,n={};function i(n,i){var o=n instanceof Error?n:new Error(n);if(e)e(o);else{var s='[ERROR] callback-registry: User callback for key \"'+i+'\" failed: '+o.stack;if(t)switch(t.errorHandling){case\"log\":return console.error(s);case\"silent\":return;case\"throw\":throw new Error(s)}console.error(s)}}return{add:function(t,e,o){var s=n[t];return s||(s=[],n[t]=s),s.push(e),o&&setTimeout((function(){o.forEach((function(o){var s;if(null===(s=n[t])||void 0===s?void 0:s.includes(e))try{Array.isArray(o)?e.apply(void 0,o):e.apply(void 0,[o])}catch(e){i(e,t)}}))}),0),function(){var i=n[t];i&&(0===(i=i.reduce((function(t,n,i){return n===e&&t.length===i||t.push(n),t}),[])).length?delete n[t]:n[t]=i)}},execute:function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var s=n[t];if(!s||0===s.length)return[];var r=[];return s.forEach((function(n){try{var o=n.apply(void 0,e);r.push(o)}catch(e){r.push(void 0),i(e,t)}})),r},clear:function(){n={}},clearKey:function(t){n[t]&&delete n[t]}}}o.default=o;var s=o;const r=t=>Array.isArray(t)?t[0]:t,a=(t=[])=>{const e=t=>\"component\"===t.type?t.id?[t]:[]:t.content.reduce(((t,n)=>t=[...t,...e(n)]),[]);return t.reduce(((t,n)=>[...t,...e(n)]),[])},c=t=>{const e=$(t)[0].getBoundingClientRect();return{x:Math.round(e.x),y:Math.round(e.y),left:Math.round(e.left),top:Math.round(e.top),width:Math.round(e.width),height:Math.round(e.height)}},l=t=>\"___workspace___\"+t;var d=new class{constructor(){this._idToLayout={}}get layouts(){return Object.values(this._idToLayout)}get workspaceIds(){return Object.keys(this._idToLayout)}get workspaceTitles(){return this.workspaceIds.map((t=>this.getWorkspaceTitle(t)))}set workspaceLayout(t){this._workspaceLayout=t}get workspaceLayout(){return this._workspaceLayout}get workspaceLayoutHeader(){return this._workspaceLayout.root.contentItems[0].header}getWorkspaceLayoutItemById(t){return this.workspaceLayout.root.getItemsById(t)[0]}getById(t){return t=r(t),this._idToLayout[t]}getByContainerId(t){return this._idToLayout[t]||this.getByContainerIdCore(t)}getWorkspaceTitle(t){const e=this.workspaceLayout.root.getItemsById(t)[0];return(null==e?void 0:e.tab.titleElement[0].innerText)||(null==e?void 0:e.config.title)}removeById(t){delete this._idToLayout[t]}removeLayout(t){var e;null===(e=this._idToLayout[t].layout)||void 0===e||e.destroy(),this._idToLayout[t].layout=void 0}addOrUpdate(t,e,n){const i=this.getById(t);if(i)return i.layout=n,void(i.windows=this.mergeWindows(i.windows,e));this._idToLayout[t]={id:t,windows:e,layout:n,hibernatedWindows:[],lastActive:Date.now()}}getWindow(t){const e=r(t);return this.layouts.reduce(((t,n)=>t||n.windows.find((t=>t.id===e||t.windowId===e))),void 0)}getActiveWorkspace(){const t=this.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id;return this.getById(t)}addWindow(t,e){const n=this.getById(e);n.windows=n.windows.filter((e=>e.id!==t.id)),n.windows.push(t)}getByWindowId(t){return t=r(t),this.layouts.find((e=>e.windows.some((e=>e.id===t||e.windowId===t))))}getWindowContentItem(t){const e=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsById(t)[0]),void 0);if(e&&e.isComponent)return e;const n=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsByFilter((e=>e.isComponent&&e.config.componentState.windowId===t))[0]),void 0);return(null==n?void 0:n.isComponent)?n:void 0}getContainer(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e.layout),t)),[]).reduce(((e,n)=>e||n.root.getItemsById(t)[0]),void 0)}getWorkspaceContext(t){var e,n,i;const o=this.getById(t);return null===(i=null===(n=null===(e=null==o?void 0:o.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===i?void 0:i.context}getWorkspaceContentItem(t){return this.workspaceLayout.root.getItemsById(t)[0]}getByContainerIdCore(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e),t)),[]).find((e=>e.layout.root.getItemsById(t)[0]))}mergeWindows(t,e){return e.map((e=>{let n=e.windowId;if(!n){const i=t.find((t=>t.id===e.id));n=null==i?void 0:i.windowId}return Object.assign(Object.assign({},e),{windowId:n})}))}};class h{init(t){this.containerElement=$(t)[0],this.setupEvents()}setupEvents(){const t=new MutationObserver((t=>{Array.from(t).forEach((t=>{if(\"childList\"===t.type&&t.target.classList.contains(\"lm_tabs\")){const e=$(t.target);this.handleTabCountChanged(e,Array.from(t.removedNodes))}else if(\"attributes\"===t.type&&t.target.classList.contains(\"lm_stack\")&&\"style\"===t.attributeName){const e=$(t.target);this.handleTabHeaderResized(e)}}))}));return t.observe(this.containerElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"style\"],attributeOldValue:!1,characterData:!1,characterDataOldValue:!1}),()=>{t.disconnect()}}handleTabCountChanged(t,e){const n=t.children(),i=this.visibleTabs($(t));t.css(\"max-width\",200*i.length+\"px\");const o=t.width()/i.length;Array.from(n).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.75*o+\"px\"),e.length&&this.refreshTabClasses(t)}))}handleTabHeaderResized(t){const e=t.children(\".lm_header\").children(\".lm_tabs\"),n=this.visibleTabs($(e)),i=e.width()/n.length;Array.from(e.children()).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.65*i+\"px\"),this.refreshTabClasses(t)}))}refreshTabClasses(t){const e=$(t).outerWidth(),n=t.classList;e>=25&&e<35?(n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\"),n.add(\"lm_tab_small\")):e>=35?(n.remove(\"lm_tab_small\"),n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\")):e<25&&(n.remove(\"lm_tab_small\"),n.add(\"lm_tab_mini\"))}visibleTabs(t){return Array.from(t.children()).filter((t=>$(t).is(\":visible\")))}}var u=new class{constructor(){this.visibilityState={logo:void 0,addWorkspace:void 0,systemButtons:void 0,workspaceContents:[]},this.componentsFactory={},this._decoratedFactory={},this.callbackRegistry=s(),this.observer=new MutationObserver((t=>{Array.from(t).forEach((t=>{const e=t.target,n=this.getWorkspaceIdFromContents(e),i=\"none\"===e.style.display?\"workspace-contents-hidden\":\"workspace-contents-shown\";this.callbackRegistry.execute(i,n)}))}))}get decoratedFactory(){return this._decoratedFactory}init(t,e){this.componentsFactory=e,(null==e?void 0:e.createAddWorkspace)&&(this.decoratedFactory.createAddWorkspace=(...e)=>(this.visibilityState.addWorkspace=[...e,t],this.componentsFactory.createAddWorkspace(...this.visibilityState.addWorkspace))),(null==e?void 0:e.createLogo)&&(this.decoratedFactory.createLogo=(...e)=>(this.visibilityState.logo=[...e,t],this.componentsFactory.createLogo(...this.visibilityState.logo))),(null==e?void 0:e.createSystemButtons)&&(this.decoratedFactory.createSystemButtons=(...n)=>(this.visibilityState.systemButtons=[...n,t],e.createSystemButtons(...this.visibilityState.systemButtons))),(null==e?void 0:e.createWorkspaceContents)&&(this.decoratedFactory.createWorkspaceContents=(...t)=>{var n;return this.visibilityState.workspaceContents.push([...t]),this.subscribeForWorkspaceContentsVisibility(null===(n=t[0])||void 0===n?void 0:n.workspaceId),e.createWorkspaceContents(...t)})}reInitialize(t){(null==t?void 0:t.createAddWorkspace)&&this.visibilityState.addWorkspace&&t.createAddWorkspace(...this.visibilityState.addWorkspace),(null==t?void 0:t.createLogo)&&this.visibilityState.logo&&t.createLogo(...this.visibilityState.logo),(null==t?void 0:t.createSystemButtons)&&this.visibilityState.systemButtons&&t.createSystemButtons(...this.visibilityState.systemButtons),(null==t?void 0:t.createWorkspaceContents)&&this.visibilityState.workspaceContents.forEach((e=>{t.createWorkspaceContents(...e)})),this.componentsFactory=t}onWorkspaceContentsShown(t){this.callbackRegistry.add(\"workspace-contents-shown\",t)}onWorkspaceContentsHidden(t){this.callbackRegistry.add(\"workspace-contents-hidden\",t)}subscribeForWorkspaceContentsVisibility(t){const e=document.getElementById(\"nestHere\"+t);e&&this.observer.observe(e,{attributes:!0,attributeFilter:[\"style\"]})}getWorkspaceIdFromContents(t){return t.id.split(\"nestHere\")[1]}};const p=require(\"resize-observer-polyfill\").default||require(\"resize-observer-polyfill\");class m{constructor(t,e,n,i){this._maximizedId=\"__glMaximised\",this._workspaceLayoutElementId=\"#outter-layout-container\",this._registry=s(),this._emptyVisibleWindowName=\"emptyVisibleWindow\",this._stackMaximizeLabel=\"maximize\",this._stackRestoreLabel=\"restore\",this._options=n,this._emitter=t,this._stateResolver=e,this._configFactory=i}get emitter(){return this._emitter}get bounds(){return c(document.getElementById(\"outter-layout-container\"))}init(e){return t(this,void 0,void 0,(function*(){this._frameId=e.frameId;(new h).init(this._workspaceLayoutElementId),yield this.initWorkspaceConfig(e.workspaceLayout),this.refreshLayoutSize(),yield Promise.all(e.workspaceConfigs.map((e=>t(this,void 0,void 0,(function*(){yield this.initWorkspaceContents(e.id,e.config),this.emitter.raiseEvent(\"workspace-added\",{workspace:d.getById(e.id)})}))))),this.setupOuterLayout(),d.workspaceIds.forEach((t=>{this.setupContentLayouts(t)}))}))}addWindow(e,n){return t(this,void 0,void 0,(function*(){n=n||r(d.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id);const t=d.getByContainerId(n);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not add window to ${t.id} because its hibernated`);if(!t.layout)return this.hideAddButton(t.id),void(yield this.initWorkspaceContents(t.id,e));const i=t.layout._maximizedItem;i&&i.toggleMaximise();let o=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];n&&n!==t.id&&(o=t.layout.root.getItemsById(n)[0]),o||(o=t.layout.root.getItemsByFilter((t=>t.isStack))[0]);const{placementId:s,windowId:c,url:l,appName:h}=this.getWindowInfoFromConfig(e);this.registerWindowComponent(t.layout,r(s));const u=o.getComponentsByName(this._emptyVisibleWindowName)[0];return new Promise((n=>{var i;const r=this.emitter.onContentComponentCreated((t=>{t.config.id===s&&(r(),n())}));if(\"stack\"===t.layout.root.contentItems[0].type&&\"component\"!==e.type&&(e=a([e])[0]),u&&!(null===(i=u.parent.config.workspacesConfig)||void 0===i?void 0:i.wrapper)){const t=this._configFactory.wrapInGroup([e]);return t.workspacesConfig.wrapper=!1,void u.parent.parent.replaceChild(u.parent,t)}u?u.parent.replaceChild(u,e):o.addChild(e)}))}))}addContainer(e,n){var i;return t(this,void 0,void 0,(function*(){const t=d.getByContainerId(n);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not add container to ${t.id} because its hibernated`);if(!t.layout){const n=e.id||this._configFactory.getId();return e&&(e.id=n),this.hideAddButton(t.id),yield this.initWorkspaceContents(t.id,e),r(n)}const o=t.layout._maximizedItem;o&&o.toggleMaximise();let s=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];if(n&&(s=t.layout.root.getItemsById(n)[0]),s||(s=t.layout.root.getItemsByFilter((t=>t.isStack))[0]),t.id===n&&(\"column\"===e.type||\"stack\"===e.type?this.bundleWorkspace(t.id,\"row\"):\"row\"===e.type&&this.bundleWorkspace(t.id,\"column\"),s=t.layout.root.contentItems[0]),e.content&&a(e.content).forEach((e=>{this.registerWindowComponent(t.layout,r(e.id))})),\"component\"===s.type)throw new Error(\"The target item for add container can't be a component\");const c=s.contentItems.find((t=>\"stack\"===t.type&&!0===t.config.workspacesConfig.wrapper)),l=(null===(i=null==c?void 0:c.contentItems[0])||void 0===i?void 0:i.config.componentName)===this._emptyVisibleWindowName;return new Promise(((n,i)=>{let o=()=>{};const a=setTimeout((()=>{o(),i(`Component with id ${e.id} could not be created in 10000ms`)}),1e4);if(o=this.emitter.onContentItemCreated(((i,s)=>{i===t.id&&s.type===e.type&&(n(r(s.config.id)),o(),clearTimeout(a))})),1===(null==c?void 0:c.contentItems.length)&&l){const t=s.getComponentsByName(this._emptyVisibleWindowName)[0];t.parent.replaceChild(t,e)}else s.addChild(e)}))}))}closeContainer(t){const e=d.getByContainerId(t)||d.getByWindowId(t);if(!e)throw new Error(`Could not find container ${t} to close in any workspace`);e.layout.root.getItemsById(t)[0].remove()}bundleWorkspace(t,e){const n=d.getById(t),i=n.layout.root.contentItems.map((t=>this._stateResolver.getContainerConfig(t.config.id))),o=n.layout.root.contentItems[0],s={type:e,content:i,workspacesConfig:{}};n.layout.root.replaceChild(o,s)}hideAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").hide()}showAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").show()}addWorkspace(e,n){var i,o;return t(this,void 0,void 0,(function*(){const t=d.workspaceLayout.root.getItemsByFilter((t=>t.isStack))[0],s={componentName:this._configFactory.getWorkspaceLayoutComponentName(e),type:\"component\",workspacesConfig:{},id:e,noTabHeader:null===(i=n.workspacesOptions)||void 0===i?void 0:i.noTabHeader,title:(null===(o=null==n?void 0:n.workspacesOptions)||void 0===o?void 0:o.title)||this._configFactory.getWorkspaceTitle(d.workspaceTitles)};this.registerWorkspaceComponent(e),t.addChild(s,void 0,!s.noTabHeader),yield this.initWorkspaceContents(e,n),this.setupContentLayouts(e),this.emitter.raiseEvent(\"workspace-added\",{workspace:d.getById(e)})}))}reinitializeWorkspace(t,e){var n;return d.removeLayout(t),(null===(n=e.workspacesOptions)||void 0===n?void 0:n.reuseWorkspaceId)&&delete e.workspacesOptions.reuseWorkspaceId,this.initWorkspaceContents(t,e)}removeWorkspace(t){const e=d.getWorkspaceLayoutItemById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);d.removeById(t),e.remove()}changeTheme(t){const e=document.getElementsByTagName(\"html\")[0];\"light\"===t?e.classList.contains(t)||(e.classList.remove(\"dark\"),e.classList.add(t)):e.classList.contains(t)||(e.classList.remove(\"light\"),e.classList.add(t));const n=$(\"link[href='./dist/glue42-light-theme.css']\");(0===n.length?$(\"link[href='./dist/glue42-dark-theme.css']\"):n).attr(\"href\",`./dist/glue42-${t}-theme.css`)}getDragElement(){return $(\".lm_dragProxy\")[0]}setDragElementSize(t,e){const n=this.getDragElement();if(n){n.setAttribute(\"width\",t+\"px\"),n.setAttribute(\"height\",e+\"px\");const i=$(n).children(\".lm_content\").children(\".lm_item_container\")[0];i.setAttribute(\"width\",t+\"px\"),i.setAttribute(\"height\",e+\"px\"),i.setAttribute(\"style\",\"\")}else{const n=new MutationObserver((i=>{let o;Array.from(i).forEach((t=>{const e=$(t.addedNodes);o||(o=e.find(\".lm_dragProxy\"))})),o&&(n.disconnect(),this.setDragElementSize(t,e))}));n.observe($(\"body\")[0],{childList:!0,subtree:!0})}}removeLayoutElement(t){let e;return d.layouts.filter((t=>t.layout)).forEach((n=>{const i=n.layout.root.getItemsById(t)[0];i&&n.windows.find((e=>e.id===t))&&(n.windows=n.windows.filter((e=>e.id!==t)),i.remove(),e=n)})),e}setWindowTitle(t,e){const n=d.getWindowContentItem(t);if(!n)throw new Error(`Could not find window ${t} to change its title to ${e}`);n.setTitle(e),n.config.componentState.title=e}setWorkspaceTitle(t,e){d.getWorkspaceLayoutItemById(t).setTitle(e)}focusWindow(t){const e=d.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not focus window ${t} because the workspace ${e.id} is hibernated`);const n=e.layout.root.getItemsById(t)[0];n.parent.setActiveContentItem(n)}focusWorkspace(t){const e=d.getWorkspaceLayoutItemById(t);e.parent.setActiveContentItem(e)}maximizeWindow(t){const e=d.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not maximize window ${t} because the workspace ${e.id} is hibernated`);const n=e.layout.root.getItemsById(t)[0];n.parent.hasId(this._maximizedId)||n.parent.toggleMaximise()}restoreWindow(t){const e=d.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not restore window ${t} because the workspace ${e.id} is hibernated`);const n=e.layout.root.getItemsById(t)[0];n.parent.hasId(this._maximizedId)&&n.parent.toggleMaximise()}showLoadedWindow(e,n){return t(this,void 0,void 0,(function*(){yield this.waitForWindowContainer(e);const t=d.getWindowContentItem(e),i=d.getByWindowId(e),o=t.config;o.componentState.windowId=n,i.windows.find((t=>t.id===e)).windowId=n,t.parent.replaceChild(t,o)}))}isWindowVisible(t){t=r(t);return d.getWindowContentItem(t).parent.getActiveContentItem().config.id===t}showHibernationIcon(t){var e;const n=null===(e=d.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab;if(!n)return;const i=n.element.children(\".lm_saveButton\");i.addClass(\"lm_hibernationIcon\"),i.attr(\"title\",\"hibernated\")}showSaveIcon(t){var e;const n=null===(e=d.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab;if(!n)return void console.error(\"Could not find the tab for\",t);const i=n.element.children(\".lm_saveButton\");i.removeClass(\"lm_hibernationIcon\"),i.attr(\"title\",\"save\")}initWorkspaceContents(t,e){if(!e||\"component\"!==e.type&&!e.content.length)return d.addOrUpdate(t,[]),this.showAddButton(t),Promise.resolve();const n=((t,e)=>{let n,i,o=0;const s=setTimeout((()=>{i()}),e||1e4);return{reject:t=>{clearTimeout(s),i(t)},signal:()=>{o++,o>=t&&(clearTimeout(s),n())},promise:new Promise(((t,e)=>{n=t,i=e}))}})(2);e.settings||(e.settings=this._configFactory.getDefaultWorkspaceSettings()),e.type&&\"workspace\"!==e.type&&(e={settings:this._configFactory.getDefaultWorkspaceSettings(),content:[{type:\"column\",content:[e],workspacesConfig:{}}]}),\"component\"!==e.type&&\"stack\"===e.content[0].type&&(e=Object.assign(Object.assign({},e),{content:[{type:\"column\",content:e.content,workspacesConfig:{}}]}));const o=new i(e,$(\"#nestHere\"+t));d.addOrUpdate(t,[]),this.registerEmptyWindowComponent(o,t),a(e.content).forEach((t=>{this.registerWindowComponent(o,r(t.id))}));const s=$(\"#nestHere\"+t);return o.on(\"initialised\",(()=>{const e=a(o.toConfig().content);d.addOrUpdate(t,e.map((t=>{const e=o.root.getItemsById(r(t.id))[0].element;return{id:r(t.id),bounds:c(e),windowId:t.componentState.windowId}})),o),this.emitter.raiseEventWithDynamicName(\"content-layout-initialised-\"+t),this.emitter.raiseEvent(\"content-layout-init\",{layout:o});const i=s.width(),l=s.height();o.updateSize(i,l),n.signal()})),o.on(\"stateChanged\",(()=>{this.emitter.raiseEvent(\"content-layout-state-changed\",{layoutId:t})})),o.on(\"itemCreated\",(e=>{var n;if(e.isComponent)e.on(\"size-changed\",(()=>{const n=d.getById(t).windows.find((t=>t.id===e.config.id));n&&(n.bounds=c(e.element));const i=e.config.id;this.emitter.raiseEvent(\"content-item-resized\",{target:e.element[0],id:r(i)})})),(e.config.componentName===this._emptyVisibleWindowName||(null===(n=e.parent)||void 0===n?void 0:n.config.workspacesConfig.wrapper))&&e.tab.header.position(!1);else{if(e.isRoot)return void(e.id&&e.id.length||e.addId(t));e.config.id&&e.config.id.length||e.addId(this._configFactory.getId())}this.emitter.raiseEvent(\"content-item-created\",{workspaceId:t,item:e})})),o.on(\"stackCreated\",(e=>{const n=document.createElement(\"li\");n.classList.add(\"lm_add_button\"),n.onclick=i=>{i.stopPropagation(),this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(e.config.id),workspaceId:t,bounds:c(n)}})};const i=$(e.element).children(\".lm_header\").children(\".lm_controls\").children(\".lm_maximise\");i.addClass(\"workspace_content\"),e.on(\"maximized\",(()=>{i.addClass(\"lm_restore\"),i.attr(\"title\",this._stackRestoreLabel),this.emitter.raiseEvent(\"stack-maximized\",{stack:e})})),e.on(\"minimized\",(()=>{i.removeClass(\"lm_restore\"),i.attr(\"title\",this._stackMaximizeLabel),this.emitter.raiseEvent(\"stack-restored\",{stack:e})})),this._options.disableCustomButtons||e.header.controlsContainer.prepend($(n)),e.on(\"activeContentItemChanged\",(()=>{const t=e.getActiveContentItem();if(!t.isComponent)return;const n=t.config.id,i=[{id:r(t.config.id),bounds:c(t.element),windowId:t.config.componentState.windowId,appName:t.config.componentState.appName,url:t.config.componentState.url}],o=e.header.tabs.reduce(((t,e)=>{const n=e.contentItem.config;if(\"component\"===n.type){const i={id:r(n.id),bounds:c(e.contentItem.element),windowId:n.componentState.windowId,appName:n.componentState.appName,url:n.componentState.url};t.push(i)}return t}),[]).filter((t=>t.id!==n));this.emitter.raiseEvent(\"selection-changed\",{toBack:o,toFront:i})})),e.on(\"popoutRequested\",(()=>{const t=e.getActiveContentItem();this.emitter.raiseEvent(\"eject-requested\",{item:t})}))})),o.on(\"tabCreated\",(t=>{t._dragListener.on(\"drag\",(()=>{this.emitter.raiseEvent(\"tab-drag\",{tab:t})})),t._dragListener.on(\"dragStart\",(()=>{this.emitter.raiseEvent(\"tab-drag-start\",{tab:t})})),t._dragListener.on(\"dragEnd\",(()=>{this.emitter.raiseEvent(\"tab-drag-end\",{tab:t})})),t.element.mousedown((()=>{this.emitter.raiseEvent(\"tab-element-mouse-down\",{tab:t})})),this.refreshTabSizeClass(t)})),o.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"tab-close-requested\",{item:t.contentItem})})),o.on(\"componentCreated\",(e=>{const i=this.emitter.raiseEvent(\"content-component-created\",{component:e,workspaceId:t});Array.isArray(i)?Promise.all(i).then((()=>{n.signal()})).catch((t=>n.reject(t))):i.then((()=>{n.signal()})).catch((t=>n.reject(t)))})),o.init(),n.promise}initWorkspaceConfig(e){return new Promise((n=>{e.settings.selectionEnabled=!0,d.workspaceLayout=new i(e,$(this._workspaceLayoutElementId),u.decoratedFactory);new p((t=>{Array.from(t).forEach((t=>{this.emitter.raiseEvent(\"outer-layout-container-resized\",{target:t.target})}))})).observe($(\"#outter-layout-container\")[0]),e.content[0].content.forEach((t=>{const e=t.id;this.registerWorkspaceComponent(r(e))})),d.workspaceLayout.on(\"initialised\",(()=>{this.emitter.raiseEvent(\"workspace-layout-initialised\",{}),n()})),d.workspaceLayout.on(\"stackCreated\",(e=>{var n;const i=e.header.controlsContainer.children(\".lm_close\")[0];i&&(i.onclick=()=>{this.emitter.raiseEvent(\"close-frame\",{})});const o=e.header.element[0];if(new MutationObserver((()=>{const t=this.getElementByClass(o,\"lm_add_button\");t&&u.decoratedFactory.createAddWorkspace&&(t.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-add-button-clicked\",{bounds:c(t)})})})).observe(e.header.element[0],{attributes:!1,childList:!0,subtree:!0}),!this._options.disableCustomButtons&&!(null===(n=u.decoratedFactory)||void 0===n?void 0:n.createAddWorkspace)){const t=document.createElement(\"li\");t.classList.add(\"lm_add_button\"),t.onclick=t=>{t.stopPropagation(),this._emitter.raiseEvent(\"workspace-add-button-clicked\",{})},e.header.workspaceControlsContainer.prepend($(t))}if(!u.decoratedFactory.createLogo){const t=document.createElement(\"span\");t.classList.add(\"logo_type\");const n=e.header.element[0].getElementsByClassName(\"lm_logo\")[0];n&&n.appendChild(t)}e.on(\"activeContentItemChanged\",(()=>t(this,void 0,void 0,(function*(){if(0===d.workspaceIds.length)return;const t=e.getActiveContentItem().config.id;yield this.waitForLayout(r(t));const n=d.workspaceIds.reduce(((t,e)=>[...t,...d.getById(e).windows]),[]);this.emitter.raiseEvent(\"workspace-selection-changed\",{workspace:d.getById(t),toBack:n})}))))})),d.workspaceLayout.on(\"itemCreated\",(t=>{t.isComponent&&t.on(\"size-changed\",(()=>{this.emitter.raiseEvent(\"workspace-content-container-resized\",{target:t,id:r(t.config.id)}),this.emitter.raiseEventWithDynamicName(\"workspace-content-container-resized-\"+t.config.id,t)}))})),d.workspaceLayout.on(\"tabCreated\",(t=>{const e=document.createElement(\"div\");e.classList.add(\"lm_saveButton\"),e.onclick=e=>{this.emitter.raiseEvent(\"workspace-save-requested\",{workspaceId:r(t.contentItem.config.id)})},this._options.disableCustomButtons||(t.element[0].prepend(e),t.element[0].onclick=t=>{-1!==t.composedPath().indexOf(e)&&document.activeElement.blur(),t.stopPropagation()}),this.refreshTabSizeClass(t)})),d.workspaceLayout.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"workspace-tab-close-requested\",{workspace:d.getById(t.contentItem.config.id)})})),d.workspaceLayout.init()}))}setupOuterLayout(){this.emitter.onOuterLayoutContainerResized((t=>{d.workspaceLayout.updateSize($(t).width(),$(t).height())}))}setupContentLayouts(t){this.emitter.onContentContainerResized((e=>{const n=d.getById(t).layout;n&&n.updateSize($(e.element).width(),$(e.element).height())}),t)}registerWindowComponent(t,e){this.registerComponent(t,\"app\"+e,(t=>{const n=document.createElement(\"div\");n.setAttribute(\"style\",\"height:100%;\"),n.id=\"app\"+e,t.getElement().append(n)}))}registerEmptyWindowComponent(t,e){this.registerComponent(t,this._emptyVisibleWindowName,(t=>{const n=document.createElement(\"div\");n.classList.add(\"empty-container-background\");const i=document.createElement(\"button\");i.classList.add(\"add-button\"),i.onclick=n=>{n.stopPropagation();const o=t.tab.contentItem,s=\"stack\"===o.parent.type?\"group\":o.parent.type;o.parent.config.workspacesConfig.wrapper?this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(o.parent.parent.config.id),workspaceId:e,parentType:o.parent.parent.type,bounds:c(i)}}):this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(o.parent.config.id),workspaceId:e,parentType:s,bounds:c(i)}})},n.append(i),t.getElement().append(n)}))}registerWorkspaceComponent(t){this.registerComponent(d.workspaceLayout,this._configFactory.getWorkspaceLayoutComponentName(t),(e=>{var n,i;const o=document.createElement(\"div\");o.setAttribute(\"style\",\"height:calc(100% - 1px); width:calc(100% - 1px);\"),o.id=\"nestHere\"+t;const s=document.createElement(\"button\");s.classList.add(\"add-button\"),s.onclick=n=>{n.stopPropagation();const i=e.tab.contentItem;this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(i.parent.id),workspaceId:t,bounds:c(s)}})},o.appendChild(s),(null===(n=u.decoratedFactory)||void 0===n?void 0:n.createWorkspaceContents)?(document.body.append(o),o.style.display=\"none\",null===(i=u.decoratedFactory)||void 0===i||i.createWorkspaceContents({workspaceId:t,domNode:e.getElement()[0]})):e.getElement().append(o),$(s).hide()}))}registerComponent(t,e,n){try{t.registerComponent(e,(function(t,e){n&&n(t,e)}))}catch(t){console.log(\"Tried to register and already existing component - \"+e)}}waitForLayout(t){return new Promise((e=>{const n=this._registry.add(\"content-layout-initialised-\"+t,(()=>{e(),n()}));d.getById(t)&&(e(),n())}))}waitForWindowContainer(t){return new Promise((e=>{const n=this.emitter.onContentComponentCreated((i=>{i.config.id===t&&(e(),n())}));d.getWindowContentItem(t)&&(e(),n())}))}getWindowInfoFromConfig(t){return\"component\"!==t.type?this.getWindowInfoFromConfig(t.content[0]):{placementId:r(t.id),windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url}}refreshLayoutSize(){const t=c($(this._workspaceLayoutElementId));d.workspaceLayout.updateSize(t.width,t.height)}refreshTabSizeClass(t){const e=t.header.tabs,n=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_small\"))),i=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_mini\")));n&&t.element.addClass(\"lm_tab_small\"),i&&t.element.addClass(\"lm_tab_mini\")}getElementByClass(t,e){const n=t.getElementsByClassName(e);if(n.length>1)throw new Error(`Multiple elements with class ${e} in element with id ${t.id} and class ${t.className} are not supported`);return n[0]}}class f{constructor(t){this._registry=t}onWorkspaceLayoutInit(t){return this._registry.add(\"workspace-layout-initialised\",t)}onContentLayoutInit(t){return this._registry.add(\"content-layout-init\",t)}onOuterLayoutContainerResized(t){return this._registry.add(\"outer-layout-container-resized\",t)}onContentContainerResized(t,e){return e?this._registry.add(\"workspace-content-container-resized-\"+e,t):this._registry.add(\"workspace-content-container-resized\",t)}onContentItemResized(t){return this._registry.add(\"content-item-resized\",t)}onContentComponentCreated(t){return this._registry.add(\"content-component-created\",t)}onFrameCloseRequested(t){return this._registry.add(\"close-frame\",t)}onRestoreRequested(t){return this._registry.add(\"restore-frame\",t)}onMaximizeRequested(t){return this._registry.add(\"maximize-frame\",t)}onMinimizeRequested(t){return this._registry.add(\"minimize-frame\",t)}onMoveAreaChanged(t){return this._registry.add(\"move-area-changed\",t)}onTabCloseRequested(t){return this._registry.add(\"tab-close-requested\",t)}onTabDragStart(t){return this._registry.add(\"tab-drag-start\",t)}onTabDrag(t){return this._registry.add(\"tab-drag\",t)}onTabDragEnd(t){return this._registry.add(\"tab-drag-end\",t)}onTabElementMouseDown(t){return this._registry.add(\"tab-element-mouse-down\",t)}onSelectionChanged(t){return this._registry.add(\"selection-changed\",t)}onWorkspaceAdded(t){return this._registry.add(\"workspace-added\",t)}onWorkspaceSelectionChanged(t){return this._registry.add(\"workspace-selection-changed\",t)}onWorkspaceTabCloseRequested(t){return this._registry.add(\"workspace-tab-close-requested\",t)}onAddButtonClicked(t){return this._registry.add(\"add-button-clicked\",t)}onContentLayoutStateChanged(t){return this._registry.add(\"content-layout-state-changed\",t)}onContentItemCreated(t){return this._registry.add(\"content-item-created\",t)}onWorkspaceAddButtonClicked(t){return this._registry.add(\"workspace-add-button-clicked\",t)}onWorkspaceSaveRequested(t){return this._registry.add(\"workspace-save-requested\",t)}onStackMaximized(t){return this._registry.add(\"stack-maximized\",t)}onStackRestored(t){return this._registry.add(\"stack-restored\",t)}onEjectRequested(t){return this._registry.add(\"eject-requested\",t)}raiseEvent(t,e){const n=this._registry.execute(t,...Object.values(e));return Array.isArray(n)&&n.some((t=>t&&t.then))||n&&!Array.isArray(n)&&n.then?n:Promise.resolve(n)}raiseEventWithDynamicName(t,...e){this._registry.execute(t,...e)}}var g=1;var y,v,w,_={nextValue:function(){return(g=(9301*g+49297)%233280)/233280},seed:function(t){g=t}},b=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-\";function C(){w=!1}function I(t){if(t){if(t!==y){if(t.length!==b.length)throw new Error(\"Custom alphabet for shortid must be \"+b.length+\" unique characters. You submitted \"+t.length+\" characters: \"+t);var e=t.split(\"\").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error(\"Custom alphabet for shortid must be \"+b.length+\" unique characters. These characters were not unique: \"+e.join(\", \"));y=t,C()}}else y!==b&&(y=b,C())}function k(){return w||(w=function(){y||I(b);for(var t,e=y.split(\"\"),n=[],i=_.nextValue();e.length>0;)i=_.nextValue(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join(\"\")}())}var x={get:function(){return y||b},characters:function(t){return I(t),y},seed:function(t){_.seed(t),v!==t&&(C(),v=t)},lookup:function(t){return k()[t]},shuffled:k},E=\"object\"==typeof window&&(window.crypto||window.msCrypto),W=E&&E.getRandomValues?function(t){return E.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},S=function(t,e,n){for(var i=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*i*n/e.length),s=\"\";;)for(var r=t(o),a=o;a--;)if((s+=e[r[a]&i]||\"\").length===+n)return s};var T,A,D=function(t){for(var e,n=0,i=\"\";!e;)i+=S(W,x.get(),1),e=t<Math.pow(16,n+1),n++;return i};var P=function(t){var e=\"\",n=Math.floor(.001*(Date.now()-1567752802062));return n===A?T++:(T=0,A=n),e+=D(7),e+=D(t),T>0&&(e+=D(T)),e+=D(n)};var M=function(t){return!(!t||\"string\"!=typeof t||t.length<6)&&!new RegExp(\"[^\"+x.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g,\"\\\\$&\")+\"]\").test(t)},L=n((function(t){var e=0;function n(){return P(e)}t.exports=n,t.exports.generate=n,t.exports.seed=function(e){return x.seed(e),t.exports},t.exports.worker=function(n){return e=n,t.exports},t.exports.characters=function(t){return void 0!==t&&x.characters(t),x.shuffled()},t.exports.isValid=M}));class F{constructor(t){this._registry=s(),this._idToFrame={},this._glue=t}startFrame(e,n,i,o){return t(this,void 0,void 0,(function*(){if(o=o||L.generate(),this._idToFrame[e])return this._idToFrame[e];if(!n)throw new Error(`The url of window with itemId ${e} is undefined`);const t=document.createElement(\"iframe\");return t.name=o+\"#wsp\",t.src=n,document.body.appendChild(t),this._registry.execute(\"frameLoaded\",e),t.setAttribute(\"id\",e),$(t).css(\"position\",\"absolute\"),this._idToFrame[e]=t,yield this.waitForWindow(o),t}))}moveFrame(t,e){const n=this._idToFrame[t],i=$(n);i.css(\"top\",e.top+\"px\"),i.css(\"left\",e.left+\"px\"),i.css(\"width\",e.width+\"px\"),i.css(\"height\",e.height+\"px\")}selectionChanged(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}maximizeTab(t){$(this._idToFrame[t]).addClass(\"maximized-active-tab\")}restoreTab(t){$(this._idToFrame[t]).removeClass(\"maximized-active-tab\")}selectionChangedDeep(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}bringToFront(t){$(this._idToFrame[t]).css(\"z-index\",\"999\")}remove(t){const e=this._idToFrame[t];if(e){delete this._idToFrame[t];try{e.contentWindow.dispatchEvent(new Event(\"beforeunload\"))}catch(t){}e.remove()}}onFrameLoaded(t){return this._registry.add(\"frameLoaded\",t)}onFrameContentClicked(t){return this._registry.add(\"frame-content-clicked\",t)}onWindowTitleChanged(t){return this._registry.add(\"window-title-changed\",t)}waitForWindow(t){return new Promise(((e,n)=>{let i=()=>{};const o=setTimeout((()=>{n(`Window with id ${t} did not appear in 5000ms`),i()}),5e3);i=this._glue.windows.onWindowAdded((n=>{n.id===t&&(i(),e(),clearTimeout(o))}));this._glue.windows.list().find((e=>e.id===t))&&(e(),i(),clearTimeout(o))}))}}var O=new class{constructor(){this.LAST_SESSION_KEY=\"lastSession\"}get(t){return JSON.parse(localStorage.getItem(t))}set(t,e){localStorage.setItem(t,JSON.stringify(e))}};var B=new class{get config(){return this._config}loadConfig(){const t=new URLSearchParams(window.location.search),e=t.get(\"emptyFrame\"),n=t.get(\"disableCustomButtons\"),i=t.get(\"workspaceName\"),o=t.get(\"workspaceNames\"),s=t.get(\"context\"),r=t.get(\"build\");let a,c=[];try{c=JSON.parse(o)||c}catch(t){}try{a=JSON.parse(s)}catch(t){}i&&c.push(i);const l={emptyFrame:null!=e&&void 0!==e,disableCustomButtons:null!=n&&void 0!==n,workspaceNames:c,context:a,build:null!=r};return this._config=l,this.cleanUpUrl(),l}cleanUpUrl(){const t=this.removeQueryParams(window.location.search,[\"emptyFrame\"]);window.history.replaceState(null,document.title,window.location.origin+window.location.pathname+t)}removeQueryParams(t,e){return e.forEach((e=>{const n=new URLSearchParams(t),i=n.get(e);Array.from(n.keys()).indexOf(e)>-1&&(t=t.replace(`${e}=${i}`,\"\"))})),\"&\"===t[t.length-1]&&(t=t.substr(0,t.length-1)),t=(t=t.replace(\"&&\",\"&\")).replace(\"?&\",\"?\")}};class N{constructor(t,e,n,i){this.resolver=t,this._glue=e,this._configFactory=n,this._configConverter=i,this._layoutsType=\"Workspace\",this._layoutComponentType=\"Workspace\"}getInitialConfig(){var e;return t(this,void 0,void 0,(function*(){if(this._initialWorkspaceConfig)return this._configFactory.generateInitialConfig([this._initialWorkspaceConfig]);const n=B.config;if(n.workspaceNames&&n.workspaceNames.length){const e=(yield Promise.all(n.workspaceNames.map((e=>t(this,void 0,void 0,(function*(){return yield this.getWorkspaceByName(e)})))))).map((t=>(t.config.workspacesOptions=t.config.workspacesOptions||{},t.config.workspacesOptions.context=t.layoutData.context,t.config))).filter((t=>t));if(e.length)return e.forEach(((t,e)=>{t.id=this._configFactory.getId(),t.workspacesOptions=t.workspacesOptions||{},n.context&&t.workspacesOptions.context?t.workspacesOptions.context=Object.assign(t.workspacesOptions.context,n.context):n.context&&(t.workspacesOptions.context=n.context),t.workspacesOptions.layoutName=n.workspaceNames[e]})),this._configFactory.generateInitialConfig(e)}else if(!(null===(e=B.config)||void 0===e?void 0:e.build)){const t=this.getLastSession();if(t&&t.length)return t.forEach((t=>{t&&(t.id=this._configFactory.getId())})),this._configFactory.generateInitialConfig(t)}return this._configFactory.getDefaultFrameConfig()}))}getLastSession(){return(O.get(O.LAST_SESSION_KEY)||[]).map((t=>(this.addWorkspaceIds(t),this.addWindowIds(t),this._configConverter.convertToRendererConfig(t))))}getSavedWorkspaceNames(){return t(this,void 0,void 0,(function*(){return(yield this._glue.layouts.getAll(this._layoutsType)).filter((t=>t.type===this._layoutsType)).map((t=>t.name))}))}export(){return t(this,void 0,void 0,(function*(){return this._glue.layouts.export(this._layoutsType)}))}getWorkspaceByName(e){return t(this,void 0,void 0,(function*(){const t=yield this._glue.layouts.get(e,this._layoutsType),n=t.components[0].state,i=this._configConverter.convertToRendererConfig(n);return this.addWorkspaceIds(i),this.addWindowIds(i),{config:i,layoutData:{metadata:t.metadata,name:e,context:n.context}}}))}delete(e){return t(this,void 0,void 0,(function*(){yield this._glue.layouts.remove(this._layoutsType,e)}))}save(e){var n;return t(this,void 0,void 0,(function*(){const{workspace:t,title:i,name:o,saveContext:s}=e;if(!t.layout&&!t.hibernateConfig)throw new Error(\"An empty layout cannot be saved\");((null===(n=t.layout)||void 0===n?void 0:n.config)||t.hibernateConfig).workspacesOptions.name=o;const r=yield this.saveWorkspaceCore(t);i&&(r.config.title=i);let a=void 0;if(s)try{a=yield this.getWorkspaceContext(t.id)}catch(t){}const c={name:o,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:r.children,config:r.config,context:a}}]};return yield this._glue.layouts.import([c],\"merge\"),c}))}generateLayout(e,n){return t(this,void 0,void 0,(function*(){if(!n.layout)throw new Error(\"An empty layout cannot be generated\");n.layout.config.workspacesOptions.name=e;const t=yield this.saveWorkspaceCore(n);return{name:e,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:t.children,config:t.config,context:{}}}]}}))}saveWorkspacesFrame(e){return t(this,void 0,void 0,(function*(){const t=e.map((t=>this.saveWorkspaceCoreSync(t))),n=yield Promise.all(t);O.set(O.LAST_SESSION_KEY,n)}))}setInitialWorkspaceConfig(t){this._initialWorkspaceConfig=t}saveWorkspaceCore(e){return t(this,void 0,void 0,(function*(){if(!e.layout&&!e.hibernateConfig)return;const t=this.resolver.getWorkspaceConfig(e.id);t.workspacesOptions.layoutName&&delete t.workspacesOptions,this.removeWorkspaceIds(t),yield this.applyWindowLayoutState(t);const n=this._configConverter.convertToAPIConfig(t);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}))}saveWorkspaceCoreSync(t){if(!t.layout&&!t.hibernateConfig)return;const e=this.resolver.getWorkspaceConfig(t.id);this.removeWorkspaceIds(e);const n=this._configConverter.convertToAPIConfig(e);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}windowSummariesToWindowLayout(t){const e=t=>{if(\"window\"===t.type)return delete t.config.isMaximized,delete t.config.isLoaded,delete t.config.isFocused,delete t.config.windowId,delete t.config.workspaceId,delete t.config.frameId,delete t.config.positionIndex,void(t.config.appName&&delete t.config.url);t.children.forEach((t=>e(t)))};e(t)}addWindowContexts(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"window\"!==e.type)yield Promise.all(e.children.map((t=>n(t))));else if(e.config.windowId){const t=this._glue.windows.findById(e.config.windowId);if(t){const n=yield t.getContext();e.config.context=Object.assign({},e.config.context||{},n)}}}));yield n(e)}))}workspaceSummaryToWorkspaceLayout(t){(null==t?void 0:t.config)&&(delete t.config.frameId,delete t.config.positionIndex)}addWindowUrlsToWindows(t){const e=t=>{var n,i;if(\"window\"!==t.type||t.config.url||t.config.appName)\"window\"!==t.type&&t.children.forEach((t=>e(t)));else{const e=this._glue.appManager.application(t.config.appName);t.config.url=null===(i=null===(n=null==e?void 0:e.userProperties)||void 0===n?void 0:n.details)||void 0===i?void 0:i.url}};e(t)}addWorkspaceIds(t){if(!t)return;const e=t=>{t.id=this._configFactory.getId(),t.type&&\"component\"===t.type&&(t.componentName=\"app\"+t.id),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}addWindowIds(t){if(!t)return;const e=t=>{\"component\"===t.type&&(t.componentState.windowId=this._configFactory.getId()),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceIds(t){const e=t=>{\"id\"in t&&delete t.id,\"component\"===(null==t?void 0:t.type)&&(t.componentName=\"placeHolderId\",t.title=\"placeHolderId\"),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceItemIds(t){const e=t=>{var n;\"id\"in t&&delete t.id,\"window\"!==t.type&&(null===(n=t.children)||void 0===n||n.forEach((t=>e(t))))};e(t)}applyWindowLayoutState(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"component\"===e.type){const t=yield this.getWindowLayoutState(e.windowId);e.componentState.layoutState=t}else e.content.forEach((t=>n(t)))}));yield Promise.all(e.content.map((e=>t(this,void 0,void 0,(function*(){yield n(e)})))))}))}getWorkspaceContext(e){return t(this,void 0,void 0,(function*(){return yield this._glue.contexts.get(l(e))}))}getWindowLayoutState(e){return t(this,void 0,void 0,(function*(){return Promise.resolve({windowId:e})}))}}class z{constructor(t,e){this._frameId=t,this._layoutEventEmitter=e}getWindowSummary(e){return t(this,void 0,void 0,(function*(){e=Array.isArray(e)?e[0]:e;let t=d.getWindowContentItem(e);return t||(yield this.waitForWindowContentItem(e),t=d.getWindowContentItem(e)),this.getWindowSummaryCore(t,e)}))}getWindowSummarySync(t,e){t=Array.isArray(t)?t[0]:t;const n=e||d.getWindowContentItem(t);return this.getWindowSummaryCore(n,t)}getWorkspaceConfig(t){const e=d.getById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);if(e.hibernateConfig)return e.hibernateConfig.workspacesOptions.isHibernated=!0,e.hibernateConfig;const n=e.layout?e.layout.toConfig():{workspacesOptions:{},content:[],id:t};return n.workspacesOptions.frameId=this._frameId,n.workspacesOptions.positionIndex=this.getWorkspaceTabIndex(t),n.workspacesOptions.isHibernated=\"object\"==typeof e.hibernateConfig,n.workspacesOptions.isSelected=this.isWorkspaceSelected(t),n.workspacesOptions.lastActive=e.lastActive,n.workspacesOptions.title||(n.workspacesOptions.title=d.getWorkspaceTitle(t)),n.workspacesOptions.name=n.workspacesOptions.name||n.workspacesOptions.title,this.transformComponentsToWindowSummary(n),this.transformParentsToContainerSummary(n),n}getWorkspaceSummary(t){const e=d.getById(t),n=this.getWorkspaceConfig(t),i=this.getWorkspaceTabIndex(t),o={frameId:this._frameId,positionIndex:i,title:d.getWorkspaceTitle(t),name:n.workspacesOptions.name||d.getWorkspaceTitle(t),isHibernated:\"object\"==typeof e.hibernateConfig,isSelected:this.isWorkspaceSelected(t),lastActive:e.lastActive};return n.workspacesOptions.layoutName&&(o.layoutName=n.workspacesOptions.layoutName),{config:o,id:t}}isWindowMaximized(t){const e=r(t),n=d.getWindowContentItem(e);return!!(null==n?void 0:n.parent.isMaximized)}isWindowSelected(t){var e,n;const i=r(t),o=d.getWindowContentItem(i);return(null===(n=null===(e=null==o?void 0:o.parent)||void 0===e?void 0:e.getActiveContentItem())||void 0===n?void 0:n.config.id)===i}isWorkspaceSelected(t){var e,n;const i=d.getWorkspaceContentItem(t);return(null===(n=null===(e=null==i?void 0:i.parent)||void 0===e?void 0:e.getActiveContentItem())||void 0===n?void 0:n.config.id)===t}isWorkspaceHibernated(t){return\"object\"==typeof d.getById(t).hibernateConfig}getContainerSummary(t){var e;t=r(t);const n=d.getByContainerId(t),i=d.getContainer(t),o=null===(e=i.parent)||void 0===e?void 0:e.contentItems.indexOf(i);return{itemId:t,config:{workspaceId:n.id,frameId:this._frameId,positionIndex:o||0}}}getContainerSummaryByReference(t,e){var n;const i=null===(n=t.parent)||void 0===n?void 0:n.contentItems.indexOf(t);return{itemId:r(t.config.id),config:{workspaceId:e,frameId:this._frameId,positionIndex:i||0}}}getContainerConfig(t){t=r(t);const e=(d.getByContainerId(t)||d.getByWindowId(t)).layout.toConfig();return this.findElementInConfig(t,e)}isWindowInWorkspace(t){return!!d.getWindowContentItem(t)}getFrameSnapshot(){const t=d.workspaceIds.map((t=>this.getWorkspaceSummary(t)));return{id:this._frameId,config:{},workspaces:t}}getSnapshot(t){try{return this.getWorkspaceConfig(t)}catch(t){return this.getFrameSnapshot()}}extractWindowSummariesFromSnapshot(t){const e=[],n=(t,i)=>{\"component\"!==t.type?t.content.forEach((e=>n(e,r(t.id)))):e.push({itemId:r(t.id),parentId:i,config:t.workspacesConfig})};return n(t,void 0),e}findElementInConfig(t,e){const n=e=>{if(e.id===t)return[e];return(\"component\"!==e.type?e.content:[]).reduce(((t,e)=>[...t,...n(e)]),[])};return n(e).find((t=>t.id))}getWorkspaceTabIndex(t){var e;const n=null===(e=d.workspaceLayout.root.getItemsById(t)[0])||void 0===e?void 0:e.parent;if(!n)return 0;return n.header.tabs.findIndex((e=>e.contentItem.config.id===t))}getWindowSummaryCore(t,e){var n;const i=t.parent.getActiveContentItem().config.id===t.config.id,o=void 0!==t.config.componentState.windowId,s=this.getWindowPositionIndex(t),a=null===(n=d.getByWindowId(e))||void 0===n?void 0:n.id,{appName:c,url:l,windowId:h}=t.config.componentState,u=this.getUserFriendlyParent(t);return{itemId:r(t.config.id),parentId:r(u.config.id),config:{frameId:this._frameId,isFocused:i,isLoaded:o,positionIndex:s,workspaceId:a,windowId:h,isMaximized:this.isWindowMaximized(h),appName:c,url:l,title:t.config.title}}}getWindowPositionIndex(t){const e=t.parent.contentItems.indexOf(t);return-1===e?t.parent.contentItems.length:e}getUserFriendlyParent(t){return t.parent?t.parent.config.workspacesConfig.wrapper?this.getUserFriendlyParent(t.parent):t.parent:t}transformComponentsToWindowSummary(t){var e;if(\"component\"!==t.type||\"emptyVisibleWindow\"!==t.componentName){if(\"component\"===t.type){const e=this.getWindowSummarySync(t.id);return t.workspacesConfig=t.workspacesConfig||{},void(t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config))}null===(e=t.content)||void 0===e||e.map((t=>this.transformComponentsToWindowSummary(t)))}}transformParentsToContainerSummary(t){var e;if(\"component\"!==t.type){if(\"stack\"===t.type||\"row\"===t.type||\"column\"===t.type){const e=this.getContainerSummary(t.id);t.workspacesConfig=t.workspacesConfig||{},t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config)}null===(e=t.content)||void 0===e||e.map((t=>this.transformParentsToContainerSummary(t)))}}waitForWindowContentItem(t){return new Promise((e=>{const n=this._layoutEventEmitter.onContentComponentCreated((i=>{i.config.id===t&&(n(),e())}));d.getWindowContentItem(t)&&(n(),e())}))}}class R{constructor(){this._pattern=/^Untitled ([0-9]+)$/}getTitle(t,e=0){const n=t.filter((t=>this._pattern.test(t))).map((t=>parseInt(this._pattern.exec(t)[1],10)));return\"Untitled \"+((n.length?n.sort(((t,e)=>t-e))[n.length-1]:0)+1+e)}}class H{constructor(t){this._titleGenerator=new R,this._defaultWorkspaceLayoutSettings={showCloseIcon:!1,showMaximizeIcon:!1,showPopoutIcon:!1,disableDragProxy:!0,mode:\"workspace\"},this._glue=t}createEmptyVisibleWindowConfig(){return Object.assign(Object.assign({},this.createWindowConfigurationCore()),{componentState:{header:!1}})}createGDWindowConfig(t){const e=this.createWindowConfigurationCore(t.id);return Object.assign(Object.assign({},e),{componentName:\"app\"+e.id,windowId:t.windowId,title:t.title,componentState:{windowId:t.windowId,appName:t.appName,url:t.url,title:t.title,context:t.context}})}createApiWindow(t){return{id:Array.isArray(t.id)?t.id[0]:t.id,type:\"window\",config:{windowId:t.windowId,isMaximized:t.isMaximized,isLoaded:void 0!==t.windowId,isFocused:t.isFocused,appName:t.appName,url:t.url,title:t.title,workspaceId:t.workspaceId,frameId:t.frameId,positionIndex:t.positionIndex}}}getWorkspaceLayoutComponentName(t){return\"workspace\"+t}getWorkspaceTitle(t){return this._titleGenerator.getTitle(t)}getId(){return L.generate()}getDefaultWorkspaceSettings(){return{mode:\"default\",showCloseIcon:!1,showPopoutIcon:!0}}getDefaultFrameConfig(){const t=L.generate();return{frameId:void 0,workspaceConfigs:[{id:t,config:this.getDefaultWorkspaceConfig()}],workspaceLayout:{settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:[{type:\"component\",id:t,componentName:this.getWorkspaceLayoutComponentName(t),componentState:{},workspacesConfig:{},title:this.getWorkspaceTitle(d.workspaceTitles)}],workspacesConfig:{}}]}}}getDefaultWorkspaceConfig(){}generateInitialConfig(t){const e={settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:t.map((t=>{var e,n,i;const o=L.generate();return{workspacesConfig:{},type:\"component\",id:(null==t?void 0:t.id)||o,componentName:this.getWorkspaceLayoutComponentName(r(null==t?void 0:t.id)||o),componentState:{},noTabHeader:null===(e=null==t?void 0:t.workspacesOptions)||void 0===e?void 0:e.noTabHeader,title:(null===(n=null==t?void 0:t.workspacesOptions)||void 0===n?void 0:n.title)||(null===(i=null==t?void 0:t.workspacesOptions)||void 0===i?void 0:i.name)||this.getWorkspaceTitle(d.workspaceIds)}})),workspacesConfig:{}}]};return{frameId:void 0,workspaceConfigs:t.map(((t,n)=>{let i=null==t?void 0:t.id;return i||\"component\"===e.content[0].type||(i=e.content[0].content[n].id),{id:i,config:t}})),workspaceLayout:e}}wrapInGroup(t){return this.wrap(t,\"stack\")}getAppNameFromWindowId(t){const e=this._glue.appManager.instances().find((e=>e.agm.windowId===t));return null==e?void 0:e.application.name}createWindowConfigurationCore(t){return{workspacesConfig:{},type:\"component\",id:t||this.getId(),componentName:\"emptyVisibleWindow\"}}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}}class j{constructor(){this.registry=s()}onFrameEvent(t){return this.registry.add(\"frame\",t)}onWindowEvent(t){return this.registry.add(\"window\",t)}onContainerEvent(t){return this.registry.add(\"container\",t)}onWorkspaceEvent(t){return this.registry.add(\"workspace\",t)}raiseFrameEvent(t){this.registry.execute(\"frame\",t.action,t.payload)}raiseWindowEvent(t){this.registry.execute(\"window\",t.action,t.payload)}raiseContainerEvent(t){this.registry.execute(\"container\",t.action,t.payload)}raiseWorkspaceEvent(t){this.registry.execute(\"workspace\",t.action,t.payload)}}class q{constructor(t){this._configFactory=t,this.flat=t=>t.reduce(((t,e)=>[...t,...Array.isArray(e)?e:[e]]),[])}convertToRendererConfig(t){if(t)return this.convertToRendererConfigCore(t,void 0)}convertToAPIConfig(t){if(t)return this.convertToApiConfigCore(t)}convertToRendererConfigCore(t,e){var n,i,o,s,r;let a={type:t.type,content:[],workspacesOptions:t.config||{}};if(\"workspace\"!==t.type&&t.type||(a=this.applyDefaultRendererConfig({content:[],workspacesOptions:t.config})),\"workspace\"===t.type||!t.type){const e=t,{children:n}=e;return n.length>1&&n.every((t=>\"column\"===t.type))?a.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"row\")):n.length>1&&n.every((t=>\"row\"===t.type))?a.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"column\")):a.content.push(...n.map((t=>this.convertToRendererConfigCore(t,e)))),a}if(\"column\"===t.type||\"row\"===t.type)return a.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===a.content.length&&a.content.push(this.getGroupWithEmptyVisibleWindow()),a;if(\"group\"===t.type)return a.type=\"stack\",a.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===a.content.length&&a.content.push(this._configFactory.createEmptyVisibleWindowConfig()),a;if(\"window\"===t.type){let a=(null===(n=t.config)||void 0===n?void 0:n.appName)||t.appName;const c=null===(i=t.config)||void 0===i?void 0:i.windowId;!a&&c&&(a=this._configFactory.getAppNameFromWindowId(c));const l=this._configFactory.createGDWindowConfig({windowId:c,id:t.id,appName:a,url:(null===(o=t.config)||void 0===o?void 0:o.url)||t.url,title:(null===(s=t.config)||void 0===s?void 0:s.title)||t.title,context:(null===(r=t.config)||void 0===r?void 0:r.context)||t.context});return\"group\"!==e.type?(l.componentState.header=!1,this.wrap([l],\"stack\")):l}}convertToApiConfigCore(t){if(!t.type||\"workspace\"===t.type){t=t;const e=this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));return{id:r(t.id),config:t.workspacesOptions,children:e}}if(\"component\"===t.type&&\"emptyVisibleWindow\"===t.componentName)return[];if(\"component\"!==t.type&&t.workspacesConfig&&t.workspacesConfig.wrapper)return this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));if(\"component\"===t.type){const e=t.workspacesConfig;return this._configFactory.createApiWindow({id:t.id,isFocused:!1,isMaximized:e.isMaximized,windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url,frameId:e.frameId,workspaceId:e.workspaceId,title:e.title,positionIndex:e.positionIndex})}return{id:r(t.id),type:\"stack\"===t.type?\"group\":t.type,children:this.flat(t.content.map((t=>this.convertToApiConfigCore(t)))),config:{}}}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}applyDefaultRendererConfig(t){return Object.assign({settings:Object.assign({},this._configFactory.getDefaultWorkspaceSettings())},t)}getGroupWithEmptyVisibleWindow(){return this.wrap([this._configFactory.createEmptyVisibleWindowConfig()],\"stack\")}}class U{constructor(t,e,n){this._externalPopupManager=t,this._componentPopupManager=e,this._componentFactory=n}showAddWindowPopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddApplicationPopup)?this._componentPopupManager.showAddWindowPopup(e,n):this._externalPopupManager.showAddWindowPopup(e,n)}))}showOpenWorkspacePopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddWorkspacePopup)?this._componentPopupManager.showOpenWorkspacePopup(e):this._externalPopupManager.showOpenWorkspacePopup(e,n)}))}showSaveWorkspacePopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createSaveWorkspacePopup)?this._componentPopupManager.showSaveWorkspacePopup(e,n):this._externalPopupManager.showSaveWorkspacePopup(e,n)}))}hidePopup(){this._externalPopupManager.hidePopup(),this._componentFactory&&this._componentPopupManager.hidePopup()}}class V{constructor(t){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._showPopupMethod=\"T42.Workspaces.ShowPopup\",this._glue=t,this.initPopup(),this.registerHideMethod(),this.registerResizeMethod()}showAddWindowPopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._addApplicationType,n);this.showElement(this._popup,e,t)}))}showOpenWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._openWorkspaceType,n);this.showElement(this._popup,e,t)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._saveWorkspaceType,n);this.showElement(this._popup,e,t)}))}hidePopup(){$(this._popup).css(\"visibility\",\"hidden\")}initPopup(){}showElement(t,e,n){$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const i=t.getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t){const e=$(this._popup);t.height&&e.css(\"height\",t.height+\"px\"),t.width&&e.css(\"width\",t.width+\"px\");const n=this._popup.getBoundingClientRect(),i=document.body.getBoundingClientRect(),o=i.width-n.right-10,s=i.height-n.bottom-10;if(o<0){const t=e.css(\"left\"),n=parseInt(t.substring(0,t.length-2));e.css(\"left\",n+o)}if(s<0){const t=e.css(\"top\"),n=parseInt(t.substring(0,t.length-2));e.css(\"top\",n+s)}}getPopupSize(e,n){return t(this,void 0,void 0,(function*(){const t=this.getPopupInteropId(),i=this._glue.agm.servers().find((e=>e.windowId===t));return(yield this._glue.agm.invoke(this._showPopupMethod,{type:e,payload:n},i)).returned}))}registerHideMethod(){}registerResizeMethod(){}getPopupInteropId(){try{return this._popup.contentWindow.interopId||\"best\"}catch(t){console.warn(\"Could not get the popup interop id using best\")}return\"best\"}getPopupWindowTemplate(t){return`<iframe id=\"popup\" src=\"${t}\" class=\"popup\"></iframe>`}}class G{constructor(t,e){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._popupSizes={[this._addApplicationType]:{height:200,width:200},[this._openWorkspaceType]:{height:200,width:200},[this._saveWorkspaceType]:{height:200,width:200}},this.hidePopup=()=>(document.body.onclick=void 0,$(this._popup).css(\"visibility\",\"hidden\"),new Promise((t=>{var e;(null===(e=this._componentFactory)||void 0===e?void 0:e.hideSystemPopups)?this._componentFactory.hideSystemPopups(t):t()}))),this._componentFactory=t,this._frameId=e,this.initPopup()}showAddWindowPopup(e,{workspaceId:n,parentType:i,boxId:o}){return t(this,void 0,void 0,(function*(){yield this.showInternalAddAppPopup(e,o,n,i)}))}showOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.showInternalOpenWorkspacePopup(e)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.showInternalSaveWorkspacePopup(e,n)}))}showInternalSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._saveWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createSaveWorkspacePopup({domNode:this._popup,resizePopup:t=>this.resizePopup(t,this._saveWorkspaceType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:n.workspaceId,buildMode:n.buildMode})}))}showInternalOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._openWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createAddWorkspacePopup({domNode:this._popup,frameId:this._frameId,hidePopup:this.hidePopup,resizePopup:t=>this.resizePopup(t,this._openWorkspaceType,$(this._popup))})}))}showInternalAddAppPopup(e,n,i,o){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._addApplicationType);this.showElement(this._popup,e,t),this._componentFactory.createAddApplicationPopup({domNode:this._popup,boxId:n,resizePopup:t=>this.resizePopup(t,this._addApplicationType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:i,frameId:this._frameId})}))}initPopup(){this._popup=document.createElement(\"div\"),this._popup.classList.add(\"workspaces-system-popup\"),document.body.appendChild(this._popup)}showElement(t,e,n){document.body.onclick=t=>{-1===t.composedPath().indexOf(this._popup)&&this.hidePopup()},document.body.onblur=t=>{\"iframe\"===document.activeElement.tagName.toLowerCase()&&this.hidePopup()},$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const i=t.getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t,e,n){t.height&&(n.css(\"height\",t.height+\"px\"),this._popupSizes[e].height=t.height),t.width&&(n.css(\"width\",t.width+\"px\"),this._popupSizes[e].width=t.width);const i=n[0].getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;if(s<0){const t=n.css(\"left\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"left\",e+s)}if(r<0){const t=n.css(\"top\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"top\",e+r)}}getPopupSize(t){return this._popupSizes[t]}}class X{constructor(t,e,n,i){this._glue=t,this._stateResolver=e,this._frameController=n,this._manager=i,this.registry=s(),this.WAIT_FOR_WINDOWS_TIMEOUT=3e4}start(e,n){var i,o;return t(this,void 0,void 0,(function*(){if(\"emptyVisibleWindow\"===e.config.componentName)return;const t=d.getById(n),s=c(e.element),{componentState:a}=e.config,{title:l,appName:h}=a;let{windowId:u}=a;const p=r(e.config.id),m=this.getTitleByAppName(h),f=this.vaidateTitle(l)||this.vaidateTitle(m)||this.vaidateTitle(h)||\"Glue\",g=null===(i=null==e?void 0:e.config.componentState)||void 0===i?void 0:i.context;let y=this.getUrlByAppName(a.appName)||a.url;const v=!d.getWindow(p),w=t.hibernatedWindows.some((t=>t.id===r(e.config.id)));if(d.addWindow({id:p,bounds:s,windowId:u,url:y,appName:h},t.id),!y&&u){const t=this._glue.windows.list().find((t=>t.id===u));y=yield t.getURL();d.getWindow(p).url=y}if(u=u||L.generate(),(null===(o=e.config.componentState)||void 0===o?void 0:o.context)&&delete e.config.componentState.context,e.config.componentState.url=y,f&&e.setTitle(f),v&&!w){const t=this._stateResolver.getWindowSummarySync(p,e);this._manager.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:t}});const n=this._glue.windows.findById(u);if(n)try{yield n.close()}catch(t){}}try{yield this.notifyFrameWillStart(u,h,g,f),yield this._frameController.startFrame(p,y,void 0,u);const n=d.getWindow(p);e.config.componentState.windowId=u,n.windowId=u;if(this._glue.windows.findById(u).getTitle().then((t=>{e.setTitle(t)})).catch((t=>{console.warn(\"Failed while setting the window title\",t)})),this._frameController.moveFrame(p,c(e.element)),v&&!w&&this._manager.workspacesEventEmitter.raiseWindowEvent({action:\"loaded\",payload:{windowSummary:yield this._stateResolver.getWindowSummary(p)}}),!h){const t=this.getAppNameByWindowId(u);if(!e.config.componentState)throw new Error(`Invalid state - the created component ${p} with windowId ${u} is missing its state object`);e.config.componentState.appName=t,n.appName=t}}catch(t){this.raiseFailed(e,n),e.config.componentState.windowId=void 0,y?this._frameController.moveFrame(p,c(e.element)):this._manager.closeTab(e,!1);if(!d.getById(n))throw new Error(`Workspace ${n} failed ot initialize because none of the specified windows were able to load\\n                Internal error: ${t}`)}finally{t.hibernatedWindows=t.hibernatedWindows.filter((t=>t.id!==r(e.config.id)))}}))}notifyFrameWillClose(t,e){return this._glue.interop.invoke(\"T42.Web.Platform.Control\",{domain:e?\"appManager\":\"windows\",operation:e?\"unregisterWorkspaceApp\":\"unregisterWorkspaceWindow\",data:{windowId:t}})}onStarted(t){return this.registry.add(\"on-started\",t)}onLoaded(t){return this.registry.add(\"on-loaded\",t)}onFailed(t){return this.registry.add(\"on-failed\",t)}waitForWindows(t,e){return new Promise(((n,i)=>{let o,s=()=>{},a=()=>{};const[c,l]=this.waitFor(e.length,(()=>{n(),s(),a(),clearTimeout(o)}));o=setTimeout((()=>{i(`Waiting for windows ${JSON.stringify(e)} in workspace ${t}, but only heard ${JSON.stringify(l())} in ${this.WAIT_FOR_WINDOWS_TIMEOUT} seconds`)}),this.WAIT_FOR_WINDOWS_TIMEOUT),s=this.onLoaded((({summary:n})=>{n.config.workspaceId===t&&e.includes(n.itemId)&&c(n.itemId)})),a=this.onFailed((n=>{n.workspaceId===t&&e.includes(r(n.component.config.id))&&c(n.component.config.id)}))}))}getUrlByAppName(t){var e,n,i,o;if(t)return null===(o=null===(i=null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.userProperties)||void 0===i?void 0:i.details)||void 0===o?void 0:o.url}raiseStarted(t){this.registry.execute(\"on-started\",{summary:t})}raiseLoaded(t){this.registry.execute(\"on-loaded\",{summary:t})}raiseFailed(t,e){this.registry.execute(\"on-failed\",{component:t,workspaceId:e})}getTitleByAppName(t){var e,n;if(t)return null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.title}getAppNameByWindowId(t){var e,n,i,o;return null===(o=null===(i=null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.instances())||void 0===n?void 0:n.find((e=>e.id===t)))||void 0===i?void 0:i.application)||void 0===o?void 0:o.name}notifyFrameWillStart(t,e,n,i){return this._glue.interop.invoke(\"T42.Web.Platform.Control\",{domain:e?\"appManager\":\"windows\",operation:e?\"registerWorkspaceApp\":\"registerWorkspaceWindow\",data:{name:`${e||\"window\"}_${t}`,windowId:t,frameId:this._manager.frameId,appName:e,context:n,title:i}})}waitFor(t,e){let n=[];return[i=>{n.push(i),n.length===t&&e()},()=>n]}vaidateTitle(t){if(null==t?void 0:t.length)return t}}var Y=new class{constructor(){this._isLayoutInitialized=!1,this._initPromise=Promise.resolve(),this._workspacesEventEmitter=new j,this._titleGenerator=new R,this.getComponentBounds=()=>this._controller.bounds,this.subscribeForWindowClicked=t=>this._frameController.onFrameContentClicked(t),this.cleanUp=()=>{var t;if(this._isDisposing=!0,null===(t=B.config)||void 0===t?void 0:t.build)return;const e=[],n=d.workspaceIds.map((t=>{const n=d.getById(t);e.push(...n.windows.map((t=>this.stateResolver.getWindowSummarySync(t.id))));const i=this.stateResolver.getWorkspaceConfig(t),o=this.stateResolver.extractWindowSummariesFromSnapshot(i);return e.push(...o),this.stateResolver.getWorkspaceSummary(t)}));e.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),n.forEach((t=>{this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId},workspaceSummary:t}})}));const i=d.layouts.filter((t=>{var e,n,i;return!(null===(i=null===(n=null===(e=t.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===i?void 0:i.noTabHeader)}));this._layoutsManager.saveWorkspacesFrame(i),this.workspacesEventEmitter.raiseFrameEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId}}})}}get stateResolver(){return this._stateResolver}get workspacesEventEmitter(){return this._workspacesEventEmitter}get initPromise(){return this._initPromise}get initialized(){return this._initialized}get frameId(){return this._frameId}init(t,e,n,i){this._glue=t,this._facade=n;const o=B.loadConfig();if(this._initialized)return void u.reInitialize(i);this._initialized=!0,this._frameId=e,this._configFactory=new H(t);const r=new q(this._configFactory);u.init(this._frameId,i);const a=new f(s());return this._stateResolver=new z(this._frameId,a),this._controller=new m(a,this._stateResolver,o,this._configFactory),this._frameController=new F(t),this._applicationFactory=new X(t,this.stateResolver,this._frameController,this),this._layoutsManager=new N(this.stateResolver,t,this._configFactory,r),this._popupManager=new U(new V(t),new G(i,e),i),o.emptyFrame||this.initLayout(),{cleanUp:this.cleanUp}}saveWorkspace(e,n,i){var o;return t(this,void 0,void 0,(function*(){const t=d.getById(n)||d.getActiveWorkspace(),s=yield this._layoutsManager.save({name:e,workspace:t,title:d.getWorkspaceTitle(t.id),saveContext:i}),r=(null===(o=t.layout)||void 0===o?void 0:o.config)||t.hibernateConfig;return r.workspacesOptions.layoutName=e,r.workspacesOptions.noTabHeader&&delete r.workspacesOptions.noTabHeader,s}))}openWorkspace(e,n){var i;return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getWorkspaceByName(e),o=t.config;if(o.workspacesOptions.context=t.layoutData.context,(null==n?void 0:n.context)&&o.workspacesOptions.context?o.workspacesOptions.context=Object.assign(t.layoutData.context,null==n?void 0:n.context):(null==n?void 0:n.context)&&(o.workspacesOptions.context=null==n?void 0:n.context),(null==n?void 0:n.title)&&(o.workspacesOptions.title=null==n?void 0:n.title),o&&o.workspacesOptions&&!o.workspacesOptions.name&&(o.workspacesOptions.name=e),o&&(o.workspacesOptions=o.workspacesOptions||{},o.workspacesOptions.layoutName=t.layoutData.name),o&&void 0!==(null==n?void 0:n.noTabHeader)&&(o.workspacesOptions=o.workspacesOptions||{},o.workspacesOptions.noTabHeader=null==n?void 0:n.noTabHeader),!this._isLayoutInitialized)return this._layoutsManager.setInitialWorkspaceConfig(o),this._initPromise=this.initLayout(),yield this._initPromise,r(o.id);if(e){if(o.id=(null==n?void 0:n.reuseWorkspaceId)||this._configFactory.getId(),null==n?void 0:n.reuseWorkspaceId){d.getById(o.id).windows.map((t=>d.getWindowContentItem(t.id))).filter((t=>t)).map((t=>this.closeTab(t,!1))),yield this._controller.reinitializeWorkspace(o.id,o),(null===(i=o.workspacesOptions)||void 0===i?void 0:i.context)&&(yield this._glue.contexts.set(l(o.id),o.workspacesOptions.context))}else yield this.addWorkspace(r(o.id),o);return r(o.id)}}))}exportAllLayouts(){return this._layoutsManager.export()}deleteLayout(t){this._layoutsManager.delete(t)}maximizeItem(t){this._controller.maximizeWindow(t)}restoreItem(t){this._controller.restoreWindow(t)}closeItem(t){const e=d.getWindow(t),n=d.getContainer(t);if(this._frameId===t)d.workspaceIds.forEach((t=>this.closeWorkspace(d.getById(t))));else if(e){const e=d.getWindowContentItem(t);if(!e)throw new Error(`Could not find item ${t} to close`);this.closeTab(e)}else if(n)this._controller.closeContainer(t);else{const e=d.getById(t);this.closeWorkspace(e)}}addContainer(t,e){return this._controller.addContainer(t,e)}addWindow(t,e){const n=d.getContainer(e);return n&&\"stack\"===n.type||\"component\"!==t.type||(t=this._configFactory.wrapInGroup([t])),this._controller.addWindow(t,e)}setItemTitle(t,e){d.getById(t)?this._controller.setWorkspaceTitle(t,e):this._controller.setWindowTitle(t,e)}eject(e){return t(this,void 0,void 0,(function*(){const{appName:t,url:n,windowId:i}=e.config.componentState,o=d.getWorkspaceContext(d.getByWindowId(e.config.id).id),s=this._glue.windows.findById(i),a=s?yield s.getContext():o;if(this.closeItem(r(e.config.id)),t){const e=i?{reuseId:i}:void 0;return{windowId:(yield this._glue.appManager.application(t).start(a,e)).id}}const c=this._applicationFactory.getUrlByAppName(t)||n;return{windowId:(yield this._glue.windows.open(`${t}_${i}`,c,{context:a,windowId:i})).id}}))}createWorkspace(e){var n,i;return t(this,void 0,void 0,(function*(){if(!this._isLayoutInitialized)return e.id=this._configFactory.getId(),this._layoutsManager.setInitialWorkspaceConfig(e),this._initPromise=this.initLayout(),yield this._initPromise,r(e.id);const t=(null===(n=e.workspacesOptions)||void 0===n?void 0:n.reuseWorkspaceId)||this._configFactory.getId();if(null===(i=e.workspacesOptions)||void 0===i?void 0:i.reuseWorkspaceId){d.getById(t).windows.map((t=>d.getWindowContentItem(t.id))).filter((t=>t)).map((t=>this.closeTab(t,!1))),yield this._controller.reinitializeWorkspace(t,e),e.workspacesOptions.context&&(yield this._glue.contexts.set(l(t),e.workspacesOptions.context))}else yield this.addWorkspace(t,e);return t}))}loadWindow(e){return t(this,void 0,void 0,(function*(){let t=d.getWindowContentItem(e);if(!t)throw new Error(`Could not find window ${e} to load`);let{windowId:n}=t.config.componentState;return n||(yield this.waitForFrameLoaded(e),t=d.getWindowContentItem(e),n=t.config.componentState.windowId),new Promise(((t,i)=>{n||i(`The window id of ${e} is missing`);let o=()=>{};const s=setTimeout((()=>{i(`Could not load window ${n} for 5000ms`),o()}),5e3);o=this._glue.windows.onWindowAdded((e=>{e.id===n&&(t({windowId:n}),o(),clearTimeout(s))}));this._glue.windows.list().find((t=>t.id===n))&&(t({windowId:n}),o(),clearTimeout(s))}))}))}focusItem(e){return t(this,void 0,void 0,(function*(){const t=d.getById(e);this._frameId===e||(t?(t.hibernateConfig&&(yield this.resumeWorkspace(t.id)),this._controller.focusWorkspace(t.id)):this._controller.focusWindow(e))}))}bundleWorkspace(t,e){if(this._stateResolver.isWorkspaceHibernated(t))throw new Error(`Could not bundle workspace ${t} because its hibernated`);this._controller.bundleWorkspace(t,e)}move(t){return this._glue.windows.my().moveTo(t.y,t.x)}getFrameSummary(t){const e=d.getByContainerId(t)||d.getByWindowId(t)||d.getById(t),n=this._frameId===t;return{id:e||n?this._frameId:\"none\"}}moveWindowTo(e,n){return t(this,void 0,void 0,(function*(){const t=d.getByContainerId(n)||d.getById(n);if(!t)throw new Error(`Could not find container ${n} in frame ${this._frameId}`);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not move window ${e} to workspace ${t.id} because its hibernated`);const i=d.getWindowContentItem(e);if(!i)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);return this.closeTab(i),this._controller.addWindow(i.config,n)}))}generateWorkspaceLayout(t,e){const n=d.getById(e);if(!n)throw new Error(\"Could not find workspace with id \"+e);return this._layoutsManager.generateLayout(t,n)}resumeWorkspace(e){return t(this,void 0,void 0,(function*(){const t=d.getById(e);if(!t)throw new Error(`Could not find workspace ${e} in any of the frames`);const n=t.hibernateConfig;n.workspacesOptions||(n.workspacesOptions={}),n.workspacesOptions.reuseWorkspaceId=e,yield this.createWorkspace(n),t.hibernateConfig=void 0,this._controller.showSaveIcon(e)}))}hibernateWorkspace(e){return t(this,void 0,void 0,(function*(){const t=d.getById(e);if(d.getActiveWorkspace().id===t.id)throw new Error(`Cannot hibernate workspace ${t.id} because its active`);if(this.stateResolver.isWorkspaceHibernated(e))throw new Error(`Cannot hibernate workspace ${e} because it has already been hibernated`);if(!t.layout)throw new Error(`Cannot hibernate workspace ${t.id} because its empty`);const n=yield this.stateResolver.getWorkspaceConfig(t.id);return t.hibernatedWindows=t.windows,n.workspacesOptions.isHibernated=!0,t.hibernateConfig=n,t.windows.map((t=>d.getWindowContentItem(t.id))).forEach((t=>this.closeTab(t,!1))),d.removeLayout(t.id),this._controller.showHibernationIcon(e),n}))}closeTab(t,e=!0){const n=r(t.config.id),i=d.getByWindowId(n),o=this.stateResolver.getWindowSummarySync(n);this._controller.removeLayoutElement(n),this._frameController.remove(n),this._applicationFactory.notifyFrameWillClose(o.config.windowId,o.config.appName).catch((t=>{})),i.hibernatedWindows.some((t=>o.itemId===t.id))||this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:o}}),!i.windows.length&&e&&this.checkForEmptyWorkspace(i)}unmount(){try{this._popupManager.hidePopup()}catch(t){console.warn(t)}}initLayout(){return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getInitialConfig();this.subscribeForPopups(),this.subscribeForLayout(),this._isLayoutInitialized=!0,yield Promise.all(t.workspaceConfigs.map((t=>{var e,n;return this._glue.contexts.set(l(t.id),(null===(n=null===(e=t.config)||void 0===e?void 0:e.workspacesOptions)||void 0===n?void 0:n.context)||{})}))),yield this._controller.init({frameId:this._frameId,workspaceLayout:t.workspaceLayout,workspaceConfigs:t.workspaceConfigs}),d.layouts.map((t=>t.layout)).filter((t=>t)).forEach((t=>this.reportLayoutStructure(t))),B.config.emptyFrame&&this._workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId}}})}))}subscribeForLayout(){this._controller.emitter.onContentComponentCreated(((e,n)=>t(this,void 0,void 0,(function*(){yield this._applicationFactory.start(e,n)})))),this._controller.emitter.onContentItemResized(((t,e)=>{this._frameController.moveFrame(e,c(t))})),this._controller.emitter.onTabCloseRequested((e=>t(this,void 0,void 0,(function*(){const t=d.getByWindowId(r(e.config.id));this.closeTab(e),this._controller.removeLayoutElement(r(e.config.id)),this._frameController.remove(r(e.config.id)),t.windows.length||this.checkForEmptyWorkspace(t)})))),this._controller.emitter.onWorkspaceTabCloseRequested((t=>{this.closeWorkspace(t)})),this._controller.emitter.onTabElementMouseDown((t=>{const e=c(t.contentItem.element),n=Math.min(e.width,800),i=Math.min(e.height,600);this._controller.setDragElementSize(n,i)})),this._controller.emitter.onTabDragStart((t=>{const e=this._controller.getDragElement();new MutationObserver((e=>{Array.from(e).forEach((e=>{if(\"attributes\"===e.type){const e=$(this._controller.getDragElement()).children(\".lm_content\").children(\".lm_item_container\"),n=c(e[0]),i=r(t.contentItem.config.id);this._frameController.moveFrame(i,n),this._frameController.bringToFront(i)}}))})).observe(e,{attributes:!0})})),this._controller.emitter.onTabDragEnd((t=>{const e=t.header.tabs.filter((e=>e.contentItem.config.id!==t.contentItem.config.id));this._frameController.selectionChanged([r(t.contentItem.id)],e.map((t=>r(t.contentItem.id))))})),this._controller.emitter.onSelectionChanged(((e,n)=>t(this,void 0,void 0,(function*(){this._popupManager.hidePopup(),this._frameController.selectionChanged(n.map((t=>t.id)),e.map((t=>t.id)))})))),this._controller.emitter.onWorkspaceAdded((t=>{var e;const n=d.workspaceIds.filter((e=>e!==t.id)).reduce(((t,e)=>[...t,...d.getById(e).windows]),[]);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),d.getActiveWorkspace().id===t.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),!t.layout)return void this._frameController.selectionChangedDeep([],n.map((t=>t.id)));const e=a(t.layout.toConfig().content);this._frameController.selectionChangedDeep(e.map((t=>r(t.id))),n.map((t=>t.id)))}if(!t.layout)return;const i=t.layout.config.workspacesOptions,o=i.title||i.name;o&&(null===(e=d.getWorkspaceLayoutItemById(t.id))||void 0===e||e.setTitle(o))})),this._controller.emitter.onWorkspaceSelectionChanged(((t,e)=>{if(this._popupManager.hidePopup(),!t.layout)return this._frameController.selectionChangedDeep([],e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),void(t.hibernateConfig&&this.resumeWorkspace(t.id));const n=a(t.layout.toConfig().content).filter((t=>this._controller.isWindowVisible(t.id)));this._frameController.selectionChangedDeep(n.map((t=>r(t.id))),e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}})})),this._controller.emitter.onAddButtonClicked((({laneId:e,workspaceId:n,bounds:i,parentType:o})=>t(this,void 0,void 0,(function*(){const t={boxId:e,workspaceId:n,parentType:o,frameId:this._frameId,peerId:this._glue.agm.instance.peerId,domNode:void 0,resizePopup:void 0,hidePopup:void 0};yield this._popupManager.showAddWindowPopup(i,t)})))),this._controller.emitter.onContentLayoutInit((t=>{this.reportLayoutStructure(t)})),this._controller.emitter.onWorkspaceAddButtonClicked((()=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,peerId:this._glue.agm.instance.windowId},e=d.workspaceLayoutHeader.element.find(\".lm_workspace_controls\").find(\".lm_add_button\"),n=c(e);yield this._popupManager.showOpenWorkspacePopup(n,t)})))),this._controller.emitter.onWorkspaceSaveRequested((e=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,workspaceId:e,peerId:this._glue.agm.instance.peerId,buildMode:B.config.build,domNode:void 0,resizePopup:void 0,hidePopup:void 0},n=d.getWorkspaceLayoutItemById(e).tab.element.find(\".lm_saveButton\"),i=c(n);yield this._popupManager.showSaveWorkspacePopup(i,t)})))),this._controller.emitter.onStackMaximized((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.maximizeTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onStackRestored((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.restoreTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onEjectRequested((t=>{if(!t.isComponent)throw new Error(\"Can't eject item of type \"+t.type);return this.eject(t)})),u.onWorkspaceContentsShown((t=>{const e=d.getActiveWorkspace();if(!(null==e?void 0:e.layout)||t!==e.id)return;const n=d.getWorkspaceContentItem(t),i=c(n.element);e.layout.updateSize(i.width,i.height);const o=e.layout.root.getItemsByFilter((t=>\"stack\"===t.type));this._frameController.selectionChangedDeep(o.map((t=>r(t.getActiveContentItem().config.id))),[])})),u.onWorkspaceContentsHidden((t=>{const e=d.getById(t);(null==e?void 0:e.layout)&&t===e.id&&this._frameController.selectionChangedDeep([],e.windows.map((t=>t.id)))})),this.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{const n=d.getById(e.workspaceSummary.id);n&&(n.lastActive=Date.now())}))}subscribeForPopups(){this._frameController.onFrameContentClicked((()=>{this._popupManager.hidePopup()})),this._frameController.onWindowTitleChanged(((t,e)=>{this.setItemTitle(t,e)}))}reportLayoutStructure(t){a(t.toConfig().content).forEach((e=>{const n=t.root.getItemsById(e.id)[0];this._frameController.moveFrame(r(n.config.id),c(n.element))}))}closeWorkspace(t){if(!t)throw new Error(\"Could not find a workspace to close\");t.hibernateConfig?this.closeHibernatedWorkspaceCore(t):this.closeWorkspaceCore(t)}closeWorkspaceCore(e){return t(this,void 0,void 0,(function*(){const t=this.stateResolver.getWorkspaceSummary(e.id),n=e.windows.map((t=>{if(d.getWindowContentItem(t.id))return this.stateResolver.getWindowSummarySync(t.id)})).filter((t=>t));e.windows.forEach((t=>this._frameController.remove(t.id)));const i=this.checkForEmptyWorkspace(e);n.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),i||this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:t,frameSummary:{id:this._frameId}}})}))}closeHibernatedWorkspaceCore(e){return t(this,void 0,void 0,(function*(){const t=this.stateResolver.getWorkspaceSummary(e.id),n=this.stateResolver.getSnapshot(e.id),i=this.stateResolver.extractWindowSummariesFromSnapshot(n);e.windows.forEach((t=>this._frameController.remove(t.id)));const o=this.checkForEmptyWorkspace(e);i.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),o||this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:t,frameSummary:{id:this._frameId}}})}))}addWorkspace(e,n){var i;return t(this,void 0,void 0,(function*(){yield this._glue.contexts.set(l(e),(null===(i=null==n?void 0:n.workspacesOptions)||void 0===i?void 0:i.context)||{}),yield this._controller.addWorkspace(e,n)}))}checkForEmptyWorkspace(t){var e;if(1===d.layouts.length){try{if(this._isLayoutInitialized)return this._facade.executeAfterControlIsDone((()=>{window.close()})),!0}catch(t){console.log(\"ERROR\",t)}t.windows=[],null===(e=t.layout)||void 0===e||e.destroy(),t.layout=void 0,this._controller.showAddButton(t.id);const n=d.getWorkspaceTitle(t.id),i=this._configFactory.getWorkspaceTitle(d.workspaceTitles.filter((t=>t!==n)));this._controller.setWorkspaceTitle(t.id,i)}else this._controller.removeWorkspace(t.id);return!1}waitForFrameLoaded(t){return new Promise(((e,n)=>{let i=()=>{};const o=setTimeout((()=>{i(),n(`Did not hear frame loaded for ${t} in 5000ms`)}),5e3);i=this.workspacesEventEmitter.onWindowEvent(((n,s)=>{\"loaded\"===n&&s.windowSummary.itemId===t&&(e(),clearTimeout(o),i())}))}))}raiseWindowRemoved(t,e){this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:e}})}};var J=new class{constructor(){this._workspacesControlMethod=\"T42.Workspaces.Control\",this._workspacesEventMethod=\"T42.Workspaces.Events\",this._inDisposing=!1,this._controlPromise=Promise.resolve(),this.handleControlCore=(e,n,i,o)=>t(this,void 0,void 0,(function*(){try{switch(yield Y.initPromise,e.operation){case\"isWindowInWorkspace\":i(this.handleIsWindowInWorkspace(e.operationArguments));break;case\"addWindow\":i(yield this.handleAddWindow(e.operationArguments));break;case\"addContainer\":i(yield this.handleAddContainer(e.operationArguments));break;case\"getWorkspaceSnapshot\":i(this.handleGetWorkspaceSnapshot(e.operationArguments));break;case\"openWorkspace\":i(yield this.handleOpenWorkspace(e.operationArguments));break;case\"saveLayout\":i(yield this.handleSaveLayout(e.operationArguments));break;case\"exportAllLayouts\":i(yield this.handleExportAllLayouts());break;case\"deleteLayout\":this.handleDeleteLayout(e.operationArguments),i(void 0);break;case\"getAllWorkspacesSummaries\":i(this.handleGetAllWorkspaceSummaries());break;case\"maximizeItem\":this.handleMaximizeItem(e.operationArguments),i(void 0);break;case\"restoreItem\":this.handleRestoreItem(e.operationArguments),i(void 0);break;case\"closeItem\":this.handleCloseItem(e.operationArguments),i(void 0);break;case\"setItemTitle\":yield this.handleSetItemTitle(e.operationArguments),i(void 0);break;case\"addWorkspaceChildren\":yield this.handleAddWorkspaceChildren(e.operationArguments),i(void 0);break;case\"ejectWindow\":i(yield this.handleEject(e.operationArguments));break;case\"createWorkspace\":i(yield this.handleCreateWorkspace(e.operationArguments));break;case\"forceLoadWindow\":i(yield this.handleForceLoadWindow(e.operationArguments));break;case\"focusItem\":yield this.handleFocusItem(e.operationArguments),i(void 0);break;case\"bundleWorkspace\":this.handleBundleWorkspace(e.operationArguments),i(void 0);break;case\"getFrameSummary\":i(yield this.handleGetFrameSummary(e.operationArguments));break;case\"moveFrame\":yield this.handleMoveFrame(e.operationArguments),i(void 0);break;case\"getFrameSnapshot\":i(yield this.handleGetFrameSnapshot());break;case\"getSnapshot\":i(yield this.handleGetSnapshot(e.operationArguments));break;case\"moveWindowTo\":yield this.handleMoveWindowTo(e.operationArguments),i(void 0);break;case\"generateLayout\":i(yield this.handleGenerateLayout(e.operationArguments));break;case\"ping\":i(this.handlePing());break;case\"hibernateWorkspace\":yield this.handleHibernateWorkspace(e.operationArguments),i(void 0);break;case\"resumeWorkspace\":yield this.handleResumeWorkspace(e.operationArguments),i(void 0);break;default:o(\"Invalid operation - \"+e.operation)}}catch(t){o(t.message)}})),this.handleControl=(e,n,i,o)=>t(this,void 0,void 0,(function*(){const t=this.handleControlCore(e,n,i,o);this._controlPromise=t,yield t}))}init(e,n){return t(this,void 0,void 0,(function*(){this._frameId=n,this._glue=e,this._configFactory=new H(e),this._converter=new q(this._configFactory),this._glue&&(yield this.registerAgmMethods())}))}dispose(){this._inDisposing=!0}subscribeForWorkspaceEvents(){Y.workspacesEventEmitter.onFrameEvent(((t,e)=>{this.publishEventData(t,e,\"frame\")})),Y.workspacesEventEmitter.onWindowEvent(((t,e)=>{this.publishEventData(t,e,\"window\")})),Y.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{this.publishEventData(t,e,\"workspace\")})),Y.workspacesEventEmitter.onContainerEvent(((t,e)=>{this.publishEventData(t,e,\"box\")}))}executeAfterControlIsDone(t){this._controlPromise.finally((()=>t()))}registerAgmMethods(){return t(this,void 0,void 0,(function*(){yield this._glue.agm.registerAsync({name:this._workspacesControlMethod},this.handleControl)}))}handleOpenWorkspace(e){return t(this,void 0,void 0,(function*(){const t=yield Y.openWorkspace(e.name,e.restoreOptions),n=Y.stateResolver.getWorkspaceConfig(t),i=this._converter.convertToAPIConfig(n);return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}))}handleExportAllLayouts(){return t(this,void 0,void 0,(function*(){return{layouts:yield Y.exportAllLayouts()}}))}handleSaveLayout(e){return t(this,void 0,void 0,(function*(){return yield Y.saveWorkspace(e.name,e.workspaceId,e.saveContext)}))}handleDeleteLayout(t){Y.deleteLayout(t.name)}handleGetWorkspaceSnapshot(t){const e=d.getById(t.itemId),n=Y.stateResolver.getWorkspaceConfig(e.id),i=this._converter.convertToAPIConfig(n);return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}handleGetAllWorkspaceSummaries(){return{summaries:d.layouts.map((t=>Y.stateResolver.getWorkspaceSummary(t.id)))}}handleCloseItem(t){Y.closeItem(t.itemId)}handleRestoreItem(t){Y.restoreItem(t.itemId)}handleMaximizeItem(t){Y.maximizeItem(t.itemId)}handleAddContainer(e){return t(this,void 0,void 0,(function*(){const t=this._converter.convertToRendererConfig(e.definition);if(\"workspace\"===t.type)throw new Error(\"Unsuccessful conversion\");const n={id:r(t.id),content:t.content,type:t.type,workspacesConfig:t.workspacesConfig};return{itemId:yield Y.addContainer(n,e.parentId)}}))}handleAddWindow(e){return t(this,void 0,void 0,(function*(){const t=this._configFactory.createGDWindowConfig({windowId:e.definition.windowId,id:void 0,appName:e.definition.appName,url:e.definition.url,context:e.definition.context});if(e.definition.windowId){const n=this._glue.windows.list().find((t=>t.id===e.definition.windowId)),i=yield n.getURL();t.componentState.url=i,t.componentState.appName=this._configFactory.getAppNameFromWindowId(n.id)}return yield Y.addWindow(t,e.parentId),{itemId:r(t.id)}}))}handleSetItemTitle(t){Y.setItemTitle(t.itemId,t.title)}handleAddWorkspaceChildren(e){return t(this,void 0,void 0,(function*(){const t=e.children.some((t=>\"row\"===t.type)),n=e.children.some((t=>\"column\"===t.type));if(n&&t)throw new Error(\"Can't add both row and column workspace children\");let i={type:\"column\",children:e.children};n&&(i={type:\"row\",children:e.children});const o=this._converter.convertToRendererConfig(i);yield Y.addContainer(o,e.workspaceId)}))}handleEject(e){return t(this,void 0,void 0,(function*(){const t=d.getWindowContentItem(e.itemId);if(!t)throw new Error(\"Could not find item \"+e.itemId);return yield Y.eject(t)}))}handleCreateWorkspace(e){return t(this,void 0,void 0,(function*(){e.config||(e.config={}),e.config.context=e.config.context||e.context;const t=this._converter.convertToRendererConfig(e),n=yield Y.createWorkspace(t),i=this._converter.convertToAPIConfig(Y.stateResolver.getWorkspaceConfig(n));return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}))}handleForceLoadWindow(e){return t(this,void 0,void 0,(function*(){return yield Y.loadWindow(e.itemId)}))}handleFocusItem(t){return Y.focusItem(t.itemId)}handleBundleWorkspace(t){return Y.bundleWorkspace(t.workspaceId,t.type)}handleIsWindowInWorkspace(t){return{inWorkspace:Y.stateResolver.isWindowInWorkspace(t.itemId)}}handleGetFrameSummary(e){return t(this,void 0,void 0,(function*(){return Y.getFrameSummary(e.itemId)}))}handleMoveFrame(e){return t(this,void 0,void 0,(function*(){yield Y.move(e.location)}))}handleGetFrameSnapshot(){return Y.stateResolver.getFrameSnapshot()}handleGetSnapshot(e){return t(this,void 0,void 0,(function*(){return Y.stateResolver.getSnapshot(e.itemId)}))}handleMoveWindowTo(e){return t(this,void 0,void 0,(function*(){return Y.moveWindowTo(e.itemId,e.containerId)}))}handleGenerateLayout(t){return Y.generateWorkspaceLayout(t.name,t.workspaceId)}handlePing(){return{live:!this._inDisposing}}handleHibernateWorkspace(e){return t(this,void 0,void 0,(function*(){return Y.hibernateWorkspace(e.workspaceId)}))}handleResumeWorkspace(e){return t(this,void 0,void 0,(function*(){return Y.resumeWorkspace(e.workspaceId)}))}publishEventData(t,e,n){if(this._glue.agm.methods().some((t=>t.name===this._workspacesEventMethod))){const i={action:t,type:n,payload:e};this._glue.agm.invoke(this._workspacesEventMethod,i).catch((()=>{}))}}},Z=n((function(t){\n/*!\n * jQuery JavaScript Library v3.5.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-05-04T22:49Z\n */\n!function(e,n){t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error(\"jQuery requires a window with a document\");return n(t)}}(\"undefined\"!=typeof window?window:e,(function(t,e){var n=[],i=Object.getPrototypeOf,o=n.slice,s=n.flat?function(t){return n.flat.call(t)}:function(t){return n.concat.apply([],t)},r=n.push,a=n.indexOf,c={},l=c.toString,d=c.hasOwnProperty,h=d.toString,u=h.call(Object),p={},m=function(t){return\"function\"==typeof t&&\"number\"!=typeof t.nodeType},f=function(t){return null!=t&&t===t.window},g=t.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function v(t,e,n){var i,o,s=(n=n||g).createElement(\"script\");if(s.text=t,e)for(i in y)(o=e[i]||e.getAttribute&&e.getAttribute(i))&&s.setAttribute(i,o);n.head.appendChild(s).parentNode.removeChild(s)}function w(t){return null==t?t+\"\":\"object\"==typeof t||\"function\"==typeof t?c[l.call(t)]||\"object\":typeof t}var _=\"3.5.1\",b=function(t,e){return new b.fn.init(t,e)};function C(t){var e=!!t&&\"length\"in t&&t.length,n=w(t);return!m(t)&&!f(t)&&(\"array\"===n||0===e||\"number\"==typeof e&&e>0&&e-1 in t)}b.fn=b.prototype={jquery:_,constructor:b,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=b.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return b.each(this,t)},map:function(t){return this.pushStack(b.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(b.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:n.sort,splice:n.splice},b.extend=b.fn.extend=function(){var t,e,n,i,o,s,r=arguments[0]||{},a=1,c=arguments.length,l=!1;for(\"boolean\"==typeof r&&(l=r,r=arguments[a]||{},a++),\"object\"==typeof r||m(r)||(r={}),a===c&&(r=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],\"__proto__\"!==e&&r!==i&&(l&&i&&(b.isPlainObject(i)||(o=Array.isArray(i)))?(n=r[e],s=o&&!Array.isArray(n)?[]:o||b.isPlainObject(n)?n:{},o=!1,r[e]=b.extend(l,s,i)):void 0!==i&&(r[e]=i));return r},b.extend({expando:\"jQuery\"+(_+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||\"[object Object]\"!==l.call(t))&&(!(e=i(t))||\"function\"==typeof(n=d.call(e,\"constructor\")&&e.constructor)&&h.call(n)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){v(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(C(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?b.merge(n,\"string\"==typeof t?[t]:t):r.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:a.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,s=t.length,r=!n;o<s;o++)!e(t[o],o)!==r&&i.push(t[o]);return i},map:function(t,e,n){var i,o,r=0,a=[];if(C(t))for(i=t.length;r<i;r++)null!=(o=e(t[r],r,n))&&a.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&a.push(o);return s(a)},guid:1,support:p}),\"function\"==typeof Symbol&&(b.fn[Symbol.iterator]=n[Symbol.iterator]),b.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),(function(t,e){c[\"[object \"+e+\"]\"]=e.toLowerCase()}));var I=\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\nfunction(t){var e,n,i,o,s,r,a,c,l,d,h,u,p,m,f,g,y,v,w,_=\"sizzle\"+1*new Date,b=t.document,C=0,I=0,k=ct(),x=ct(),E=ct(),W=ct(),S=function(t,e){return t===e&&(h=!0),0},T={}.hasOwnProperty,A=[],D=A.pop,P=A.push,M=A.push,L=A.slice,F=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},O=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",B=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",N=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",z=\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\"+N+\")(?:\"+B+\"*([*^$|!~]?=)\"+B+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+N+\"))|)\"+B+\"*\\\\]\",$=\":(\"+N+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+z+\")*)|.*)\\\\)|)\",R=new RegExp(B+\"+\",\"g\"),H=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]+$\",\"g\"),j=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*,[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),q=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*([>+~]|[\\\\x20\\\\t\\\\r\\\\n\\\\f])[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),U=new RegExp(B+\"|>\"),V=new RegExp($),G=new RegExp(\"^\"+N+\"$\"),X={ID:new RegExp(\"^#(\"+N+\")\"),CLASS:new RegExp(\"^\\\\.(\"+N+\")\"),TAG:new RegExp(\"^(\"+N+\"|[*])\"),ATTR:new RegExp(\"^\"+z),PSEUDO:new RegExp(\"^\"+$),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*(even|odd|(([+-]|)(\\\\d*)n|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:([+-]|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\\\\d+)|))[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+O+\")$\",\"i\"),needsContext:new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*((?:-\\\\d)?\\\\d*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,Q=/^[^{]+\\{\\s*\\[native \\w/,K=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,tt=/[+~]/,et=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),nt=function(t,e){var n=\"0x\"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,ot=function(t,e){return e?\"\\0\"===t?\"�\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\" \":\"\\\\\"+t},st=function(){u()},rt=_t((function(t){return!0===t.disabled&&\"fieldset\"===t.nodeName.toLowerCase()}),{dir:\"parentNode\",next:\"legend\"});try{M.apply(A=L.call(b.childNodes),b.childNodes),A[b.childNodes.length].nodeType}catch(t){M={apply:A.length?function(t,e){P.apply(t,L.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,o){var s,a,l,d,h,m,y,v=e&&e.ownerDocument,b=e?e.nodeType:9;if(i=i||[],\"string\"!=typeof t||!t||1!==b&&9!==b&&11!==b)return i;if(!o&&(u(e),e=e||p,f)){if(11!==b&&(h=K.exec(t)))if(s=h[1]){if(9===b){if(!(l=e.getElementById(s)))return i;if(l.id===s)return i.push(l),i}else if(v&&(l=v.getElementById(s))&&w(e,l)&&l.id===s)return i.push(l),i}else{if(h[2])return M.apply(i,e.getElementsByTagName(t)),i;if((s=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return M.apply(i,e.getElementsByClassName(s)),i}if(n.qsa&&!W[t+\" \"]&&(!g||!g.test(t))&&(1!==b||\"object\"!==e.nodeName.toLowerCase())){if(y=t,v=e,1===b&&(U.test(t)||q.test(t))){for((v=tt.test(t)&&yt(e.parentNode)||e)===e&&n.scope||((d=e.getAttribute(\"id\"))?d=d.replace(it,ot):e.setAttribute(\"id\",d=_)),a=(m=r(t)).length;a--;)m[a]=(d?\"#\"+d:\":scope\")+\" \"+wt(m[a]);y=m.join(\",\")}try{return M.apply(i,v.querySelectorAll(y)),i}catch(e){W(t,!0)}finally{d===_&&e.removeAttribute(\"id\")}}}return c(t.replace(H,\"$1\"),e,i,o)}function ct(){var t=[];return function e(n,o){return t.push(n+\" \")>i.cacheLength&&delete e[t.shift()],e[n+\" \"]=o}}function lt(t){return t[_]=!0,t}function dt(t){var e=p.createElement(\"fieldset\");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split(\"|\"),o=n.length;o--;)i.attrHandle[n[o]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t}}function mt(t){return function(e){var n=e.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&e.type===t}}function ft(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function gt(t){return lt((function(e){return e=+e,lt((function(n,i){for(var o,s=t([],n.length,e),r=s.length;r--;)n[o=s[r]]&&(n[o]=!(i[o]=n[o]))}))}))}function yt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!Y.test(e||n&&n.nodeName||\"HTML\")},u=at.setDocument=function(t){var e,o,r=t?t.ownerDocument||t:b;return r!=p&&9===r.nodeType&&r.documentElement?(m=(p=r).documentElement,f=!s(p),b!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener(\"unload\",st,!1):o.attachEvent&&o.attachEvent(\"onunload\",st)),n.scope=dt((function(t){return m.appendChild(t).appendChild(p.createElement(\"div\")),void 0!==t.querySelectorAll&&!t.querySelectorAll(\":scope fieldset div\").length})),n.attributes=dt((function(t){return t.className=\"i\",!t.getAttribute(\"className\")})),n.getElementsByTagName=dt((function(t){return t.appendChild(p.createComment(\"\")),!t.getElementsByTagName(\"*\").length})),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=dt((function(t){return m.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute(\"id\")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode(\"id\");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var n,i,o,s=e.getElementById(t);if(s){if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s];for(o=e.getElementsByName(t),i=0;s=o[i++];)if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,s=e.getElementsByTagName(t);if(\"*\"===t){for(;n=s[o++];)1===n.nodeType&&i.push(n);return i}return s},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&f)return e.getElementsByClassName(t)},y=[],g=[],(n.qsa=Q.test(p.querySelectorAll))&&(dt((function(t){var e;m.appendChild(t).innerHTML=\"<a id='\"+_+\"'></a><select id='\"+_+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",t.querySelectorAll(\"[msallowcapture^='']\").length&&g.push(\"[*^$]=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\"[selected]\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:value|\"+O+\")\"),t.querySelectorAll(\"[id~=\"+_+\"-]\").length||g.push(\"~=\"),(e=p.createElement(\"input\")).setAttribute(\"name\",\"\"),t.appendChild(e),t.querySelectorAll(\"[name='']\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\":checked\").length||g.push(\":checked\"),t.querySelectorAll(\"a#\"+_+\"+*\").length||g.push(\".#.+[+~]\"),t.querySelectorAll(\"\\\\\\f\"),g.push(\"[\\\\r\\\\n\\\\f]\")})),dt((function(t){t.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var e=p.createElement(\"input\");e.setAttribute(\"type\",\"hidden\"),t.appendChild(e).setAttribute(\"name\",\"D\"),t.querySelectorAll(\"[name=d]\").length&&g.push(\"name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[*^$|!~]?=\"),2!==t.querySelectorAll(\":enabled\").length&&g.push(\":enabled\",\":disabled\"),m.appendChild(t).disabled=!0,2!==t.querySelectorAll(\":disabled\").length&&g.push(\":enabled\",\":disabled\"),t.querySelectorAll(\"*,:x\"),g.push(\",.*:\")}))),(n.matchesSelector=Q.test(v=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&dt((function(t){n.disconnectedMatch=v.call(t,\"*\"),v.call(t,\"[s!='']:x\"),y.push(\"!=\",$)})),g=g.length&&new RegExp(g.join(\"|\")),y=y.length&&new RegExp(y.join(\"|\")),e=Q.test(m.compareDocumentPosition),w=e||Q.test(m.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==p||t.ownerDocument==b&&w(b,t)?-1:e==p||e.ownerDocument==b&&w(b,e)?1:d?F(d,t)-F(d,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,r=[t],a=[e];if(!o||!s)return t==p?-1:e==p?1:o?-1:s?1:d?F(d,t)-F(d,e):0;if(o===s)return ut(t,e);for(n=t;n=n.parentNode;)r.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;r[i]===a[i];)i++;return i?ut(r[i],a[i]):r[i]==b?-1:a[i]==b?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(u(t),n.matchesSelector&&f&&!W[e+\" \"]&&(!y||!y.test(e))&&(!g||!g.test(e)))try{var i=v.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){W(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&u(t),w(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&u(t);var o=i.attrHandle[e.toLowerCase()],s=o&&T.call(i.attrHandle,e.toLowerCase())?o(t,e,!f):void 0;return void 0!==s?s:n.attributes||!f?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+\"\").replace(it,ot)},at.error=function(t){throw new Error(\"Syntax error, unrecognized expression: \"+t)},at.uniqueSort=function(t){var e,i=[],o=0,s=0;if(h=!n.detectDuplicates,d=!n.sortStable&&t.slice(0),t.sort(S),h){for(;e=t[s++];)e===t[s]&&(o=i.push(s));for(;o--;)t.splice(i[o],1)}return d=null,t},o=at.getText=function(t){var e,n=\"\",i=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if(\"string\"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[i++];)n+=o(e);return n},(i=at.selectors={cacheLength:50,createPseudo:lt,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||\"\").replace(et,nt),\"~=\"===t[2]&&(t[3]=\" \"+t[3]+\" \"),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),\"nth\"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(\"even\"===t[3]||\"odd\"===t[3])),t[5]=+(t[7]+t[8]||\"odd\"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||\"\":n&&V.test(n)&&(e=r(n,!0))&&(e=n.indexOf(\")\",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return\"*\"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+\" \"];return e||(e=new RegExp(\"(^|[\\\\x20\\\\t\\\\r\\\\n\\\\f])\"+t+\"(\"+B+\"|$)\"))&&k(t,(function(t){return e.test(\"string\"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute(\"class\")||\"\")}))},ATTR:function(t,e,n){return function(i){var o=at.attr(i,t);return null==o?\"!=\"===e:!e||(o+=\"\",\"=\"===e?o===n:\"!=\"===e?o!==n:\"^=\"===e?n&&0===o.indexOf(n):\"*=\"===e?n&&o.indexOf(n)>-1:\"$=\"===e?n&&o.slice(-n.length)===n:\"~=\"===e?(\" \"+o.replace(R,\" \")+\" \").indexOf(n)>-1:\"|=\"===e&&(o===n||o.slice(0,n.length+1)===n+\"-\"))}},CHILD:function(t,e,n,i,o){var s=\"nth\"!==t.slice(0,3),r=\"last\"!==t.slice(-4),a=\"of-type\"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,c){var l,d,h,u,p,m,f=s!==r?\"nextSibling\":\"previousSibling\",g=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!c&&!a,w=!1;if(g){if(s){for(;f;){for(u=e;u=u[f];)if(a?u.nodeName.toLowerCase()===y:1===u.nodeType)return!1;m=f=\"only\"===t&&!m&&\"nextSibling\"}return!0}if(m=[r?g.firstChild:g.lastChild],r&&v){for(w=(p=(l=(d=(h=(u=g)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===C&&l[1])&&l[2],u=p&&g.childNodes[p];u=++p&&u&&u[f]||(w=p=0)||m.pop();)if(1===u.nodeType&&++w&&u===e){d[t]=[C,p,w];break}}else if(v&&(w=p=(l=(d=(h=(u=e)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===C&&l[1]),!1===w)for(;(u=++p&&u&&u[f]||(w=p=0)||m.pop())&&((a?u.nodeName.toLowerCase()!==y:1!==u.nodeType)||!++w||(v&&((d=(h=u[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]=[C,w]),u!==e)););return(w-=o)===i||w%i==0&&w/i>=0}}},PSEUDO:function(t,e){var n,o=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error(\"unsupported pseudo: \"+t);return o[_]?o(e):o.length>1?(n=[t,t,\"\",e],i.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var i,s=o(t,e),r=s.length;r--;)t[i=F(t,s[r])]=!(n[i]=s[r])})):function(t){return o(t,0,n)}):o}},pseudos:{not:lt((function(t){var e=[],n=[],i=a(t.replace(H,\"$1\"));return i[_]?lt((function(t,e,n,o){for(var s,r=i(t,null,o,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))})):function(t,o,s){return e[0]=t,i(e,null,s,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||o(e)).indexOf(t)>-1}})),lang:lt((function(t){return G.test(t||\"\")||at.error(\"unsupported lang: \"+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=f?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(n=n.toLowerCase())===t||0===n.indexOf(t+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===m},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&!!t.checked||\"option\"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&\"button\"===t.type||\"button\"===e},text:function(t){var e;return\"input\"===t.nodeName.toLowerCase()&&\"text\"===t.type&&(null==(e=t.getAttribute(\"type\"))||\"text\"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:gt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=mt(e);function vt(){}function wt(t){for(var e=0,n=t.length,i=\"\";e<n;e++)i+=t[e].value;return i}function _t(t,e,n){var i=e.dir,o=e.next,s=o||i,r=n&&\"parentNode\"===s,a=I++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o);return!1}:function(e,n,c){var l,d,h,u=[C,a];if(c){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,c))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(d=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=d[s])&&l[0]===C&&l[1]===a)return u[2]=l[2];if(d[s]=u,u[2]=t(e,n,c))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function Ct(t,e,n,i,o){for(var s,r=[],a=0,c=t.length,l=null!=e;a<c;a++)(s=t[a])&&(n&&!n(s,i,o)||(r.push(s),l&&e.push(a)));return r}function It(t,e,n,i,o,s){return i&&!i[_]&&(i=It(i)),o&&!o[_]&&(o=It(o,s)),lt((function(s,r,a,c){var l,d,h,u=[],p=[],m=r.length,f=s||function(t,e,n){for(var i=0,o=e.length;i<o;i++)at(t,e[i],n);return n}(e||\"*\",a.nodeType?[a]:a,[]),g=!t||!s&&e?f:Ct(f,u,t,a,c),y=n?o||(s?t:m||i)?[]:r:g;if(n&&n(g,y,a,c),i)for(l=Ct(y,p),i(l,[],a,c),d=l.length;d--;)(h=l[d])&&(y[p[d]]=!(g[p[d]]=h));if(s){if(o||t){if(o){for(l=[],d=y.length;d--;)(h=y[d])&&l.push(g[d]=h);o(null,y=[],l,c)}for(d=y.length;d--;)(h=y[d])&&(l=o?F(s,h):u[d])>-1&&(s[l]=!(r[l]=h))}}else y=Ct(y===r?y.splice(m,y.length):y),o?o(null,r,y,c):M.apply(r,y)}))}function kt(t){for(var e,n,o,s=t.length,r=i.relative[t[0].type],a=r||i.relative[\" \"],c=r?1:0,d=_t((function(t){return t===e}),a,!0),h=_t((function(t){return F(e,t)>-1}),a,!0),u=[function(t,n,i){var o=!r&&(i||n!==l)||((e=n).nodeType?d(t,n,i):h(t,n,i));return e=null,o}];c<s;c++)if(n=i.relative[t[c].type])u=[_t(bt(u),n)];else{if((n=i.filter[t[c].type].apply(null,t[c].matches))[_]){for(o=++c;o<s&&!i.relative[t[o].type];o++);return It(c>1&&bt(u),c>1&&wt(t.slice(0,c-1).concat({value:\" \"===t[c-2].type?\"*\":\"\"})).replace(H,\"$1\"),n,c<o&&kt(t.slice(c,o)),o<s&&kt(t=t.slice(o)),o<s&&wt(t))}u.push(n)}return bt(u)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,r=at.tokenize=function(t,e){var n,o,s,r,a,c,l,d=x[t+\" \"];if(d)return e?0:d.slice(0);for(a=t,c=[],l=i.preFilter;a;){for(r in n&&!(o=j.exec(a))||(o&&(a=a.slice(o[0].length)||a),c.push(s=[])),n=!1,(o=q.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(H,\" \")}),a=a.slice(n.length)),i.filter)!(o=X[r].exec(a))||l[r]&&!(o=l[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):x(t,c).slice(0)},a=at.compile=function(t,e){var n,o=[],s=[],a=E[t+\" \"];if(!a){for(e||(e=r(t)),n=e.length;n--;)(a=kt(e[n]))[_]?o.push(a):s.push(a);(a=E(t,function(t,e){var n=e.length>0,o=t.length>0,s=function(s,r,a,c,d){var h,m,g,y=0,v=\"0\",w=s&&[],_=[],b=l,I=s||o&&i.find.TAG(\"*\",d),k=C+=null==b?1:Math.random()||.1,x=I.length;for(d&&(l=r==p||r||d);v!==x&&null!=(h=I[v]);v++){if(o&&h){for(m=0,r||h.ownerDocument==p||(u(h),a=!f);g=t[m++];)if(g(h,r||p,a)){c.push(h);break}d&&(C=k)}n&&((h=!g&&h)&&y--,s&&w.push(h))}if(y+=v,n&&v!==y){for(m=0;g=e[m++];)g(w,_,r,a);if(s){if(y>0)for(;v--;)w[v]||_[v]||(_[v]=D.call(c));_=Ct(_)}M.apply(c,_),d&&!s&&_.length>0&&y+e.length>1&&at.uniqueSort(c)}return d&&(C=k,l=b),w};return n?lt(s):s}(s,o))).selector=t}return a},c=at.select=function(t,e,n,o){var s,c,l,d,h,u=\"function\"==typeof t&&t,p=!o&&r(t=u.selector||t);if(n=n||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&\"ID\"===(l=c[0]).type&&9===e.nodeType&&f&&i.relative[c[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(s=X.needsContext.test(t)?0:c.length;s--&&(l=c[s],!i.relative[d=l.type]);)if((h=i.find[d])&&(o=h(l.matches[0].replace(et,nt),tt.test(c[0].type)&&yt(e.parentNode)||e))){if(c.splice(s,1),!(t=o.length&&wt(c)))return M.apply(n,o),n;break}}return(u||a(t,p))(o,e,!f,n,!e||tt.test(t)&&yt(e.parentNode)||e),n},n.sortStable=_.split(\"\").sort(S).join(\"\")===_,n.detectDuplicates=!!h,u(),n.sortDetached=dt((function(t){return 1&t.compareDocumentPosition(p.createElement(\"fieldset\"))})),dt((function(t){return t.innerHTML=\"<a href='#'></a>\",\"#\"===t.firstChild.getAttribute(\"href\")}))||ht(\"type|href|height|width\",(function(t,e,n){if(!n)return t.getAttribute(e,\"type\"===e.toLowerCase()?1:2)})),n.attributes&&dt((function(t){return t.innerHTML=\"<input/>\",t.firstChild.setAttribute(\"value\",\"\"),\"\"===t.firstChild.getAttribute(\"value\")}))||ht(\"value\",(function(t,e,n){if(!n&&\"input\"===t.nodeName.toLowerCase())return t.defaultValue})),dt((function(t){return null==t.getAttribute(\"disabled\")}))||ht(O,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(t);b.find=I,b.expr=I.selectors,b.expr[\":\"]=b.expr.pseudos,b.uniqueSort=b.unique=I.uniqueSort,b.text=I.getText,b.isXMLDoc=I.isXML,b.contains=I.contains,b.escapeSelector=I.escape;var k=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&b(t).is(n))break;i.push(t)}return i},x=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},E=b.expr.match.needsContext;function W(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var S=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function T(t,e,n){return m(e)?b.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?b.grep(t,(function(t){return t===e!==n})):\"string\"!=typeof e?b.grep(t,(function(t){return a.call(e,t)>-1!==n})):b.filter(e,t,n)}b.filter=function(t,e,n){var i=e[0];return n&&(t=\":not(\"+t+\")\"),1===e.length&&1===i.nodeType?b.find.matchesSelector(i,t)?[i]:[]:b.find.matches(t,b.grep(e,(function(t){return 1===t.nodeType})))},b.fn.extend({find:function(t){var e,n,i=this.length,o=this;if(\"string\"!=typeof t)return this.pushStack(b(t).filter((function(){for(e=0;e<i;e++)if(b.contains(o[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)b.find(t,o[e],n);return i>1?b.uniqueSort(n):n},filter:function(t){return this.pushStack(T(this,t||[],!1))},not:function(t){return this.pushStack(T(this,t||[],!0))},is:function(t){return!!T(this,\"string\"==typeof t&&E.test(t)?b(t):t||[],!1).length}});var A,D=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(b.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||A,\"string\"==typeof t){if(!(i=\"<\"===t[0]&&\">\"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof b?e[0]:e,b.merge(this,b.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:g,!0)),S.test(i[1])&&b.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(o=g.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(b):b.makeArray(t,this)}).prototype=b.fn,A=b(g);var P=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function L(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}b.fn.extend({has:function(t){var e=b(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(b.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,o=this.length,s=[],r=\"string\"!=typeof t&&b(t);if(!E.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&b.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?b.uniqueSort(s):s)},index:function(t){return t?\"string\"==typeof t?a.call(b(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),b.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return k(t,\"parentNode\")},parentsUntil:function(t,e,n){return k(t,\"parentNode\",n)},next:function(t){return L(t,\"nextSibling\")},prev:function(t){return L(t,\"previousSibling\")},nextAll:function(t){return k(t,\"nextSibling\")},prevAll:function(t){return k(t,\"previousSibling\")},nextUntil:function(t,e,n){return k(t,\"nextSibling\",n)},prevUntil:function(t,e,n){return k(t,\"previousSibling\",n)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(W(t,\"template\")&&(t=t.content||t),b.merge([],t.childNodes))}},(function(t,e){b.fn[t]=function(n,i){var o=b.map(this,e,n);return\"Until\"!==t.slice(-5)&&(i=n),i&&\"string\"==typeof i&&(o=b.filter(i,o)),this.length>1&&(M[t]||b.uniqueSort(o),P.test(t)&&o.reverse()),this.pushStack(o)}}));var F=/[^\\x20\\t\\r\\n\\f]+/g;function O(t){return t}function B(t){throw t}function N(t,e,n,i){var o;try{t&&m(o=t.promise)?o.call(t).done(e).fail(n):t&&m(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}b.Callbacks=function(t){t=\"string\"==typeof t?function(t){var e={};return b.each(t.match(F)||[],(function(t,n){e[n]=!0})),e}(t):b.extend({},t);var e,n,i,o,s=[],r=[],a=-1,c=function(){for(o=o||t.once,i=e=!0;r.length;a=-1)for(n=r.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=s.length,n=!1);t.memory||(n=!1),e=!1,o&&(s=n?[]:\"\")},l={add:function(){return s&&(n&&!e&&(a=s.length-1,r.push(n)),function e(n){b.each(n,(function(n,i){m(i)?t.unique&&l.has(i)||s.push(i):i&&i.length&&\"string\"!==w(i)&&e(i)}))}(arguments),n&&!e&&c()),this},remove:function(){return b.each(arguments,(function(t,e){for(var n;(n=b.inArray(e,s,n))>-1;)s.splice(n,1),n<=a&&a--})),this},has:function(t){return t?b.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=r=[],s=n=\"\",this},disabled:function(){return!s},lock:function(){return o=r=[],n||e||(s=n=\"\"),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],r.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},b.extend({Deferred:function(e){var n=[[\"notify\",\"progress\",b.Callbacks(\"memory\"),b.Callbacks(\"memory\"),2],[\"resolve\",\"done\",b.Callbacks(\"once memory\"),b.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",b.Callbacks(\"once memory\"),b.Callbacks(\"once memory\"),1,\"rejected\"]],i=\"pending\",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return b.Deferred((function(e){b.each(n,(function(n,i){var o=m(t[i[4]])&&t[i[4]];s[i[1]]((function(){var t=o&&o.apply(this,arguments);t&&m(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+\"With\"](this,o?[t]:arguments)}))})),t=null})).promise()},then:function(e,i,o){var s=0;function r(e,n,i,o){return function(){var a=this,c=arguments,l=function(){var t,l;if(!(e<s)){if((t=i.apply(a,c))===n.promise())throw new TypeError(\"Thenable self-resolution\");l=t&&(\"object\"==typeof t||\"function\"==typeof t)&&t.then,m(l)?o?l.call(t,r(s,n,O,o),r(s,n,B,o)):(s++,l.call(t,r(s,n,O,o),r(s,n,B,o),r(s,n,O,n.notifyWith))):(i!==O&&(a=void 0,c=[t]),(o||n.resolveWith)(a,c))}},d=o?l:function(){try{l()}catch(t){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(t,d.stackTrace),e+1>=s&&(i!==B&&(a=void 0,c=[t]),n.rejectWith(a,c))}};e?d():(b.Deferred.getStackHook&&(d.stackTrace=b.Deferred.getStackHook()),t.setTimeout(d))}}return b.Deferred((function(t){n[0][3].add(r(0,t,m(o)?o:O,t.notifyWith)),n[1][3].add(r(0,t,m(e)?e:O)),n[2][3].add(r(0,t,m(i)?i:B))})).promise()},promise:function(t){return null!=t?b.extend(t,o):o}},s={};return b.each(n,(function(t,e){var r=e[2],a=e[5];o[e[1]]=r.add,a&&r.add((function(){i=a}),n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+\"With\"](this===s?void 0:this,arguments),this},s[e[0]+\"With\"]=r.fireWith})),o.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,n=e,i=Array(n),s=o.call(arguments),r=b.Deferred(),a=function(t){return function(n){i[t]=this,s[t]=arguments.length>1?o.call(arguments):n,--e||r.resolveWith(i,s)}};if(e<=1&&(N(t,r.done(a(n)).resolve,r.reject,!e),\"pending\"===r.state()||m(s[n]&&s[n].then)))return r.then();for(;n--;)N(s[n],a(n),r.reject);return r.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&z.test(e.name)&&t.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,n)},b.readyException=function(e){t.setTimeout((function(){throw e}))};var $=b.Deferred();function R(){g.removeEventListener(\"DOMContentLoaded\",R),t.removeEventListener(\"load\",R),b.ready()}b.fn.ready=function(t){return $.then(t).catch((function(t){b.readyException(t)})),this},b.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==t&&--b.readyWait>0||$.resolveWith(g,[b]))}}),b.ready.then=$.then,\"complete\"===g.readyState||\"loading\"!==g.readyState&&!g.documentElement.doScroll?t.setTimeout(b.ready):(g.addEventListener(\"DOMContentLoaded\",R),t.addEventListener(\"load\",R));var H=function(t,e,n,i,o,s,r){var a=0,c=t.length,l=null==n;if(\"object\"===w(n))for(a in o=!0,n)H(t,e,a,n[a],!0,s,r);else if(void 0!==i&&(o=!0,m(i)||(r=!0),l&&(r?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(b(t),n)})),e))for(;a<c;a++)e(t[a],n,r?i:i.call(t[a],a,e(t[a],n)));return o?t:l?e.call(t):c?e(t[0],n):s},j=/^-ms-/,q=/-([a-z])/g;function U(t,e){return e.toUpperCase()}function V(t){return t.replace(j,\"ms-\").replace(q,U)}var G=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=b.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},G(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if(\"string\"==typeof e)o[V(e)]=n;else for(i in e)o[V(i)]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][V(e)]},access:function(t,e,n){return void 0===e||e&&\"string\"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(V):(e=V(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||b.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!b.isEmptyObject(e)}};var Y=new X,J=new X,Z=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function K(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i=\"data-\"+e.replace(Q,\"-$&\").toLowerCase(),\"string\"==typeof(n=t.getAttribute(i))){try{n=function(t){return\"true\"===t||\"false\"!==t&&(\"null\"===t?null:t===+t+\"\"?+t:Z.test(t)?JSON.parse(t):t)}(n)}catch(t){}J.set(t,e,n)}else n=void 0;return n}b.extend({hasData:function(t){return J.hasData(t)||Y.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return Y.access(t,e,n)},_removeData:function(t,e){Y.remove(t,e)}}),b.fn.extend({data:function(t,e){var n,i,o,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(o=J.get(s),1===s.nodeType&&!Y.get(s,\"hasDataAttrs\"))){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf(\"data-\")&&(i=V(i.slice(5)),K(s,i,o[i]));Y.set(s,\"hasDataAttrs\",!0)}return o}return\"object\"==typeof t?this.each((function(){J.set(this,t)})):H(this,(function(e){var n;if(s&&void 0===e)return void 0!==(n=J.get(s,t))||void 0!==(n=K(s,t))?n:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),b.extend({queue:function(t,e,n){var i;if(t)return e=(e||\"fx\")+\"queue\",i=Y.get(t,e),n&&(!i||Array.isArray(n)?i=Y.access(t,e,b.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||\"fx\";var n=b.queue(t,e),i=n.length,o=n.shift(),s=b._queueHooks(t,e);\"inprogress\"===o&&(o=n.shift(),i--),o&&(\"fx\"===e&&n.unshift(\"inprogress\"),delete s.stop,o.call(t,(function(){b.dequeue(t,e)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+\"queueHooks\";return Y.get(t,n)||Y.access(t,n,{empty:b.Callbacks(\"once memory\").add((function(){Y.remove(t,[e+\"queue\",n])}))})}}),b.fn.extend({queue:function(t,e){var n=2;return\"string\"!=typeof t&&(e=t,t=\"fx\",n--),arguments.length<n?b.queue(this[0],t):void 0===e?this:this.each((function(){var n=b.queue(this,t,e);b._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==n[0]&&b.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){b.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||\"fx\",[])},promise:function(t,e){var n,i=1,o=b.Deferred(),s=this,r=this.length,a=function(){--i||o.resolveWith(s,[s])};for(\"string\"!=typeof t&&(e=t,t=void 0),t=t||\"fx\";r--;)(n=Y.get(s[r],t+\"queueHooks\"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}});var tt=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,et=new RegExp(\"^(?:([+-])=|)(\"+tt+\")([a-z%]*)$\",\"i\"),nt=[\"Top\",\"Right\",\"Bottom\",\"Left\"],it=g.documentElement,ot=function(t){return b.contains(t.ownerDocument,t)},st={composed:!0};it.getRootNode&&(ot=function(t){return b.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return\"none\"===(t=e||t).style.display||\"\"===t.style.display&&ot(t)&&\"none\"===b.css(t,\"display\")};function at(t,e,n,i){var o,s,r=20,a=i?function(){return i.cur()}:function(){return b.css(t,e,\"\")},c=a(),l=n&&n[3]||(b.cssNumber[e]?\"\":\"px\"),d=t.nodeType&&(b.cssNumber[e]||\"px\"!==l&&+c)&&et.exec(b.css(t,e));if(d&&d[3]!==l){for(c/=2,l=l||d[3],d=+c||1;r--;)b.style(t,e,d+l),(1-s)*(1-(s=a()/c||.5))<=0&&(r=0),d/=s;d*=2,b.style(t,e,d+l),n=n||[]}return n&&(d=+d||+c||0,o=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=d,i.end=o)),o}var ct={};function lt(t){var e,n=t.ownerDocument,i=t.nodeName,o=ct[i];return o||(e=n.body.appendChild(n.createElement(i)),o=b.css(e,\"display\"),e.parentNode.removeChild(e),\"none\"===o&&(o=\"block\"),ct[i]=o,o)}function dt(t,e){for(var n,i,o=[],s=0,r=t.length;s<r;s++)(i=t[s]).style&&(n=i.style.display,e?(\"none\"===n&&(o[s]=Y.get(i,\"display\")||null,o[s]||(i.style.display=\"\")),\"\"===i.style.display&&rt(i)&&(o[s]=lt(i))):\"none\"!==n&&(o[s]=\"none\",Y.set(i,\"display\",n)));for(s=0;s<r;s++)null!=o[s]&&(t[s].style.display=o[s]);return t}b.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return\"boolean\"==typeof t?t?this.show():this.hide():this.each((function(){rt(this)?b(this).show():b(this).hide()}))}});var ht,ut,pt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,ft=/^$|^module$|\\/(?:java|ecma)script/i;ht=g.createDocumentFragment().appendChild(g.createElement(\"div\")),(ut=g.createElement(\"input\")).setAttribute(\"type\",\"radio\"),ut.setAttribute(\"checked\",\"checked\"),ut.setAttribute(\"name\",\"t\"),ht.appendChild(ut),p.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML=\"<textarea>x</textarea>\",p.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML=\"<option></option>\",p.option=!!ht.lastChild;var gt={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function yt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||\"*\"):void 0!==t.querySelectorAll?t.querySelectorAll(e||\"*\"):[],void 0===e||e&&W(t,e)?b.merge([t],n):n}function vt(t,e){for(var n=0,i=t.length;n<i;n++)Y.set(t[n],\"globalEval\",!e||Y.get(e[n],\"globalEval\"))}gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,p.option||(gt.optgroup=gt.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var wt=/<|&#?\\w+;/;function _t(t,e,n,i,o){for(var s,r,a,c,l,d,h=e.createDocumentFragment(),u=[],p=0,m=t.length;p<m;p++)if((s=t[p])||0===s)if(\"object\"===w(s))b.merge(u,s.nodeType?[s]:s);else if(wt.test(s)){for(r=r||h.appendChild(e.createElement(\"div\")),a=(mt.exec(s)||[\"\",\"\"])[1].toLowerCase(),c=gt[a]||gt._default,r.innerHTML=c[1]+b.htmlPrefilter(s)+c[2],d=c[0];d--;)r=r.lastChild;b.merge(u,r.childNodes),(r=h.firstChild).textContent=\"\"}else u.push(e.createTextNode(s));for(h.textContent=\"\",p=0;s=u[p++];)if(i&&b.inArray(s,i)>-1)o&&o.push(s);else if(l=ot(s),r=yt(h.appendChild(s),\"script\"),l&&vt(r),n)for(d=0;s=r[d++];)ft.test(s.type||\"\")&&n.push(s);return h}var bt=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,It=/^([^.]*)(?:\\.(.+)|)/;function kt(){return!0}function xt(){return!1}function Et(t,e){return t===function(){try{return g.activeElement}catch(t){}}()==(\"focus\"===e)}function Wt(t,e,n,i,o,s){var r,a;if(\"object\"==typeof e){for(a in\"string\"!=typeof n&&(i=i||n,n=void 0),e)Wt(t,a,n,i,e[a],s);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&(\"string\"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=xt;else if(!o)return t;return 1===s&&(r=o,(o=function(t){return b().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=b.guid++)),t.each((function(){b.event.add(this,e,o,i,n)}))}function St(t,e,n){n?(Y.set(t,e,!1),b.event.add(t,e,{namespace:!1,handler:function(t){var i,s,r=Y.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(b.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=o.call(arguments),Y.set(this,e,r),i=n(this,e),this[e](),r!==(s=Y.get(this,e))||i?Y.set(this,e,!1):s={},r!==s)return t.stopImmediatePropagation(),t.preventDefault(),s.value}else r.length&&(Y.set(this,e,{value:b.event.trigger(b.extend(r[0],b.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,e)&&b.event.add(t,e,kt)}b.event={global:{},add:function(t,e,n,i,o){var s,r,a,c,l,d,h,u,p,m,f,g=Y.get(t);if(G(t))for(n.handler&&(n=(s=n).handler,o=s.selector),o&&b.find.matchesSelector(it,o),n.guid||(n.guid=b.guid++),(c=g.events)||(c=g.events=Object.create(null)),(r=g.handle)||(r=g.handle=function(e){return void 0!==b&&b.event.triggered!==e.type?b.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||\"\").match(F)||[\"\"]).length;l--;)p=f=(a=It.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p&&(h=b.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=b.event.special[p]||{},d=b.extend({type:p,origType:f,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&b.expr.match.needsContext.test(o),namespace:m.join(\".\")},s),(u=c[p])||((u=c[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,m,r)||t.addEventListener&&t.addEventListener(p,r)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?u.splice(u.delegateCount++,0,d):u.push(d),b.event.global[p]=!0)},remove:function(t,e,n,i,o){var s,r,a,c,l,d,h,u,p,m,f,g=Y.hasData(t)&&Y.get(t);if(g&&(c=g.events)){for(l=(e=(e||\"\").match(F)||[\"\"]).length;l--;)if(p=f=(a=It.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p){for(h=b.event.special[p]||{},u=c[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp(\"(^|\\\\.)\"+m.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),r=s=u.length;s--;)d=u[s],!o&&f!==d.origType||n&&n.guid!==d.guid||a&&!a.test(d.namespace)||i&&i!==d.selector&&(\"**\"!==i||!d.selector)||(u.splice(s,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(t,d));r&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,m,g.handle)||b.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)b.event.remove(t,p+e[l],n,i,!0);b.isEmptyObject(c)&&Y.remove(t,\"handle events\")}},dispatch:function(t){var e,n,i,o,s,r,a=new Array(arguments.length),c=b.event.fix(t),l=(Y.get(this,\"events\")||Object.create(null))[c.type]||[],d=b.event.special[c.type]||{};for(a[0]=c,e=1;e<arguments.length;e++)a[e]=arguments[e];if(c.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,c)){for(r=b.event.handlers.call(this,c,l),e=0;(o=r[e++])&&!c.isPropagationStopped();)for(c.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==s.namespace&&!c.rnamespace.test(s.namespace)||(c.handleObj=s,c.data=s.data,void 0!==(i=((b.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,a))&&!1===(c.result=i)&&(c.preventDefault(),c.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,c),c.result}},handlers:function(t,e){var n,i,o,s,r,a=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!(\"click\"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==t.type||!0!==l.disabled)){for(s=[],r={},n=0;n<c;n++)void 0===r[o=(i=e[n]).selector+\" \"]&&(r[o]=i.needsContext?b(o,this).index(l)>-1:b.find(o,this,null,[l]).length),r[o]&&s.push(i);s.length&&a.push({elem:l,handlers:s})}return l=this,c<e.length&&a.push({elem:l,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(b.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[b.expando]?t:new b.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return pt.test(e.type)&&e.click&&W(e,\"input\")&&St(e,\"click\",kt),!1},trigger:function(t){var e=this||t;return pt.test(e.type)&&e.click&&W(e,\"input\")&&St(e,\"click\"),!0},_default:function(t){var e=t.target;return pt.test(e.type)&&e.click&&W(e,\"input\")&&Y.get(e,\"click\")||W(e,\"a\")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},b.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},b.Event=function(t,e){if(!(this instanceof b.Event))return new b.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?kt:xt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&b.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:xt,isPropagationStopped:xt,isImmediatePropagationStopped:xt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=kt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=kt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=kt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&bt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},b.event.addProp),b.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){b.event.special[t]={setup:function(){return St(this,t,Et),!1},trigger:function(){return St(this,t),!0},delegateType:e}})),b.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},(function(t,e){b.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,s=t.handleObj;return o&&(o===i||b.contains(i,o))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}})),b.fn.extend({on:function(t,e,n,i){return Wt(this,t,e,n,i)},one:function(t,e,n,i){return Wt(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,b(t.delegateTarget).off(i.namespace?i.origType+\".\"+i.namespace:i.origType,i.selector,i.handler),this;if(\"object\"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&\"function\"!=typeof e||(n=e,e=void 0),!1===n&&(n=xt),this.each((function(){b.event.remove(this,t,n,e)}))}});var Tt=/<script|<style|<link/i,At=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Dt=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Pt(t,e){return W(t,\"table\")&&W(11!==e.nodeType?e:e.firstChild,\"tr\")&&b(t).children(\"tbody\")[0]||t}function Mt(t){return t.type=(null!==t.getAttribute(\"type\"))+\"/\"+t.type,t}function Lt(t){return\"true/\"===(t.type||\"\").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute(\"type\"),t}function Ft(t,e){var n,i,o,s,r,a;if(1===e.nodeType){if(Y.hasData(t)&&(a=Y.get(t).events))for(o in Y.remove(e,\"handle events\"),a)for(n=0,i=a[o].length;n<i;n++)b.event.add(e,o,a[o][n]);J.hasData(t)&&(s=J.access(t),r=b.extend({},s),J.set(e,r))}}function Ot(t,e){var n=e.nodeName.toLowerCase();\"input\"===n&&pt.test(t.type)?e.checked=t.checked:\"input\"!==n&&\"textarea\"!==n||(e.defaultValue=t.defaultValue)}function Bt(t,e,n,i){e=s(e);var o,r,a,c,l,d,h=0,u=t.length,f=u-1,g=e[0],y=m(g);if(y||u>1&&\"string\"==typeof g&&!p.checkClone&&At.test(g))return t.each((function(o){var s=t.eq(o);y&&(e[0]=g.call(this,o,s.html())),Bt(s,e,n,i)}));if(u&&(r=(o=_t(e,t[0].ownerDocument,!1,t,i)).firstChild,1===o.childNodes.length&&(o=r),r||i)){for(c=(a=b.map(yt(o,\"script\"),Mt)).length;h<u;h++)l=o,h!==f&&(l=b.clone(l,!0,!0),c&&b.merge(a,yt(l,\"script\"))),n.call(t[h],l,h);if(c)for(d=a[a.length-1].ownerDocument,b.map(a,Lt),h=0;h<c;h++)l=a[h],ft.test(l.type||\"\")&&!Y.access(l,\"globalEval\")&&b.contains(d,l)&&(l.src&&\"module\"!==(l.type||\"\").toLowerCase()?b._evalUrl&&!l.noModule&&b._evalUrl(l.src,{nonce:l.nonce||l.getAttribute(\"nonce\")},d):v(l.textContent.replace(Dt,\"\"),l,d))}return t}function Nt(t,e,n){for(var i,o=e?b.filter(e,t):t,s=0;null!=(i=o[s]);s++)n||1!==i.nodeType||b.cleanData(yt(i)),i.parentNode&&(n&&ot(i)&&vt(yt(i,\"script\")),i.parentNode.removeChild(i));return t}b.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,o,s,r,a=t.cloneNode(!0),c=ot(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||b.isXMLDoc(t)))for(r=yt(a),i=0,o=(s=yt(t)).length;i<o;i++)Ot(s[i],r[i]);if(e)if(n)for(s=s||yt(t),r=r||yt(a),i=0,o=s.length;i<o;i++)Ft(s[i],r[i]);else Ft(t,a);return(r=yt(a,\"script\")).length>0&&vt(r,!c&&yt(t,\"script\")),a},cleanData:function(t){for(var e,n,i,o=b.event.special,s=0;void 0!==(n=t[s]);s++)if(G(n)){if(e=n[Y.expando]){if(e.events)for(i in e.events)o[i]?b.event.remove(n,i):b.removeEvent(n,i,e.handle);n[Y.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),b.fn.extend({detach:function(t){return Nt(this,t,!0)},remove:function(t){return Nt(this,t)},text:function(t){return H(this,(function(t){return void 0===t?b.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Bt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)}))},prepend:function(){return Bt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(b.cleanData(yt(t,!1)),t.textContent=\"\");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return b.clone(this,t,e)}))},html:function(t){return H(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if(\"string\"==typeof t&&!Tt.test(t)&&!gt[(mt.exec(t)||[\"\",\"\"])[1].toLowerCase()]){t=b.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(b.cleanData(yt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Bt(this,arguments,(function(e){var n=this.parentNode;b.inArray(this,t)<0&&(b.cleanData(yt(this)),n&&n.replaceChild(e,this))}),t)}}),b.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},(function(t,e){b.fn[t]=function(t){for(var n,i=[],o=b(t),s=o.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),b(o[a])[e](n),r.apply(i,n.get());return this.pushStack(i)}}));var zt=new RegExp(\"^(\"+tt+\")(?!px)[a-z%]+$\",\"i\"),$t=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Rt=function(t,e,n){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in i=n.call(t),e)t.style[o]=s[o];return i},Ht=new RegExp(nt.join(\"|\"),\"i\");function jt(t,e,n){var i,o,s,r,a=t.style;return(n=n||$t(t))&&(\"\"!==(r=n.getPropertyValue(e)||n[e])||ot(t)||(r=b.style(t,e)),!p.pixelBoxStyles()&&zt.test(r)&&Ht.test(e)&&(i=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+\"\":r}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){l.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",d.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",it.appendChild(l).appendChild(d);var e=t.getComputedStyle(d);i=\"1%\"!==e.top,c=12===n(e.marginLeft),d.style.right=\"60%\",r=36===n(e.right),o=36===n(e.width),d.style.position=\"absolute\",s=12===n(d.offsetWidth/3),it.removeChild(l),d=null}}function n(t){return Math.round(parseFloat(t))}var i,o,s,r,a,c,l=g.createElement(\"div\"),d=g.createElement(\"div\");d.style&&(d.style.backgroundClip=\"content-box\",d.cloneNode(!0).style.backgroundClip=\"\",p.clearCloneStyle=\"content-box\"===d.style.backgroundClip,b.extend(p,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,n,i,o;return null==a&&(e=g.createElement(\"table\"),n=g.createElement(\"tr\"),i=g.createElement(\"div\"),e.style.cssText=\"position:absolute;left:-11111px\",n.style.height=\"1px\",i.style.height=\"9px\",it.appendChild(e).appendChild(n).appendChild(i),o=t.getComputedStyle(n),a=parseInt(o.height)>3,it.removeChild(e)),a}}))}();var Ut=[\"Webkit\",\"Moz\",\"ms\"],Vt=g.createElement(\"div\").style,Gt={};function Xt(t){var e=b.cssProps[t]||Gt[t];return e||(t in Vt?t:Gt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Ut.length;n--;)if((t=Ut[n]+e)in Vt)return t}(t)||t)}var Yt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Zt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Qt={letterSpacing:\"0\",fontWeight:\"400\"};function Kt(t,e,n){var i=et.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||\"px\"):e}function te(t,e,n,i,o,s){var r=\"width\"===e?1:0,a=0,c=0;if(n===(i?\"border\":\"content\"))return 0;for(;r<4;r+=2)\"margin\"===n&&(c+=b.css(t,n+nt[r],!0,o)),i?(\"content\"===n&&(c-=b.css(t,\"padding\"+nt[r],!0,o)),\"margin\"!==n&&(c-=b.css(t,\"border\"+nt[r]+\"Width\",!0,o))):(c+=b.css(t,\"padding\"+nt[r],!0,o),\"padding\"!==n?c+=b.css(t,\"border\"+nt[r]+\"Width\",!0,o):a+=b.css(t,\"border\"+nt[r]+\"Width\",!0,o));return!i&&s>=0&&(c+=Math.max(0,Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-s-c-a-.5))||0),c}function ee(t,e,n){var i=$t(t),o=(!p.boxSizingReliable()||n)&&\"border-box\"===b.css(t,\"boxSizing\",!1,i),s=o,r=jt(t,e,i),a=\"offset\"+e[0].toUpperCase()+e.slice(1);if(zt.test(r)){if(!n)return r;r=\"auto\"}return(!p.boxSizingReliable()&&o||!p.reliableTrDimensions()&&W(t,\"tr\")||\"auto\"===r||!parseFloat(r)&&\"inline\"===b.css(t,\"display\",!1,i))&&t.getClientRects().length&&(o=\"border-box\"===b.css(t,\"boxSizing\",!1,i),(s=a in t)&&(r=t[a])),(r=parseFloat(r)||0)+te(t,e,n||(o?\"border\":\"content\"),s,i,r)+\"px\"}function ne(t,e,n,i,o){return new ne.prototype.init(t,e,n,i,o)}b.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=jt(t,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,r,a=V(e),c=Jt.test(e),l=t.style;if(c||(e=Xt(a)),r=b.cssHooks[e]||b.cssHooks[a],void 0===n)return r&&\"get\"in r&&void 0!==(o=r.get(t,!1,i))?o:l[e];\"string\"===(s=typeof n)&&(o=et.exec(n))&&o[1]&&(n=at(t,e,o),s=\"number\"),null!=n&&n==n&&(\"number\"!==s||c||(n+=o&&o[3]||(b.cssNumber[a]?\"\":\"px\")),p.clearCloneStyle||\"\"!==n||0!==e.indexOf(\"background\")||(l[e]=\"inherit\"),r&&\"set\"in r&&void 0===(n=r.set(t,n,i))||(c?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var o,s,r,a=V(e);return Jt.test(e)||(e=Xt(a)),(r=b.cssHooks[e]||b.cssHooks[a])&&\"get\"in r&&(o=r.get(t,!0,n)),void 0===o&&(o=jt(t,e,i)),\"normal\"===o&&e in Qt&&(o=Qt[e]),\"\"===n||n?(s=parseFloat(o),!0===n||isFinite(s)?s||0:o):o}}),b.each([\"height\",\"width\"],(function(t,e){b.cssHooks[e]={get:function(t,n,i){if(n)return!Yt.test(b.css(t,\"display\"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,i):Rt(t,Zt,(function(){return ee(t,e,i)}))},set:function(t,n,i){var o,s=$t(t),r=!p.scrollboxSize()&&\"absolute\"===s.position,a=(r||i)&&\"border-box\"===b.css(t,\"boxSizing\",!1,s),c=i?te(t,e,i,a,s):0;return a&&r&&(c-=Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-te(t,e,\"border\",!1,s)-.5)),c&&(o=et.exec(n))&&\"px\"!==(o[3]||\"px\")&&(t.style[e]=n,n=b.css(t,e)),Kt(0,n,c)}}})),b.cssHooks.marginLeft=qt(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(jt(t,\"marginLeft\"))||t.getBoundingClientRect().left-Rt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+\"px\"})),b.each({margin:\"\",padding:\"\",border:\"Width\"},(function(t,e){b.cssHooks[t+e]={expand:function(n){for(var i=0,o={},s=\"string\"==typeof n?n.split(\" \"):[n];i<4;i++)o[t+nt[i]+e]=s[i]||s[i-2]||s[0];return o}},\"margin\"!==t&&(b.cssHooks[t+e].set=Kt)})),b.fn.extend({css:function(t,e){return H(this,(function(t,e,n){var i,o,s={},r=0;if(Array.isArray(e)){for(i=$t(t),o=e.length;r<o;r++)s[e[r]]=b.css(t,e[r],!1,i);return s}return void 0!==n?b.style(t,e,n):b.css(t,e)}),t,e,arguments.length>1)}}),b.Tween=ne,ne.prototype={constructor:ne,init:function(t,e,n,i,o,s){this.elem=t,this.prop=n,this.easing=o||b.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(b.cssNumber[n]?\"\":\"px\")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,n=ne.propHooks[this.prop];return this.options.duration?this.pos=e=b.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=b.css(t.elem,t.prop,\"\"))&&\"auto\"!==e?e:0},set:function(t){b.fx.step[t.prop]?b.fx.step[t.prop](t):1!==t.elem.nodeType||!b.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:b.style(t.elem,t.prop,t.now+t.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},b.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:\"swing\"},b.fx=ne.prototype.init,b.fx.step={};var ie,oe,se=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function ae(){oe&&(!1===g.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ae):t.setTimeout(ae,b.fx.interval),b.fx.tick())}function ce(){return t.setTimeout((function(){ie=void 0})),ie=Date.now()}function le(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o[\"margin\"+(n=nt[i])]=o[\"padding\"+n]=t;return e&&(o.opacity=o.width=t),o}function de(t,e,n){for(var i,o=(he.tweeners[e]||[]).concat(he.tweeners[\"*\"]),s=0,r=o.length;s<r;s++)if(i=o[s].call(n,e,t))return i}function he(t,e,n){var i,o,s=0,r=he.prefilters.length,a=b.Deferred().always((function(){delete c.elem})),c=function(){if(o)return!1;for(var e=ie||ce(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),s=0,r=l.tweens.length;s<r;s++)l.tweens[s].run(i);return a.notifyWith(t,[l,i,n]),i<1&&r?n:(r||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:b.extend({},e),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||ce(),duration:n.duration,tweens:[],createTween:function(e,n){var i=b.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),d=l.props;for(!function(t,e){var n,i,o,s,r;for(n in t)if(o=e[i=V(n)],s=t[n],Array.isArray(s)&&(o=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),(r=b.cssHooks[i])&&\"expand\"in r)for(n in s=r.expand(s),delete t[i],s)n in t||(t[n]=s[n],e[n]=o);else e[i]=o}(d,l.opts.specialEasing);s<r;s++)if(i=he.prefilters[s].call(l,t,d,l.opts))return m(i.stop)&&(b._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return b.map(d,de,l),m(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),b.fx.timer(b.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}b.Animation=b.extend(he,{tweeners:{\"*\":[function(t,e){var n=this.createTween(t,e);return at(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){m(t)?(e=t,t=[\"*\"]):t=t.match(F);for(var n,i=0,o=t.length;i<o;i++)n=t[i],he.tweeners[n]=he.tweeners[n]||[],he.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,o,s,r,a,c,l,d,h=\"width\"in e||\"height\"in e,u=this,p={},m=t.style,f=t.nodeType&&rt(t),g=Y.get(t,\"fxshow\");for(i in n.queue||(null==(r=b._queueHooks(t,\"fx\")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,u.always((function(){u.always((function(){r.unqueued--,b.queue(t,\"fx\").length||r.empty.fire()}))}))),e)if(o=e[i],se.test(o)){if(delete e[i],s=s||\"toggle\"===o,o===(f?\"hide\":\"show\")){if(\"show\"!==o||!g||void 0===g[i])continue;f=!0}p[i]=g&&g[i]||b.style(t,i)}if((c=!b.isEmptyObject(e))||!b.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(l=g&&g.display)&&(l=Y.get(t,\"display\")),\"none\"===(d=b.css(t,\"display\"))&&(l?d=l:(dt([t],!0),l=t.style.display||l,d=b.css(t,\"display\"),dt([t]))),(\"inline\"===d||\"inline-block\"===d&&null!=l)&&\"none\"===b.css(t,\"float\")&&(c||(u.done((function(){m.display=l})),null==l&&(d=m.display,l=\"none\"===d?\"\":d)),m.display=\"inline-block\")),n.overflow&&(m.overflow=\"hidden\",u.always((function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]}))),c=!1,p)c||(g?\"hidden\"in g&&(f=g.hidden):g=Y.access(t,\"fxshow\",{display:l}),s&&(g.hidden=!f),f&&dt([t],!0),u.done((function(){for(i in f||dt([t]),Y.remove(t,\"fxshow\"),p)b.style(t,i,p[i])}))),c=de(f?g[i]:0,i,u),i in g||(g[i]=c.start,f&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),b.speed=function(t,e,n){var i=t&&\"object\"==typeof t?b.extend({},t):{complete:n||!n&&e||m(t)&&t,duration:t,easing:n&&e||e&&!m(e)&&e};return b.fx.off?i.duration=0:\"number\"!=typeof i.duration&&(i.duration in b.fx.speeds?i.duration=b.fx.speeds[i.duration]:i.duration=b.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue=\"fx\"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&b.dequeue(this,i.queue)},i},b.fn.extend({fadeTo:function(t,e,n,i){return this.filter(rt).css(\"opacity\",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=b.isEmptyObject(t),s=b.speed(e,n,i),r=function(){var e=he(this,b.extend({},t),s);(o||Y.get(this,\"finish\"))&&e.stop(!0)};return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return\"string\"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||\"fx\",[]),this.each((function(){var e=!0,o=null!=t&&t+\"queueHooks\",s=b.timers,r=Y.get(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&re.test(o)&&i(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=t&&s[o].queue!==t||(s[o].anim.stop(n),e=!1,s.splice(o,1));!e&&n||b.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||\"fx\"),this.each((function(){var e,n=Y.get(this),i=n[t+\"queue\"],o=n[t+\"queueHooks\"],s=b.timers,r=i?i.length:0;for(n.finish=!0,b.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),b.each([\"toggle\",\"show\",\"hide\"],(function(t,e){var n=b.fn[e];b.fn[e]=function(t,i,o){return null==t||\"boolean\"==typeof t?n.apply(this,arguments):this.animate(le(e,!0),t,i,o)}})),b.each({slideDown:le(\"show\"),slideUp:le(\"hide\"),slideToggle:le(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},(function(t,e){b.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),b.timers=[],b.fx.tick=function(){var t,e=0,n=b.timers;for(ie=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||b.fx.stop(),ie=void 0},b.fx.timer=function(t){b.timers.push(t),b.fx.start()},b.fx.interval=13,b.fx.start=function(){oe||(oe=!0,ae())},b.fx.stop=function(){oe=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(e,n){return e=b.fx&&b.fx.speeds[e]||e,n=n||\"fx\",this.queue(n,(function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}}))},function(){var t=g.createElement(\"input\"),e=g.createElement(\"select\").appendChild(g.createElement(\"option\"));t.type=\"checkbox\",p.checkOn=\"\"!==t.value,p.optSelected=e.selected,(t=g.createElement(\"input\")).value=\"t\",t.type=\"radio\",p.radioValue=\"t\"===t.value}();var ue,pe=b.expr.attrHandle;b.fn.extend({attr:function(t,e){return H(this,b.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){b.removeAttr(this,t)}))}}),b.extend({attr:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?b.prop(t,e,n):(1===s&&b.isXMLDoc(t)||(o=b.attrHooks[e.toLowerCase()]||(b.expr.match.bool.test(e)?ue:void 0)),void 0!==n?null===n?void b.removeAttr(t,e):o&&\"set\"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+\"\"),n):o&&\"get\"in o&&null!==(i=o.get(t,e))?i:null==(i=b.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&\"radio\"===e&&W(t,\"input\")){var n=t.value;return t.setAttribute(\"type\",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(F);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),ue={set:function(t,e,n){return!1===e?b.removeAttr(t,n):t.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\\w+/g),(function(t,e){var n=pe[e]||b.find.attr;pe[e]=function(t,e,i){var o,s,r=e.toLowerCase();return i||(s=pe[r],pe[r]=o,o=null!=n(t,e,i)?r:null,pe[r]=s),o}}));var me=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;function ge(t){return(t.match(F)||[]).join(\" \")}function ye(t){return t.getAttribute&&t.getAttribute(\"class\")||\"\"}function ve(t){return Array.isArray(t)?t:\"string\"==typeof t&&t.match(F)||[]}b.fn.extend({prop:function(t,e){return H(this,b.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[b.propFix[t]||t]}))}}),b.extend({prop:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&b.isXMLDoc(t)||(e=b.propFix[e]||e,o=b.propHooks[e]),void 0!==n?o&&\"set\"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&\"get\"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=b.find.attr(t,\"tabindex\");return e?parseInt(e,10):me.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:\"htmlFor\",class:\"className\"}}),p.optSelected||(b.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),b.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],(function(){b.propFix[this.toLowerCase()]=this})),b.fn.extend({addClass:function(t){var e,n,i,o,s,r,a,c=0;if(m(t))return this.each((function(e){b(this).addClass(t.call(this,e,ye(this)))}));if((e=ve(t)).length)for(;n=this[c++];)if(o=ye(n),i=1===n.nodeType&&\" \"+ge(o)+\" \"){for(r=0;s=e[r++];)i.indexOf(\" \"+s+\" \")<0&&(i+=s+\" \");o!==(a=ge(i))&&n.setAttribute(\"class\",a)}return this},removeClass:function(t){var e,n,i,o,s,r,a,c=0;if(m(t))return this.each((function(e){b(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr(\"class\",\"\");if((e=ve(t)).length)for(;n=this[c++];)if(o=ye(n),i=1===n.nodeType&&\" \"+ge(o)+\" \"){for(r=0;s=e[r++];)for(;i.indexOf(\" \"+s+\" \")>-1;)i=i.replace(\" \"+s+\" \",\" \");o!==(a=ge(i))&&n.setAttribute(\"class\",a)}return this},toggleClass:function(t,e){var n=typeof t,i=\"string\"===n||Array.isArray(t);return\"boolean\"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(n){b(this).toggleClass(t.call(this,n,ye(this),e),e)})):this.each((function(){var e,o,s,r;if(i)for(o=0,s=b(this),r=ve(t);e=r[o++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&\"boolean\"!==n||((e=ye(this))&&Y.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===t?\"\":Y.get(this,\"__className__\")||\"\"))}))},hasClass:function(t){var e,n,i=0;for(e=\" \"+t+\" \";n=this[i++];)if(1===n.nodeType&&(\" \"+ge(ye(n))+\" \").indexOf(e)>-1)return!0;return!1}});var we=/\\r/g;b.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=m(t),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?t.call(this,n,b(this).val()):t)?o=\"\":\"number\"==typeof o?o+=\"\":Array.isArray(o)&&(o=b.map(o,(function(t){return null==t?\"\":t+\"\"}))),(e=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&\"set\"in e&&void 0!==e.set(this,o,\"value\")||(this.value=o))}))):o?(e=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()])&&\"get\"in e&&void 0!==(n=e.get(o,\"value\"))?n:\"string\"==typeof(n=o.value)?n.replace(we,\"\"):null==n?\"\":n:void 0}}),b.extend({valHooks:{option:{get:function(t){var e=b.find.attr(t,\"value\");return null!=e?e:ge(b.text(t))}},select:{get:function(t){var e,n,i,o=t.options,s=t.selectedIndex,r=\"select-one\"===t.type,a=r?null:[],c=r?s+1:o.length;for(i=s<0?c:r?s:0;i<c;i++)if(((n=o[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!W(n.parentNode,\"optgroup\"))){if(e=b(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,s=b.makeArray(e),r=o.length;r--;)((i=o[r]).selected=b.inArray(b.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),b.each([\"radio\",\"checkbox\"],(function(){b.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=b.inArray(b(t).val(),e)>-1}},p.checkOn||(b.valHooks[this].get=function(t){return null===t.getAttribute(\"value\")?\"on\":t.value})})),p.focusin=\"onfocusin\"in t;var _e=/^(?:focusinfocus|focusoutblur)$/,be=function(t){t.stopPropagation()};b.extend(b.event,{trigger:function(e,n,i,o){var s,r,a,c,l,h,u,p,y=[i||g],v=d.call(e,\"type\")?e.type:e,w=d.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(r=p=a=i=i||g,3!==i.nodeType&&8!==i.nodeType&&!_e.test(v+b.event.triggered)&&(v.indexOf(\".\")>-1&&(w=v.split(\".\"),v=w.shift(),w.sort()),l=v.indexOf(\":\")<0&&\"on\"+v,(e=e[b.expando]?e:new b.Event(v,\"object\"==typeof e&&e)).isTrigger=o?2:3,e.namespace=w.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+w.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:b.makeArray(n,[e]),u=b.event.special[v]||{},o||!u.trigger||!1!==u.trigger.apply(i,n))){if(!o&&!u.noBubble&&!f(i)){for(c=u.delegateType||v,_e.test(c+v)||(r=r.parentNode);r;r=r.parentNode)y.push(r),a=r;a===(i.ownerDocument||g)&&y.push(a.defaultView||a.parentWindow||t)}for(s=0;(r=y[s++])&&!e.isPropagationStopped();)p=r,e.type=s>1?c:u.bindType||v,(h=(Y.get(r,\"events\")||Object.create(null))[e.type]&&Y.get(r,\"handle\"))&&h.apply(r,n),(h=l&&r[l])&&h.apply&&G(r)&&(e.result=h.apply(r,n),!1===e.result&&e.preventDefault());return e.type=v,o||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(y.pop(),n)||!G(i)||l&&m(i[v])&&!f(i)&&((a=i[l])&&(i[l]=null),b.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,be),i[v](),e.isPropagationStopped()&&p.removeEventListener(v,be),b.event.triggered=void 0,a&&(i[l]=a)),e.result}},simulate:function(t,e,n){var i=b.extend(new b.Event,n,{type:t,isSimulated:!0});b.event.trigger(i,null,e)}}),b.fn.extend({trigger:function(t,e){return this.each((function(){b.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return b.event.trigger(t,e,n,!0)}}),p.focusin||b.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){var n=function(t){b.event.simulate(e,t.target,b.event.fix(t))};b.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,o=Y.access(i,e);o||i.addEventListener(t,n,!0),Y.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,o=Y.access(i,e)-1;o?Y.access(i,e,o):(i.removeEventListener(t,n,!0),Y.remove(i,e))}}}));var Ce=t.location,Ie={guid:Date.now()},ke=/\\?/;b.parseXML=function(e){var n;if(!e||\"string\"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,\"text/xml\")}catch(t){n=void 0}return n&&!n.getElementsByTagName(\"parsererror\").length||b.error(\"Invalid XML: \"+e),n};var xe=/\\[\\]$/,Ee=/\\r?\\n/g,We=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Te(t,e,n,i){var o;if(Array.isArray(e))b.each(e,(function(e,o){n||xe.test(t)?i(t,o):Te(t+\"[\"+(\"object\"==typeof o&&null!=o?e:\"\")+\"]\",o,n,i)}));else if(n||\"object\"!==w(e))i(t,e);else for(o in e)Te(t+\"[\"+o+\"]\",e[o],n,i)}b.param=function(t,e){var n,i=[],o=function(t,e){var n=m(e)?e():e;i[i.length]=encodeURIComponent(t)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==t)return\"\";if(Array.isArray(t)||t.jquery&&!b.isPlainObject(t))b.each(t,(function(){o(this.name,this.value)}));else for(n in t)Te(n,t[n],e,o);return i.join(\"&\")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=b.prop(this,\"elements\");return t?b.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!b(this).is(\":disabled\")&&Se.test(this.nodeName)&&!We.test(t)&&(this.checked||!pt.test(t))})).map((function(t,e){var n=b(this).val();return null==n?null:Array.isArray(n)?b.map(n,(function(t){return{name:e.name,value:t.replace(Ee,\"\\r\\n\")}})):{name:e.name,value:n.replace(Ee,\"\\r\\n\")}})).get()}});var Ae=/%20/g,De=/#.*$/,Pe=/([?&])_=[^&]*/,Me=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Le=/^(?:GET|HEAD)$/,Fe=/^\\/\\//,Oe={},Be={},Ne=\"*/\".concat(\"*\"),ze=g.createElement(\"a\");function $e(t){return function(e,n){\"string\"!=typeof e&&(n=e,e=\"*\");var i,o=0,s=e.toLowerCase().match(F)||[];if(m(n))for(;i=s[o++];)\"+\"===i[0]?(i=i.slice(1)||\"*\",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Re(t,e,n,i){var o={},s=t===Be;function r(a){var c;return o[a]=!0,b.each(t[a]||[],(function(t,a){var l=a(e,n,i);return\"string\"!=typeof l||s||o[l]?s?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)})),c}return r(e.dataTypes[0])||!o[\"*\"]&&r(\"*\")}function He(t,e){var n,i,o=b.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&b.extend(!0,t,i),t}ze.href=Ce.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":Ne,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?He(He(t,b.ajaxSettings),e):He(b.ajaxSettings,t)},ajaxPrefilter:$e(Oe),ajaxTransport:$e(Be),ajax:function(e,n){\"object\"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,s,r,a,c,l,d,h,u,p=b.ajaxSetup({},n),m=p.context||p,f=p.context&&(m.nodeType||m.jquery)?b(m):b.event,y=b.Deferred(),v=b.Callbacks(\"once memory\"),w=p.statusCode||{},_={},C={},I=\"canceled\",k={readyState:0,getResponseHeader:function(t){var e;if(l){if(!r)for(r={};e=Me.exec(s);)r[e[1].toLowerCase()+\" \"]=(r[e[1].toLowerCase()+\" \"]||[]).concat(e[2]);e=r[t.toLowerCase()+\" \"]}return null==e?null:e.join(\", \")},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=C[t.toLowerCase()]=C[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)k.always(t[k.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||I;return i&&i.abort(e),x(0,e),this}};if(y.promise(k),p.url=((e||p.url||Ce.href)+\"\").replace(Fe,Ce.protocol+\"//\"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||\"*\").toLowerCase().match(F)||[\"\"],null==p.crossDomain){c=g.createElement(\"a\");try{c.href=p.url,c.href=c.href,p.crossDomain=ze.protocol+\"//\"+ze.host!=c.protocol+\"//\"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&\"string\"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),Re(Oe,p,n,k),l)return k;for(h in(d=b.event&&p.global)&&0==b.active++&&b.event.trigger(\"ajaxStart\"),p.type=p.type.toUpperCase(),p.hasContent=!Le.test(p.type),o=p.url.replace(De,\"\"),p.hasContent?p.data&&p.processData&&0===(p.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(p.data=p.data.replace(Ae,\"+\")):(u=p.url.slice(o.length),p.data&&(p.processData||\"string\"==typeof p.data)&&(o+=(ke.test(o)?\"&\":\"?\")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Pe,\"$1\"),u=(ke.test(o)?\"&\":\"?\")+\"_=\"+Ie.guid+++u),p.url=o+u),p.ifModified&&(b.lastModified[o]&&k.setRequestHeader(\"If-Modified-Since\",b.lastModified[o]),b.etag[o]&&k.setRequestHeader(\"If-None-Match\",b.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&k.setRequestHeader(\"Content-Type\",p.contentType),k.setRequestHeader(\"Accept\",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(\"*\"!==p.dataTypes[0]?\", \"+Ne+\"; q=0.01\":\"\"):p.accepts[\"*\"]),p.headers)k.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,k,p)||l))return k.abort();if(I=\"abort\",v.add(p.complete),k.done(p.success),k.fail(p.error),i=Re(Be,p,n,k)){if(k.readyState=1,d&&f.trigger(\"ajaxSend\",[k,p]),l)return k;p.async&&p.timeout>0&&(a=t.setTimeout((function(){k.abort(\"timeout\")}),p.timeout));try{l=!1,i.send(_,x)}catch(t){if(l)throw t;x(-1,t)}}else x(-1,\"No Transport\");function x(e,n,r,c){var h,u,g,_,C,I=n;l||(l=!0,a&&t.clearTimeout(a),i=void 0,s=c||\"\",k.readyState=e>0?4:0,h=e>=200&&e<300||304===e,r&&(_=function(t,e,n){for(var i,o,s,r,a=t.contents,c=t.dataTypes;\"*\"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader(\"Content-Type\"));if(i)for(o in a)if(a[o]&&a[o].test(i)){c.unshift(o);break}if(c[0]in n)s=c[0];else{for(o in n){if(!c[0]||t.converters[o+\" \"+c[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==c[0]&&c.unshift(s),n[s]}(p,k,r)),!h&&b.inArray(\"script\",p.dataTypes)>-1&&(p.converters[\"text script\"]=function(){}),_=function(t,e,n,i){var o,s,r,a,c,l={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)l[r.toLowerCase()]=t.converters[r];for(s=d.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=s,s=d.shift())if(\"*\"===s)s=c;else if(\"*\"!==c&&c!==s){if(!(r=l[c+\" \"+s]||l[\"* \"+s]))for(o in l)if((a=o.split(\" \"))[1]===s&&(r=l[c+\" \"+a[0]]||l[\"* \"+a[0]])){!0===r?r=l[o]:!0!==l[o]&&(s=a[0],d.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:\"parsererror\",error:r?t:\"No conversion from \"+c+\" to \"+s}}}return{state:\"success\",data:e}}(p,_,k,h),h?(p.ifModified&&((C=k.getResponseHeader(\"Last-Modified\"))&&(b.lastModified[o]=C),(C=k.getResponseHeader(\"etag\"))&&(b.etag[o]=C)),204===e||\"HEAD\"===p.type?I=\"nocontent\":304===e?I=\"notmodified\":(I=_.state,u=_.data,h=!(g=_.error))):(g=I,!e&&I||(I=\"error\",e<0&&(e=0))),k.status=e,k.statusText=(n||I)+\"\",h?y.resolveWith(m,[u,I,k]):y.rejectWith(m,[k,I,g]),k.statusCode(w),w=void 0,d&&f.trigger(h?\"ajaxSuccess\":\"ajaxError\",[k,p,h?u:g]),v.fireWith(m,[k,I]),d&&(f.trigger(\"ajaxComplete\",[k,p]),--b.active||b.event.trigger(\"ajaxStop\")))}return k},getJSON:function(t,e,n){return b.get(t,e,n,\"json\")},getScript:function(t,e){return b.get(t,void 0,e,\"script\")}}),b.each([\"get\",\"post\"],(function(t,e){b[e]=function(t,n,i,o){return m(n)&&(o=o||i,i=n,n=void 0),b.ajax(b.extend({url:t,type:e,dataType:o,data:n,success:i},b.isPlainObject(t)&&t))}})),b.ajaxPrefilter((function(t){var e;for(e in t.headers)\"content-type\"===e.toLowerCase()&&(t.contentType=t.headers[e]||\"\")})),b._evalUrl=function(t,e,n){return b.ajax({url:t,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(t){b.globalEval(t,e,n)}})},b.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=b(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){b(this).wrapInner(t.call(this,e))})):this.each((function(){var e=b(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(n){b(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not(\"body\").each((function(){b(this).replaceWith(this.childNodes)})),this}}),b.expr.pseudos.hidden=function(t){return!b.expr.pseudos.visible(t)},b.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},qe=b.ajaxSettings.xhr();p.cors=!!qe&&\"withCredentials\"in qe,p.ajax=qe=!!qe,b.ajaxTransport((function(e){var n,i;if(p.cors||qe&&!e.crossDomain)return{send:function(o,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o[\"X-Requested-With\"]||(o[\"X-Requested-With\"]=\"XMLHttpRequest\"),o)a.setRequestHeader(r,o[r]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,\"abort\"===t?a.abort():\"error\"===t?\"number\"!=typeof a.status?s(0,\"error\"):s(a.status,a.statusText):s(je[a.status]||a.status,a.statusText,\"text\"!==(a.responseType||\"text\")||\"string\"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n(\"error\"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){n&&i()}))},n=n(\"abort\");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}})),b.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),b.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(t){return b.globalEval(t),t}}}),b.ajaxPrefilter(\"script\",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type=\"GET\")})),b.ajaxTransport(\"script\",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,o){e=b(\"<script>\").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on(\"load error\",n=function(t){e.remove(),n=null,t&&o(\"error\"===t.type?404:200,t.type)}),g.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ue,Ve=[],Ge=/(=)\\?(?=&|$)|\\?\\?/;b.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var t=Ve.pop()||b.expando+\"_\"+Ie.guid++;return this[t]=!0,t}}),b.ajaxPrefilter(\"json jsonp\",(function(e,n,i){var o,s,r,a=!1!==e.jsonp&&(Ge.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Ge.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return o=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ge,\"$1\"+o):!1!==e.jsonp&&(e.url+=(ke.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+o),e.converters[\"script json\"]=function(){return r||b.error(o+\" was not called\"),r[0]},e.dataTypes[0]=\"json\",s=t[o],t[o]=function(){r=arguments},i.always((function(){void 0===s?b(t).removeProp(o):t[o]=s,e[o]&&(e.jsonpCallback=n.jsonpCallback,Ve.push(o)),r&&m(s)&&s(r[0]),r=s=void 0})),\"script\"})),p.createHTMLDocument=((Ue=g.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Ue.childNodes.length),b.parseHTML=function(t,e,n){return\"string\"!=typeof t?[]:(\"boolean\"==typeof e&&(n=e,e=!1),e||(p.createHTMLDocument?((i=(e=g.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=g.location.href,e.head.appendChild(i)):e=g),s=!n&&[],(o=S.exec(t))?[e.createElement(o[1])]:(o=_t([t],e,s),s&&s.length&&b(s).remove(),b.merge([],o.childNodes)));var i,o,s},b.fn.load=function(t,e,n){var i,o,s,r=this,a=t.indexOf(\" \");return a>-1&&(i=ge(t.slice(a)),t=t.slice(0,a)),m(e)?(n=e,e=void 0):e&&\"object\"==typeof e&&(o=\"POST\"),r.length>0&&b.ajax({url:t,type:o||\"GET\",dataType:\"html\",data:e}).done((function(t){s=arguments,r.html(i?b(\"<div>\").append(b.parseHTML(t)).find(i):t)})).always(n&&function(t,e){r.each((function(){n.apply(this,s||[t.responseText,e,t])}))}),this},b.expr.pseudos.animated=function(t){return b.grep(b.timers,(function(e){return t===e.elem})).length},b.offset={setOffset:function(t,e,n){var i,o,s,r,a,c,l=b.css(t,\"position\"),d=b(t),h={};\"static\"===l&&(t.style.position=\"relative\"),a=d.offset(),s=b.css(t,\"top\"),c=b.css(t,\"left\"),(\"absolute\"===l||\"fixed\"===l)&&(s+c).indexOf(\"auto\")>-1?(r=(i=d.position()).top,o=i.left):(r=parseFloat(s)||0,o=parseFloat(c)||0),m(e)&&(e=e.call(t,n,b.extend({},a))),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+o),\"using\"in e?e.using.call(t,h):(\"number\"==typeof h.top&&(h.top+=\"px\"),\"number\"==typeof h.left&&(h.left+=\"px\"),d.css(h))}},b.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){b.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],o={top:0,left:0};if(\"fixed\"===b.css(i,\"position\"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&\"static\"===b.css(t,\"position\");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((o=b(t).offset()).top+=b.css(t,\"borderTopWidth\",!0),o.left+=b.css(t,\"borderLeftWidth\",!0))}return{top:e.top-o.top-b.css(i,\"marginTop\",!0),left:e.left-o.left-b.css(i,\"marginLeft\",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&\"static\"===b.css(t,\"position\");)t=t.offsetParent;return t||it}))}}),b.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},(function(t,e){var n=\"pageYOffset\"===e;b.fn[t]=function(i){return H(this,(function(t,i,o){var s;if(f(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===o)return s?s[e]:t[i];s?s.scrollTo(n?s.pageXOffset:o,n?o:s.pageYOffset):t[i]=o}),t,i,arguments.length)}})),b.each([\"top\",\"left\"],(function(t,e){b.cssHooks[e]=qt(p.pixelPosition,(function(t,n){if(n)return n=jt(t,e),zt.test(n)?b(t).position()[e]+\"px\":n}))})),b.each({Height:\"height\",Width:\"width\"},(function(t,e){b.each({padding:\"inner\"+t,content:e,\"\":\"outer\"+t},(function(n,i){b.fn[i]=function(o,s){var r=arguments.length&&(n||\"boolean\"!=typeof o),a=n||(!0===o||!0===s?\"margin\":\"border\");return H(this,(function(e,n,o){var s;return f(e)?0===i.indexOf(\"outer\")?e[\"inner\"+t]:e.document.documentElement[\"client\"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body[\"scroll\"+t],s[\"scroll\"+t],e.body[\"offset\"+t],s[\"offset\"+t],s[\"client\"+t])):void 0===o?b.css(e,n,a):b.style(e,n,o,a)}),e,r?o:void 0,r)}}))})),b.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],(function(t,e){b.fn[e]=function(t){return this.on(e,t)}})),b.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,\"**\"):this.off(e,t||\"**\",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),b.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),(function(t,e){b.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Xe=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;b.proxy=function(t,e){var n,i,s;if(\"string\"==typeof e&&(n=t[e],e=t,t=n),m(t))return i=o.call(arguments,2),(s=function(){return t.apply(e||this,i.concat(o.call(arguments)))}).guid=t.guid=t.guid||b.guid++,s},b.holdReady=function(t){t?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=W,b.isFunction=m,b.isWindow=f,b.camelCase=V,b.type=w,b.now=Date.now,b.isNumeric=function(t){var e=b.type(t);return(\"number\"===e||\"string\"===e)&&!isNaN(t-parseFloat(t))},b.trim=function(t){return null==t?\"\":(t+\"\").replace(Xe,\"\")};var Ye=t.jQuery,Je=t.$;return b.noConflict=function(e){return t.$===b&&(t.$=Je),e&&t.jQuery===b&&(t.jQuery=Ye),b},void 0===e&&(t.jQuery=t.$=b),b}))}));let Q;window.$=Z,window.addEventListener(\"beforeunload\",(()=>(J.dispose(),Q&&Q(),\"Are you sure you want to leave? changes will be lost\")));const K={init:(t,e)=>{if(Y.initialized)return void Y.init(t,t.agm.instance.windowId,J,e);J.subscribeForWorkspaceEvents();const n=Y.init(t,t.agm.instance.windowId,J,e);return Q=n.cleanUp,J.init(t,t.agm.instance.windowId).then((()=>{B.config.emptyFrame||Y.workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:t.agm.instance.windowId}}})})).catch(console.warn),Y},getFrameId:()=>Y.frameId,notifyMoveAreaChanged:()=>{},getComponentBounds:()=>Y.getComponentBounds(),registerPopup:t=>\"\",removePopup:t=>{},removePopupById:t=>{},unmount:()=>{Y.unmount()},subscribeForWindowFocused:t=>Y.subscribeForWindowClicked(t),notifyWorkspacePopupChanged:t=>{},requestFocus:()=>{}};export default K;\n//# sourceMappingURL=export.js.map\n","import workspacesManager from \"@glue42/workspaces-ui-core\";\r\nimport { Bounds, WorkspacesManager } from \"./types/internal\";\r\n\r\ndeclare const window: Window & { workspacesManager: WorkspacesManager };\r\n\r\nclass WorkspacesManagerDecorator {\r\n    public init(glue: any, componentFactory: any) {\r\n        if (window.workspacesManager) {\r\n            window.workspacesManager.init(componentFactory);\r\n        } else {\r\n            workspacesManager.init(glue, componentFactory);\r\n        }\r\n    }\r\n\r\n    public getFrameId() {\r\n        return (window.workspacesManager || workspacesManager).getFrameId();\r\n    }\r\n\r\n    public notifyMoveAreaChanged() {\r\n        (window.workspacesManager || workspacesManager).notifyMoveAreaChanged();\r\n    }\r\n\r\n    public notifyWorkspacePopupChanged(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).notifyWorkspacePopupChanged(element);\r\n    }\r\n\r\n    public getComponentBounds(): Bounds {\r\n        return (window.workspacesManager || workspacesManager).getComponentBounds();\r\n    }\r\n\r\n    public registerPopup(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).registerPopup(element);\r\n    }\r\n\r\n    public removePopup(element: HTMLElement): void {\r\n        return (window.workspacesManager || workspacesManager).removePopup(element);\r\n    }\r\n\r\n    public removePopupById(elementId: string): void {\r\n        return (window.workspacesManager || workspacesManager).removePopupById(elementId);\r\n    }\r\n\r\n    public subscribeForWindowFocused(cb: () => any): () => void {\r\n        return (window.workspacesManager || workspacesManager).subscribeForWindowFocused(cb);\r\n    }\r\n\r\n    public unmount(): void {\r\n        return (window.workspacesManager || workspacesManager).unmount();\r\n    }\r\n\r\n    public requestFocus(): void {\r\n        return (window.workspacesManager || workspacesManager).requestFocus();\r\n    }\r\n}\r\n\r\nexport default new WorkspacesManagerDecorator();","import React, { useEffect, useLayoutEffect, forwardRef, useState, useRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useOnEscape = function useOnEscape(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler();\n    };\n\n    document.addEventListener('keyup', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\nvar useRepositionOnResize = function useRepositionOnResize(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener() {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n    return function () {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\nvar useOnClickOutside = function useOnClickOutside(ref, handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      var refs = Array.isArray(ref) ? ref : [ref];\n      var contains = false;\n      refs.forEach(function (r) {\n        if (!r.current || r.current.contains(event.target)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n}; // Make sure that user is not able TAB out of the Modal content on Open\n\nvar useTabbing = function useTabbing(contentRef, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        var _contentRef$current;\n\n        var els = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n        var focusableEls = Array.prototype.slice.call(els);\n\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar Style = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto'\n    }\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999\n    }\n  }\n};\n\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom'];\n\nvar getCoordinatesForPosition = function getCoordinatesForPosition(triggerBounding, ContentBounding, position, //PopupPosition | PopupPosition[],\narrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(180deg)  translateX(50%)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(0deg) translateY(-100%) translateX(-50%)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(90deg)  translateY(50%) translateX(-25%)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(-90deg)  translateY(-150%) translateX(25%)\";\n      arrowTop = '50%';\n      break;\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n};\n\nvar getTooltipBoundary = function getTooltipBoundary(keepTooltipInside) {\n  // add viewport\n  var boundingBox = {\n    top: 0,\n    left: 0,\n\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight\n  };\n\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    var selector = document.querySelector(keepTooltipInside);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null) throw new Error(keepTooltipInside + \" selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\");\n    }\n\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nvar calculatePosition = function calculatePosition(triggerBounding, ContentBounding, position, arrow, _ref2, keepTooltipInside) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)'\n  };\n  var i = 0;\n  var wrapperBox = getTooltipBoundary(keepTooltipInside);\n  var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n  if (keepTooltipInside || Array.isArray(position)) positions = [].concat(positions, POSITION_TYPES); // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nvar popupIdCounter = 0;\n\nvar getRootPopup = function getRootPopup() {\n  var PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nvar Popup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? null : _ref$trigger,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? function () {} : _ref$onOpen,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      _ref$open = _ref.open,\n      open = _ref$open === void 0 ? undefined : _ref$open,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$nested = _ref.nested,\n      nested = _ref$nested === void 0 ? false : _ref$nested,\n      _ref$closeOnDocumentC = _ref.closeOnDocumentClick,\n      closeOnDocumentClick = _ref$closeOnDocumentC === void 0 ? true : _ref$closeOnDocumentC,\n      _ref$repositionOnResi = _ref.repositionOnResize,\n      repositionOnResize = _ref$repositionOnResi === void 0 ? true : _ref$repositionOnResi,\n      _ref$closeOnEscape = _ref.closeOnEscape,\n      closeOnEscape = _ref$closeOnEscape === void 0 ? true : _ref$closeOnEscape,\n      _ref$on = _ref.on,\n      on = _ref$on === void 0 ? ['click'] : _ref$on,\n      _ref$contentStyle = _ref.contentStyle,\n      contentStyle = _ref$contentStyle === void 0 ? {} : _ref$contentStyle,\n      _ref$arrowStyle = _ref.arrowStyle,\n      arrowStyle = _ref$arrowStyle === void 0 ? {} : _ref$arrowStyle,\n      _ref$overlayStyle = _ref.overlayStyle,\n      overlayStyle = _ref$overlayStyle === void 0 ? {} : _ref$overlayStyle,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom center' : _ref$position,\n      _ref$modal = _ref.modal,\n      modal = _ref$modal === void 0 ? false : _ref$modal,\n      _ref$lockScroll = _ref.lockScroll,\n      lockScroll = _ref$lockScroll === void 0 ? false : _ref$lockScroll,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? true : _ref$arrow,\n      _ref$offsetX = _ref.offsetX,\n      offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n      _ref$offsetY = _ref.offsetY,\n      offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY,\n      _ref$mouseEnterDelay = _ref.mouseEnterDelay,\n      mouseEnterDelay = _ref$mouseEnterDelay === void 0 ? 100 : _ref$mouseEnterDelay,\n      _ref$mouseLeaveDelay = _ref.mouseLeaveDelay,\n      mouseLeaveDelay = _ref$mouseLeaveDelay === void 0 ? 100 : _ref$mouseLeaveDelay,\n      _ref$keepTooltipInsid = _ref.keepTooltipInside,\n      keepTooltipInside = _ref$keepTooltipInsid === void 0 ? false : _ref$keepTooltipInsid,\n      children = _ref.children;\n\n  var _useState = useState(open || defaultOpen),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var triggerRef = useRef(null);\n  var contentRef = useRef(null);\n  var arrowRef = useRef(null);\n  var focusedElBeforeOpen = useRef(null);\n  var popupId = useRef(\"popup-\" + ++popupIdCounter);\n  var isModal = modal ? true : !trigger;\n  var timeOut = useRef(0);\n  useIsomorphicLayoutEffect(function () {\n    if (isOpen) {\n      focusedElBeforeOpen.current = document.activeElement;\n      setPosition();\n      focusContentOnOpen(); // for accessibility\n\n      lockScrolll();\n    } else {\n      resetScroll();\n    }\n\n    return function () {\n      clearTimeout(timeOut.current);\n    };\n  }, [isOpen]); // for uncontrolled popup we need to sync isOpen with open prop\n\n  useEffect(function () {\n    if (typeof open === 'boolean') {\n      if (open) openPopup();else closePopup();\n    }\n  }, [open, disabled]);\n\n  var openPopup = function openPopup() {\n    if (isOpen || disabled) return;\n    setIsOpen(true);\n    setTimeout(onOpen, 0);\n  };\n\n  var closePopup = function closePopup() {\n    if (!isOpen || disabled) return;\n    setIsOpen(false);\n    if (isModal) focusedElBeforeOpen.current.focus();\n    setTimeout(onClose, 0);\n  };\n\n  var togglePopup = function togglePopup(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isOpen) openPopup();else closePopup();\n  };\n\n  var onMouseEnter = function onMouseEnter() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(openPopup, mouseEnterDelay);\n  };\n\n  var onContextMenu = function onContextMenu(event) {\n    event === null || event === void 0 ? void 0 : event.preventDefault();\n    togglePopup();\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(closePopup, mouseLeaveDelay);\n  };\n\n  var lockScrolll = function lockScrolll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n  };\n\n  var resetScroll = function resetScroll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'auto';\n  };\n\n  var focusContentOnOpen = function focusContentOnOpen() {\n    var _contentRef$current;\n\n    var focusableEls = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n    var firstEl = Array.prototype.slice.call(focusableEls)[0];\n    firstEl === null || firstEl === void 0 ? void 0 : firstEl.focus();\n  };\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: function open() {\n        openPopup();\n      },\n      close: function close() {\n        closePopup();\n      },\n      toggle: function toggle() {\n        togglePopup();\n      }\n    };\n  }); // set Position\n\n  var setPosition = function setPosition() {\n    if (isModal || !isOpen) return;\n    if (!(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(contentRef === null || contentRef === void 0 ? void 0 : contentRef.current)) return; /// show error as one of ref is undefined\n\n    var trigger = triggerRef.current.getBoundingClientRect();\n    var content = contentRef.current.getBoundingClientRect();\n    var cords = calculatePosition(trigger, content, position, arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    }, keepTooltipInside);\n    contentRef.current.style.top = cords.top + window.scrollY + \"px\";\n    contentRef.current.style.left = cords.left + window.scrollX + \"px\";\n\n    if (arrow && !!arrowRef.current) {\n      var _arrowStyle$top, _arrowStyle$left;\n\n      arrowRef.current.style.transform = cords.transform;\n      arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n      arrowRef.current.style.setProperty('-webkit-transform', cords.transform);\n      arrowRef.current.style.top = ((_arrowStyle$top = arrowStyle.top) === null || _arrowStyle$top === void 0 ? void 0 : _arrowStyle$top.toString()) || cords.arrowTop;\n      arrowRef.current.style.left = ((_arrowStyle$left = arrowStyle.left) === null || _arrowStyle$left === void 0 ? void 0 : _arrowStyle$left.toString()) || cords.arrowLeft;\n    }\n  }; // hooks\n\n\n  useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n\n  useTabbing(contentRef, isOpen && isModal);\n  useRepositionOnResize(setPosition, repositionOnResize);\n  useOnClickOutside(!!trigger ? [contentRef, triggerRef] : [contentRef], closePopup, closeOnDocumentClick && !nested); // we need to add a ne\n  // render the trigger element and add events\n\n  var renderTrigger = function renderTrigger() {\n    var triggerProps = {\n      key: 'T',\n      ref: triggerRef,\n      'aria-describedby': popupId.current\n    };\n    var onAsArray = Array.isArray(on) ? on : [on];\n\n    for (var i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case 'click':\n          triggerProps.onClick = togglePopup;\n          break;\n\n        case 'right-click':\n          triggerProps.onContextMenu = onContextMenu;\n          break;\n\n        case 'hover':\n          triggerProps.onMouseEnter = onMouseEnter;\n          triggerProps.onMouseLeave = onMouseLeave;\n          break;\n\n        case 'focus':\n          triggerProps.onFocus = onMouseEnter;\n          triggerProps.onBlur = onMouseLeave;\n          break;\n      }\n    }\n\n    if (typeof trigger === 'function') {\n      var comp = trigger(isOpen);\n      return !!trigger && React.cloneElement(comp, triggerProps);\n    }\n\n    return !!trigger && React.cloneElement(trigger, triggerProps);\n  };\n\n  var addWarperAction = function addWarperAction() {\n    var popupContentStyle = isModal ? Style.popupContent.modal : Style.popupContent.tooltip;\n    var childrenElementProps = {\n      className: \"popup-content \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-content\";\n      }).join(' ') : ''),\n      style: _extends({}, popupContentStyle, contentStyle, {\n        pointerEvents: 'auto'\n      }),\n      ref: contentRef,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n      }\n    };\n\n    if (!modal && on.indexOf('hover') >= 0) {\n      childrenElementProps.onMouseEnter = onMouseEnter;\n      childrenElementProps.onMouseLeave = onMouseLeave;\n    }\n\n    return childrenElementProps;\n  };\n\n  var renderContent = function renderContent() {\n    return React.createElement(\"div\", Object.assign({}, addWarperAction(), {\n      key: \"C\",\n      role: isModal ? 'dialog' : 'tooltip',\n      id: popupId.current\n    }), arrow && !isModal && React.createElement(\"div\", {\n      ref: arrowRef,\n      style: Style.popupArrow\n    }, React.createElement(\"svg\", {\n      \"data-testid\": \"arrow\",\n      className: \"popup-arrow \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-arrow\";\n      }).join(' ') : ''),\n      viewBox: \"0 0 32 16\",\n      style: _extends({\n        position: 'absolute'\n      }, arrowStyle)\n    }, React.createElement(\"path\", {\n      d: \"M16 0l16 16H0z\",\n      fill: \"currentcolor\"\n    }))), children && typeof children === 'function' ? children(closePopup, isOpen) : children);\n  };\n\n  var overlay = !(on.indexOf('hover') >= 0);\n  var ovStyle = isModal ? Style.overlay.modal : Style.overlay.tooltip;\n  var content = [overlay && React.createElement(\"div\", {\n    key: \"O\",\n    \"data-testid\": \"overlay\",\n    \"data-popup\": isModal ? 'modal' : 'tooltip',\n    className: \"popup-overlay \" + (className !== '' ? className.split(' ').map(function (c) {\n      return c + \"-overlay\";\n    }).join(' ') : ''),\n    style: _extends({}, ovStyle, overlayStyle, {\n      pointerEvents: closeOnDocumentClick && nested || isModal ? 'auto' : 'none'\n    }),\n    onClick: closeOnDocumentClick && nested ? closePopup : undefined,\n    tabIndex: -1\n  }, isModal && renderContent()), !isModal && renderContent()];\n  return React.createElement(React.Fragment, null, renderTrigger(), isOpen && ReactDOM.createPortal(content, getRootPopup()));\n});\n\nexport default Popup;\nexport { Popup };\n//# sourceMappingURL=reactjs-popup.esm.js.map\n","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspacePopupProps } from \"./types/internal\";\r\nimport Popup from \"reactjs-popup\";\r\nimport WorkspacePopupContent from \"./WorkspaceContentPopup\";\r\nimport { PopupActions } from \"reactjs-popup/dist/types\";\r\n\r\nconst WorkspacePopup: React.FC<WorkspacePopupProps> = ({ children, innerContentStyle, popupRef, ...props }) => {\r\n    const ref = popupRef || React.createRef<PopupActions>();\r\n    const [shouldClose, setShouldClose] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldClose) {\r\n            return;\r\n        }\r\n\r\n        ref.current?.close();\r\n        setShouldClose(false);\r\n    }, [shouldClose]);\r\n\r\n    return (\r\n        <Popup ref={ref} {...props}>\r\n            <WorkspacePopupContent innerContentStyle={innerContentStyle} close={() => setShouldClose(true)} children={children} />\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default WorkspacePopup;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { PortalProps } from \"./types/internal\";\r\n\r\nclass Portal extends React.Component<PortalProps> {\r\n    render() {\r\n        return ReactDOM.createPortal(this.props.children, this.props.domNode);\r\n    }\r\n}\r\n\r\nexport default Portal;","import React from \"react\";\r\nimport { WorkspacesWrapperProps } from \"./types/internal\";\r\nimport withGlueInstance from \"./withGlueInstance\";\r\nimport workspacesManager from \"./workspacesManager\";\r\n\r\nconst templateId = \"workspaces-react-wrapper-template\";\r\nconst workspacesInnerContainerId = \"outter-layout-container\";\r\n\r\nclass WorkspacesWrapper extends React.Component<WorkspacesWrapperProps> {\r\n    containerRef: HTMLElement | null;\r\n\r\n    componentDidMount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n        if (!placeholder) {\r\n            const template = document.createElement(\"template\");\r\n            template.id = templateId;\r\n            const glContainer = document.createElement(\"div\");\r\n\r\n            glContainer.id = workspacesInnerContainerId;\r\n            glContainer.style.overflow = \"hidden\";\r\n            glContainer.style.width = \"100%\";\r\n            glContainer.style.height = \"100%\";\r\n            template.content.appendChild(glContainer);\r\n            document.body.appendChild(template);\r\n            placeholder = template;\r\n        }\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n        this.containerRef.appendChild(placeholder.content);\r\n\r\n        const componentFactory = {\r\n            createLogo: this.props.onCreateLogoRequested,\r\n            createAddWorkspace: this.props.onCreateAddWorkspaceRequested,\r\n            createSystemButtons: this.props.onCreateSystemButtonsRequested,\r\n            createWorkspaceContents: this.props.onCreateWorkspaceContentsRequested,\r\n            createSaveWorkspacePopup: this.props.onCreateSaveWorkspacePopupRequested,\r\n            createAddApplicationPopup: this.props.onCreateAddApplicationPopupRequested,\r\n            createAddWorkspacePopup: this.props.onCreateAddWorkspacePopupRequested,\r\n            hideSystemPopups: this.props.onHideSystemPopupsRequested,\r\n            externalPopupApplications: this.props.externalPopupApplications\r\n        };\r\n        workspacesManager.init(this.props.glue, componentFactory);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n\r\n        placeholder?.content.appendChild(this.containerRef.children[0]);\r\n\r\n        workspacesManager.unmount();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={(r) => this.containerRef = r} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withGlueInstance(WorkspacesWrapper);","import React from \"react\";\r\nimport AddApplicationPopup from \"./defaultComponents/popups/addApplication/AddApplicationPopup\";\r\nimport AddWorkspacePopup from \"./defaultComponents/popups/addWorkspace/AddWorkspacePopup\";\r\nimport SaveWorkspacePopup from \"./defaultComponents/popups/saveWorkspace/SaveWorkspacePopup\";\r\nimport Portal from \"./Portal\";\r\nimport { AddApplicationPopupProps, CreateElementRequestOptions, ElementCreationWrapperState, AddWorkspacePopupProps, SaveWorkspacePopupProps, WorkspacesProps, CreateWorkspaceContentsRequestOptions } from \"./types/internal\";\r\nimport WorkspacesWrapper from \"./WorkspacesWrapper\";\r\n\r\nclass WorkspacesElementCreationWrapper extends React.Component<WorkspacesProps, ElementCreationWrapperState> {\r\n    constructor(props: WorkspacesProps) {\r\n        super(props);\r\n        this.state = {\r\n            logo: undefined,\r\n            addWorkspace: undefined,\r\n            systemButtons: undefined,\r\n            workspaceContents: [],\r\n            saveWorkspacePopup: undefined,\r\n            addApplicationPopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }\r\n    }\r\n\r\n    onCreateLogoRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.logo) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                logo: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateAddWorkspaceRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.addWorkspace) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspace: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSystemButtonsRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.systemButtons) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                systemButtons: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateWorkspaceContentsRequested = (options: CreateWorkspaceContentsRequestOptions) => {\r\n        if (this.state.workspaceContents.some(wc => wc.domNode === options.domNode)) {\r\n            return;\r\n        }\r\n\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                workspaceContents: [\r\n                    ...s.workspaceContents,\r\n                    options\r\n                ]\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSaveWorkspaceRequested = (options: CreateElementRequestOptions & SaveWorkspacePopupProps) => {\r\n        if (options === this.state.saveWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                saveWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddApplicationRequested = (options: CreateElementRequestOptions & AddApplicationPopupProps) => {\r\n        if (options === this.state.addApplicationPopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addApplicationPopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddWorkspacePopupRequested = (options: CreateElementRequestOptions & AddWorkspacePopupProps) => {\r\n        if (options === this.state.addWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onHideSystemPopups = (cb: () => void) => {\r\n        this.setState((s) => ({\r\n            ...s,\r\n            addApplicationPopup: undefined,\r\n            saveWorkspacePopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }), cb);\r\n    }\r\n\r\n    renderLogoComponent = () => {\r\n        const LogoCustomElement = this.props.components?.header?.LogoComponent;\r\n        if (!LogoCustomElement || (!this.state.logo || !this.state.logo.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.logo;\r\n        return <Portal domNode={domNode}><LogoCustomElement {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspaceComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.header?.AddWorkspaceComponent;\r\n\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspace || !this.state.addWorkspace.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.addWorkspace;\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderSystemButtonsComponent = () => {\r\n        const SystemButtonsCustomComponent = this.props.components?.header?.SystemButtonsComponent;\r\n        if (!SystemButtonsCustomComponent || (!this.state.systemButtons || !this.state.systemButtons.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.systemButtons;\r\n\r\n        return <Portal domNode={domNode}><SystemButtonsCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderWorskpaceContents = () => {\r\n        const WorkspaceContentsComponent = this.props.components?.WorkspaceContents;\r\n\r\n        return this.state.workspaceContents.map((wc) => {\r\n            if (!WorkspaceContentsComponent || !wc.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = wc;\r\n            return <Portal key={options.workspaceId} domNode={domNode}><WorkspaceContentsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderSaveWorkspacePopupComponent = () => {\r\n        const SaveWorkspaceCustomComponent = this.props.components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        if (!SaveWorkspaceCustomComponent || (!this.state.saveWorkspacePopup || !this.state.saveWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.saveWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><SaveWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddApplicationPopupComponent = () => {\r\n        const AddApplicationCustomComponent = this.props.components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        if (!AddApplicationCustomComponent || (!this.state.addApplicationPopup || !this.state.addApplicationPopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.addApplicationPopup;\r\n\r\n        return <Portal domNode={domNode}><AddApplicationCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspacePopupComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspacePopup || !this.state.addWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n        const { domNode, callback, ...options } = this.state.addWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    render() {\r\n        const { components, glue, ...additionalProperties } = this.props;\r\n        const addApplicationComponent = components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        const saveWorkspaceComponent = components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        const addWorkspaceComponent = components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n\r\n        const onCreateAddApplicationRequested = addApplicationComponent && typeof addApplicationComponent !== \"string\" ?\r\n            this.onCreateAddApplicationRequested : undefined;\r\n\r\n        const onCreateAddWorkspacePopupRequested = addWorkspaceComponent && typeof addWorkspaceComponent !== \"string\" ?\r\n            this.onCreateAddWorkspacePopupRequested : undefined;\r\n\r\n        const onCreateSaveWorkspaceRequested = saveWorkspaceComponent && typeof saveWorkspaceComponent !== \"string\" ?\r\n            this.onCreateSaveWorkspaceRequested : undefined;\r\n\r\n        const addApplication = typeof addApplicationComponent === \"string\" ? addApplicationComponent : undefined;\r\n        const saveWorkspace = typeof saveWorkspaceComponent === \"string\" ? saveWorkspaceComponent : undefined;\r\n        const addWorkspace = typeof addWorkspaceComponent === \"string\" ? addWorkspaceComponent : undefined;\r\n\r\n        const externalPopupApplications = {\r\n            addApplication,\r\n            saveWorkspace,\r\n            addWorkspace\r\n        }\r\n\r\n        return (\r\n            <div {...additionalProperties} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n                {this.renderLogoComponent()}\r\n                {this.renderAddWorkspaceComponent()}\r\n                {this.renderSystemButtonsComponent()}\r\n                {this.renderWorskpaceContents()}\r\n                {this.renderSaveWorkspacePopupComponent()}\r\n                {this.renderAddApplicationPopupComponent()}\r\n                {this.renderAddWorkspacePopupComponent()}\r\n                <WorkspacesWrapper\r\n                    onCreateSystemButtonsRequested={components?.header?.SystemButtonsComponent ? this.onCreateSystemButtonsRequested : undefined}\r\n                    onCreateAddWorkspaceRequested={components?.header?.AddWorkspaceComponent ? this.onCreateAddWorkspaceRequested : undefined}\r\n                    onCreateLogoRequested={components?.header?.LogoComponent ? this.onCreateLogoRequested : undefined}\r\n                    onCreateWorkspaceContentsRequested={components?.WorkspaceContents ? this.onCreateWorkspaceContentsRequested : undefined}\r\n                    onCreateSaveWorkspacePopupRequested={onCreateSaveWorkspaceRequested}\r\n                    onCreateAddApplicationPopupRequested={onCreateAddApplicationRequested}\r\n                    onCreateAddWorkspacePopupRequested={onCreateAddWorkspacePopupRequested}\r\n                    onHideSystemPopupsRequested={this.onHideSystemPopups}\r\n                    externalPopupApplications={externalPopupApplications}\r\n                    glue={glue}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WorkspacesElementCreationWrapper;\r\n","import AddWorkspaceButton from './defaultComponents/AddWorkspaceButton';\r\nimport CloseFrameButton from './defaultComponents/CloseFrameButton';\r\nimport GlueLogo from './defaultComponents/GlueLogo';\r\nimport MaximizeFrameButton from './defaultComponents/MaximizeFrameButton';\r\nimport MinimizeFrameButton from './defaultComponents/MinimizeFrameButton';\r\nimport AddApplicationPopup from './defaultComponents/popups/addApplication/AddApplicationPopup';\r\nimport AddWorkspacePopup from './defaultComponents/popups/addWorkspace/AddWorkspacePopup';\r\nimport SaveWorkspacePopup from './defaultComponents/popups/saveWorkspace/SaveWorkspacePopup';\r\nimport WorkspaceContents from \"./defaultComponents/WorkspaceContents\";\r\nimport useWorkspacePopup from './useWorkspacePopup';\r\nimport useWorkspaceWindowClicked from './useWorkspaceWindowClicked';\r\n\r\nimport WorkspacePopup from './WorkspacePopup';\r\nimport {\r\n    Bounds,\r\n    WorkspacesManager,\r\n    WorkspacesProps,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps\r\n} from './types/internal';\r\nimport WorkspacesElementCreationWrapper from './WorkspacesElementCreationWrapper'\r\nimport workspacesManager from './workspacesManager';\r\n\r\nexport {\r\n    SaveWorkspacePopup,\r\n    AddWorkspacePopup,\r\n    AddApplicationPopup,\r\n    CloseFrameButton,\r\n    GlueLogo,\r\n    MaximizeFrameButton,\r\n    MinimizeFrameButton,\r\n    AddWorkspaceButton,\r\n    WorkspacePopup,\r\n    useWorkspacePopup,\r\n    useWorkspaceWindowClicked,\r\n    WorkspaceContents\r\n};\r\nexport const notifyMoveAreaChanged: () => void = () => workspacesManager?.notifyMoveAreaChanged();\r\nexport const getComponentBounds: () => Bounds = () => workspacesManager?.getComponentBounds();\r\nexport const getFrameId: () => string = () => workspacesManager?.getFrameId();\r\nexport const requestFocus: () => void = () => workspacesManager?.requestFocus();\r\n\r\nexport {\r\n    WorkspacesProps,\r\n    Bounds,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps\r\n};\r\nexport default WorkspacesElementCreationWrapper;","import { Glue42Web } from \"../../web\";\r\n\r\nconst defaultConfig = {\r\n    logger: \"info\",\r\n    gateway: { webPlatform: {} },\r\n    libraries: []\r\n};\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nexport const parseConfig = (config?: Glue42Web.Config): any => {\r\n    const combined = Object.assign({}, defaultConfig, config);\r\n\r\n    if (combined.systemLogger) {\r\n        combined.logger = combined.systemLogger.level ?? \"info\";\r\n    }\r\n\r\n    return combined;\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nexport const checkSingleton = (): void => {\r\n    const glue42CoreNamespace = (window as any).glue42core;\r\n\r\n    if (!glue42CoreNamespace) {\r\n        (window as any).glue42core = { webStarted: true };\r\n        return;\r\n    }\r\n\r\n    if (glue42CoreNamespace.webStarted) {\r\n        throw new Error(\"The Glue42 Core Web has already been started for this application.\");\r\n    }\r\n\r\n    glue42CoreNamespace.webStarted = true;\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { Glue42 } from \"@glue42/desktop\";\r\nimport { Glue42Web } from \"../../web\";\r\n\r\nexport const enterprise = (config: Glue42Web.Config): Glue42.Glue => {\r\n\r\n    const enterpriseConfig = {\r\n        windows: true,\r\n        layouts: \"full\",\r\n        appManager: \"full\",\r\n        channels: true,\r\n        libraries: config.libraries,\r\n        logger: config?.systemLogger?.level ?? \"warn\"\r\n    };\r\n\r\n    return (window as any).Glue(enterpriseConfig);\r\n};","/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\r\n\r\nvar result = Object.freeze({\r\n\tok: ok,\r\n\tisOk: isOk,\r\n\terr: err,\r\n\tisErr: isErr,\r\n\tasPromise: asPromise,\r\n\twithDefault: withDefault,\r\n\twithException: withException,\r\n\tsuccesses: successes,\r\n\tmap: map,\r\n\tmap2: map2,\r\n\tmapError: mapError,\r\n\tandThen: andThen\r\n});\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Type guard for `DecoderError`. One use case of the type guard is in the\r\n * `catch` of a promise. Typescript types the error argument of `catch` as\r\n * `any`, so when dealing with a decoder as a promise you may need to\r\n * distinguish between a `DecoderError` and an error string.\r\n */\r\nvar isDecoderError = function (a) {\r\n    return a.kind === 'DecoderError' && typeof a.at === 'string' && typeof a.message === 'string';\r\n};\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined || json === null ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\r\n\r\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.unknownJson` */\r\nvar unknownJson = Decoder.unknownJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.tuple` */\r\nvar tuple = Decoder.tuple;\r\n/** See `Decoder.dict` */\r\nvar dict = Decoder.dict;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.union` */\r\nvar union = Decoder.union;\r\n/** See `Decoder.intersection` */\r\nvar intersection = Decoder.intersection;\r\n/** See `Decoder.withDefault` */\r\nvar withDefault$1 = Decoder.withDefault;\r\n/** See `Decoder.valueAt` */\r\nvar valueAt = Decoder.valueAt;\r\n/** See `Decoder.succeed` */\r\nvar succeed = Decoder.succeed;\r\n/** See `Decoder.fail` */\r\nvar fail = Decoder.fail;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\r\n\r\nexport { result as Result, Decoder, isDecoderError, string, number, boolean, anyJson, unknownJson, constant, object, array, tuple, dict, optional, oneOf, union, intersection, withDefault$1 as withDefault, valueAt, succeed, fail, lazy };\r\n//# sourceMappingURL=index.es5.js.map\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-use-before-define */\r\nimport { Decoder, object, boolean, string, optional, array, oneOf, constant, lazy, number, anyJson, intersection } from \"decoder-validate\";\r\nimport { IsWindowInSwimlaneResult, WorkspaceSnapshotResult, ChildSnapshotResult, WorkspaceConfigResult, FrameSummaryResult, WorkspaceCreateConfigProtocol, GetFrameSummaryConfig, WorkspaceSummaryResult, LayoutSummariesResult, LayoutSummary, OpenWorkspaceConfig, FrameSummariesResult, WorkspaceSummariesResult, ExportedLayoutsResult, DeleteLayoutConfig, SimpleItemConfig, ResizeItemConfig, MoveFrameConfig, FrameSnapshotResult, BaseChildSnapshotConfig, ParentSnapshotConfig, SwimlaneWindowSnapshotConfig, SimpleWindowOperationSuccessResult, SetItemTitleConfig, MoveWindowConfig, AddWindowConfig, AddContainerConfig, AddItemResult, BundleConfig, WorkspaceStreamData, FrameStreamData, ContainerStreamData, ContainerSummaryResult, WindowStreamData, PingResult, FrameStateConfig, FrameStateResult, WorkspaceSeletor } from \"../types/protocol\";\r\nimport { WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\nexport const nonEmptyStringDecoder: Decoder<string> = string().where((s) => s.length > 0, \"Expected a non-empty string\");\r\nexport const nonNegativeNumberDecoder: Decoder<number> = number().where((num) => num >= 0, \"Expected a non-negative number\");\r\n\r\nexport const isWindowInSwimlaneResultDecoder: Decoder<IsWindowInSwimlaneResult> = object({\r\n    inWorkspace: boolean()\r\n});\r\n\r\nexport const allParentDecoder: Decoder<\"workspace\" | \"row\" | \"column\" | \"group\"> = oneOf<\"workspace\" | \"row\" | \"column\" | \"group\">(\r\n    constant(\"workspace\"),\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const subParentDecoder: Decoder<\"row\" | \"column\" | \"group\"> = oneOf<\"row\" | \"column\" | \"group\">(\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const frameStateDecoder: Decoder<\"maximized\" | \"minimized\" | \"normal\"> = oneOf<\"maximized\" | \"minimized\" | \"normal\">(\r\n    constant(\"maximized\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\")\r\n);\r\n\r\nexport const checkThrowCallback = (callback: unknown, allowUndefined?: boolean): void => {\r\n    const argumentType = typeof callback;\r\n\r\n    if (allowUndefined && argumentType !== \"function\" && argumentType !== \"undefined\") {\r\n        throw new Error(`Provided argument must be either undefined or of type function, provided: ${argumentType}`);\r\n    }\r\n\r\n    if (!allowUndefined && argumentType !== \"function\") {\r\n        throw new Error(`Provided argument must be of type function, provided: ${argumentType}`);\r\n    }\r\n};\r\n\r\nexport const workspaceBuilderCreateConfigDecoder: Decoder<Glue42Workspaces.WorkspaceCreateConfig> = optional(object({\r\n    saveLayout: optional(boolean())\r\n}));\r\n\r\nexport const deleteLayoutConfigDecoder: Decoder<DeleteLayoutConfig> = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\n\r\nexport const swimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: optional(constant(\"window\")),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson())\r\n});\r\n\r\nexport const strictSwimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: constant(\"window\"),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson())\r\n});\r\n\r\nexport const parentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = optional(object({\r\n    type: optional(subParentDecoder),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                swimlaneWindowDefinitionDecoder,\r\n                parentDefinitionDecoder\r\n            )\r\n        ))\r\n    )\r\n}));\r\n\r\nexport const strictParentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: subParentDecoder,\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    )\r\n});\r\n\r\nexport const stateDecoder: Decoder<\"maximized\" | \"normal\"> = oneOf<\"maximized\" | \"normal\">(\r\n    (string().where((s) => s.toLowerCase() === \"maximized\", \"Expected a case insensitive variation of 'maximized'\") as Decoder<\"maximized\">),\r\n    (string().where((s) => s.toLowerCase() === \"normal\", \"Expected a case insensitive variation of 'normal'\") as Decoder<\"normal\">)\r\n);\r\n\r\nexport const newFrameConfigDecoder: Decoder<Glue42Workspaces.NewFrameConfig> = object({\r\n    bounds: optional(object({\r\n        left: optional(number()),\r\n        top: optional(number()),\r\n        width: optional(nonNegativeNumberDecoder),\r\n        height: optional(nonNegativeNumberDecoder)\r\n    }))\r\n});\r\n\r\nexport const restoreTypeDecoder: Decoder<Glue42Workspaces.RestoreType> = oneOf<\"direct\" | \"delayed\" | \"lazy\">(\r\n    constant(\"direct\"),\r\n    constant(\"delayed\"),\r\n    constant(\"lazy\")\r\n);\r\n\r\nexport const restoreWorkspaceConfigDecoder: Decoder<Glue42Workspaces.RestoreWorkspaceConfig> = optional(object({\r\n    app: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    restoreType: optional(restoreTypeDecoder),\r\n    title: optional(nonEmptyStringDecoder),\r\n    reuseWorkspaceId: optional(nonEmptyStringDecoder),\r\n    frameId: optional(nonEmptyStringDecoder),\r\n    lockdown: optional(boolean()),\r\n    activateFrame: optional(boolean()),\r\n    newFrame: optional(oneOf<Glue42Workspaces.NewFrameConfig | boolean>(\r\n        newFrameConfigDecoder,\r\n        boolean()\r\n    )),\r\n    noTabHeader: optional(boolean()),\r\n    inMemoryLayout: optional(boolean())\r\n}));\r\n\r\nexport const openWorkspaceConfigDecoder: Decoder<OpenWorkspaceConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    restoreOptions: optional(restoreWorkspaceConfigDecoder)\r\n});\r\n\r\nexport const workspaceDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceDefinition> = object({\r\n    children: optional(array(oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n        swimlaneWindowDefinitionDecoder,\r\n        parentDefinitionDecoder\r\n    ))),\r\n    context: optional(anyJson()),\r\n    config: optional(object({\r\n        title: optional(nonEmptyStringDecoder),\r\n        position: optional(nonNegativeNumberDecoder),\r\n        isFocused: optional(boolean()),\r\n        noTabHeader: optional(boolean()),\r\n        reuseWorkspaceId: optional(nonEmptyStringDecoder)\r\n    })),\r\n    frame: optional(object({\r\n        reuseFrameId: optional(nonEmptyStringDecoder),\r\n        newFrame: optional(oneOf<boolean | Glue42Workspaces.NewFrameConfig>(\r\n            boolean(),\r\n            newFrameConfigDecoder\r\n        ))\r\n    }))\r\n});\r\n\r\nexport const builderConfigDecoder: Decoder<Glue42Workspaces.BuilderConfig> = object({\r\n    type: allParentDecoder,\r\n    definition: optional(oneOf<Glue42Workspaces.WorkspaceDefinition | Glue42Workspaces.BoxDefinition>(\r\n        workspaceDefinitionDecoder,\r\n        parentDefinitionDecoder\r\n    ))\r\n});\r\n\r\nexport const workspaceCreateConfigDecoder: Decoder<WorkspaceCreateConfigProtocol> = intersection(\r\n    workspaceDefinitionDecoder,\r\n    object({\r\n        saveConfig: optional(object({\r\n            saveLayout: optional(boolean())\r\n        }))\r\n    })\r\n);\r\n\r\nexport const getFrameSummaryConfigDecoder: Decoder<GetFrameSummaryConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameSummaryDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder\r\n});\r\n\r\nexport const workspaceSummaryDecoder: Decoder<Glue42Workspaces.WorkspaceSummary> = object({\r\n    id: nonEmptyStringDecoder,\r\n    frameId: nonEmptyStringDecoder,\r\n    positionIndex: number(),\r\n    title: nonEmptyStringDecoder,\r\n    focused: boolean(),\r\n    layoutName: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const containerSummaryDecoder: Decoder<Glue42Workspaces.BoxSummary> = object({\r\n    type: subParentDecoder,\r\n    id: nonEmptyStringDecoder,\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number()\r\n});\r\n\r\nexport const eventTypeDecoder: Decoder<WorkspaceEventType> = oneOf<\"frame\" | \"workspace\" | \"container\" | \"window\">(\r\n    constant(\"frame\"),\r\n    constant(\"workspace\"),\r\n    constant(\"container\"),\r\n    constant(\"window\")\r\n);\r\n\r\nexport const streamRequestArgumentsDecoder: Decoder<{ type: WorkspaceEventType; branch: string }> = object({\r\n    type: eventTypeDecoder,\r\n    branch: nonEmptyStringDecoder\r\n});\r\n\r\nexport const workspaceEventActionDecoder: Decoder<WorkspaceEventAction> = oneOf<\"opened\" | \"closing\" | \"closed\" | \"focus\" | \"added\" | \"loaded\" | \"removed\" | \"childrenUpdate\" | \"containerChange\" | \"maximized\" | \"minimized\" | \"normal\" | \"selected\">(\r\n    constant(\"opened\"),\r\n    constant(\"closing\"),\r\n    constant(\"closed\"),\r\n    constant(\"focus\"),\r\n    constant(\"added\"),\r\n    constant(\"loaded\"),\r\n    constant(\"removed\"),\r\n    constant(\"childrenUpdate\"),\r\n    constant(\"containerChange\"),\r\n    constant(\"maximized\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\"),\r\n    constant(\"selected\")\r\n);\r\n\r\nexport const workspaceConfigResultDecoder: Decoder<WorkspaceConfigResult> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder,\r\n    positionIndex: nonNegativeNumberDecoder,\r\n    name: nonEmptyStringDecoder,\r\n    layoutName: optional(nonEmptyStringDecoder),\r\n    isHibernated: boolean(),\r\n    isSelected: boolean(),\r\n});\r\n\r\n// todo: remove number positionIndex when fixed\r\nexport const baseChildSnapshotConfigDecoder: Decoder<BaseChildSnapshotConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number()\r\n});\r\n\r\nexport const parentSnapshotConfigDecoder: Decoder<ParentSnapshotConfig> = anyJson();\r\n\r\n// todo: remove optional isMaximized when fixed\r\nexport const swimlaneWindowSnapshotConfigDecoder: Decoder<SwimlaneWindowSnapshotConfig> = intersection(\r\n    baseChildSnapshotConfigDecoder,\r\n    object({\r\n        windowId: optional(nonEmptyStringDecoder),\r\n        isMaximized: optional(boolean()),\r\n        isFocused: boolean(),\r\n        title: optional(string()),\r\n        appName: optional(nonEmptyStringDecoder)\r\n    })\r\n) as any;\r\n\r\nexport const childSnapshotResultDecoder: Decoder<ChildSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: oneOf<ParentSnapshotConfig | SwimlaneWindowSnapshotConfig>(\r\n        parentSnapshotConfigDecoder,\r\n        swimlaneWindowSnapshotConfigDecoder\r\n    ),\r\n    children: optional(lazy(() => array(childSnapshotResultDecoder))),\r\n    type: oneOf<\"window\" | \"row\" | \"column\" | \"group\">(\r\n        constant(\"window\"),\r\n        constant(\"row\"),\r\n        constant(\"column\"),\r\n        constant(\"group\")\r\n    )\r\n});\r\n\r\nexport const workspaceSnapshotResultDecoder: Decoder<WorkspaceSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder,\r\n    children: array(childSnapshotResultDecoder),\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const customWorkspaceChildSnapshotDecoder: Decoder<ChildSnapshotResult> = object({\r\n    id: optional(nonEmptyStringDecoder),\r\n    config: oneOf<ParentSnapshotConfig | SwimlaneWindowSnapshotConfig>(\r\n        parentSnapshotConfigDecoder,\r\n        swimlaneWindowSnapshotConfigDecoder\r\n    ),\r\n    children: optional(lazy(() => array(customWorkspaceChildSnapshotDecoder))),\r\n    type: oneOf<\"window\" | \"row\" | \"column\" | \"group\">(\r\n        constant(\"window\"),\r\n        constant(\"row\"),\r\n        constant(\"column\"),\r\n        constant(\"group\")\r\n    )\r\n});\r\n\r\nexport const windowLayoutItemDecoder: Decoder<Glue42Workspaces.WindowLayoutItem> = object({\r\n    type: constant(\"window\"),\r\n    config: object({\r\n        appName: nonEmptyStringDecoder,\r\n        url: optional(nonEmptyStringDecoder),\r\n        title: optional(string())\r\n    })\r\n});\r\n\r\nexport const groupLayoutItemDecoder: Decoder<Glue42Workspaces.GroupLayoutItem> = object({\r\n    type: constant(\"group\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.WindowLayoutItem>(\r\n        windowLayoutItemDecoder\r\n    ))\r\n});\r\n\r\nexport const columnLayoutItemDecoder: Decoder<Glue42Workspaces.ColumnLayoutItem> = object({\r\n    type: constant(\"column\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => columnLayoutItemDecoder),\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const rowLayoutItemDecoder: Decoder<Glue42Workspaces.RowLayoutItem> = object({\r\n    type: constant(\"row\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        columnLayoutItemDecoder,\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const workspaceLayoutDecoder: Decoder<Glue42Workspaces.WorkspaceLayout> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: constant(\"Workspace\"),\r\n    metadata: optional(anyJson()),\r\n    components: array(object({\r\n        type: constant(\"Workspace\"),\r\n        state: object({\r\n            config: anyJson(),\r\n            context: anyJson(),\r\n            children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n                rowLayoutItemDecoder,\r\n                columnLayoutItemDecoder,\r\n                groupLayoutItemDecoder,\r\n                windowLayoutItemDecoder\r\n            ))\r\n        })\r\n    }))\r\n});\r\n\r\nexport const workspacesImportLayoutDecoder: Decoder<{ layout: Glue42Workspaces.WorkspaceLayout; mode: \"replace\" | \"merge\" }> = object({\r\n    layout: workspaceLayoutDecoder,\r\n    mode: oneOf<\"replace\" | \"merge\">(\r\n        constant(\"replace\"),\r\n        constant(\"merge\")\r\n    )\r\n});\r\n\r\nexport const exportedLayoutsResultDecoder: Decoder<ExportedLayoutsResult> = object({\r\n    layouts: array(workspaceLayoutDecoder)\r\n});\r\n\r\nexport const frameSummaryResultDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n});\r\n\r\nexport const frameSummariesResultDecoder: Decoder<FrameSummariesResult> = object({\r\n    summaries: array(frameSummaryResultDecoder)\r\n});\r\n\r\nexport const workspaceSummaryResultDecoder: Decoder<WorkspaceSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder\r\n});\r\n\r\nexport const workspaceSummariesResultDecoder: Decoder<WorkspaceSummariesResult> = object({\r\n    summaries: array(workspaceSummaryResultDecoder)\r\n});\r\n\r\nexport const frameSnapshotResultDecoder: Decoder<FrameSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: anyJson(),\r\n    workspaces: array(workspaceSnapshotResultDecoder)\r\n});\r\n\r\nexport const layoutSummaryDecoder: Decoder<LayoutSummary> = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\nexport const layoutSummariesDecoder: Decoder<LayoutSummariesResult> = object({\r\n    summaries: array(layoutSummaryDecoder)\r\n});\r\n\r\nexport const simpleWindowOperationSuccessResultDecoder: Decoder<SimpleWindowOperationSuccessResult> = object({\r\n    windowId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const voidResultDecoder: Decoder<{}> = anyJson();\r\n\r\nexport const frameStateResultDecoder: Decoder<FrameStateResult> = object({\r\n    state: frameStateDecoder\r\n});\r\n\r\nexport const resizeConfigDecoder: Decoder<Glue42Workspaces.ResizeConfig> = object({\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const moveConfigDecoder: Decoder<Glue42Workspaces.MoveConfig> = object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const simpleItemConfigDecoder: Decoder<SimpleItemConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameStateConfigDecoder: Decoder<FrameStateConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    requestedState: frameStateDecoder\r\n});\r\n\r\nexport const setItemTitleConfigDecoder: Decoder<SetItemTitleConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder\r\n});\r\n\r\nexport const moveWindowConfigDecoder: Decoder<MoveWindowConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    containerId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const resizeItemConfigDecoder: Decoder<ResizeItemConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    resizeConfigDecoder\r\n);\r\n\r\nexport const moveFrameConfigDecoder: Decoder<MoveFrameConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    moveConfigDecoder\r\n);\r\n\r\nexport const simpleParentDecoder: Decoder<{ id: string; type: \"row\" | \"column\" | \"group\" }> = object({\r\n    id: nonEmptyStringDecoder,\r\n    type: subParentDecoder\r\n});\r\n\r\nexport const addWindowConfigDecoder: Decoder<AddWindowConfig> = object({\r\n    definition: swimlaneWindowDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addContainerConfigDecoder: Decoder<AddContainerConfig> = object({\r\n    definition: strictParentDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addItemResultDecoder: Decoder<AddItemResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    windowId: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const pingResultDecoder: Decoder<PingResult> = object({\r\n    live: boolean()\r\n});\r\n\r\nexport const bundleConfigDecoder: Decoder<BundleConfig> = object({\r\n    type: oneOf<\"row\" | \"column\">(\r\n        constant(\"row\"),\r\n        constant(\"column\")\r\n    ),\r\n    workspaceId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const containerSummaryResultDecoder: Decoder<ContainerSummaryResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    config: parentSnapshotConfigDecoder\r\n});\r\n\r\nexport const frameStreamDataDecoder: Decoder<FrameStreamData> = object({\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const workspaceStreamDataDecoder: Decoder<WorkspaceStreamData> = object({\r\n    workspaceSummary: workspaceSummaryResultDecoder,\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const containerStreamDataDecoder: Decoder<ContainerStreamData> = object({\r\n    containerSummary: containerSummaryResultDecoder\r\n});\r\n\r\nexport const windowStreamDataDecoder: Decoder<WindowStreamData> = object({\r\n    windowSummary: object({\r\n        itemId: nonEmptyStringDecoder,\r\n        parentId: nonEmptyStringDecoder,\r\n        config: swimlaneWindowSnapshotConfigDecoder\r\n    })\r\n});\r\n\r\nexport const workspaceLayoutSaveConfigDecoder: Decoder<Glue42Workspaces.WorkspaceLayoutSaveConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    saveContext: optional(boolean())\r\n});\r\n\r\nexport const workspaceSelectorDecoder: Decoder<WorkspaceSeletor> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n});\r\n","import { Glue42Web } from \"../../web\";\r\nimport { openWindowConfigDecoder, coreWindowDataDecoder, windowHelloDecoder, helloSuccessDecoder, simpleWindowDecoder, windowBoundsResultDecoder, windowUrlResultDecoder, windowMoveResizeConfigDecoder, windowTitleConfigDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\nimport { WebWindowModel } from \"./webWindow\";\r\n\r\nexport type WindowOperationTypes = \"openWindow\" | \"getBounds\" |\r\n    \"windowHello\" | \"windowAdded\" | \"windowRemoved\" | \"getUrl\" |\r\n    \"moveResize\" | \"focus\" | \"close\" | \"getTitle\" | \"setTitle\";\r\n\r\nexport const operations: { [key in WindowOperationTypes]: BridgeOperation } = {\r\n    openWindow: { name: \"openWindow\", dataDecoder: openWindowConfigDecoder, resultDecoder: coreWindowDataDecoder },\r\n    windowHello: { name: \"windowHello\", dataDecoder: windowHelloDecoder, resultDecoder: helloSuccessDecoder },\r\n    windowAdded: { name: \"windowAdded\", dataDecoder: coreWindowDataDecoder },\r\n    windowRemoved: { name: \"windowRemoved\", dataDecoder: simpleWindowDecoder },\r\n    getBounds: { name: \"getBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: windowBoundsResultDecoder },\r\n    getUrl: { name: \"getUrl\", dataDecoder: simpleWindowDecoder, resultDecoder: windowUrlResultDecoder },\r\n    moveResize: { name: \"moveResize\", dataDecoder: windowMoveResizeConfigDecoder },\r\n    focus: { name: \"focus\", dataDecoder: simpleWindowDecoder },\r\n    close: { name: \"close\", dataDecoder: simpleWindowDecoder },\r\n    getTitle: { name: \"getTitle\", dataDecoder: simpleWindowDecoder, resultDecoder: windowTitleConfigDecoder },\r\n    setTitle: { name: \"setTitle\", dataDecoder: windowTitleConfigDecoder }\r\n};\r\n\r\nexport interface WindowProjection {\r\n    id: string;\r\n    model: WebWindowModel;\r\n    api: Glue42Web.Windows.WebWindow;\r\n}\r\n\r\nexport interface WindowHello {\r\n    windowId?: string;\r\n}\r\n\r\nexport interface OpenWindowConfig {\r\n    name: string;\r\n    url: string;\r\n    options?: Glue42Web.Windows.Settings;\r\n}\r\n\r\nexport interface SimpleWindowCommand {\r\n    windowId: string;\r\n}\r\n\r\nexport interface WindowTitleConfig {\r\n    windowId: string;\r\n    title: string;\r\n}\r\n\r\nexport interface WindowMoveResizeConfig {\r\n    windowId: string;\r\n    top?: number;\r\n    left?: number;\r\n    width?: number;\r\n    height?: number;\r\n    relative?: boolean;\r\n}\r\n\r\nexport interface HelloSuccess {\r\n    windows: CoreWindowData[];\r\n    isWorkspaceFrame: boolean;\r\n}\r\n\r\nexport interface CoreWindowData {\r\n    windowId: string;\r\n    name: string;\r\n}\r\n\r\nexport interface WindowBoundsResult {\r\n    windowId: string;\r\n    bounds: Glue42Web.Windows.Bounds;\r\n}\r\n\r\nexport interface WindowUrlResult {\r\n    windowId: string;\r\n    url: string;\r\n}\r\n","\"use strict\";\r\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\n;\r\ncreateRegistry.default = createRegistry;\r\nmodule.exports = createRegistry;\r\n//# sourceMappingURL=index.js.map","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { number } from \"decoder-validate\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { anyDecoder, boundsDecoder, nonEmptyStringDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\nimport { operations, SimpleWindowCommand, WindowBoundsResult, WindowMoveResizeConfig, WindowTitleConfig, WindowUrlResult } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class WebWindowModel {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private readonly myCtxKey: string;\r\n    private ctxUnsubscribe: UnsubscribeFunction | undefined;\r\n    private me!: Glue42Web.Windows.WebWindow;\r\n\r\n    constructor(private readonly _id: string, private readonly _name: string, private readonly _bridge: GlueBridge) {\r\n        this.myCtxKey = `___window___${this.id}`;\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id.slice();\r\n    }\r\n\r\n    public get name(): string {\r\n        return this._name.slice();\r\n    }\r\n\r\n    public clean(): void {\r\n        if (this.ctxUnsubscribe) {\r\n            this.ctxUnsubscribe();\r\n        }\r\n    }\r\n\r\n    public async toApi(): Promise<Glue42Web.Windows.WebWindow> {\r\n\r\n        this.ctxUnsubscribe = await this._bridge.contextLib.subscribe(this.myCtxKey, (data) => this.registry.execute(\"context-updated\", data));\r\n\r\n        const api = {\r\n            id: this.id,\r\n            name: this.name,\r\n            getURL: this.getURL.bind(this),\r\n            moveResize: this.moveResize.bind(this),\r\n            resizeTo: this.resizeTo.bind(this),\r\n            moveTo: this.moveTo.bind(this),\r\n            focus: this.focus.bind(this),\r\n            close: this.close.bind(this),\r\n            getTitle: this.getTitle.bind(this),\r\n            setTitle: this.setTitle.bind(this),\r\n            getBounds: this.getBounds.bind(this),\r\n            getContext: this.getContext.bind(this),\r\n            updateContext: this.updateContext.bind(this),\r\n            setContext: this.setContext.bind(this),\r\n            onContextUpdated: this.onContextUpdated.bind(this)\r\n        };\r\n\r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getURL(): Promise<string> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowUrlResult>(\"windows\", operations.getUrl, { windowId: this.id });\r\n\r\n        return result.url;\r\n    }\r\n\r\n    private async moveResize(dimension: Partial<Glue42Web.Windows.Bounds>): Promise<Glue42Web.Windows.WebWindow> {\r\n        const targetBounds = boundsDecoder.runWithException(dimension);\r\n\r\n        const commandArgs = Object.assign({}, targetBounds, { windowId: this.id, relative: false });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async resizeTo(width?: number, height?: number): Promise<Glue42Web.Windows.WebWindow> {\r\n        if (typeof width === \"undefined\" && typeof height === \"undefined\") {\r\n            return this.me;\r\n        }\r\n\r\n        if (typeof width !== \"undefined\") {\r\n            nonNegativeNumberDecoder.runWithException(width);\r\n        }\r\n\r\n        if (typeof height !== \"undefined\") {\r\n            nonNegativeNumberDecoder.runWithException(height);\r\n        }\r\n\r\n        const commandArgs = Object.assign({}, { width, height }, { windowId: this.id, relative: true });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async moveTo(top?: number, left?: number): Promise<Glue42Web.Windows.WebWindow> {\r\n        if (typeof top === \"undefined\" && typeof left === \"undefined\") {\r\n            return this.me;\r\n        }\r\n\r\n        if (typeof top !== \"undefined\") {\r\n            number().runWithException(top);\r\n        }\r\n\r\n        if (typeof left !== \"undefined\") {\r\n            number().runWithException(left);\r\n        }\r\n\r\n        const commandArgs = Object.assign({}, { top, left }, { windowId: this.id, relative: true });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async focus(): Promise<Glue42Web.Windows.WebWindow> {\r\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.focus, { windowId: this.id });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async close(): Promise<Glue42Web.Windows.WebWindow> {\r\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.close, { windowId: this.id });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getTitle(): Promise<string> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowTitleConfig>(\"windows\", operations.getTitle, { windowId: this.id });\r\n\r\n        return result.title;\r\n    }\r\n\r\n    private async setTitle(title: string): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ttl = nonEmptyStringDecoder.runWithException(title);\r\n\r\n        await this._bridge.send<WindowTitleConfig, void>(\"windows\", operations.setTitle, { windowId: this.id, title: ttl });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getBounds(): Promise<Glue42Web.Windows.Bounds> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowBoundsResult>(\"windows\", operations.getBounds, { windowId: this.id });\r\n\r\n        return result.bounds;\r\n    }\r\n\r\n    private async getContext(): Promise<any> {\r\n        const ctx = await this._bridge.contextLib.get(this.myCtxKey);\r\n        return ctx;\r\n    }\r\n\r\n    private async updateContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ctx = anyDecoder.runWithException(context);\r\n\r\n        await this._bridge.contextLib.update(this.myCtxKey, ctx);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async setContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ctx = anyDecoder.runWithException(context);\r\n\r\n        await this._bridge.contextLib.set(this.myCtxKey, ctx);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private onContextUpdated(callback: (context: any, window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to context changes, because the provided callback is not a function!\");\r\n        }\r\n\r\n        const wrappedCallback = (data: any): void => {\r\n            callback(data, this.me);\r\n        };\r\n\r\n        return this.registry.add(\"context-updated\", wrappedCallback);\r\n    }\r\n\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { nonEmptyStringDecoder, windowOpenSettingsDecoder, windowOperationTypesDecoder } from \"../shared/decoders\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { HelloSuccess, OpenWindowConfig, CoreWindowData, WindowHello, operations, WindowBoundsResult, WindowTitleConfig, WindowUrlResult, WindowMoveResizeConfig, WindowProjection } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { IoC } from \"../shared/ioc\";\r\n\r\nexport class WindowsController implements LibController {\r\n\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private platformRegistration!: Promise<void>;\r\n    private ioc!: IoC;\r\n    private bridge!: GlueBridge;\r\n    private publicWindowId!: string;\r\n    private actualWindowId: string | undefined;\r\n    private allWindowProjections: WindowProjection[] = [];\r\n    private me!: Glue42Web.Windows.WebWindow;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n\r\n        this.logger = coreGlue.logger.subLogger(\"windows.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web windows controller\");\r\n\r\n        this.publicWindowId = (coreGlue as any).connection.transport.publicWindowId;\r\n        this.actualWindowId = coreGlue.interop.instance.windowId;\r\n\r\n        this.addWindowOperationExecutors();\r\n\r\n        this.ioc = ioc;\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.logger.trace(`set the public window id: ${this.publicWindowId} and actual window id: ${this.actualWindowId}, set the bridge operations and ioc, registering with the platform now`);\r\n\r\n        this.platformRegistration = this.registerWithPlatform();\r\n\r\n        await this.platformRegistration;\r\n\r\n        this.logger.trace(\"registration with the platform successful, attaching the windows property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).windows = api;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        await this.platformRegistration;\r\n\r\n        const operationName = windowOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async open(name: string, url: string, options?: Glue42Web.Windows.Settings): Promise<Glue42Web.Windows.WebWindow> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        nonEmptyStringDecoder.runWithException(url);\r\n        const settings = windowOpenSettingsDecoder.runWithException(options);\r\n\r\n        const windowSuccess = await this.bridge.send<OpenWindowConfig, CoreWindowData>(\"windows\", operations.openWindow, { name, url, options: settings });\r\n\r\n        const projection = await this.ioc.buildWebWindow(windowSuccess.windowId, windowSuccess.name);\r\n\r\n        return projection.api;\r\n    }\r\n\r\n    private list(): Glue42Web.Windows.WebWindow[] {\r\n        return this.allWindowProjections.map((projection) => projection.api);\r\n    }\r\n\r\n    private findById(id: string): Glue42Web.Windows.WebWindow | undefined {\r\n        nonEmptyStringDecoder.runWithException(id);\r\n\r\n        return this.allWindowProjections.find((projection) => projection.id === id)?.api;\r\n    }\r\n\r\n    private toApi(): Glue42Web.Windows.API {\r\n        return {\r\n            open: this.open.bind(this),\r\n            my: this.my.bind(this),\r\n            list: this.list.bind(this),\r\n            findById: this.findById.bind(this),\r\n            onWindowAdded: this.onWindowAdded.bind(this),\r\n            onWindowRemoved: this.onWindowRemoved.bind(this)\r\n        };\r\n    }\r\n\r\n    private addWindowOperationExecutors(): void {\r\n        operations.windowAdded.execute = this.handleWindowAdded.bind(this);\r\n        operations.windowRemoved.execute = this.handleWindowRemoved.bind(this);\r\n        operations.getBounds.execute = this.handleGetBounds.bind(this);\r\n        operations.getTitle.execute = this.handleGetTitle.bind(this);\r\n        operations.getUrl.execute = this.handleGetUrl.bind(this);\r\n        operations.moveResize.execute = this.handleMoveResize.bind(this);\r\n        operations.setTitle.execute = this.handleSetTitle.bind(this);\r\n    }\r\n\r\n    private my(): Glue42Web.Windows.WebWindow {\r\n        return Object.assign({}, this.me);\r\n    }\r\n\r\n    private onWindowAdded(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window added, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(\"window-added\", callback);\r\n    }\r\n\r\n    private onWindowRemoved(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window removed, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(\"window-removed\", callback);\r\n    }\r\n\r\n    private async sayHello(): Promise<HelloSuccess> {\r\n        const helloSuccess = await this.bridge.send<WindowHello, HelloSuccess>(\"windows\", operations.windowHello, { windowId: this.actualWindowId });\r\n\r\n        return helloSuccess;\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n\r\n        const { windows, isWorkspaceFrame } = await this.sayHello();\r\n\r\n        this.logger.trace(\"the platform responded to the hello message\");\r\n\r\n        if (!isWorkspaceFrame) {\r\n            this.logger.trace(\"i am not treated as a workspace frame, setting my window\");\r\n\r\n            const myWindow = windows.find((w) => w.windowId === this.publicWindowId);\r\n\r\n            if (!myWindow) {\r\n                throw new Error(\"Cannot initialize the window library, because I received no information about me from the platform\");\r\n            }\r\n\r\n            this.me = (await this.ioc.buildWebWindow(this.publicWindowId, myWindow.name)).api;\r\n        }\r\n\r\n        const currentWindows = await Promise.all(windows.map((w) => this.ioc.buildWebWindow(w.windowId, w.name)));\r\n\r\n        this.logger.trace(\"all windows projections are completed, building the list collection\");\r\n\r\n        this.allWindowProjections.push(...currentWindows);\r\n    }\r\n\r\n    private async handleWindowAdded(data: CoreWindowData): Promise<void> {\r\n        if (this.allWindowProjections.some((projection) => projection.id === data.windowId)) {\r\n            return;\r\n        }\r\n\r\n        const webWindowProjection = await this.ioc.buildWebWindow(data.windowId, data.name);\r\n        this.allWindowProjections.push(webWindowProjection);\r\n\r\n        this.registry.execute(\"window-added\", webWindowProjection.api);\r\n    }\r\n\r\n    private async handleWindowRemoved(data: CoreWindowData): Promise<void> {\r\n        const removed = this.allWindowProjections.find((w) => w.id === data.windowId);\r\n\r\n        if (!removed) {\r\n            return;\r\n        }\r\n\r\n        this.allWindowProjections = this.allWindowProjections.filter((w) => w.id !== data.windowId);\r\n\r\n        removed.model.clean();\r\n\r\n        this.registry.execute(\"window-removed\", removed.api);\r\n    }\r\n\r\n    private async handleGetBounds(): Promise<WindowBoundsResult> {\r\n        return {\r\n            windowId: this.me.id,\r\n            bounds: {\r\n                top: window.screenTop,\r\n                left: window.screenLeft,\r\n                width: window.innerWidth,\r\n                height: window.innerHeight\r\n            }\r\n        };\r\n    }\r\n\r\n    private async handleGetTitle(): Promise<WindowTitleConfig> {\r\n        return {\r\n            windowId: this.me.id,\r\n            title: document.title\r\n        };\r\n    }\r\n\r\n    private async handleGetUrl(): Promise<WindowUrlResult> {\r\n        return {\r\n            windowId: this.me.id,\r\n            url: window.location.href\r\n        };\r\n    }\r\n\r\n    private async handleMoveResize(config: WindowMoveResizeConfig): Promise<void> {\r\n\r\n        const targetTop = typeof config.top === \"number\" ? config.top :\r\n            config.relative ? 0 : window.screenTop;\r\n\r\n        const targetLeft = typeof config.left === \"number\" ? config.left :\r\n            config.relative ? 0 : window.screenLeft;\r\n\r\n        const targetHeight = typeof config.height === \"number\" ? config.height :\r\n            config.relative ? 0 : window.innerHeight;\r\n\r\n        const targetWidth = typeof config.width === \"number\" ? config.width :\r\n            config.relative ? 0 : window.innerWidth;\r\n\r\n        const moveMethod = config.relative ? window.moveBy : window.moveTo;\r\n        const resizeMethod = config.relative ? window.resizeBy : window.resizeTo;\r\n\r\n        moveMethod(targetLeft, targetTop);\r\n        resizeMethod(targetWidth, targetHeight);\r\n    }\r\n\r\n    private async handleSetTitle(config: WindowTitleConfig): Promise<void> {\r\n        document.title = config.title;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\nexport const PromiseWrap = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n\r\nexport const PromisePlus = <T>(executor: (resolve: (value?: T | PromiseLike<T> | undefined) => void, reject: (reason?: any) => void) => void, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n\r\n    return new Promise<T>((resolve, reject) => {\r\n        const timeout = setTimeout(() => {\r\n\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        const providedPromise = new Promise<T>(executor);\r\n\r\n        providedPromise\r\n            .then((result) => {\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n\r\n};\r\n","import { isWindowInSwimlaneResultDecoder, frameSummaryDecoder, workspaceSnapshotResultDecoder, frameSummariesResultDecoder, workspaceCreateConfigDecoder, getFrameSummaryConfigDecoder, layoutSummariesDecoder, openWorkspaceConfigDecoder, workspaceSummariesResultDecoder, voidResultDecoder, exportedLayoutsResultDecoder, workspaceLayoutDecoder, deleteLayoutConfigDecoder, simpleItemConfigDecoder, resizeItemConfigDecoder, moveFrameConfigDecoder, frameSnapshotResultDecoder, simpleWindowOperationSuccessResultDecoder, setItemTitleConfigDecoder, moveWindowConfigDecoder, addWindowConfigDecoder, addContainerConfigDecoder, addItemResultDecoder, bundleConfigDecoder, workspaceStreamDataDecoder, frameStreamDataDecoder, containerStreamDataDecoder, windowStreamDataDecoder, workspaceLayoutSaveConfigDecoder, pingResultDecoder, frameStateConfigDecoder, frameStateResultDecoder, workspacesImportLayoutDecoder, workspaceSelectorDecoder } from \"../shared/decoders\";\r\nimport { ControlOperation, StreamOperation } from \"../types/protocol\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\n\r\ntype OperationsTypes = \"isWindowInWorkspace\" |\r\n    \"createWorkspace\" |\r\n    \"getAllFramesSummaries\" |\r\n    \"getFrameSummary\" |\r\n    \"getAllWorkspacesSummaries\" |\r\n    \"getWorkspaceSnapshot\" |\r\n    \"getAllLayoutsSummaries\" |\r\n    \"openWorkspace\" |\r\n    \"deleteLayout\" |\r\n    \"saveLayout\" |\r\n    \"importLayout\" |\r\n    \"exportAllLayouts\" |\r\n    \"restoreItem\" |\r\n    \"maximizeItem\" |\r\n    \"focusItem\" |\r\n    \"closeItem\" |\r\n    \"resizeItem\" |\r\n    \"moveFrame\" |\r\n    \"getFrameSnapshot\" |\r\n    \"forceLoadWindow\" |\r\n    \"ejectWindow\" |\r\n    \"setItemTitle\" |\r\n    \"moveWindowTo\" |\r\n    \"addWindow\" |\r\n    \"addContainer\" |\r\n    \"bundleWorkspace\" |\r\n    \"ping\" |\r\n    \"changeFrameState\" |\r\n    \"getFrameState\" |\r\n    \"hibernateWorkspace\" |\r\n    \"resumeWorkspace\";\r\ntype MethodsTypes = \"control\" | \"frameStream\" | \"workspaceStream\" | \"containerStream\" | \"windowStream\";\r\n\r\nexport const webPlatformMethodName = \"T42.Web.Platform.Control\";\r\nexport const webPlatformWspStreamName = \"T42.Web.Platform.WSP.Stream\";\r\n\r\nexport const METHODS: { [key in MethodsTypes]: { name: string; isStream: boolean } } = {\r\n    control: { name: \"T42.Workspaces.Control\", isStream: false },\r\n    frameStream: { name: \"T42.Workspaces.Stream.Frame\", isStream: true },\r\n    workspaceStream: { name: \"T42.Workspaces.Stream.Workspace\", isStream: true },\r\n    containerStream: { name: \"T42.Workspaces.Stream.Container\", isStream: true },\r\n    windowStream: { name: \"T42.Workspaces.Stream.Window\", isStream: true }\r\n};\r\n\r\nexport const STREAMS: { [key in WorkspaceEventType]: StreamOperation } = {\r\n    frame: { name: \"T42.Workspaces.Stream.Frame\", payloadDecoder: frameStreamDataDecoder },\r\n    workspace: { name: \"T42.Workspaces.Stream.Workspace\", payloadDecoder: workspaceStreamDataDecoder },\r\n    container: { name: \"T42.Workspaces.Stream.Container\", payloadDecoder: containerStreamDataDecoder },\r\n    window: { name: \"T42.Workspaces.Stream.Window\", payloadDecoder: windowStreamDataDecoder }\r\n};\r\n\r\nexport const OPERATIONS: { [key in OperationsTypes]: ControlOperation } = {\r\n    ping: { name: \"ping\", resultDecoder: pingResultDecoder },\r\n    isWindowInWorkspace: { name: \"isWindowInWorkspace\", argsDecoder: simpleItemConfigDecoder, resultDecoder: isWindowInSwimlaneResultDecoder },\r\n    createWorkspace: { name: \"createWorkspace\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: workspaceCreateConfigDecoder },\r\n    getAllFramesSummaries: { name: \"getAllFramesSummaries\", resultDecoder: frameSummariesResultDecoder },\r\n    getFrameSummary: { name: \"getFrameSummary\", resultDecoder: frameSummaryDecoder, argsDecoder: getFrameSummaryConfigDecoder },\r\n    getAllWorkspacesSummaries: { name: \"getAllWorkspacesSummaries\", resultDecoder: workspaceSummariesResultDecoder },\r\n    getWorkspaceSnapshot: { name: \"getWorkspaceSnapshot\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: simpleItemConfigDecoder },\r\n    getAllLayoutsSummaries: { name: \"getAllLayoutsSummaries\", resultDecoder: layoutSummariesDecoder },\r\n    openWorkspace: { name: \"openWorkspace\", argsDecoder: openWorkspaceConfigDecoder, resultDecoder: workspaceSnapshotResultDecoder },\r\n    deleteLayout: { name: \"deleteLayout\", resultDecoder: voidResultDecoder, argsDecoder: deleteLayoutConfigDecoder },\r\n    saveLayout: { name: \"saveLayout\", resultDecoder: workspaceLayoutDecoder, argsDecoder: workspaceLayoutSaveConfigDecoder },\r\n    importLayout: { name: \"importLayout\", resultDecoder: voidResultDecoder, argsDecoder: workspacesImportLayoutDecoder },\r\n    exportAllLayouts: { name: \"exportAllLayouts\", resultDecoder: exportedLayoutsResultDecoder },\r\n    restoreItem: { name: \"restoreItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    maximizeItem: { name: \"maximizeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    focusItem: { name: \"focusItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    closeItem: { name: \"closeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    resizeItem: { name: \"resizeItem\", argsDecoder: resizeItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    changeFrameState: { name: \"changeFrameState\", argsDecoder: frameStateConfigDecoder, resultDecoder: voidResultDecoder },\r\n    getFrameState: { name: \"getFrameState\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameStateResultDecoder },\r\n    moveFrame: { name: \"moveFrame\", argsDecoder: moveFrameConfigDecoder, resultDecoder: voidResultDecoder },\r\n    getFrameSnapshot: { name: \"getFrameSnapshot\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameSnapshotResultDecoder },\r\n    forceLoadWindow: { name: \"forceLoadWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    ejectWindow: { name: \"ejectWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    setItemTitle: { name: \"setItemTitle\", argsDecoder: setItemTitleConfigDecoder, resultDecoder: voidResultDecoder },\r\n    moveWindowTo: { name: \"moveWindowTo\", argsDecoder: moveWindowConfigDecoder, resultDecoder: voidResultDecoder },\r\n    addWindow: { name: \"addWindow\", argsDecoder: addWindowConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    addContainer: { name: \"addContainer\", argsDecoder: addContainerConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    bundleWorkspace: { name: \"bundleWorkspace\", argsDecoder: bundleConfigDecoder, resultDecoder: voidResultDecoder },\r\n    hibernateWorkspace: { name: \"hibernateWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    resumeWorkspace: { name: \"resumeWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n};\r\n","import { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\r\nimport { SubscriptionConfig, ActiveSubscription, WorkspaceEventType, WorkspaceEventAction, WorkspacePayload, WorkspaceEventScope } from \"../types/subscription\";\r\nimport { STREAMS } from \"./constants\";\r\nimport { OPERATIONS } from \"./constants\";\r\nimport { eventTypeDecoder, streamRequestArgumentsDecoder, workspaceEventActionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { InteropTransport } from \"./interop-transport\";\r\n\r\nexport class Bridge {\r\n\r\n    private readonly activeSubscriptions: ActiveSubscription[] = [];\r\n\r\n    constructor(\r\n        private readonly transport: InteropTransport,\r\n        private readonly registry: CallbackRegistry\r\n    ) { }\r\n\r\n    public async createCoreEventSubscription(): Promise<void> {\r\n        await this.transport.coreSubscriptionReady(this.handleCoreEvent.bind(this));\r\n    }\r\n\r\n    public handleCoreSubscription(config: SubscriptionConfig): UnsubscribeFunction {\r\n        const registryKey = `${config.eventType}-${config.action}`;\r\n        const scope = config.scope;\r\n        const scopeId = config.scopeId;\r\n\r\n        return this.registry.add(registryKey, (args) => {\r\n            const scopeConfig = {\r\n                type: scope,\r\n                id: scopeId\r\n            };\r\n\r\n            const receivedIds = {\r\n                frame: args.frameSummary?.id || args.windowSummary?.config.frameId,\r\n                workspace: args.workspaceSummary?.id || args.windowSummary?.config.workspaceId,\r\n                window: args.windowSummary?.config.windowId\r\n            };\r\n\r\n            const shouldInvokeCallback = this.checkScopeMatch(scopeConfig, receivedIds);\r\n\r\n            if (!shouldInvokeCallback) {\r\n                return;\r\n            }\r\n\r\n            config.callback(args);\r\n        });\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    public async send<T>(operationName: string, operationArgs?: any): Promise<T> {\r\n\r\n        const operationDefinition = Object.values(OPERATIONS).find((operation) => operation.name === operationName);\r\n\r\n        if (!operationDefinition) {\r\n            throw new Error(`Cannot find definition for operation name: ${operationName}`);\r\n        }\r\n\r\n        if (operationDefinition.argsDecoder) {\r\n            try {\r\n                operationDefinition.argsDecoder.runWithException(operationArgs);\r\n            } catch (error) {\r\n                throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for input: ${JSON.stringify(error.input)}, for operation ${operationName}`);\r\n            }\r\n        }\r\n\r\n        let operationResult;\r\n\r\n        try {\r\n            const operationResultRaw = await this.transport.transmitControl(operationDefinition.name, operationArgs);\r\n            operationResult = operationDefinition.resultDecoder.runWithException(operationResultRaw);\r\n        } catch (error) {\r\n            if (error.kind) {\r\n                throw new Error(`Unexpected internal incoming validation error: ${error.message}, for input: ${JSON.stringify(error.input)}, for operation ${operationName}`);\r\n            }\r\n            throw new Error(error.message);\r\n        }\r\n\r\n        return operationResult;\r\n    }\r\n\r\n    public async subscribe(config: SubscriptionConfig): Promise<Glue42Workspaces.Unsubscribe> {\r\n        let activeSub = this.getActiveSubscription(config);\r\n        const registryKey = this.getRegistryKey(config);\r\n\r\n        if (!activeSub) {\r\n            const stream = STREAMS[config.eventType];\r\n            const gdSub = await this.transport.subscribe(stream.name, this.getBranchKey(config), config.eventType);\r\n\r\n            gdSub.onData((streamData) => {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const data = streamData.data as { action: string; payload: any };\r\n\r\n                // important to decode without exception, because we do not want to throw an exception here\r\n                const requestedArgumentsResult = streamRequestArgumentsDecoder.run(streamData.requestArguments);\r\n                const actionResult = workspaceEventActionDecoder.run(data.action);\r\n\r\n                if (!requestedArgumentsResult.ok || !actionResult.ok) {\r\n                    return;\r\n                }\r\n\r\n                const streamType = requestedArgumentsResult.result.type;\r\n                const branch = requestedArgumentsResult.result.branch;\r\n\r\n                const validatedPayload = STREAMS[streamType].payloadDecoder.run(data.payload);\r\n\r\n                if (!validatedPayload.ok) {\r\n                    return;\r\n                }\r\n\r\n                const keyToExecute = `${streamType}-${branch}-${actionResult.result}`;\r\n                this.registry.execute(keyToExecute, validatedPayload.result);\r\n            });\r\n\r\n            activeSub = {\r\n                streamType: config.eventType,\r\n                level: config.scope,\r\n                levelId: config.scopeId,\r\n                callbacksCount: 0,\r\n                gdSub\r\n            };\r\n\r\n            this.activeSubscriptions.push(activeSub);\r\n        }\r\n\r\n        const unsubscribe = this.registry.add(registryKey, config.callback);\r\n\r\n        ++activeSub.callbacksCount;\r\n\r\n        return (): void => {\r\n            unsubscribe();\r\n\r\n            --activeSub.callbacksCount;\r\n\r\n            if (activeSub.callbacksCount === 0) {\r\n                activeSub.gdSub.close();\r\n                this.activeSubscriptions.splice(this.activeSubscriptions.indexOf(activeSub), 1);\r\n            }\r\n        };\r\n    }\r\n\r\n    private checkScopeMatch(scope: { type: WorkspaceEventScope; id?: string }, receivedIds: { frame: string; workspace: string; window: string }): boolean {\r\n\r\n        if (scope.type === \"global\") {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"frame\" && scope.id === receivedIds.frame) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"workspace\" && scope.id === receivedIds.workspace) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"window\" && scope.id === receivedIds.window) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private handleCoreEvent(args: any): void {\r\n        const data = args.data;\r\n        try {\r\n            const verifiedAction: WorkspaceEventAction = workspaceEventActionDecoder.runWithException(data.action);\r\n            const verifiedType: WorkspaceEventType = eventTypeDecoder.runWithException(data.type);\r\n            const verifiedPayload: WorkspacePayload = STREAMS[verifiedType].payloadDecoder.runWithException(data.payload);\r\n\r\n            const registryKey = `${verifiedType}-${verifiedAction}`;\r\n\r\n            this.registry.execute(registryKey, verifiedPayload);\r\n        } catch (error) {\r\n            console.warn(`Cannot handle event with data ${JSON.stringify(data)}, because of validation error: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    private getBranchKey(config: SubscriptionConfig): string {\r\n        return config.scope === \"global\" ? config.scope : `${config.scope}_${config.scopeId}`;\r\n    }\r\n\r\n    private getRegistryKey(config: SubscriptionConfig): string {\r\n        return `${config.eventType}-${this.getBranchKey(config)}-${config.action}`;\r\n    }\r\n\r\n    private getActiveSubscription(config: SubscriptionConfig): ActiveSubscription {\r\n        return this.activeSubscriptions\r\n            .find((activeSub) => activeSub.streamType === config.eventType &&\r\n                activeSub.level === config.scope &&\r\n                activeSub.levelId === config.scopeId\r\n            );\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Web } from \"../../web\";\r\nimport { appHelloSuccessDecoder, applicationStartConfigDecoder, appRemoveConfigDecoder, appsExportOperationDecoder, baseApplicationDataDecoder, basicInstanceDataDecoder, instanceDataDecoder, windowHelloDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type AppManagerOperationTypes = \"appHello\" | \"applicationAdded\" |\r\n    \"applicationRemoved\" | \"applicationChanged\" | \"instanceStarted\" | \"instanceStopped\" |\r\n    \"applicationStart\" | \"instanceStop\" | \"import\" | \"remove\" | \"export\" | \"clear\";\r\n\r\nexport const operations: { [key in AppManagerOperationTypes]: BridgeOperation } = {\r\n    appHello: { name: \"appHello\", dataDecoder: windowHelloDecoder, resultDecoder: appHelloSuccessDecoder },\r\n    applicationAdded: { name: \"applicationAdded\", dataDecoder: baseApplicationDataDecoder },\r\n    applicationRemoved: { name: \"applicationRemoved\", dataDecoder: baseApplicationDataDecoder },\r\n    applicationChanged: { name: \"applicationChanged\", dataDecoder: baseApplicationDataDecoder },\r\n    instanceStarted: { name: \"instanceStarted\", dataDecoder: instanceDataDecoder },\r\n    instanceStopped: { name: \"instanceStopped\", dataDecoder: instanceDataDecoder },\r\n    applicationStart: { name: \"applicationStart\", dataDecoder: applicationStartConfigDecoder, resultDecoder: instanceDataDecoder },\r\n    instanceStop: { name: \"instanceStop\", dataDecoder: basicInstanceDataDecoder },\r\n    import: { name: \"import\" },\r\n    remove: { name: \"remove\", dataDecoder: appRemoveConfigDecoder },\r\n    export: { name: \"export\", resultDecoder: appsExportOperationDecoder },\r\n    clear: { name: \"clear\" }\r\n};\r\n\r\nexport interface InstanceData {\r\n    id: string;\r\n    applicationName: string;\r\n}\r\n\r\nexport interface BaseApplicationData {\r\n    name: string;\r\n    type: string;\r\n    userProperties: any;\r\n    title?: string;\r\n    version?: string;\r\n    icon?: string;\r\n    caption?: string;\r\n}\r\n\r\nexport interface ApplicationData extends BaseApplicationData {\r\n    instances: InstanceData[];\r\n}\r\n\r\nexport interface AppRemoveConfig {\r\n    name: string;\r\n}\r\n\r\nexport interface AppsExportOperation {\r\n    definitions: Glue42Web.AppManager.Definition[];\r\n}\r\n\r\nexport interface AppsImportOperation {\r\n    definitions: Array<Glue42Web.AppManager.Definition | FDC3Definition>;\r\n    mode: \"replace\" | \"merge\";\r\n}\r\n\r\nexport interface AppHelloSuccess {\r\n    apps: ApplicationData[];\r\n}\r\n\r\nexport interface ApplicationStartConfig {\r\n    name: string;\r\n    waitForAGMReady: boolean;\r\n    id?: string;\r\n    context?: any;\r\n    top?: number;\r\n    left?: number;\r\n    width?: number;\r\n    height?: number;\r\n    relativeTo?: string;\r\n    relativeDirection?: \"top\" | \"left\" | \"right\" | \"bottom\";\r\n}\r\n\r\nexport interface BasicInstanceData {\r\n    id: string;\r\n}\r\n\r\nexport interface FDC3Definition {\r\n    name: string;\r\n    title?: string;\r\n    version?: string;\r\n    appId: string;\r\n    manifest: string;\r\n    manifestType: string;\r\n    tooltip?: string;\r\n    description?: string;\r\n    contactEmail?: string;\r\n    supportEmail?: string;\r\n    publisher?: string;\r\n    images?: Array<{ url?: string }>;\r\n    icons?: Array<{ icon?: string }>;\r\n    customConfig?: any;\r\n    intents?: Intent[];\r\n}\r\n\r\nexport interface Intent {\r\n    name: string;\r\n    displayName?: string;\r\n    contexts?: string[];\r\n    customConfig?: any;\r\n}\r\n\r\nexport interface DefinitionParseResult {\r\n    valid: Glue42Web.AppManager.Definition[];\r\n    invalid: Array<{ app: string; error: string }>;\r\n}\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { allApplicationDefinitionsDecoder, appManagerOperationTypesDecoder, importModeDecoder, nonEmptyStringDecoder } from \"../shared/decoders\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { WindowHello } from \"../windows/protocol\";\r\nimport { AppsImportOperation, AppHelloSuccess, ApplicationData, ApplicationStartConfig, AppRemoveConfig, InstanceData, operations, BaseApplicationData, AppsExportOperation, DefinitionParseResult } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class AppManagerController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private ioc!: IoC;\r\n    private bridge!: GlueBridge;\r\n    private publicWindowId!: string;\r\n    private actualWindowId: string | undefined;\r\n    private me: Glue42Web.AppManager.Instance | undefined;\r\n    private applications: Glue42Web.AppManager.Application[] = [];\r\n    private instances: Glue42Web.AppManager.Instance[] = [];\r\n    private platformRegistration!: Promise<void>;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"appManger.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web appManager controller\");\r\n\r\n        this.publicWindowId = (coreGlue as any).connection.transport.publicWindowId;\r\n        this.actualWindowId = coreGlue.interop.instance.windowId;\r\n\r\n        this.addOperationsExecutors();\r\n\r\n        this.ioc = ioc;\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.platformRegistration = this.registerWithPlatform();\r\n\r\n        await this.platformRegistration;\r\n\r\n        this.logger.trace(\"registration with the platform successful, attaching the appManager property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).appManager = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        await this.platformRegistration;\r\n\r\n        const operationName = appManagerOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    public onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"instance-started\", callback, this.instances);\r\n    }\r\n\r\n    public onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"instance-stopped\", callback);\r\n    }\r\n\r\n    public async startApplication(appName: string, context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\r\n        // reuseId is a hidden property for workspaces-only use\r\n        const startOptions: ApplicationStartConfig = {\r\n            name: appName,\r\n            waitForAGMReady: options?.waitForAGMReady ?? true,\r\n            context,\r\n            top: options?.top,\r\n            left: options?.left,\r\n            width: options?.width,\r\n            height: options?.height,\r\n            relativeTo: options?.relativeTo,\r\n            relativeDirection: options?.relativeDirection,\r\n            id: (options as any)?.reuseId\r\n        };\r\n\r\n        const openResult = await this.bridge.send<ApplicationStartConfig, InstanceData>(\"appManager\", operations.applicationStart, startOptions);\r\n\r\n        const app = this.applications.find((a) => a.name === openResult.applicationName) as Glue42Web.AppManager.Application;\r\n\r\n        return this.ioc.buildInstance(openResult, app);\r\n    }\r\n\r\n    private toApi(): Glue42Web.AppManager.API {\r\n        const api: Glue42Web.AppManager.API = {\r\n            myInstance: this.me as unknown as Glue42Web.AppManager.Instance,\r\n            inMemory: {\r\n                import: this.import.bind(this),\r\n                remove: this.remove.bind(this),\r\n                export: this.export.bind(this),\r\n                clear: this.clear.bind(this)\r\n            },\r\n            application: this.getApplication.bind(this),\r\n            applications: this.getApplications.bind(this),\r\n            instances: this.getInstances.bind(this),\r\n            onAppAdded: this.onAppAdded.bind(this),\r\n            onAppChanged: this.onAppChanged.bind(this),\r\n            onAppRemoved: this.onAppRemoved.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private addOperationsExecutors(): void {\r\n        operations.applicationAdded.execute = this.handleApplicationAddedMessage.bind(this);\r\n        operations.applicationRemoved.execute = this.handleApplicationRemovedMessage.bind(this);\r\n        operations.applicationChanged.execute = this.handleApplicationChangedMessage.bind(this);\r\n        operations.instanceStarted.execute = this.handleInstanceStartedMessage.bind(this);\r\n        operations.instanceStopped.execute = this.handleInstanceStoppedMessage.bind(this);\r\n    }\r\n\r\n    private onAppAdded(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-added\", callback, this.applications);\r\n    }\r\n\r\n    private onAppRemoved(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-removed\", callback);\r\n    }\r\n\r\n    private onAppChanged(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-changed\", callback);\r\n    }\r\n\r\n\r\n    private async handleApplicationAddedMessage(appData: BaseApplicationData): Promise<void> {\r\n\r\n        if (this.applications.some((app) => app.name === appData.name)) {\r\n            return;\r\n        }\r\n\r\n        const app = await this.ioc.buildApplication(appData, []);\r\n\r\n        const instances = this.instances.filter((instance) => instance.application.name === app.name);\r\n\r\n        app.instances.push(...instances);\r\n\r\n        this.applications.push(app);\r\n\r\n        this.registry.execute(\"application-added\", app);\r\n    }\r\n\r\n    private async handleApplicationRemovedMessage(appData: BaseApplicationData): Promise<void> {\r\n        const appIndex = this.applications.findIndex((app) => app.name === appData.name);\r\n\r\n        if (appIndex < 0) {\r\n            return;\r\n        }\r\n\r\n        const app = this.applications[appIndex];\r\n\r\n        this.applications.splice(appIndex, 1);\r\n\r\n        this.registry.execute(\"application-removed\", app);\r\n    }\r\n\r\n    private async handleApplicationChangedMessage(appData: BaseApplicationData): Promise<void> {\r\n        const app = this.applications.find((app) => app.name === appData.name);\r\n\r\n        if (!app) {\r\n            return this.handleApplicationAddedMessage(appData);\r\n        }\r\n\r\n        app.title = appData.title as string;\r\n        app.version = appData.version as string;\r\n        app.icon = appData.icon as string;\r\n        app.caption = appData.caption as string;\r\n        app.userProperties = appData.userProperties;\r\n\r\n        this.registry.execute(\"application-changed\", app);\r\n    }\r\n\r\n    private async handleInstanceStartedMessage(instanceData: InstanceData): Promise<void> {\r\n        if (this.instances.some((instance) => instance.id === instanceData.id)) {\r\n            return;\r\n        }\r\n\r\n        const application = this.applications.find((app) => app.name === instanceData.applicationName);\r\n\r\n        if (!application) {\r\n            throw new Error(`Cannot add instance: ${instanceData.id}, because there is no application definition associated with it`);\r\n        }\r\n\r\n        const instance = this.ioc.buildInstance(instanceData, application);\r\n\r\n        this.instances.push(instance);\r\n        application.instances.push(instance);\r\n\r\n        this.registry.execute(\"instance-started\", instance);\r\n    }\r\n\r\n    private async handleInstanceStoppedMessage(instanceData: InstanceData): Promise<void> {\r\n        const instance = this.instances.find((i) => i.id === instanceData.id);\r\n\r\n        if (instance) {\r\n            const instIdx = this.instances.findIndex((inst) => inst.id === instanceData.id);\r\n            this.instances.splice(instIdx, 1);\r\n        }\r\n\r\n        const application = this.applications.find((app) => app.instances.some((inst) => inst.id === instanceData.id));\r\n\r\n        if (application) {\r\n            const instIdxApps = application.instances.findIndex((inst) => inst.id === instanceData.id);\r\n            application.instances.splice(instIdxApps, 1);\r\n        }\r\n\r\n        if (!instance) {\r\n            return;\r\n        }\r\n\r\n        this.registry.execute(\"instance-stopped\", instance);\r\n    }\r\n\r\n    private async import(definitions: Glue42Web.AppManager.Definition[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<Glue42Web.AppManager.ImportResult> {\r\n        importModeDecoder.runWithException(mode);\r\n\r\n        if (!Array.isArray(definitions)) {\r\n            throw new Error(\"Import must be called with an array of definitions\");\r\n        }\r\n\r\n        const parseResult = definitions.reduce<DefinitionParseResult>((soFar, definition) => {\r\n\r\n            const decodeResult = allApplicationDefinitionsDecoder.run(definition);\r\n\r\n            if (!decodeResult.ok) {\r\n                soFar.invalid.push({ app: definition?.name, error: JSON.stringify(decodeResult.error) });\r\n            } else {\r\n                soFar.valid.push(definition);\r\n            }\r\n\r\n            return soFar;\r\n        }, { valid: [], invalid: [] });\r\n\r\n        await this.bridge.send<AppsImportOperation, void>(\"appManager\", operations.import, { definitions: parseResult.valid, mode });\r\n\r\n        return {\r\n            imported: parseResult.valid.map((valid) => valid.name),\r\n            errors: parseResult.invalid\r\n        };\r\n    }\r\n\r\n    private async remove(name: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n\r\n        await this.bridge.send<AppRemoveConfig, void>(\"appManager\", operations.remove, { name });\r\n    }\r\n\r\n    private async clear(): Promise<void> {\r\n        await this.bridge.send<void, void>(\"appManager\", operations.clear, undefined);\r\n    }\r\n\r\n    private async export(): Promise<Glue42Web.AppManager.Definition[]> {\r\n\r\n        const response = await this.bridge.send<void, AppsExportOperation>(\"appManager\", operations.export, undefined);\r\n\r\n        return response.definitions;\r\n    }\r\n\r\n    private getApplication(name: string): Glue42Web.AppManager.Application {\r\n        const verifiedName = nonEmptyStringDecoder.runWithException(name);\r\n\r\n        return this.applications.find((app) => app.name === verifiedName) as Glue42Web.AppManager.Application;\r\n    }\r\n\r\n    private getApplications(): Glue42Web.AppManager.Application[] {\r\n        return this.applications.slice();\r\n    }\r\n\r\n    private getInstances(): Glue42Web.AppManager.Instance[] {\r\n        return this.instances.slice();\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n        const result = await this.bridge.send<WindowHello, AppHelloSuccess>(\"appManager\", operations.appHello, { windowId: this.actualWindowId });\r\n\r\n        this.logger.trace(\"the platform responded to the hello message with a full list of apps\");\r\n\r\n        this.applications = await Promise.all(result.apps.map((app) => this.ioc.buildApplication(app, app.instances)));\r\n\r\n        this.instances = this.applications.reduce<Glue42Web.AppManager.Instance[]>((instancesSoFar, app) => {\r\n\r\n            instancesSoFar.push(...app.instances);\r\n\r\n            return instancesSoFar;\r\n        }, []);\r\n\r\n        this.me = this.findMyInstance();\r\n\r\n        this.logger.trace(`all applications were parsed and saved. I am ${this.me ? \"NOT a\" : \"a\"} valid instance`);\r\n    }\r\n\r\n    private findMyInstance(): Glue42Web.AppManager.Instance | undefined {\r\n        for (const app of this.applications) {\r\n            const foundInstance = app.instances.find((instance) => instance.id === this.publicWindowId);\r\n\r\n            if (foundInstance) {\r\n                return foundInstance;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { BasicInstanceData, InstanceData, operations } from \"./protocol\";\r\n\r\nexport class InstanceModel {\r\n    private me!: Glue42Web.AppManager.Instance;\r\n    private readonly myCtxKey: string;\r\n\r\n    constructor(private readonly data: InstanceData, private readonly bridge: GlueBridge, private readonly application: Glue42Web.AppManager.Application) {\r\n        this.myCtxKey = `___instance___${this.data.id}`;\r\n    }\r\n\r\n    public toApi(): Glue42Web.AppManager.Instance {\r\n        const agm = this.bridge.getInteropInstance(this.data.id);\r\n\r\n        const api: Glue42Web.AppManager.Instance = {\r\n            id: this.data.id,\r\n            agm,\r\n            application: this.application,\r\n            stop: this.stop.bind(this),\r\n            getContext: this.getContext.bind(this)\r\n        };\r\n\r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async getContext(): Promise<any> {\r\n        return this.bridge.contextLib.get(this.myCtxKey);\r\n    }\r\n\r\n    private async stop(): Promise<void> {\r\n        await this.bridge.send<BasicInstanceData, void>(\"appManager\", operations.instanceStop, { id: this.data.id });\r\n    }\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Web } from \"../../web\";\r\nimport { AppManagerController } from \"./controller\";\r\nimport { BaseApplicationData } from \"./protocol\";\r\n\r\nexport class ApplicationModel {\r\n    private me!: Glue42Web.AppManager.Application;\r\n\r\n    constructor(\r\n        private readonly data: BaseApplicationData,\r\n        private readonly instances: Glue42Web.AppManager.Instance[],\r\n        private readonly controller: AppManagerController,\r\n    ) { }\r\n\r\n    public toApi(): Glue42Web.AppManager.Application {\r\n        const api: Glue42Web.AppManager.Application = {\r\n            name: this.data.name,\r\n            title: this.data.title as string,\r\n            version: this.data.version as string,\r\n            icon: this.data.icon as string,\r\n            caption: this.data.caption as string,\r\n            userProperties: this.data.userProperties,\r\n            instances: this.instances,\r\n            start: this.start.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n\r\n        this.me = api;\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): void {\r\n\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n\r\n        this.controller.onInstanceStarted((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n\r\n    private onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): void {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n\r\n        this.controller.onInstanceStopped((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n\r\n    private async start(context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\r\n        // todo: validation\r\n        return this.controller.startApplication(this.data.name, context, options);\r\n    }\r\n}","import { Glue42Web } from \"../../web\";\r\nimport { allLayoutsFullConfigDecoder, allLayoutsSummariesResultDecoder, getAllLayoutsConfigDecoder, glueLayoutDecoder, layoutsImportConfigDecoder, optionalSimpleLayoutResult, simpleLayoutConfigDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type LayoutsOperationTypes = \"layoutAdded\" | \"layoutChanged\" | \"layoutRemoved\" |\r\n    \"get\" | \"getAll\" | \"export\" | \"import\" | \"remove\";\r\n\r\nexport const operations: { [key in LayoutsOperationTypes]: BridgeOperation } = {\r\n    layoutAdded: { name: \"layoutAdded\", dataDecoder: glueLayoutDecoder },\r\n    layoutChanged: { name: \"layoutChanged\", dataDecoder: glueLayoutDecoder },\r\n    layoutRemoved: { name: \"layoutRemoved\", dataDecoder: glueLayoutDecoder },\r\n    get: { name: \"get\", dataDecoder: simpleLayoutConfigDecoder, resultDecoder: optionalSimpleLayoutResult },\r\n    getAll: { name: \"getAll\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsSummariesResultDecoder },\r\n    export: { name: \"export\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsFullConfigDecoder },\r\n    import: { name: \"import\", dataDecoder: layoutsImportConfigDecoder },\r\n    remove: { name: \"remove\", dataDecoder: simpleLayoutConfigDecoder }\r\n};\r\n\r\nexport interface SimpleLayoutConfig {\r\n    name: string;\r\n    type: Glue42Web.Layouts.LayoutType;\r\n}\r\n\r\nexport interface GetAllLayoutsConfig {\r\n    type: Glue42Web.Layouts.LayoutType;\r\n}\r\n\r\nexport interface LayoutsImportConfig {\r\n    layouts: Glue42Web.Layouts.Layout[];\r\n    mode: \"replace\" | \"merge\";\r\n}\r\n\r\nexport interface AllLayoutsFullConfig {\r\n    layouts: Glue42Web.Layouts.Layout[];\r\n}\r\n\r\nexport interface AllLayoutsSummariesResult {\r\n    summaries: Glue42Web.Layouts.LayoutSummary[];\r\n}\r\n\r\nexport interface SimpleLayoutResult {\r\n    layout: Glue42Web.Layouts.Layout;\r\n}\r\n\r\nexport interface OptionalSimpleLayoutResult {\r\n    layout?: Glue42Web.Layouts.Layout;\r\n}\r\n\r\nexport interface LayoutParseResult {\r\n    valid: Glue42Web.Layouts.Layout[];\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { glueLayoutDecoder, importModeDecoder, layoutsOperationTypesDecoder, layoutTypeDecoder, newLayoutOptionsDecoder, nonEmptyStringDecoder, restoreOptionsDecoder } from \"../shared/decoders\";\r\nimport { AllLayoutsFullConfig, AllLayoutsSummariesResult, GetAllLayoutsConfig, LayoutParseResult, LayoutsImportConfig, operations, OptionalSimpleLayoutResult, SimpleLayoutConfig } from \"./protocol\";\r\n\r\nexport class LayoutsController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private bridge!: GlueBridge;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"layouts.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web layouts controller\");\r\n\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.addOperationsExecutors();\r\n\r\n        const api = this.toApi();\r\n\r\n        this.logger.trace(\"no need for platform registration, attaching the layouts property to glue and returning\");\r\n\r\n        (coreGlue as Glue42Web.API).layouts = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        const operationName = layoutsOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    private toApi(): Glue42Web.Layouts.API {\r\n        const api: Glue42Web.Layouts.API = {\r\n            get: this.get.bind(this),\r\n            getAll: this.getAll.bind(this),\r\n            export: this.export.bind(this),\r\n            import: this.import.bind(this),\r\n            save: this.save.bind(this),\r\n            restore: this.restore.bind(this),\r\n            remove: this.remove.bind(this),\r\n            onAdded: this.onAdded.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            onRemoved: this.onRemoved.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private addOperationsExecutors(): void {\r\n        operations.layoutAdded.execute = this.handleOnAdded.bind(this);\r\n        operations.layoutChanged.execute = this.handleOnChanged.bind(this);\r\n        operations.layoutRemoved.execute = this.handleOnRemoved.bind(this);\r\n    }\r\n\r\n    private async get(name: string, type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout | undefined> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        layoutTypeDecoder.runWithException(type);\r\n\r\n        const result = await this.bridge.send<SimpleLayoutConfig, OptionalSimpleLayoutResult>(\"layouts\", operations.get, { name, type });\r\n\r\n        return result.layout;\r\n    }\r\n\r\n    private async getAll(type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.LayoutSummary[]> {\r\n        layoutTypeDecoder.runWithException(type);\r\n\r\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsSummariesResult>(\"layouts\", operations.getAll, { type });\r\n\r\n        return result.summaries;\r\n    }\r\n\r\n    private async export(type?: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout[]> {\r\n        if (type) {\r\n            layoutTypeDecoder.runWithException(type);\r\n        }\r\n\r\n        // supports only workspaces for the moment\r\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsFullConfig>(\"layouts\", operations.export, { type: \"Workspace\" });\r\n\r\n        return result.layouts;\r\n    }\r\n\r\n    private async import(layouts: Glue42Web.Layouts.Layout[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<void> {\r\n        importModeDecoder.runWithException(mode);\r\n\r\n        if (!Array.isArray(layouts)) {\r\n            throw new Error(\"Import must be called with an array of layouts\");\r\n        }\r\n\r\n        const parseResult = layouts.reduce<LayoutParseResult>((soFar, layout) => {\r\n\r\n            const decodeResult = glueLayoutDecoder.run(layout);\r\n\r\n            if (decodeResult.ok) {\r\n                soFar.valid.push(layout);\r\n            } else {\r\n                this.logger.warn(`A layout with name: ${layout.name} was not imported, because of error: ${JSON.stringify(decodeResult.error)}`);\r\n            }\r\n\r\n            return soFar;\r\n\r\n        }, { valid: [] });\r\n\r\n        await this.bridge.send<LayoutsImportConfig, void>(\"layouts\", operations.import, { layouts: parseResult.valid, mode });\r\n    }\r\n\r\n    private async save(layout: Glue42Web.Layouts.NewLayoutOptions): Promise<Glue42Web.Layouts.Layout> {\r\n        newLayoutOptionsDecoder.runWithException(layout);\r\n\r\n        throw new Error(\"Save is not supported in Core at the moment\");\r\n    }\r\n\r\n    private async restore(options: Glue42Web.Layouts.RestoreOptions): Promise<void> {\r\n        restoreOptionsDecoder.runWithException(options);\r\n\r\n        throw new Error(\"Restore is not supported in Core at the moment\");\r\n    }\r\n\r\n    private async remove(type: Glue42Web.Layouts.LayoutType, name: string): Promise<void> {\r\n        layoutTypeDecoder.runWithException(type);\r\n        nonEmptyStringDecoder.runWithException(name);\r\n\r\n        await this.bridge.send<SimpleLayoutConfig, void>(\"layouts\", operations.remove, { type, name });\r\n    }\r\n\r\n    private onAdded(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n        this.export().then((layouts) => layouts.forEach((layout) => callback(layout))).catch(() => { });\r\n        return this.registry.add(operations.layoutAdded.name, callback);\r\n    }\r\n\r\n    private onChanged(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutChanged.name, callback);\r\n    }\r\n\r\n    private onRemoved(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutRemoved.name, callback);\r\n    }\r\n\r\n    private async handleOnAdded(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutAdded.name, layout);\r\n    }\r\n\r\n    private async handleOnChanged(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutChanged.name, layout);\r\n    }\r\n\r\n    private async handleOnRemoved(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutRemoved.name, layout);\r\n    }\r\n}","import { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { LibController } from \"../shared/types\";\r\n\r\nexport class NotificationsController implements LibController {\r\n    private logger!: Glue42Web.Logger.API;\r\n    private interop!: Glue42Core.AGM.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"notifications.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web notifications controller\");\r\n\r\n        this.interop = coreGlue.interop;\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).notifications = api;\r\n\r\n        this.logger.trace(\"notifications are ready\");\r\n    }\r\n\r\n    public async handleBridgeMessage(): Promise<void> {\r\n        // noop\r\n    }\r\n\r\n    private toApi(): Glue42Web.Notifications.API {\r\n        const api: Glue42Web.Notifications.API = {\r\n            raise: this.raise.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private async raise(options: Glue42Web.Notifications.Glue42NotificationOptions): Promise<Notification> {\r\n\r\n        if (!(\"Notification\" in window)) {\r\n            throw new Error(\"this browser does not support desktop notification\");\r\n        }\r\n        let permissionPromise: Promise<NotificationPermission>;\r\n        if (Notification.permission === \"granted\") {\r\n            permissionPromise = Promise.resolve(\"granted\");\r\n        } else if (Notification.permission === \"denied\") {\r\n            permissionPromise = Promise.reject(\"no permissions from user\");\r\n        } else {\r\n            permissionPromise = Notification.requestPermission();\r\n        }\r\n\r\n        await permissionPromise;\r\n\r\n        const notification = this.raiseUsingWebApi(options);\r\n\r\n        if (options.clickInterop) {\r\n            const interopOptions = options.clickInterop;\r\n            notification.onclick = (): void => {\r\n                this.interop.invoke(interopOptions.method, interopOptions?.arguments ?? {}, interopOptions?.target ?? \"best\");\r\n            };\r\n        }\r\n\r\n        return notification;\r\n    }\r\n\r\n    private raiseUsingWebApi(options: Glue42Web.Notifications.Glue42NotificationOptions): Notification {\r\n        return new Notification(options.title);\r\n    }\r\n}","import { Glue42Web } from \"../../web\";\r\nimport { wrappedIntentFilterDecoder, intentRequestDecoder, intentResultDecoder, wrappedIntentsDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type IntentsOperationTypes = \"getIntents\" | \"findIntent\" | \"raiseIntent\";\r\n\r\nexport const operations: { [key in IntentsOperationTypes]: BridgeOperation } = {\r\n    getIntents: { name: \"getIntents\", resultDecoder: wrappedIntentsDecoder },\r\n    findIntent: { name: \"findIntent\", dataDecoder: wrappedIntentFilterDecoder, resultDecoder: wrappedIntentsDecoder },\r\n    raiseIntent: { name: \"raiseIntent\", dataDecoder: intentRequestDecoder, resultDecoder: intentResultDecoder }\r\n};\r\n\r\nexport interface WrappedIntentFilter {\r\n    filter?: Glue42Web.Intents.IntentFilter;\r\n}\r\n\r\nexport interface WrappedIntents {\r\n    intents: Glue42Web.Intents.Intent[];\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\nimport { intentsOperationTypesDecoder, raiseRequestDecoder, findFilterDecoder, addIntentListenerIntentDecoder } from \"../shared/decoders\";\r\nimport { operations, WrappedIntentFilter, WrappedIntents } from \"./protocol\";\r\n\r\nexport class IntentsController implements LibController {\r\n    private bridge!: GlueBridge;\r\n    private logger!: Glue42Web.Logger.API;\r\n    private interop!: Glue42Core.AGM.API;\r\n    private myIntents = new Set<string>();\r\n\r\n    private readonly GlueWebIntentsPrefix = \"Tick42.FDC3.Intents.\";\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"intents.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web intents controller\");\r\n\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.interop = coreGlue.interop;\r\n\r\n        const api = this.toApi();\r\n\r\n        this.logger.trace(\"no need for platform registration, attaching the intents property to glue and returning\");\r\n\r\n        (coreGlue as Glue42Web.API).intents = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        const operationName = intentsOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    private toApi(): Glue42Web.Intents.API {\r\n        const api: Glue42Web.Intents.API = {\r\n            raise: this.raise.bind(this),\r\n            all: this.all.bind(this),\r\n            addIntentListener: this.addIntentListener.bind(this),\r\n            find: this.find.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private async raise(request: string | Glue42Web.Intents.IntentRequest): Promise<Glue42Web.Intents.IntentResult> {\r\n        const requestObj = raiseRequestDecoder.runWithException(request);\r\n\r\n        let data: Glue42Web.Intents.IntentRequest;\r\n\r\n        if (typeof requestObj === \"string\") {\r\n            data = {\r\n                intent: requestObj\r\n            };\r\n        } else {\r\n            data = requestObj;\r\n        }\r\n\r\n        const result = await this.bridge.send<Glue42Web.Intents.IntentRequest, Glue42Web.Intents.IntentResult>(\"intents\", operations.raiseIntent, data);\r\n\r\n        return result;\r\n    }\r\n\r\n    private async all(): Promise<Glue42Web.Intents.Intent[]> {\r\n        const result = await this.bridge.send<void, WrappedIntents>(\"intents\", operations.getIntents, undefined);\r\n\r\n        return result.intents;\r\n    }\r\n\r\n    private addIntentListener(intent: string | Glue42Web.Intents.AddIntentListenerRequest, handler: (context: Glue42Web.Intents.IntentContext) => any): { unsubscribe: UnsubscribeFunction } {\r\n        addIntentListenerIntentDecoder.runWithException(intent);\r\n        if (typeof handler !== \"function\") {\r\n            throw new Error(\"Cannot add intent listener, because the provided handler is not a function!\");\r\n        }\r\n\r\n        let subscribed = true;\r\n\r\n        // `addIntentListener()` is sync.\r\n        const intentName = typeof intent === \"string\" ? intent : intent.intent;\r\n        const methodName = `${this.GlueWebIntentsPrefix}${intentName}`;\r\n\r\n        const alreadyRegistered = this.myIntents.has(intentName);\r\n        if (alreadyRegistered) {\r\n            throw new Error(`Intent listener for intent ${intentName} already registered!`);\r\n        }\r\n        this.myIntents.add(intentName);\r\n\r\n        const result = {\r\n            unsubscribe: (): void => {\r\n                subscribed = false;\r\n                try {\r\n                    this.interop.unregister(methodName);\r\n                    this.myIntents.delete(intentName);\r\n                } catch (error) {\r\n                    this.logger.trace(`Unsubscribed intent listener, but ${methodName} unregistration failed!`);\r\n                }\r\n            }\r\n        };\r\n\r\n        let intentFlag: Omit<Glue42Web.Intents.AddIntentListenerRequest, \"intent\"> = {};\r\n\r\n        if (typeof intent === \"object\") {\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            const { intent: removed, ...rest } = intent;\r\n            intentFlag = rest;\r\n        }\r\n\r\n        this.interop.register({ name: methodName, flags: { intent: intentFlag } }, (args: Glue42Web.Intents.IntentContext) => {\r\n            if (subscribed) {\r\n                return handler(args);\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    private async find(intentFilter?: string | Glue42Web.Intents.IntentFilter): Promise<Glue42Web.Intents.Intent[]> {\r\n        let data: WrappedIntentFilter | undefined = undefined;\r\n\r\n        if (typeof intentFilter !== \"undefined\") {\r\n            const intentFilterObj = findFilterDecoder.runWithException(intentFilter);\r\n\r\n            if (typeof intentFilterObj === \"string\") {\r\n                data = {\r\n                    filter: {\r\n                        name: intentFilterObj\r\n                    }\r\n                };\r\n            } else if (typeof intentFilterObj === \"object\") {\r\n                data = {\r\n                    filter: intentFilterObj\r\n                };\r\n            }\r\n        }\r\n\r\n        const result = await this.bridge.send<WrappedIntentFilter | undefined, WrappedIntents>(\"intents\", operations.findIntent, data);\r\n\r\n        return result.intents;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { channelNameDecoder } from \"../shared/decoders\";\r\nimport { LibController } from \"../shared/types\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class ChannelsController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private logger!: Glue42Web.Logger.API;\r\n    private contexts!: Glue42Core.Contexts.API;\r\n    private currentChannelName: string | undefined;\r\n    private unsubscribeFunc: (() => void) | undefined;\r\n\r\n    private readonly GlueWebChannelsPrefix = \"___channel___\";\r\n    private readonly SubsKey = \"subs\";\r\n    private readonly ChangedKey = \"changed\";\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"channels.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web channels controller\");\r\n\r\n        this.contexts = coreGlue.contexts;\r\n\r\n        this.logger.trace(\"no need for platform registration, attaching the channels property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).channels = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(): Promise<void> {\r\n        // noop\r\n    }\r\n\r\n    private toApi(): Glue42Web.Channels.API {\r\n        const api: Glue42Web.Channels.API = {\r\n            subscribe: this.subscribe.bind(this),\r\n            subscribeFor: this.subscribeFor.bind(this),\r\n            publish: this.publish.bind(this),\r\n            all: this.all.bind(this),\r\n            list: this.list.bind(this),\r\n            get: this.get.bind(this),\r\n            join: this.join.bind(this),\r\n            leave: this.leave.bind(this),\r\n            current: this.current.bind(this),\r\n            my: this.my.bind(this),\r\n            changed: this.changed.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            add: this.add.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private createContextName(channelName: string): string {\r\n        return `${this.GlueWebChannelsPrefix}${channelName}`;\r\n    }\r\n\r\n    private getAllChannelNames(): string[] {\r\n        const contextNames = this.contexts.all();\r\n\r\n        const channelContextNames = contextNames.filter((contextName) => contextName.startsWith(this.GlueWebChannelsPrefix));\r\n\r\n        const channelNames = channelContextNames.map((channelContextName) => channelContextName.replace(this.GlueWebChannelsPrefix, \"\"));\r\n\r\n        return channelNames;\r\n    }\r\n\r\n    private unsubscribe(): void {\r\n        if (this.unsubscribeFunc) {\r\n            this.unsubscribeFunc();\r\n\r\n            this.unsubscribeFunc = undefined;\r\n        }\r\n    }\r\n\r\n    private async switchToChannel(name?: string): Promise<void> {\r\n        this.unsubscribe();\r\n\r\n        // TODO: Should be set after `subscribe()` has resolved, but due to an issue where `subscribe()` replays the context before returning an unsubscribe function this has been moved here.\r\n        this.currentChannelName = name;\r\n\r\n        // When joining a channel (and not leaving).\r\n        if (typeof name !== \"undefined\") {\r\n            const contextName = this.createContextName(name);\r\n\r\n            this.unsubscribeFunc = await this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n                this.registry.execute(this.SubsKey, context.data, context, extraData?.updaterId);\r\n            });\r\n        }\r\n\r\n        this.registry.execute(this.ChangedKey, name);\r\n    }\r\n\r\n    private async updateData(name: string, data: any): Promise<void> {\r\n        const contextName = this.createContextName(name);\r\n\r\n        if (this.contexts.setPathSupported) {\r\n            const pathValues: Glue42Web.Contexts.PathValue[] = Object.keys(data).map((key) => {\r\n                return {\r\n                    path: `data.${key}`,\r\n                    value: data[key]\r\n                };\r\n            });\r\n\r\n            await this.contexts.setPaths(contextName, pathValues);\r\n        } else {\r\n            // Pre @glue42/core 5.2.0. Note that we update the data property only.\r\n            await this.contexts.update(contextName, { data });\r\n        }\r\n    }\r\n\r\n    private subscribe(callback: (data: any, context: Glue42Web.Channels.ChannelContext, updaterId: string) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channels, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(this.SubsKey, callback);\r\n    }\r\n\r\n    private async subscribeFor(name: string, callback: (data: any, context: Glue42Web.Channels.ChannelContext, updaterId: string) => void): Promise<UnsubscribeFunction> {\r\n        const channelNames = this.getAllChannelNames();\r\n        channelNameDecoder(channelNames).runWithException(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(`Cannot subscribe to channel ${name}, because the provided callback is not a function!`);\r\n        }\r\n\r\n        const contextName = this.createContextName(name);\r\n\r\n        return this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n            callback(context.data, context, extraData?.updaterId);\r\n        });\r\n    }\r\n\r\n    private publish(data: any, name?: string): Promise<void> {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Cannot publish to channel, because the provided data is not an object!\");\r\n        }\r\n        if (typeof name !== \"undefined\") {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n\r\n            return this.updateData(name, data);\r\n        }\r\n\r\n        if (typeof this.currentChannelName === \"undefined\") {\r\n            throw new Error(\"Cannot publish to channel, because not joined to a channel!\");\r\n        }\r\n\r\n        return this.updateData(this.currentChannelName, data);\r\n    }\r\n\r\n    private async all(): Promise<string[]> {\r\n        const channelNames = this.getAllChannelNames();\r\n\r\n        return channelNames;\r\n    }\r\n\r\n    private async list(): Promise<Glue42Web.Channels.ChannelContext[]> {\r\n        const channelNames = this.getAllChannelNames();\r\n\r\n        const channelContexts = await Promise.all(channelNames.map((channelName) => this.get(channelName)));\r\n\r\n        return channelContexts;\r\n    }\r\n\r\n    private get(name: string): Promise<Glue42Web.Channels.ChannelContext> {\r\n        const channelNames = this.getAllChannelNames();\r\n        channelNameDecoder(channelNames).runWithException(name);\r\n\r\n        const contextName = this.createContextName(name);\r\n\r\n        return this.contexts.get(contextName);\r\n    }\r\n\r\n    private async join(name: string): Promise<void> {\r\n        const channelNames = this.getAllChannelNames();\r\n        channelNameDecoder(channelNames).runWithException(name);\r\n\r\n        await this.switchToChannel(name);\r\n    }\r\n\r\n    private async leave(): Promise<void> {\r\n        await this.switchToChannel();\r\n    }\r\n\r\n    private current(): string {\r\n        return this.currentChannelName as string;\r\n    }\r\n\r\n    private my(): string {\r\n        return this.current();\r\n    }\r\n\r\n    private changed(callback: (channel: string) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channel changed, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(this.ChangedKey, callback);\r\n    }\r\n\r\n    private onChanged(callback: (channel: string) => void): UnsubscribeFunction {\r\n        return this.changed(callback);\r\n    }\r\n\r\n    private add(info: Glue42Web.Channels.ChannelContext): Promise<Glue42Web.Channels.ChannelContext> {\r\n        throw new Error(\"Method `add()` isn't implemented.\");\r\n    }\r\n}\r\n","/*eslint indent: [2, 4, {\"SwitchCase\": 1}]*/\r\nimport CallbackFactory from \"callback-registry\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { InteropTransport } from \"../communication/interop-transport\";\r\nimport { BaseBuilder } from \"../builders/baseBuilder\";\r\nimport { ParentBuilder } from \"../builders/parentBuilder\";\r\nimport { WorkspaceBuilder } from \"../builders/workspaceBuilder\";\r\nimport { ModelMaps, ModelTypes, FramePrivateData, WindowPrivateData, WorkspacePrivateData, ParentPrivateData } from \"../types/privateData\";\r\nimport { PrivateDataManager } from \"./privateDataManager\";\r\nimport { FrameCreateConfig, ModelCreateConfig, WindowCreateConfig, WorkspaceIoCCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Window } from \"../models/window\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { ChildSnapshotResult, SwimlaneWindowSnapshotConfig, ParentSnapshotConfig } from \"../types/protocol\";\r\nimport { Child } from \"../types/builders\";\r\nimport { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { Base } from \"../models/base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { InteropAPI, WindowsAPI, LayoutsAPI, ContextsAPI } from \"../types/glue\";\r\nimport { BaseController } from \"../controllers/base\";\r\nimport { MainController } from \"../controllers/main\";\r\n\r\nexport class IoC {\r\n\r\n    private _controllerInstance: WorkspacesController;\r\n    private _bridgeInstance: Bridge;\r\n    private _transportInstance: InteropTransport;\r\n    private _privateDataManagerInstance: PrivateDataManager;\r\n    private _parentBaseInstance: Base;\r\n    private _baseController: BaseController;\r\n\r\n    constructor(\r\n        private readonly agm: InteropAPI,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n        private readonly contexts: ContextsAPI\r\n    ) { }\r\n\r\n    public get baseController(): BaseController {\r\n        if (!this._baseController) {\r\n            this._baseController = new BaseController(this, this.windows, this.contexts, this.layouts);\r\n        }\r\n\r\n        return this._baseController;\r\n    }\r\n\r\n    public get controller(): WorkspacesController {\r\n        if (!this._controllerInstance) {\r\n            this._controllerInstance = new MainController(this.bridge, this.baseController);\r\n        }\r\n        return this._controllerInstance;\r\n    }\r\n\r\n    public get bridge(): Bridge {\r\n        if (!this._bridgeInstance) {\r\n            this._bridgeInstance = new Bridge(this.transport, CallbackFactory());\r\n        }\r\n        return this._bridgeInstance;\r\n    }\r\n\r\n    public get transport(): InteropTransport {\r\n\r\n        if (!this._transportInstance) {\r\n            this._transportInstance = new InteropTransport(this.agm);\r\n        }\r\n\r\n        return this._transportInstance;\r\n    }\r\n\r\n    public get privateDataManager(): PrivateDataManager {\r\n        if (!this._privateDataManagerInstance) {\r\n            this._privateDataManagerInstance = new PrivateDataManager();\r\n        }\r\n        return this._privateDataManagerInstance;\r\n    }\r\n\r\n    public get parentBase(): Base {\r\n        if (!this._parentBaseInstance) {\r\n            this._parentBaseInstance = new Base(this.privateDataManager);\r\n        }\r\n        return this._parentBaseInstance;\r\n    }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n        await this.transport.initiate(actualWindowId);\r\n    }\r\n\r\n    public getModel<T extends ModelTypes>(type: ModelTypes, createConfig: ModelCreateConfig): ModelMaps[T] {\r\n        switch (type) {\r\n            case \"frame\": {\r\n                const newFrame = new Frame(this.privateDataManager);\r\n\r\n                const { summary } = createConfig as FrameCreateConfig;\r\n\r\n                const frameData: FramePrivateData = { summary, controller: this.controller };\r\n\r\n                this.privateDataManager.setFrameData(newFrame, frameData);\r\n\r\n                return newFrame as ModelMaps[T];\r\n            }\r\n            case \"window\": {\r\n                const { id, parent, frame, workspace, config } = createConfig as WindowCreateConfig;\r\n\r\n                const windowPrivateData: WindowPrivateData = {\r\n                    type: \"window\",\r\n                    controller: this.controller,\r\n                    config, id, parent, frame, workspace\r\n                };\r\n\r\n                const newWindow = new Window(this.privateDataManager);\r\n\r\n                this.privateDataManager.setWindowData(newWindow, windowPrivateData);\r\n\r\n                return newWindow as ModelMaps[T];\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                const { id, children, parent, frame, workspace, config } = createConfig as ParentCreateConfig;\r\n\r\n                const newParent = type === \"column\" ? new Column(this.parentBase) :\r\n                    type === \"row\" ? new Row(this.parentBase) : new Group(this.parentBase);\r\n\r\n                const builtChildren = this.buildChildren(children, frame, workspace, newParent);\r\n\r\n                const parentPrivateData: ParentPrivateData = {\r\n                    id, parent, frame, workspace, config, type,\r\n                    controller: this.controller,\r\n                    children: builtChildren,\r\n                };\r\n\r\n                this.privateDataManager.setParentData(newParent, parentPrivateData);\r\n\r\n                return newParent as ModelMaps[T];\r\n            }\r\n            case \"workspace\": {\r\n                const { snapshot, frame } = createConfig as WorkspaceIoCCreateConfig;\r\n\r\n                const newWorkspace = new Workspace(this.privateDataManager);\r\n\r\n                const children = this.buildChildren(snapshot.children, frame, newWorkspace, newWorkspace);\r\n\r\n                const workspacePrivateData: WorkspacePrivateData = {\r\n                    id: snapshot.id,\r\n                    type: \"workspace\",\r\n                    config: snapshot.config,\r\n                    base: this.parentBase,\r\n                    controller: this.controller,\r\n                    children, frame, ioc: this\r\n                };\r\n\r\n                this.privateDataManager.setWorkspaceData(newWorkspace, workspacePrivateData);\r\n                return newWorkspace as ModelMaps[T];\r\n            }\r\n            default: throw new Error(`Unrecognized type: ${type}`);\r\n        }\r\n    }\r\n\r\n    public getBuilder(config: Glue42Workspaces.BuilderConfig): WorkspaceBuilder | ParentBuilder {\r\n        config.definition = config.definition || {};\r\n\r\n        if (!Array.isArray(config.definition.children)) {\r\n            config.definition.children = [];\r\n        }\r\n\r\n        const baseBuilder = new BaseBuilder(this.getBuilder.bind(this));\r\n\r\n        switch (config.type) {\r\n            case \"workspace\": {\r\n                return new WorkspaceBuilder(config.definition as Glue42Workspaces.WorkspaceDefinition, baseBuilder, this.controller);\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                (config.definition as Glue42Workspaces.BoxDefinition).type = config.type;\r\n                return new ParentBuilder(config.definition, baseBuilder);\r\n            }\r\n            default: throw new Error(`Unexpected Builder creation error, provided config: ${JSON.stringify(config)}`);\r\n        }\r\n    }\r\n\r\n    private buildChildren(children: ChildSnapshotResult[], frame: Frame, workspace: Workspace, parent: Workspace | Row | Column | Group): Child[] {\r\n        return children.map<Child>((child) => {\r\n            switch (child.type) {\r\n                case \"window\": return this.getModel<\"window\">(\"window\", {\r\n                    id: child.id,\r\n                    config: child.config as SwimlaneWindowSnapshotConfig,\r\n                    frame, workspace, parent\r\n                });\r\n                case \"column\": return this.getModel<\"column\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config as ParentSnapshotConfig,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                });\r\n                case \"row\": return this.getModel<\"row\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config as ParentSnapshotConfig,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                });\r\n                case \"group\": return this.getModel<\"group\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config as ParentSnapshotConfig,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                });\r\n                default: throw new Error(`Unsupported child type: ${child.type}`);\r\n            }\r\n        });\r\n    }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar MetricTypes = {\r\n    STRING: 1,\r\n    NUMBER: 2,\r\n    TIMESTAMP: 3,\r\n    OBJECT: 4\r\n};\n\nfunction getMetricTypeByValue(metric) {\r\n    if (metric.type === MetricTypes.TIMESTAMP) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (metric.type === MetricTypes.NUMBER) {\r\n        return \"number\";\r\n    }\r\n    else if (metric.type === MetricTypes.STRING) {\r\n        return \"string\";\r\n    }\r\n    else if (metric.type === MetricTypes.OBJECT) {\r\n        return \"object\";\r\n    }\r\n    return \"unknown\";\r\n}\r\nfunction getTypeByValue(value) {\r\n    if (value.constructor === Date) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"number\";\r\n    }\r\n    else if (typeof value === \"string\") {\r\n        return \"string\";\r\n    }\r\n    else if (typeof value === \"object\") {\r\n        return \"object\";\r\n    }\r\n    else {\r\n        return \"string\";\r\n    }\r\n}\r\nfunction serializeMetric(metric) {\r\n    var serializedMetrics = {};\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"object\") {\r\n        var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n            var innerType = getTypeByValue(metric.value[key]);\r\n            if (innerType === \"object\") {\r\n                var composite = defineNestedComposite(metric.value[key]);\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: composite,\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: innerType,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n        serializedMetrics.composite = values;\r\n    }\r\n    serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n    serializedMetrics.type = type;\r\n    serializedMetrics.description = metric.description;\r\n    serializedMetrics.context = {};\r\n    return serializedMetrics;\r\n}\r\nfunction defineNestedComposite(values) {\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var type = getTypeByValue(values[key]);\r\n        if (type === \"object\") {\r\n            memo[key] = {\r\n                type: \"object\",\r\n                description: \"\",\r\n                context: {},\r\n                composite: defineNestedComposite(values[key]),\r\n            };\r\n        }\r\n        else {\r\n            memo[key] = {\r\n                type: type,\r\n                description: \"\",\r\n                context: {},\r\n            };\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction normalizeMetricName(name) {\r\n    if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n        return \"/\" + name;\r\n    }\r\n    else {\r\n        return name;\r\n    }\r\n}\r\nfunction getMetricValueByType(metric) {\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"timestamp\") {\r\n        return Date.now();\r\n    }\r\n    else {\r\n        return publishNestedComposite(metric.value);\r\n    }\r\n}\r\nfunction publishNestedComposite(values) {\r\n    if (typeof values !== \"object\") {\r\n        return values;\r\n    }\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var value = values[key];\r\n        if (typeof value === \"object\" && value.constructor !== Date) {\r\n            memo[key] = publishNestedComposite(value);\r\n        }\r\n        else if (value.constructor === Date) {\r\n            memo[key] = new Date(value).getTime();\r\n        }\r\n        else if (value.constructor === Boolean) {\r\n            memo[key] = value.toString();\r\n        }\r\n        else {\r\n            memo[key] = value;\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction flatten(arr) {\r\n    return arr.reduce(function (flat, toFlatten) {\r\n        return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n    }, []);\r\n}\r\nfunction getHighestState(arr) {\r\n    return arr.sort(function (a, b) {\r\n        if (!a.state) {\r\n            return 1;\r\n        }\r\n        if (!b.state) {\r\n            return -1;\r\n        }\r\n        return b.state - a.state;\r\n    })[0];\r\n}\r\nfunction aggregateDescription(arr) {\r\n    var msg = \"\";\r\n    arr.forEach(function (m, idx, a) {\r\n        var path = m.path.join(\".\");\r\n        if (idx === a.length - 1) {\r\n            msg += path + \".\" + m.name + \": \" + m.description;\r\n        }\r\n        else {\r\n            msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n        }\r\n    });\r\n    if (msg.length > 100) {\r\n        return msg.slice(0, 100) + \"...\";\r\n    }\r\n    else {\r\n        return msg;\r\n    }\r\n}\r\nfunction composeMsgForRootStateMetric(system) {\r\n    var aggregatedState = system.root.getAggregateState();\r\n    var merged = flatten(aggregatedState);\r\n    var highestState = getHighestState(merged);\r\n    var aggregateDesc = aggregateDescription(merged);\r\n    return {\r\n        description: aggregateDesc,\r\n        value: highestState.state,\r\n    };\r\n}\n\nfunction gw3 (connection, config) {\r\n    var _this = this;\r\n    if (!connection || typeof connection !== \"object\") {\r\n        throw new Error(\"Connection is required parameter\");\r\n    }\r\n    var joinPromise;\r\n    var session;\r\n    var init = function (repo) {\r\n        var resolveReadyPromise;\r\n        joinPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        session = connection.domain(\"metrics\");\r\n        session.onJoined(function (reconnect) {\r\n            if (!reconnect && resolveReadyPromise) {\r\n                resolveReadyPromise();\r\n                resolveReadyPromise = undefined;\r\n            }\r\n            var rootStateMetric = {\r\n                name: \"/State\",\r\n                type: \"object\",\r\n                composite: {\r\n                    Description: {\r\n                        type: \"string\",\r\n                        description: \"\",\r\n                    },\r\n                    Value: {\r\n                        type: \"number\",\r\n                        description: \"\",\r\n                    },\r\n                },\r\n                description: \"System state\",\r\n                context: {},\r\n            };\r\n            var defineRootMetricsMsg = {\r\n                type: \"define\",\r\n                metrics: [rootStateMetric],\r\n            };\r\n            session.send(defineRootMetricsMsg);\r\n            if (reconnect) {\r\n                replayRepo(repo);\r\n            }\r\n        });\r\n        session.join({\r\n            system: config.system,\r\n            service: config.service,\r\n            instance: config.instance\r\n        });\r\n    };\r\n    var replayRepo = function (repo) {\r\n        replaySystem(repo.root);\r\n    };\r\n    var replaySystem = function (system) {\r\n        createSystem(system);\r\n        system.metrics.forEach(function (m) {\r\n            createMetric(m);\r\n        });\r\n        system.subSystems.forEach(function (ss) {\r\n            replaySystem(ss);\r\n        });\r\n    };\r\n    var createSystem = function (system) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metric, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (system.parent === undefined) {\r\n                        return [2];\r\n                    }\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    metric = {\r\n                        name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                        type: \"object\",\r\n                        composite: {\r\n                            Description: {\r\n                                type: \"string\",\r\n                                description: \"\",\r\n                            },\r\n                            Value: {\r\n                                type: \"number\",\r\n                                description: \"\",\r\n                            },\r\n                        },\r\n                        description: \"System state\",\r\n                        context: {},\r\n                    };\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [metric],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateSystem = function (system, state) { return __awaiter(_this, void 0, void 0, function () {\r\n        var shadowedUpdateMetric, stateObj, rootMetric;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    shadowedUpdateMetric = {\r\n                        type: \"publish\",\r\n                        values: [{\r\n                                name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                value: {\r\n                                    Description: state.description,\r\n                                    Value: state.state,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(shadowedUpdateMetric);\r\n                    stateObj = composeMsgForRootStateMetric(system);\r\n                    rootMetric = {\r\n                        type: \"publish\",\r\n                        peer_id: connection.peerId,\r\n                        values: [{\r\n                                name: \"/State\",\r\n                                value: {\r\n                                    Description: stateObj.description,\r\n                                    Value: stateObj.value,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(rootMetric);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var createMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone, m, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    m = serializeMetric(metricClone);\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [m],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    if (typeof metricClone.value !== \"undefined\") {\r\n                        updateMetricCore(metricClone);\r\n                    }\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    updateMetricCore(metricClone);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetricCore = function (metric) {\r\n        if (canUpdate()) {\r\n            var value = getMetricValueByType(metric);\r\n            var publishMetricsMsg = {\r\n                type: \"publish\",\r\n                values: [{\r\n                        name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                        value: value,\r\n                        timestamp: Date.now(),\r\n                    }],\r\n            };\r\n            return session.sendFireAndForget(publishMetricsMsg);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    var cloneMetric = function (metric) {\r\n        var metricClone = __assign({}, metric);\r\n        if (typeof metric.value === \"object\" && metric.value !== null) {\r\n            metricClone.value = __assign({}, metric.value);\r\n        }\r\n        return metricClone;\r\n    };\r\n    var canUpdate = function () {\r\n        var _a;\r\n        try {\r\n            var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n            return func();\r\n        }\r\n        catch (_b) {\r\n            return true;\r\n        }\r\n    };\r\n    return {\r\n        init: init,\r\n        createSystem: createSystem,\r\n        updateSystem: updateSystem,\r\n        createMetric: createMetric,\r\n        updateMetric: updateMetric,\r\n    };\r\n}\n\nvar Helpers = {\r\n    validate: function (definition, parent, transport) {\r\n        if (definition === null || typeof definition !== \"object\") {\r\n            throw new Error(\"Missing definition\");\r\n        }\r\n        if (parent === null || typeof parent !== \"object\") {\r\n            throw new Error(\"Missing parent\");\r\n        }\r\n        if (transport === null || typeof transport !== \"object\") {\r\n            throw new Error(\"Missing transport\");\r\n        }\r\n    },\r\n};\n\nvar BaseMetric = (function () {\r\n    function BaseMetric(definition, system, transport, value, type) {\r\n        this.definition = definition;\r\n        this.system = system;\r\n        this.transport = transport;\r\n        this.value = value;\r\n        this.type = type;\r\n        this.path = [];\r\n        Helpers.validate(definition, system, transport);\r\n        this.path = system.path.slice(0);\r\n        this.path.push(system.name);\r\n        this.name = definition.name;\r\n        this.description = definition.description;\r\n        transport.createMetric(this);\r\n    }\r\n    Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n        get: function () { return this.system.path + \"/\" + name; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseMetric.prototype.update = function (newValue) {\r\n        this.value = newValue;\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    return BaseMetric;\r\n}());\n\nvar NumberMetric = (function (_super) {\r\n    __extends(NumberMetric, _super);\r\n    function NumberMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n    }\r\n    NumberMetric.prototype.incrementBy = function (num) {\r\n        this.update(this.value + num);\r\n    };\r\n    NumberMetric.prototype.increment = function () {\r\n        this.incrementBy(1);\r\n    };\r\n    NumberMetric.prototype.decrement = function () {\r\n        this.incrementBy(-1);\r\n    };\r\n    NumberMetric.prototype.decrementBy = function (num) {\r\n        this.incrementBy(num * -1);\r\n    };\r\n    return NumberMetric;\r\n}(BaseMetric));\n\nvar ObjectMetric = (function (_super) {\r\n    __extends(ObjectMetric, _super);\r\n    function ObjectMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n    }\r\n    ObjectMetric.prototype.update = function (newValue) {\r\n        this.mergeValues(newValue);\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    ObjectMetric.prototype.mergeValues = function (values) {\r\n        var _this = this;\r\n        return Object.keys(this.value).forEach(function (k) {\r\n            if (typeof values[k] !== \"undefined\") {\r\n                _this.value[k] = values[k];\r\n            }\r\n        });\r\n    };\r\n    return ObjectMetric;\r\n}(BaseMetric));\n\nvar StringMetric = (function (_super) {\r\n    __extends(StringMetric, _super);\r\n    function StringMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n    }\r\n    return StringMetric;\r\n}(BaseMetric));\n\nvar TimestampMetric = (function (_super) {\r\n    __extends(TimestampMetric, _super);\r\n    function TimestampMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n    }\r\n    TimestampMetric.prototype.now = function () {\r\n        this.update(new Date());\r\n    };\r\n    return TimestampMetric;\r\n}(BaseMetric));\n\nfunction system(name, repo, protocol, parent, description) {\r\n    if (!repo) {\r\n        throw new Error(\"Repository is required\");\r\n    }\r\n    if (!protocol) {\r\n        throw new Error(\"Transport is required\");\r\n    }\r\n    var _transport = protocol;\r\n    var _name = name;\r\n    var _description = description || \"\";\r\n    var _repo = repo;\r\n    var _parent = parent;\r\n    var _path = _buildPath(parent);\r\n    var _state = {};\r\n    var id = _arrayToString(_path, \"/\") + name;\r\n    var root = repo.root;\r\n    var _subSystems = [];\r\n    var _metrics = [];\r\n    function subSystem(nameSystem, descriptionSystem) {\r\n        if (!nameSystem || nameSystem.length === 0) {\r\n            throw new Error(\"name is required\");\r\n        }\r\n        var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n        if (match.length > 0) {\r\n            return match[0];\r\n        }\r\n        var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n        _subSystems.push(_system);\r\n        return _system;\r\n    }\r\n    function setState(state, stateDescription) {\r\n        _state = { state: state, description: stateDescription };\r\n        _transport.updateSystem(me, _state);\r\n    }\r\n    function stringMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function numberMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function objectMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function timestampMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n        var metricDef = { name: \"\" };\r\n        if (typeof metricObject === \"string\") {\r\n            metricDef = { name: metricObject };\r\n        }\r\n        else {\r\n            metricDef = metricObject;\r\n        }\r\n        var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n        if (matching.length > 0) {\r\n            var existing = matching[0];\r\n            if (existing.type !== expectedType) {\r\n                throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n            }\r\n            if (typeof value !== \"undefined\") {\r\n                existing\r\n                    .update(value)\r\n                    .catch(function () { });\r\n            }\r\n            return existing;\r\n        }\r\n        var metric = createMetric(metricDef);\r\n        _metrics.push(metric);\r\n        return metric;\r\n    }\r\n    function _buildPath(shadowedSystem) {\r\n        if (!shadowedSystem || !shadowedSystem.parent) {\r\n            return [];\r\n        }\r\n        var path = _buildPath(shadowedSystem.parent);\r\n        path.push(shadowedSystem.name);\r\n        return path;\r\n    }\r\n    function _arrayToString(path, separator) {\r\n        return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n    }\r\n    function getAggregateState() {\r\n        var aggState = [];\r\n        if (Object.keys(_state).length > 0) {\r\n            aggState.push({\r\n                name: _name,\r\n                path: _path,\r\n                state: _state.state,\r\n                description: _state.description,\r\n            });\r\n        }\r\n        _subSystems.forEach(function (shadowedSubSystem) {\r\n            var result = shadowedSubSystem.getAggregateState();\r\n            if (result.length > 0) {\r\n                aggState.push.apply(aggState, result);\r\n            }\r\n        });\r\n        return aggState;\r\n    }\r\n    var me = {\r\n        get name() {\r\n            return _name;\r\n        },\r\n        get description() {\r\n            return _description;\r\n        },\r\n        get repo() {\r\n            return _repo;\r\n        },\r\n        get parent() {\r\n            return _parent;\r\n        },\r\n        path: _path,\r\n        id: id,\r\n        root: root,\r\n        get subSystems() {\r\n            return _subSystems;\r\n        },\r\n        get metrics() {\r\n            return _metrics;\r\n        },\r\n        subSystem: subSystem,\r\n        getState: function () {\r\n            return _state;\r\n        },\r\n        setState: setState,\r\n        stringMetric: stringMetric,\r\n        timestampMetric: timestampMetric,\r\n        objectMetric: objectMetric,\r\n        numberMetric: numberMetric,\r\n        getAggregateState: getAggregateState,\r\n    };\r\n    _transport.createSystem(me);\r\n    return me;\r\n}\n\nvar Repository = (function () {\r\n    function Repository(options, protocol) {\r\n        protocol.init(this);\r\n        this.root = system(\"\", this, protocol);\r\n        this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n    }\r\n    Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n        if (typeof navigator !== \"undefined\") {\r\n            rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n        }\r\n        if (useClickStream && typeof document !== \"undefined\") {\r\n            var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n            var documentClickHandler = function (e) {\r\n                if (!e.target) {\r\n                    return;\r\n                }\r\n                var target = e.target;\r\n                clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                    type: \"click\",\r\n                    timestamp: new Date(),\r\n                    target: {\r\n                        className: e.target ? target.className : \"\",\r\n                        id: target.id,\r\n                        type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                        href: target.href || \"\",\r\n                    },\r\n                });\r\n            };\r\n            clickStream_1.objectMetric(\"Page\", {\r\n                title: document.title,\r\n                page: window.location.href,\r\n            });\r\n            if (document.addEventListener) {\r\n                document.addEventListener(\"click\", documentClickHandler);\r\n            }\r\n            else {\r\n                document.attachEvent(\"onclick\", documentClickHandler);\r\n            }\r\n        }\r\n        var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n        var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n        var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n        if (typeof window !== \"undefined\") {\r\n            if (typeof window.location !== \"undefined\") {\r\n                var startUrl = window.location.href;\r\n                urlMetric.update(startUrl);\r\n            }\r\n            if (typeof window.glue42gd !== \"undefined\") {\r\n                appNameMetric.update(window.glue42gd.appName);\r\n            }\r\n        }\r\n    };\r\n    return Repository;\r\n}());\n\nvar NullProtocol = (function () {\r\n    function NullProtocol() {\r\n    }\r\n    NullProtocol.prototype.init = function (repo) {\r\n    };\r\n    NullProtocol.prototype.createSystem = function (system) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateSystem = function (metric, state) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.createMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    return NullProtocol;\r\n}());\n\nvar PerfTracker = (function () {\r\n    function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n        this.api = api;\r\n        this.lastCount = 0;\r\n        this.initialPublishTimeout = 10 * 1000;\r\n        this.publishInterval = 60 * 1000;\r\n        this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n        this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n        this.scheduleCollection();\r\n        this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n    }\r\n    PerfTracker.prototype.scheduleCollection = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.collect();\r\n            setInterval(function () {\r\n                _this.collect();\r\n            }, _this.publishInterval);\r\n        }, this.initialPublishTimeout);\r\n    };\r\n    PerfTracker.prototype.collect = function () {\r\n        try {\r\n            this.collectMemory();\r\n            this.collectEntries();\r\n        }\r\n        catch (_a) {\r\n        }\r\n    };\r\n    PerfTracker.prototype.collectMemory = function () {\r\n        var memory = window.performance.memory;\r\n        this.system.stringMetric(\"memory\", JSON.stringify({\r\n            totalJSHeapSize: memory.totalJSHeapSize,\r\n            usedJSHeapSize: memory.usedJSHeapSize\r\n        }));\r\n    };\r\n    PerfTracker.prototype.collectEntries = function () {\r\n        var allEntries = window.performance.getEntries();\r\n        if (allEntries.length <= this.lastCount) {\r\n            return;\r\n        }\r\n        this.lastCount = allEntries.length;\r\n        this.system.stringMetric(\"entries\", JSON.stringify(allEntries));\r\n    };\r\n    return PerfTracker;\r\n}());\n\nvar metrics = (function (options) {\r\n    var protocol;\r\n    if (!options.connection || typeof options.connection !== \"object\") {\r\n        protocol = new NullProtocol();\r\n    }\r\n    else {\r\n        protocol = gw3(options.connection, options);\r\n    }\r\n    var repo = new Repository(options, protocol);\r\n    var rootSystem = repo.root;\r\n    if (!options.disableAutoAppSystem) {\r\n        rootSystem = rootSystem.subSystem(\"App\");\r\n    }\r\n    var api = addFAVSupport(rootSystem);\r\n    initPerf(api, options.pagePerformanceMetrics);\r\n    return api;\r\n});\r\nvar perf;\r\nfunction initPerf(api, config) {\r\n    var _a, _b;\r\n    if (typeof window === \"undefined\") {\r\n        return;\r\n    }\r\n    var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n    if (perfConfig) {\r\n        config = perfConfig;\r\n    }\r\n    if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n        perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n    }\r\n}\r\nfunction addFAVSupport(system) {\r\n    var reportingSystem = system.subSystem(\"reporting\");\r\n    var def = {\r\n        name: \"features\"\r\n    };\r\n    var featureMetric;\r\n    var featureMetricFunc = function (name, action, payload) {\r\n        if (typeof name === \"undefined\" || name === \"\") {\r\n            throw new Error(\"name is mandatory\");\r\n        }\r\n        else if (typeof action === \"undefined\" || action === \"\") {\r\n            throw new Error(\"action is mandatory\");\r\n        }\r\n        else if (typeof payload === \"undefined\" || payload === \"\") {\r\n            throw new Error(\"payload is mandatory\");\r\n        }\r\n        if (!featureMetric) {\r\n            featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n        }\r\n        else {\r\n            featureMetric.update({\r\n                name: name,\r\n                action: action,\r\n                payload: payload\r\n            });\r\n        }\r\n    };\r\n    system.featureMetric = featureMetricFunc;\r\n    return system;\r\n}\n\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            if (allForKey.length === 0) {\r\n                delete callbacks[key];\r\n            }\r\n            else {\r\n                callbacks[key] = allForKey;\r\n            }\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry.default = createRegistry;\r\nvar lib = createRegistry;\n\nvar InProcTransport = (function () {\r\n    function InProcTransport(settings, logger) {\r\n        var _this = this;\r\n        this.registry = lib();\r\n        this.gw = settings.facade;\r\n        this.gw.connect(function (_client, message) {\r\n            _this.messageHandler(message);\r\n        }).then(function (client) {\r\n            _this.client = client;\r\n        });\r\n    }\r\n    Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InProcTransport.prototype.sendObject = function (msg) {\r\n        if (this.client) {\r\n            this.client.send(msg);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        else {\r\n            return Promise.reject(\"not connected\");\r\n        }\r\n    };\r\n    InProcTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    InProcTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    InProcTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.name = function () {\r\n        return \"in-memory\";\r\n    };\r\n    InProcTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return InProcTransport;\r\n}());\n\nvar SharedWorkerTransport = (function () {\r\n    function SharedWorkerTransport(workerFile, logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        this.registry = lib();\r\n        this.worker = new SharedWorker(workerFile);\r\n        this.worker.port.onmessage = function (e) {\r\n            _this.messageHandler(e.data);\r\n        };\r\n    }\r\n    Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n        this.worker.port.postMessage(msg);\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    SharedWorkerTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.name = function () {\r\n        return \"shared-worker\";\r\n    };\r\n    SharedWorkerTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return SharedWorkerTransport;\r\n}());\n\nvar Utils = (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getGDMajorVersion = function () {\r\n        if (typeof window === \"undefined\") {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop) {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop.version) {\r\n            return undefined;\r\n        }\r\n        var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n        return isNaN(ver) ? undefined : ver;\r\n    };\r\n    Utils.isNode = function () {\r\n        if (typeof Utils._isNode !== \"undefined\") {\r\n            return Utils._isNode;\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            Utils._isNode = false;\r\n            return false;\r\n        }\r\n        try {\r\n            Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n        }\r\n        catch (e) {\r\n            Utils._isNode = false;\r\n        }\r\n        return Utils._isNode;\r\n    };\r\n    return Utils;\r\n}());\n\nvar PromiseWrapper = (function () {\r\n    function PromiseWrapper() {\r\n        var _this = this;\r\n        this.rejected = false;\r\n        this.resolved = false;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = function (t) {\r\n                _this.resolved = true;\r\n                resolve(t);\r\n            };\r\n            _this.reject = function (err) {\r\n                _this.rejected = true;\r\n                reject(err);\r\n            };\r\n        });\r\n    }\r\n    PromiseWrapper.delay = function (time) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n    };\r\n    Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n        get: function () {\r\n            return this.rejected || this.resolved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PromiseWrapper;\r\n}());\n\nvar timers = {};\r\nfunction getAllTimers() {\r\n    return timers;\r\n}\r\nfunction timer (timerName) {\r\n    var existing = timers[timerName];\r\n    if (existing) {\r\n        return existing;\r\n    }\r\n    var marks = [];\r\n    function now() {\r\n        return new Date().getTime();\r\n    }\r\n    var startTime = now();\r\n    mark(\"start\", startTime);\r\n    var endTime;\r\n    var period;\r\n    function stop() {\r\n        endTime = now();\r\n        mark(\"end\", endTime);\r\n        period = endTime - startTime;\r\n        return period;\r\n    }\r\n    function mark(name, time) {\r\n        var currentTime = time !== null && time !== void 0 ? time : now();\r\n        var diff = 0;\r\n        if (marks.length > 0) {\r\n            diff = currentTime - marks[marks.length - 1].time;\r\n        }\r\n        marks.push({ name: name, time: currentTime, diff: diff });\r\n    }\r\n    var timerObj = {\r\n        get startTime() {\r\n            return startTime;\r\n        },\r\n        get endTime() {\r\n            return endTime;\r\n        },\r\n        get period() {\r\n            return period;\r\n        },\r\n        stop: stop,\r\n        mark: mark,\r\n        marks: marks\r\n    };\r\n    timers[timerName] = timerObj;\r\n    return timerObj;\r\n}\n\nvar WebSocketConstructor = Utils.isNode() ? require(\"ws\") : window.WebSocket;\r\nvar WS = (function () {\r\n    function WS(settings, logger) {\r\n        this.startupTimer = timer(\"connection\");\r\n        this._running = true;\r\n        this._registry = lib();\r\n        this.wsRequests = [];\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        if (!this.settings.ws) {\r\n            throw new Error(\"ws is missing\");\r\n        }\r\n    }\r\n    WS.prototype.onMessage = function (callback) {\r\n        return this._registry.add(\"onMessage\", callback);\r\n    };\r\n    WS.prototype.send = function (msg, options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(function () {\r\n                var _a;\r\n                try {\r\n                    (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                    resolve();\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, reject);\r\n        });\r\n    };\r\n    WS.prototype.open = function () {\r\n        var _this = this;\r\n        this.logger.info(\"opening ws...\");\r\n        this._running = true;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(resolve, reject);\r\n        });\r\n    };\r\n    WS.prototype.close = function () {\r\n        this._running = false;\r\n        if (this.ws) {\r\n            this.ws.close();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WS.prototype.onConnectedChanged = function (callback) {\r\n        return this._registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WS.prototype.name = function () {\r\n        return \"ws \" + this.settings.ws;\r\n    };\r\n    WS.prototype.reconnect = function () {\r\n        var _a;\r\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n        var pw = new PromiseWrapper();\r\n        this.waitForSocketConnection(function () {\r\n            pw.resolve();\r\n        });\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n        var _a;\r\n        failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n        if (!this._running) {\r\n            failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n            return;\r\n        }\r\n        if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n            callback();\r\n            return;\r\n        }\r\n        this.wsRequests.push({ callback: callback, failed: failed });\r\n        if (this.wsRequests.length > 1) {\r\n            return;\r\n        }\r\n        this.openSocket();\r\n    };\r\n    WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.startupTimer.mark(\"opening-socket\");\r\n                        if (retryInterval === undefined) {\r\n                            retryInterval = this.settings.reconnectInterval;\r\n                        }\r\n                        if (retriesLeft !== undefined) {\r\n                            if (retriesLeft === 0) {\r\n                                this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                return [2];\r\n                            }\r\n                            this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                        }\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4, this.initiateSocket()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.startupTimer.mark(\"socket-initiated\");\r\n                        this.notifyForSocketState();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        setTimeout(function () {\r\n                            var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                            _this.openSocket(retryInterval, retries);\r\n                        }, retryInterval);\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WS.prototype.initiateSocket = function () {\r\n        var _this = this;\r\n        var pw = new PromiseWrapper();\r\n        this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n        this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n        this.ws.onerror = function (err) {\r\n            var reason = \"\";\r\n            try {\r\n                reason = JSON.stringify(err);\r\n            }\r\n            catch (error) {\r\n                var seen_1 = new WeakSet();\r\n                var replacer = function (key, value) {\r\n                    if (typeof value === \"object\" && value !== null) {\r\n                        if (seen_1.has(value)) {\r\n                            return;\r\n                        }\r\n                        seen_1.add(value);\r\n                    }\r\n                    return value;\r\n                };\r\n                reason = JSON.stringify(err, replacer);\r\n            }\r\n            pw.reject(\"error\");\r\n            _this.notifyStatusChanged(false, reason);\r\n        };\r\n        this.ws.onclose = function (err) {\r\n            _this.logger.info(\"ws closed \" + err);\r\n            pw.reject(\"closed\");\r\n            _this.notifyStatusChanged(false);\r\n        };\r\n        this.ws.onopen = function () {\r\n            var _a;\r\n            _this.startupTimer.mark(\"ws-opened\");\r\n            _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n            pw.resolve();\r\n            _this.notifyStatusChanged(true);\r\n        };\r\n        this.ws.onmessage = function (message) {\r\n            _this._registry.execute(\"onMessage\", message.data);\r\n        };\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.notifyForSocketState = function (error) {\r\n        this.wsRequests.forEach(function (wsRequest) {\r\n            if (error) {\r\n                if (wsRequest.failed) {\r\n                    wsRequest.failed(error);\r\n                }\r\n            }\r\n            else {\r\n                wsRequest.callback();\r\n            }\r\n        });\r\n        this.wsRequests = [];\r\n    };\r\n    WS.prototype.notifyStatusChanged = function (status, reason) {\r\n        this._registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    return WS;\r\n}());\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nvar randomFromSeed = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed$1(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nvar alphabet_1 = {\n    characters: characters,\n    seed: setSeed$1,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nvar randomByteBrowser = randomByte;\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar encode_1 = encode;\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet_1.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nvar decode_1 = decode;\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet_1.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nvar isValid = isShortId;\n\nvar lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode_1(alphabet_1.lookup, version);\n    str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode_1(alphabet_1.lookup, counter);\n    }\n    str = str + encode_1(alphabet_1.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1.characters(newCharacters);\n    }\n\n    return alphabet_1.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode_1;\nmodule.exports.isValid = isValid;\n});\nvar lib_1 = lib$1.generate;\nvar lib_2 = lib$1.seed;\nvar lib_3 = lib$1.worker;\nvar lib_4 = lib$1.characters;\nvar lib_5 = lib$1.decode;\nvar lib_6 = lib$1.isValid;\n\nvar shortid = lib$1;\n\nfunction domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n    if (domain == null) {\r\n        domain = \"global\";\r\n    }\r\n    successMessages = successMessages || [\"success\"];\r\n    errorMessages = errorMessages || [\"error\"];\r\n    var isJoined = false;\r\n    var tryReconnecting = false;\r\n    var _latestOptions;\r\n    var _connectionOn = false;\r\n    var callbacks = lib();\r\n    connection.disconnected(handleConnectionDisconnected);\r\n    connection.loggedIn(handleConnectionLoggedIn);\r\n    connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n    connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n    connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n    if (successMessages) {\r\n        successMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n        });\r\n    }\r\n    if (errorMessages) {\r\n        errorMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n        });\r\n    }\r\n    var requestsMap = {};\r\n    function join(options) {\r\n        _latestOptions = options;\r\n        return new Promise(function (resolve, reject) {\r\n            if (isJoined) {\r\n                resolve();\r\n                return;\r\n            }\r\n            var joinPromise;\r\n            if (domain === \"global\") {\r\n                joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n            }\r\n            else {\r\n                logger.debug(\"joining domain \" + domain);\r\n                var joinMsg = {\r\n                    type: \"join\",\r\n                    destination: domain,\r\n                    domain: \"global\",\r\n                    options: options,\r\n                };\r\n                joinPromise = send(joinMsg);\r\n            }\r\n            joinPromise\r\n                .then(function () {\r\n                handleJoined();\r\n                resolve();\r\n            })\r\n                .catch(function (err) {\r\n                logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    function leave() {\r\n        if (domain === \"global\") {\r\n            return Promise.resolve();\r\n        }\r\n        logger.debug(\"stopping session \" + domain + \"...\");\r\n        var leaveMsg = {\r\n            type: \"leave\",\r\n            destination: domain,\r\n            domain: \"global\",\r\n        };\r\n        tryReconnecting = false;\r\n        return send(leaveMsg).then(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        });\r\n    }\r\n    function handleJoined() {\r\n        logger.debug(\"did join \" + domain);\r\n        isJoined = true;\r\n        var wasReconnect = tryReconnecting;\r\n        tryReconnecting = false;\r\n        callbacks.execute(\"onJoined\", wasReconnect);\r\n    }\r\n    function handleConnectionDisconnected() {\r\n        _connectionOn = false;\r\n        logger.debug(\"connection is down\");\r\n        isJoined = false;\r\n        tryReconnecting = true;\r\n        callbacks.execute(\"onLeft\", { disconnected: true });\r\n    }\r\n    function handleConnectionLoggedIn() {\r\n        _connectionOn = true;\r\n        if (tryReconnecting) {\r\n            logger.debug(\"connection is now up - trying to reconnect...\");\r\n            join(_latestOptions);\r\n        }\r\n    }\r\n    function onJoined(callback) {\r\n        if (isJoined) {\r\n            callback(false);\r\n        }\r\n        return callbacks.add(\"onJoined\", callback);\r\n    }\r\n    function onLeft(callback) {\r\n        if (!isJoined) {\r\n            callback();\r\n        }\r\n        return callbacks.add(\"onLeft\", callback);\r\n    }\r\n    function handleErrorMessage(msg) {\r\n        if (domain !== msg.domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.error(msg);\r\n    }\r\n    function handleSuccessMessage(msg) {\r\n        if (msg.domain !== domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.success(msg);\r\n    }\r\n    function getNextRequestId() {\r\n        return shortid();\r\n    }\r\n    function send(msg, tag, options) {\r\n        options = options || {};\r\n        msg.request_id = msg.request_id || getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        if (!options.skipPeerId) {\r\n            msg.peer_id = connection.peerId;\r\n        }\r\n        var requestId = msg.request_id;\r\n        return new Promise(function (resolve, reject) {\r\n            requestsMap[requestId] = {\r\n                success: function (successMsg) {\r\n                    delete requestsMap[requestId];\r\n                    successMsg._tag = tag;\r\n                    resolve(successMsg);\r\n                },\r\n                error: function (errorMsg) {\r\n                    logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                    delete requestsMap[requestId];\r\n                    errorMsg._tag = tag;\r\n                    reject(errorMsg);\r\n                },\r\n            };\r\n            connection\r\n                .send(msg, options)\r\n                .catch(function (err) {\r\n                requestsMap[requestId].error({ err: err });\r\n            });\r\n        });\r\n    }\r\n    function sendFireAndForget(msg) {\r\n        msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        msg.peer_id = connection.peerId;\r\n        return connection.send(msg);\r\n    }\r\n    return {\r\n        join: join,\r\n        leave: leave,\r\n        onJoined: onJoined,\r\n        onLeft: onLeft,\r\n        send: send,\r\n        sendFireAndForget: sendFireAndForget,\r\n        on: function (type, callback) {\r\n            connection.on(type, function (msg) {\r\n                if (msg.domain !== domain) {\r\n                    return;\r\n                }\r\n                try {\r\n                    callback(msg);\r\n                }\r\n                catch (e) {\r\n                    logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                }\r\n            });\r\n        },\r\n        loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n        connected: function (callback) { return connection.connected(callback); },\r\n        disconnected: function (callback) { return connection.disconnected(callback); },\r\n        get peerId() {\r\n            return connection.peerId;\r\n        },\r\n        get domain() {\r\n            return domain;\r\n        },\r\n    };\r\n}\n\nvar GW3ProtocolImpl = (function () {\r\n    function GW3ProtocolImpl(connection, settings, logger) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.protocolVersion = 3;\r\n        this.datePrefix = \"#T42_DATE#\";\r\n        this.datePrefixLen = this.datePrefix.length;\r\n        this.dateMinLen = this.datePrefixLen + 1;\r\n        this.datePrefixFirstChar = this.datePrefix[0];\r\n        this.registry = lib();\r\n        this._isLoggedIn = false;\r\n        this.shouldTryLogin = true;\r\n        this.initialLogin = true;\r\n        this.initialLoginAttempts = 3;\r\n        this.sessions = [];\r\n        connection.disconnected(function () {\r\n            _this.handleDisconnected();\r\n        });\r\n        this.ping();\r\n    }\r\n    Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n        get: function () {\r\n            return this._isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n        var _this = this;\r\n        var msg = JSON.parse(message, function (key, value) {\r\n            if (typeof value !== \"string\") {\r\n                return value;\r\n            }\r\n            if (value.length < _this.dateMinLen) {\r\n                return value;\r\n            }\r\n            if (value[0] !== _this.datePrefixFirstChar) {\r\n                return value;\r\n            }\r\n            if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                return value;\r\n            }\r\n            try {\r\n                var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                if (isNaN(milliseconds)) {\r\n                    return value;\r\n                }\r\n                return new Date(milliseconds);\r\n            }\r\n            catch (ex) {\r\n                return value;\r\n            }\r\n        });\r\n        return {\r\n            msg: msg,\r\n            msgType: msg.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n        var oldToJson = Date.prototype.toJSON;\r\n        try {\r\n            var datePrefix_1 = this.datePrefix;\r\n            Date.prototype.toJSON = function () {\r\n                return datePrefix_1 + this.getTime();\r\n            };\r\n            var result = JSON.stringify(message);\r\n            return result;\r\n        }\r\n        finally {\r\n            Date.prototype.toJSON = oldToJson;\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n        if (!message.type) {\r\n            throw new Error(\"Object should have type property\");\r\n        }\r\n        return {\r\n            msg: message,\r\n            msgType: message.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n        return message;\r\n    };\r\n    GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging in...\");\r\n                        this.loginConfig = config;\r\n                        if (!this.loginConfig) {\r\n                            this.loginConfig = { username: \"\", password: \"\" };\r\n                        }\r\n                        this.shouldTryLogin = true;\r\n                        authentication = {};\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        if (!config.gatewayToken) return [3, 5];\r\n                        if (!reconnect) return [3, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        return [4, this.getNewGWToken()];\r\n                    case 2:\r\n                        token = _c.sent();\r\n                        config.gatewayToken = token;\r\n                        return [3, 4];\r\n                    case 3:\r\n                        e_1 = _c.sent();\r\n                        this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                        return [3, 4];\r\n                    case 4:\r\n                        authentication.method = \"gateway-token\";\r\n                        authentication.token = config.gatewayToken;\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        return [3, 10];\r\n                    case 5:\r\n                        if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                        authentication.provider = \"win\";\r\n                        authentication.method = \"access-token\";\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                        _a = authentication;\r\n                        return [4, config.flowCallback(config.sessionId, null)];\r\n                    case 6:\r\n                        _a.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        return [3, 8];\r\n                    case 7: throw new Error(\"Invalid SSPI config\");\r\n                    case 8: return [3, 10];\r\n                    case 9:\r\n                        if (config.token) {\r\n                            authentication.method = \"access-token\";\r\n                            authentication.token = config.token;\r\n                        }\r\n                        else if (config.username) {\r\n                            authentication.method = \"secret\";\r\n                            authentication.login = config.username;\r\n                            authentication.secret = config.password;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                        }\r\n                        _c.label = 10;\r\n                    case 10:\r\n                        helloMsg = {\r\n                            type: \"hello\",\r\n                            identity: this.settings.identity,\r\n                            authentication: authentication\r\n                        };\r\n                        if (config.sessionId) {\r\n                            helloMsg.request_id = config.sessionId;\r\n                        }\r\n                        this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                            \"welcome\",\r\n                            \"token\",\r\n                            \"authentication-request\"\r\n                        ]);\r\n                        sendOptions = { skipPeerId: true };\r\n                        if (this.initialLogin) {\r\n                            sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                            sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                        }\r\n                        _c.label = 11;\r\n                    case 11:\r\n                        _c.trys.push([11, 19, 20, 21]);\r\n                        welcomeMsg = void 0;\r\n                        _c.label = 12;\r\n                    case 12:\r\n                        return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                    case 13:\r\n                        msg = _c.sent();\r\n                        if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                        token = Buffer.from(msg.authentication.token, \"base64\");\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                        _b = helloMsg.authentication;\r\n                        return [4, config.flowCallback(config.sessionId, token)];\r\n                    case 14:\r\n                        _b.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        _c.label = 15;\r\n                    case 15:\r\n                        helloMsg.request_id = config.sessionId;\r\n                        return [3, 12];\r\n                    case 16:\r\n                        if (msg.type === \"welcome\") {\r\n                            welcomeMsg = msg;\r\n                            return [3, 18];\r\n                        }\r\n                        else if (msg.type === \"error\") {\r\n                            throw new Error(\"Authentication failed: \" + msg.reason);\r\n                        }\r\n                        else {\r\n                            throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                        }\r\n                    case 17: return [3, 12];\r\n                    case 18:\r\n                        this.initialLogin = false;\r\n                        this.logger.debug(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                        this.connection.peerId = welcomeMsg.peer_id;\r\n                        this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                        this.connection.availableDomains = welcomeMsg.available_domains;\r\n                        if (welcomeMsg.options) {\r\n                            this.connection.token = welcomeMsg.options.access_token;\r\n                            this.connection.info = welcomeMsg.options.info;\r\n                        }\r\n                        this.setLoggedIn(true);\r\n                        return [2, welcomeMsg.resolved_identity];\r\n                    case 19:\r\n                        err_1 = _c.sent();\r\n                        this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                        throw err_1;\r\n                    case 20:\r\n                        if (config && config.flowCallback && config.sessionId) {\r\n                            config.flowCallback(config.sessionId, null);\r\n                        }\r\n                        return [7];\r\n                    case 21: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var promises;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging out...\");\r\n                        this.shouldTryLogin = false;\r\n                        if (this.pingTimer) {\r\n                            clearTimeout(this.pingTimer);\r\n                        }\r\n                        promises = this.sessions.map(function (session) {\r\n                            session.leave();\r\n                        });\r\n                        return [4, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n        if (this._isLoggedIn) {\r\n            callback();\r\n        }\r\n        return this.registry.add(\"onLoggedIn\", callback);\r\n    };\r\n    GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n        var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n        if (!session) {\r\n            session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n            this.sessions.push(session);\r\n        }\r\n        return session;\r\n    };\r\n    GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n        var _this = this;\r\n        this.setLoggedIn(false);\r\n        var tryToLogin = this.shouldTryLogin;\r\n        if (tryToLogin && this.initialLogin) {\r\n            if (this.initialLoginAttempts <= 0) {\r\n                return;\r\n            }\r\n            this.initialLoginAttempts--;\r\n        }\r\n        this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n        if (this.shouldTryLogin) {\r\n            if (!this.loginConfig) {\r\n                throw new Error(\"no login info\");\r\n            }\r\n            this.connection.login(this.loginConfig, true)\r\n                .catch(function () {\r\n                setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n            });\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n        this._isLoggedIn = value;\r\n        if (this._isLoggedIn) {\r\n            this.registry.execute(\"onLoggedIn\");\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.ping = function () {\r\n        var _this = this;\r\n        if (!this.shouldTryLogin) {\r\n            return;\r\n        }\r\n        if (this._isLoggedIn) {\r\n            this.connection.send({ type: \"ping\" });\r\n        }\r\n        this.pingTimer = setTimeout(function () {\r\n            _this.ping();\r\n        }, 30 * 1000);\r\n    };\r\n    GW3ProtocolImpl.prototype.authToken = function () {\r\n        var createTokenReq = {\r\n            type: \"create-token\"\r\n        };\r\n        if (!this.globalDomain) {\r\n            return Promise.reject(new Error(\"no global domain session\"));\r\n        }\r\n        return this.globalDomain.send(createTokenReq)\r\n            .then(function (res) {\r\n            return res.token;\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n        if (typeof window !== undefined) {\r\n            var glue42gd = window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.getGWToken();\r\n            }\r\n        }\r\n        return Promise.reject(new Error(\"not running in GD\"));\r\n    };\r\n    return GW3ProtocolImpl;\r\n}());\n\nvar MessageReplayerImpl = (function () {\r\n    function MessageReplayerImpl(specs) {\r\n        this.specsNames = [];\r\n        this.messages = {};\r\n        this.subs = {};\r\n        this.subsRefCount = {};\r\n        this.specs = {};\r\n        for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n            var spec = specs_1[_i];\r\n            this.specs[spec.name] = spec;\r\n            this.specsNames.push(spec.name);\r\n        }\r\n    }\r\n    MessageReplayerImpl.prototype.init = function (connection) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var _loop_1 = function (type) {\r\n                var refCount = this_1.subsRefCount[type];\r\n                if (!refCount) {\r\n                    refCount = 0;\r\n                }\r\n                refCount += 1;\r\n                this_1.subsRefCount[type] = refCount;\r\n                if (refCount > 1) {\r\n                    return \"continue\";\r\n                }\r\n                var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                this_1.subs[type] = sub;\r\n            };\r\n            var this_1 = this;\r\n            for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                var type = _c[_b];\r\n                _loop_1(type);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n        if (this.isDone || !msg) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_2 = _a[_i];\r\n            if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                var messages = this.messages[name_2] || [];\r\n                this.messages[name_2] = messages;\r\n                messages.push(msg);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n        var _a;\r\n        if (callback) {\r\n            (this.messages[name] || []).forEach(callback);\r\n        }\r\n        delete this.messages[name];\r\n        for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n            var type = _b[_i];\r\n            this.subsRefCount[type] -= 1;\r\n            if (this.subsRefCount[type] <= 0) {\r\n                (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                delete this.subs[type];\r\n                delete this.subsRefCount[type];\r\n            }\r\n        }\r\n        delete this.specs[name];\r\n        if (!this.specs.length) {\r\n            this.isDone = true;\r\n        }\r\n    };\r\n    return MessageReplayerImpl;\r\n}());\n\nvar PromisePlus = function (executor, timeoutMilliseconds, timeoutMessage) {\r\n    return new Promise(function (resolve, reject) {\r\n        var timeout = setTimeout(function () {\r\n            var message = timeoutMessage || \"Promise timeout hit: \" + timeoutMilliseconds;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        var providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then(function (result) {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch(function (error) {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nvar WebPlatformTransport = (function () {\r\n    function WebPlatformTransport(settings, logger, identity) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.identity = identity;\r\n        this.parentReady = false;\r\n        this.iAmConnected = false;\r\n        this.rejected = false;\r\n        this.children = [];\r\n        this.parentPingTimeout = 3000;\r\n        this.connectionRequestTimeout = 5000;\r\n        this.defaultTargetString = \"*\";\r\n        this.registry = lib();\r\n        this.messages = {\r\n            connectionAccepted: { name: \"connectionAccepted\", handle: this.handleConnectionAccepted.bind(this) },\r\n            connectionRejected: { name: \"connectionRejected\", handle: this.handleConnectionRejected.bind(this) },\r\n            connectionRequest: { name: \"connectionRequest\", handle: this.handleConnectionRequest.bind(this) },\r\n            parentReady: { name: \"parentReady\", handle: this.handleParentReady.bind(this) },\r\n            parentPing: { name: \"parentPing\", handle: this.handleParentPing.bind(this) },\r\n            platformPing: { name: \"platformPing\", handle: this.handlePlatformPing.bind(this) },\r\n            platformUnload: { name: \"platformUnload\", handle: this.handlePlatformUnload.bind(this) },\r\n            platformReady: { name: \"platformReady\", handle: this.handlePlatformReady.bind(this) },\r\n            clientUnload: { name: \"clientUnload\", handle: this.handleClientUnload.bind(this) }\r\n        };\r\n        this.setUpMessageListener();\r\n        this.setUpUnload();\r\n        if (!this.settings.port) {\r\n            this.parent = window.opener || window.top;\r\n            this.parentType = window.opener ? \"opener\" :\r\n                window.name.indexOf(\"#wsp\") !== -1 ? \"workspace\" : \"top\";\r\n        }\r\n    }\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"transportWindowId\", {\r\n        get: function () {\r\n            return this.publicWindowId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.sendObject = function (msg) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (!this.port) {\r\n                    throw new Error(\"Cannot send message, because the port was not opened yet\");\r\n                }\r\n                this.port.postMessage(msg);\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.send = function () {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    WebPlatformTransport.prototype.onConnectedChanged = function (callback) {\r\n        return this.registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.open = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"opening a connection to the web platform gateway.\");\r\n                        return [4, this.connect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.notifyStatusChanged(true);\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.name = function () {\r\n        return \"web-platform\";\r\n    };\r\n    WebPlatformTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.connect = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.parentReady) {\r\n                            this.logger.debug(\"cancelling connection attempt, because this client's parent has already given a ready signal\");\r\n                            return [2];\r\n                        }\r\n                        if (this.settings.port) {\r\n                            this.logger.debug(\"opening an internal web platform connection\");\r\n                            this.port = this.settings.port;\r\n                            this.publicWindowId = this.settings.windowId;\r\n                            if (this.identity) {\r\n                                this.identity.windowId = this.publicWindowId;\r\n                            }\r\n                            this.port.onmessage = function (event) { return _this.registry.execute(\"onMessage\", event.data); };\r\n                            this.logger.debug(\"internal web platform connection completed\");\r\n                            return [2];\r\n                        }\r\n                        if (!this.parentType || !this.parent) {\r\n                            throw new Error(\"Cannot initiate a connection, because there is no opener, no top and no port.\");\r\n                        }\r\n                        this.logger.debug(\"opening a \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client web platform connection\");\r\n                        return [4, this.waitParent(this.parent, this.parentType)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.initiateRemoteConnection(this.parent, this.parentType)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.logger.debug(\"the \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client is connected\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateRemoteConnection = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve, reject) {\r\n            _this.connectionResolve = resolve;\r\n            _this.connectionReject = reject;\r\n            _this.myClientId = shortid();\r\n            var bridgeInstanceId = _this.parentType === \"workspace\" ? window.name.substring(0, window.name.indexOf(\"#wsp\")) : window.name;\r\n            var request = {\r\n                glue42core: {\r\n                    type: _this.messages.connectionRequest.name,\r\n                    clientId: _this.myClientId,\r\n                    clientType: parentType === \"top\" || parentType === \"workspace\" ? \"grandChild\" : \"child\",\r\n                    bridgeInstanceId: bridgeInstanceId\r\n                }\r\n            };\r\n            _this.logger.debug(\"sending connection request to \" + parentType);\r\n            target.postMessage(request, _this.defaultTargetString);\r\n        }, this.connectionRequestTimeout, \"The connection to the opener/top window timed out\");\r\n    };\r\n    WebPlatformTransport.prototype.waitParent = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve) {\r\n            _this.parentPingResolve = resolve;\r\n            var message = {\r\n                glue42core: {\r\n                    type: parentType === \"opener\" ? _this.messages.platformPing.name : _this.messages.parentPing.name\r\n                }\r\n            };\r\n            _this.logger.debug(\"checking for \" + parentType + \" window availability\");\r\n            target.postMessage(message, _this.defaultTargetString);\r\n        }, this.parentPingTimeout, \"Cannot initiate glue, because this window was not opened or created by a glue client\");\r\n    };\r\n    WebPlatformTransport.prototype.setUpMessageListener = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping generic message listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n            if (!data || _this.rejected) {\r\n                return;\r\n            }\r\n            if (!_this.checkMessageTypeValid(data.type)) {\r\n                _this.logger.error(\"cannot handle the incoming glue42 core message, because the type is invalid: \" + data.type);\r\n                return;\r\n            }\r\n            var messageType = data.type;\r\n            _this.logger.debug(\"received valid glue42core message of type: \" + messageType);\r\n            _this.messages[messageType].handle(event);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpUnload = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping unload event listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"beforeunload\", function () {\r\n            var _a, _b;\r\n            var message = {\r\n                glue42core: {\r\n                    type: _this.messages.clientUnload.name,\r\n                    data: {\r\n                        clientId: _this.myClientId,\r\n                        ownWindowId: (_a = _this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                    }\r\n                }\r\n            };\r\n            if (_this.parent) {\r\n                _this.parent.postMessage(message, _this.defaultTargetString);\r\n            }\r\n            (_b = _this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleParentReady = function () {\r\n        this.logger.debug(\"handling the ready signal from the parent, by resoling the pending promise.\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformReady = function () {\r\n        this.logger.debug(\"the web platform gave the ready signal\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionAccepted = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (this.myClientId === data.clientId) {\r\n            return this.handleAcceptanceOfMyRequest(data);\r\n        }\r\n        return this.handleAcceptanceOfGrandChildRequest(data, event);\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfMyRequest = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me.\");\r\n        if (!data.port) {\r\n            this.logger.error(\"cannot set up my connection, because I was not provided with a port\");\r\n            return;\r\n        }\r\n        this.publicWindowId = this.parentType === \"opener\" ? window.name :\r\n            this.parentType === \"top\" ? data.parentWindowId :\r\n                window.name.substring(0, window.name.indexOf(\"#wsp\"));\r\n        if (this.identity && this.parentType !== \"top\") {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        this.port = data.port;\r\n        this.port.onmessage = function (e) { return _this.registry.execute(\"onMessage\", e.data); };\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n        this.logger.error(\"unable to call the connection resolve, because no connection promise was found\");\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfGrandChildRequest = function (data, event) {\r\n        this.logger.debug(\"handling a connection accepted signal targeted at a grandchild: \" + data.clientId);\r\n        var child = this.children.find(function (c) { return c.grandChildId === data.clientId; });\r\n        if (!child) {\r\n            this.logger.error(\"cannot handle connection accepted for grandchild: \" + data.clientId + \", because there is no grandchild with this id\");\r\n            return;\r\n        }\r\n        child.connected = true;\r\n        this.logger.debug(\"the grandchild connection for \" + data.clientId + \" is set up, forwarding the success message and the gateway port\");\r\n        data.parentWindowId = this.publicWindowId;\r\n        child.source.postMessage(event.data, child.origin, [data.port]);\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRejected = function () {\r\n        this.logger.debug(\"handling a connection rejection. Most likely the reason is that this window was not created by a glue API call\");\r\n        if (this.connectionReject) {\r\n            this.connectionReject(\"The platform connection was rejected. Most likely because this window was not created by a glue API call\");\r\n            delete this.connectionReject;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRequest = function (event) {\r\n        var source = event.source;\r\n        var data = event.data.glue42core;\r\n        if (!data.clientType || data.clientType !== \"grandChild\") {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source was not opened by a glue API call\");\r\n        }\r\n        if (!data.clientId) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source did not provide a valid id\");\r\n        }\r\n        if (this.parentType !== \"opener\" || !this.parent) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"Cannot forward the connection request, because no direct connection to the platform was found\");\r\n        }\r\n        this.logger.debug(\"handling a connection request for a grandchild: \" + data.clientId);\r\n        this.children.push({ grandChildId: data.clientId, source: source, connected: false, origin: event.origin });\r\n        this.logger.debug(\"grandchild: \" + data.clientId + \" is prepared, forwarding connection request to the platform\");\r\n        this.parent.postMessage(event.data, this.defaultTargetString);\r\n    };\r\n    WebPlatformTransport.prototype.handleParentPing = function (event) {\r\n        if (!this.parentReady) {\r\n            this.logger.debug(\"my parent is not ready, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        if (!this.iAmConnected) {\r\n            this.logger.debug(\"i am not fully connected yet, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.parentReady.name\r\n            }\r\n        };\r\n        var source = event.source;\r\n        this.logger.debug(\"responding to a parent ping with a ready message\");\r\n        source.postMessage(message, event.origin);\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformUnload = function (event) {\r\n        this.logger.debug(\"detected a web platform unload\");\r\n        this.parentReady = false;\r\n        if (this.children.length) {\r\n            this.logger.debug(\"forwarding the platform unload to all known children and starting platform discovery polling\");\r\n            this.children.forEach(function (child) { return child.source.postMessage(event.data, child.origin); });\r\n        }\r\n        this.notifyStatusChanged(false, \"Gateway unloaded\");\r\n    };\r\n    WebPlatformTransport.prototype.handleClientUnload = function (event) {\r\n        var data = event.data.glue42core;\r\n        if (!data.clientId) {\r\n            this.logger.warn(\"cannot process grand child unload, because the provided id was not valid\");\r\n            return;\r\n        }\r\n        var foundChild = this.children.find(function (child) { return child.grandChildId === data.clientId; });\r\n        if (!foundChild) {\r\n            this.logger.warn(\"cannot process grand child unload, because this client is unaware of this grandchild\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling grandchild unload for id: \" + data.clientId);\r\n        this.children = this.children.filter(function (child) { return child.grandChildId !== data.clientId; });\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformPing = function () {\r\n        this.logger.error(\"cannot handle platform ping, because this is not a platform calls handling component\");\r\n    };\r\n    WebPlatformTransport.prototype.notifyStatusChanged = function (status, reason) {\r\n        this.iAmConnected = status;\r\n        this.registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    WebPlatformTransport.prototype.checkMessageTypeValid = function (typeToValidate) {\r\n        return typeof typeToValidate === \"string\" && !!this.messages[typeToValidate];\r\n    };\r\n    WebPlatformTransport.prototype.rejectConnectionRequest = function (source, origin, reason) {\r\n        this.rejected = true;\r\n        this.logger.error(reason);\r\n        var rejection = {\r\n            glue42core: {\r\n                type: this.messages.connectionRejected.name\r\n            }\r\n        };\r\n        source.postMessage(rejection, origin);\r\n    };\r\n    return WebPlatformTransport;\r\n}());\n\nvar Connection = (function () {\r\n    function Connection(settings, logger) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.messageHandlers = {};\r\n        this.ids = 1;\r\n        this.registry = lib();\r\n        this._connected = false;\r\n        this.isTrace = false;\r\n        settings = settings || {};\r\n        settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n        settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n        if (settings.inproc) {\r\n            this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n        }\r\n        else if (settings.sharedWorker) {\r\n            this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n        }\r\n        else if (settings.webPlatform) {\r\n            this.transport = new WebPlatformTransport(settings.webPlatform, logger.subLogger(\"web-platform\"), settings.identity);\r\n        }\r\n        else if (settings.ws !== undefined) {\r\n            this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n        }\r\n        else {\r\n            throw new Error(\"No connection information specified\");\r\n        }\r\n        this.isTrace = logger.canPublish(\"trace\");\r\n        logger.debug(\"starting with \" + this.transport.name() + \" transport\");\r\n        this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n        this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        if (settings.replaySpecs && settings.replaySpecs.length) {\r\n            this.replayer = new MessageReplayerImpl(settings.replaySpecs);\r\n            this.replayer.init(this);\r\n        }\r\n    }\r\n    Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.send = function (message, options) {\r\n        if (this.transport.sendObject &&\r\n            this.transport.isObjectBasedTransport) {\r\n            var msg = this.protocol.createObjectMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + JSON.stringify(msg));\r\n            }\r\n            return this.transport.sendObject(msg, options);\r\n        }\r\n        else {\r\n            var strMessage = this.protocol.createStringMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + strMessage);\r\n            }\r\n            return this.transport.send(strMessage, options);\r\n        }\r\n    };\r\n    Connection.prototype.on = function (type, messageHandler) {\r\n        type = type.toLowerCase();\r\n        if (this.messageHandlers[type] === undefined) {\r\n            this.messageHandlers[type] = {};\r\n        }\r\n        var id = this.ids++;\r\n        this.messageHandlers[type][id] = messageHandler;\r\n        return {\r\n            type: type,\r\n            id: id,\r\n        };\r\n    };\r\n    Connection.prototype.off = function (info) {\r\n        delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n    };\r\n    Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n        get: function () {\r\n            return this.protocol.isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.connected = function (callback) {\r\n        var _this = this;\r\n        return this.protocol.loggedIn(function () {\r\n            callback(_this.settings.ws || _this.settings.sharedWorker || \"\");\r\n        });\r\n    };\r\n    Connection.prototype.disconnected = function (callback) {\r\n        return this.registry.add(\"disconnected\", callback);\r\n    };\r\n    Connection.prototype.login = function (authRequest, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var identity;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.transport.open()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        timer(\"connection\").mark(\"transport-opened\");\r\n                        identity = this.protocol.login(authRequest, reconnect);\r\n                        timer(\"connection\").mark(\"protocol-logged-in\");\r\n                        return [2, identity];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.protocol.logout()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.transport.close()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.loggedIn = function (callback) {\r\n        return this.protocol.loggedIn(callback);\r\n    };\r\n    Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n        return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n    };\r\n    Connection.prototype.authToken = function () {\r\n        return this.protocol.authToken();\r\n    };\r\n    Connection.prototype.reconnect = function () {\r\n        return this.transport.reconnect();\r\n    };\r\n    Connection.prototype.distributeMessage = function (message, type) {\r\n        var _this = this;\r\n        var handlers = this.messageHandlers[type.toLowerCase()];\r\n        if (handlers !== undefined) {\r\n            Object.keys(handlers).forEach(function (handlerId) {\r\n                var handler = handlers[handlerId];\r\n                if (handler !== undefined) {\r\n                    try {\r\n                        handler(message);\r\n                    }\r\n                    catch (error) {\r\n                        try {\r\n                            _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                        }\r\n                        catch (loggerError) {\r\n                            console.log(\"Message handler failed\", error);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Connection.prototype.handleConnectionChanged = function (connected) {\r\n        if (this._connected === connected) {\r\n            return;\r\n        }\r\n        this._connected = connected;\r\n        if (connected) {\r\n            this.registry.execute(\"connected\");\r\n        }\r\n        else {\r\n            this.registry.execute(\"disconnected\");\r\n        }\r\n    };\r\n    Connection.prototype.handleTransportMessage = function (msg) {\r\n        var msgObj;\r\n        if (typeof msg === \"string\") {\r\n            msgObj = this.protocol.processStringMessage(msg);\r\n        }\r\n        else {\r\n            msgObj = this.protocol.processObjectMessage(msg);\r\n        }\r\n        if (this.isTrace) {\r\n            this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n        }\r\n        this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n    };\r\n    return Connection;\r\n}());\n\nvar order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\nvar Logger = (function () {\r\n    function Logger(name, parent, logFn) {\r\n        this.name = name;\r\n        this.parent = parent;\r\n        this.subLoggers = [];\r\n        this.logFn = console;\r\n        this.customLogFn = false;\r\n        this.name = name;\r\n        if (parent) {\r\n            this.path = parent.path + \".\" + name;\r\n        }\r\n        else {\r\n            this.path = name;\r\n        }\r\n        this.loggerFullName = \"[\" + this.path + \"]\";\r\n        this.includeTimeAndLevel = !logFn;\r\n        if (logFn) {\r\n            this.logFn = logFn;\r\n            this.customLogFn = true;\r\n        }\r\n    }\r\n    Logger.prototype.subLogger = function (name) {\r\n        var existingSub = this.subLoggers.filter(function (subLogger) {\r\n            return subLogger.name === name;\r\n        })[0];\r\n        if (existingSub !== undefined) {\r\n            return existingSub;\r\n        }\r\n        Object.keys(this).forEach(function (key) {\r\n            if (key === name) {\r\n                throw new Error(\"This sub logger name is not allowed.\");\r\n            }\r\n        });\r\n        var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n        this.subLoggers.push(sub);\r\n        return sub;\r\n    };\r\n    Logger.prototype.publishLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._publishLevel = level;\r\n        }\r\n        return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n    };\r\n    Logger.prototype.consoleLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._consoleLevel = level;\r\n        }\r\n        return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n    };\r\n    Logger.prototype.log = function (message, level, error) {\r\n        this.publishMessage(level || \"info\", message, error);\r\n    };\r\n    Logger.prototype.trace = function (message) {\r\n        this.log(message, \"trace\");\r\n    };\r\n    Logger.prototype.debug = function (message) {\r\n        this.log(message, \"debug\");\r\n    };\r\n    Logger.prototype.info = function (message) {\r\n        this.log(message, \"info\");\r\n    };\r\n    Logger.prototype.warn = function (message) {\r\n        this.log(message, \"warn\");\r\n    };\r\n    Logger.prototype.error = function (message, err) {\r\n        this.log(message, \"error\");\r\n    };\r\n    Logger.prototype.canPublish = function (level, compareWith) {\r\n        var levelIdx = order.indexOf(level);\r\n        var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n        return levelIdx >= restrictionIdx;\r\n    };\r\n    Logger.prototype.publishMessage = function (level, message, error) {\r\n        var loggerName = this.loggerFullName;\r\n        if (level === \"error\" && !error) {\r\n            var e = new Error();\r\n            if (e.stack) {\r\n                message =\r\n                    message +\r\n                        \"\\n\" +\r\n                        e.stack\r\n                            .split(\"\\n\")\r\n                            .slice(3)\r\n                            .join(\"\\n\");\r\n            }\r\n        }\r\n        if (this.canPublish(level, this.publishLevel())) {\r\n            var interop = Logger.Interop;\r\n            if (interop) {\r\n                try {\r\n                    if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                        interop.invoke(Logger.InteropMethodName, {\r\n                            msg: \"\" + message,\r\n                            logger: loggerName,\r\n                            level: level\r\n                        });\r\n                    }\r\n                }\r\n                catch (_a) {\r\n                }\r\n            }\r\n        }\r\n        if (this.canPublish(level)) {\r\n            var prefix = \"\";\r\n            if (this.includeTimeAndLevel) {\r\n                var date = new Date();\r\n                var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n            }\r\n            var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n            switch (level) {\r\n                case \"trace\":\r\n                    this.logFn.debug(toPrint);\r\n                    break;\r\n                case \"debug\":\r\n                    if (this.logFn.debug) {\r\n                        this.logFn.debug(toPrint);\r\n                    }\r\n                    else {\r\n                        this.logFn.log(toPrint);\r\n                    }\r\n                    break;\r\n                case \"info\":\r\n                    this.logFn.info(toPrint);\r\n                    break;\r\n                case \"warn\":\r\n                    this.logFn.warn(toPrint);\r\n                    break;\r\n                case \"error\":\r\n                    this.logFn.error(toPrint, error);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n    return Logger;\r\n}());\n\nvar GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\nvar GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\nvar GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\nvar GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\nvar GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\nvar GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\nvar GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\nvar GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\nvar GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\nvar GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\nvar GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\nvar GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\nvar GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\nvar ContextMessageReplaySpec = {\r\n    get name() {\r\n        return \"context\";\r\n    },\r\n    get types() {\r\n        return [\r\n            GW_MESSAGE_CREATE_CONTEXT,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_DESTROY_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_UPDATE_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_JOINED_ACTIVITY\r\n        ];\r\n    }\r\n};\n\nvar version = \"5.4.0\";\n\nfunction prepareConfig (configuration, ext, glue42gd) {\r\n    var _a, _b, _c, _d, _e;\r\n    var nodeStartingContext;\r\n    if (Utils.isNode()) {\r\n        var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n        if (startingContextString) {\r\n            try {\r\n                nodeStartingContext = JSON.parse(startingContextString);\r\n            }\r\n            catch (_f) {\r\n            }\r\n        }\r\n    }\r\n    function getConnection() {\r\n        var _a, _b, _c, _d, _e;\r\n        var gwConfig = configuration.gateway;\r\n        var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n        var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n        var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n        var defaultWs = \"ws://localhost:8385\";\r\n        var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n        var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n        var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n        var webPlatform = (_b = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.webPlatform) !== null && _b !== void 0 ? _b : undefined;\r\n        if (glue42gd) {\r\n            ws = glue42gd.gwURL;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n            ws = nodeStartingContext.gwURL;\r\n        }\r\n        if (!ws && !sharedWorker && !inproc) {\r\n            ws = defaultWs;\r\n        }\r\n        var instanceId;\r\n        var windowId;\r\n        var pid;\r\n        var environment;\r\n        var region;\r\n        var appName = getApplication();\r\n        var uniqueAppName = appName;\r\n        if (typeof glue42gd !== \"undefined\") {\r\n            windowId = glue42gd.windowId;\r\n            pid = glue42gd.pid;\r\n            if (glue42gd.env) {\r\n                environment = glue42gd.env.env;\r\n                region = glue42gd.env.region;\r\n            }\r\n            uniqueAppName = (_c = glue42gd.application) !== null && _c !== void 0 ? _c : \"glue-app\";\r\n            instanceId = glue42gd.appInstanceId;\r\n        }\r\n        else if (Utils.isNode()) {\r\n            pid = process.pid;\r\n            if (nodeStartingContext) {\r\n                environment = nodeStartingContext.env;\r\n                region = nodeStartingContext.region;\r\n                instanceId = nodeStartingContext.instanceId;\r\n            }\r\n        }\r\n        else ;\r\n        var replaySpecs = (_e = (_d = configuration.gateway) === null || _d === void 0 ? void 0 : _d.replaySpecs) !== null && _e !== void 0 ? _e : [];\r\n        replaySpecs.push(ContextMessageReplaySpec);\r\n        return {\r\n            identity: {\r\n                application: uniqueAppName,\r\n                applicationName: appName,\r\n                windowId: windowId,\r\n                instance: instanceId,\r\n                process: pid,\r\n                region: region,\r\n                environment: environment,\r\n                api: ext.version || version\r\n            },\r\n            reconnectInterval: reconnectInterval,\r\n            ws: ws,\r\n            sharedWorker: sharedWorker,\r\n            webPlatform: webPlatform,\r\n            inproc: inproc,\r\n            protocolVersion: protocolVersion,\r\n            reconnectAttempts: reconnectAttempts,\r\n            replaySpecs: replaySpecs,\r\n        };\r\n    }\r\n    function getApplication() {\r\n        if (configuration.application) {\r\n            return configuration.application;\r\n        }\r\n        if (glue42gd) {\r\n            return glue42gd.applicationName;\r\n        }\r\n        var uid = shortid();\r\n        if (Utils.isNode()) {\r\n            if (nodeStartingContext) {\r\n                return nodeStartingContext.applicationConfig.name;\r\n            }\r\n            return \"NodeJS\" + uid;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n            return document.title + (\" (\" + uid + \")\");\r\n        }\r\n        return uid;\r\n    }\r\n    function getAuth() {\r\n        var _a, _b, _c;\r\n        if (typeof configuration.auth === \"string\") {\r\n            return {\r\n                token: configuration.auth\r\n            };\r\n        }\r\n        if (configuration.auth) {\r\n            return configuration.auth;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n            return {\r\n                gatewayToken: nodeStartingContext.gwToken\r\n            };\r\n        }\r\n        if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.webPlatform) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.inproc) || ((_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.sharedWorker)) {\r\n            return {\r\n                username: \"glue42\", password: \"glue42\"\r\n            };\r\n        }\r\n    }\r\n    function getLogger() {\r\n        var _a, _b;\r\n        var config = configuration.logger;\r\n        var defaultLevel = \"warn\";\r\n        if (!config) {\r\n            config = defaultLevel;\r\n        }\r\n        var gdConsoleLevel;\r\n        if (glue42gd) {\r\n            gdConsoleLevel = glue42gd.consoleLogLevel;\r\n        }\r\n        if (typeof config === \"string\") {\r\n            return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n        }\r\n        return {\r\n            console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n            publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n        };\r\n    }\r\n    var connection = getConnection();\r\n    var application = getApplication();\r\n    if (typeof window !== \"undefined\") {\r\n        var windowAsAny = window;\r\n        var containerApplication = windowAsAny.htmlContainer ?\r\n            windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n        if (containerApplication) {\r\n            application = containerApplication;\r\n        }\r\n    }\r\n    return {\r\n        bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n        application: application,\r\n        auth: getAuth(),\r\n        logger: getLogger(),\r\n        connection: connection,\r\n        metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n        contexts: (_d = configuration.contexts) !== null && _d !== void 0 ? _d : true,\r\n        version: ext.version || version,\r\n        libs: (_e = ext.libs) !== null && _e !== void 0 ? _e : [],\r\n        customLogger: configuration.customLogger\r\n    };\r\n}\n\nvar GW3ContextData = (function () {\r\n    function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n        this.updateCallbacks = {};\r\n        this.contextId = contextId;\r\n        this.name = name;\r\n        this.isAnnounced = isAnnounced;\r\n        this.activityId = activityId;\r\n        this.context = {};\r\n    }\r\n    GW3ContextData.prototype.hasCallbacks = function () {\r\n        return Object.keys(this.updateCallbacks).length > 0;\r\n    };\r\n    GW3ContextData.prototype.getState = function () {\r\n        if (this.isAnnounced && this.hasCallbacks()) {\r\n            return 3;\r\n        }\r\n        if (this.isAnnounced) {\r\n            return 2;\r\n        }\r\n        if (this.hasCallbacks()) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    return GW3ContextData;\r\n}());\n\nfunction applyContextDelta(context, delta, logger) {\r\n    try {\r\n        if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n            logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n        }\r\n        if (!delta) {\r\n            return context;\r\n        }\r\n        if (delta.reset) {\r\n            context = __assign({}, delta.reset);\r\n            return context;\r\n        }\r\n        context = deepClone(context, undefined);\r\n        if (delta.commands) {\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    deletePath(context, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(context, command.value, command.path);\r\n                }\r\n            }\r\n            return context;\r\n        }\r\n        var added_1 = delta.added;\r\n        var updated_1 = delta.updated;\r\n        var removed = delta.removed;\r\n        if (added_1) {\r\n            Object.keys(added_1).forEach(function (key) {\r\n                context[key] = added_1[key];\r\n            });\r\n        }\r\n        if (updated_1) {\r\n            Object.keys(updated_1).forEach(function (key) {\r\n                mergeObjectsProperties(key, context, updated_1);\r\n            });\r\n        }\r\n        if (removed) {\r\n            removed.forEach(function (key) {\r\n                delete context[key];\r\n            });\r\n        }\r\n        return context;\r\n    }\r\n    catch (e) {\r\n        logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n        return context;\r\n    }\r\n}\r\nfunction deepClone(obj, hash) {\r\n    hash = hash || new WeakMap();\r\n    if (Object(obj) !== obj) {\r\n        return obj;\r\n    }\r\n    if (obj instanceof Set) {\r\n        return new Set(obj);\r\n    }\r\n    if (hash.has(obj)) {\r\n        return hash.get(obj);\r\n    }\r\n    var result = obj instanceof Date ? new Date(obj)\r\n        : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n            : obj.constructor ? new obj.constructor()\r\n                : Object.create(null);\r\n    hash.set(obj, result);\r\n    if (obj instanceof Map) {\r\n        Array.from(obj, function (_a) {\r\n            var key = _a[0], val = _a[1];\r\n            return result.set(key, deepClone(val, hash));\r\n        });\r\n    }\r\n    return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n        var _a;\r\n        return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n    })));\r\n}\r\nvar mergeObjectsProperties = function (key, what, withWhat) {\r\n    var right = withWhat[key];\r\n    if (right === undefined) {\r\n        return what;\r\n    }\r\n    var left = what[key];\r\n    if (!left || !right) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    if (typeof left === \"string\" ||\r\n        typeof left === \"number\" ||\r\n        typeof left === \"boolean\" ||\r\n        typeof right === \"string\" ||\r\n        typeof right === \"number\" ||\r\n        typeof right === \"boolean\" ||\r\n        Array.isArray(left) ||\r\n        Array.isArray(right)) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    what[key] = Object.assign({}, left, right);\r\n    return what;\r\n};\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if (!(x instanceof Object) || !(y instanceof Object)) {\r\n        return false;\r\n    }\r\n    if (x.constructor !== y.constructor) {\r\n        return false;\r\n    }\r\n    for (var p in x) {\r\n        if (!x.hasOwnProperty(p)) {\r\n            continue;\r\n        }\r\n        if (!y.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n        if (x[p] === y[p]) {\r\n            continue;\r\n        }\r\n        if (typeof (x[p]) !== \"object\") {\r\n            return false;\r\n        }\r\n        if (!deepEqual(x[p], y[p])) {\r\n            return false;\r\n        }\r\n    }\r\n    for (var p in y) {\r\n        if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction setValueToPath(obj, value, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        if (typeof obj[pathArr[i]] !== \"object\") {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    obj[pathArr[i]] = value;\r\n}\r\nfunction isSubset(superObj, subObj) {\r\n    return Object.keys(subObj).every(function (ele) {\r\n        if (typeof subObj[ele] === \"object\") {\r\n            return isSubset((superObj === null || superObj === void 0 ? void 0 : superObj[ele]) || {}, subObj[ele] || {});\r\n        }\r\n        return subObj[ele] === (superObj === null || superObj === void 0 ? void 0 : superObj[ele]);\r\n    });\r\n}\r\nfunction deletePath(obj, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            return;\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    delete obj[pathArr[i]];\r\n}\n\nvar GW3Bridge = (function () {\r\n    function GW3Bridge(config) {\r\n        var _this = this;\r\n        var _a;\r\n        this._contextNameToData = {};\r\n        this._gw3Subscriptions = [];\r\n        this._nextCallbackSubscriptionNumber = 0;\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        this._protocolVersion = undefined;\r\n        this._connection = config.connection;\r\n        this._logger = config.logger;\r\n        this._gw3Session = this._connection.domain(\"global\", [\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n        ]);\r\n        this.subscribeToContextCreatedMessages();\r\n        this.subscribeToContextUpdatedMessages();\r\n        this.subscribeToContextDestroyedMessages();\r\n        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n            var type = message.type;\r\n            if (!type) {\r\n                return;\r\n            }\r\n            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                _this.handleContextCreatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                _this.handleContextUpdatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                _this.handleContextDestroyedMessage(message);\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            if (!this._protocolVersion) {\r\n                var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n            }\r\n            return this._protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this.protocolVersion >= 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3Bridge.prototype.dispose = function () {\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        this._gw3Subscriptions.length = 0;\r\n        for (var contextName in this._contextNameToData) {\r\n            if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                delete this._contextNameToData[contextName];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.createContext = function (name, data) {\r\n        var _this = this;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_CREATE_CONTEXT,\r\n            domain: \"global\",\r\n            name: name,\r\n            data: data,\r\n            lifetime: \"retained\",\r\n        })\r\n            .then(function (createContextMsg) {\r\n            _this._contextNameToId[name] = createContextMsg.context_id;\r\n            _this._contextIdToName[createContextMsg.context_id] = name;\r\n            var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n            contextData.isAnnounced = true;\r\n            contextData.name = name;\r\n            contextData.contextId = createContextMsg.context_id;\r\n            contextData.context = data;\r\n            _this._contextNameToData[name] = contextData;\r\n            return createContextMsg.context_id;\r\n        });\r\n    };\r\n    GW3Bridge.prototype.all = function () {\r\n        var _this = this;\r\n        return Object.keys(this._contextNameToData)\r\n            .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n    };\r\n    GW3Bridge.prototype.update = function (name, delta) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var contextData, currentContext, calculatedDelta;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        contextData = this._contextNameToData[name];\r\n                        if (!contextData || !contextData.isAnnounced) {\r\n                            return [2, this.createContext(name, delta)];\r\n                        }\r\n                        currentContext = contextData.context;\r\n                        if (!!contextData.hasCallbacks()) return [3, 2];\r\n                        return [4, this.get(contextData.name)];\r\n                    case 1:\r\n                        currentContext = _b.sent();\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        calculatedDelta = this.protocolVersion === 2 ?\r\n                            this.calculateContextDeltaV2(currentContext, delta) :\r\n                            this.calculateContextDeltaV1(currentContext, delta);\r\n                        if (!Object.keys(calculatedDelta.added).length\r\n                            && !Object.keys(calculatedDelta.updated).length\r\n                            && !calculatedDelta.removed.length\r\n                            && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                            return [2, Promise.resolve()];\r\n                        }\r\n                        return [2, this._gw3Session\r\n                                .send({\r\n                                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                domain: \"global\",\r\n                                context_id: contextData.contextId,\r\n                                delta: calculatedDelta,\r\n                            }, {}, { skipPeerId: false })\r\n                                .then(function (gwResponse) {\r\n                                _this.handleUpdated(contextData, calculatedDelta, {\r\n                                    updaterId: gwResponse.peer_id\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.set = function (name, data) {\r\n        var _this = this;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return this.createContext(name, data);\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { reset: data },\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.setPath = function (name, path, value) {\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        return this.setPaths(name, [{ path: path, value: value }]);\r\n    };\r\n    GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n        var _this = this;\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            var obj = {};\r\n            for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                var pathValue = pathValues_1[_i];\r\n                setValueToPath(obj, pathValue.value, pathValue.path);\r\n            }\r\n            return this.createContext(name, obj);\r\n        }\r\n        var commands = [];\r\n        for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n            var pathValue = pathValues_2[_a];\r\n            if (pathValue.value === null) {\r\n                commands.push({ type: \"remove\", path: pathValue.path });\r\n            }\r\n            else {\r\n                commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n            }\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { commands: commands }\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.get = function (name) {\r\n        var _this = this;\r\n        var _a;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return Promise.resolve({});\r\n        }\r\n        if (contextData && !contextData.hasCallbacks()) {\r\n            return new Promise(function (resolve, _) { return __awaiter(_this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    this.subscribe(name, function (data, _d, _r, un) {\r\n                        _this.unsubscribe(un);\r\n                        resolve(data);\r\n                    });\r\n                    return [2];\r\n                });\r\n            }); });\r\n        }\r\n        var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n        return Promise.resolve(context);\r\n    };\r\n    GW3Bridge.prototype.subscribe = function (name, callback) {\r\n        var thisCallbackSubscriptionNumber = this._nextCallbackSubscriptionNumber;\r\n        this._nextCallbackSubscriptionNumber += 1;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData ||\r\n            !contextData.isAnnounced) {\r\n            contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n            this._contextNameToData[name] = contextData;\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n        var hadCallbacks = contextData.hasCallbacks();\r\n        contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n        if (!hadCallbacks) {\r\n            if (!contextData.joinedActivity) {\r\n                if (contextData.context && contextData.sentExplicitSubscription) {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n                return this.sendSubscribe(contextData)\r\n                    .then(function () { return thisCallbackSubscriptionNumber; });\r\n            }\r\n            else {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        }\r\n        else {\r\n            var clone = deepClone(contextData.context);\r\n            callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n        for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var contextId = this._contextNameToId[name_1];\r\n            var contextData = this._contextNameToData[name_1];\r\n            if (!contextData) {\r\n                return;\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            delete contextData.updateCallbacks[subscriptionKey];\r\n            if (contextData.isAnnounced &&\r\n                hadCallbacks &&\r\n                !contextData.hasCallbacks() &&\r\n                contextData.sentExplicitSubscription) {\r\n                this.sendUnsubscribe(contextData);\r\n            }\r\n            if (!contextData.isAnnounced &&\r\n                !contextData.hasCallbacks()) {\r\n                delete this._contextNameToData[name_1];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.destroy = function (name) {\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData) {\r\n            return Promise.reject(\"context with \" + name + \" does not exist\");\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_DESTROY_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n        var oldContext = contextData.context;\r\n        contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n        if (this._contextNameToData[contextData.name] === contextData &&\r\n            !deepEqual(oldContext, contextData.context)) {\r\n            this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n        var createdMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n        ];\r\n        for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n            var createdMessageType = createdMessageTypes_1[_i];\r\n            var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n        var createdMessageType = contextCreatedMsg.type;\r\n        if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n            this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n        }\r\n        else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n            this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n        }\r\n        else ;\r\n        var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n        if (!name) {\r\n            throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n        }\r\n        if (!this._contextNameToId[name]) {\r\n            throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (contextData) {\r\n            if (contextData.isAnnounced) {\r\n                return;\r\n            }\r\n            else {\r\n                if (!contextData.hasCallbacks()) {\r\n                    throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                }\r\n                contextData.isAnnounced = true;\r\n                contextData.contextId = contextCreatedMsg.context_id;\r\n                contextData.activityId = contextCreatedMsg.activity_id;\r\n                if (!contextData.sentExplicitSubscription) {\r\n                    this.sendSubscribe(contextData);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._contextNameToData[name] = contextData =\r\n                new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n        var updatedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_JOINED_ACTIVITY,\r\n        ];\r\n        for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n            var updatedMessageType = updatedMessageTypes_1[_i];\r\n            var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n        var updatedMessageType = contextUpdatedMsg.type;\r\n        var contextId = contextUpdatedMsg.context_id;\r\n        var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n        var justSeen = !contextData || !contextData.isAnnounced;\r\n        if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            if (!contextData) {\r\n                contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n            }\r\n            else {\r\n                contextData.contextId = contextId;\r\n                contextData.isAnnounced = true;\r\n                contextData.activityId = contextUpdatedMsg.activity_id;\r\n            }\r\n            contextData.joinedActivity = true;\r\n        }\r\n        else {\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                    contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                    contextData.sentExplicitSubscription = true;\r\n                    this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                    this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                }\r\n                else {\r\n                    this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        var oldContext = contextData.context;\r\n        if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            contextData.context = contextUpdatedMsg.data || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n            contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n        }\r\n        else {\r\n            throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n        }\r\n        if (justSeen ||\r\n            !deepEqual(contextData.context, oldContext) ||\r\n            updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n        }\r\n    };\r\n    GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n        delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n        if (delta.commands) {\r\n            delta.added = delta.updated = delta.reset = {};\r\n            delta.removed = [];\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    if (command.path.indexOf(\".\") === -1) {\r\n                        delta.removed.push(command.path);\r\n                    }\r\n                    setValueToPath(delta.updated, null, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(delta.updated, command.value, command.path);\r\n                }\r\n            }\r\n        }\r\n        for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n            if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                try {\r\n                    var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                    updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                }\r\n                catch (err) {\r\n                    this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n        var destroyedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n        ];\r\n        for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n            var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n            var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n        var destroyedMessageType = destroyedMsg.type;\r\n        var contextId;\r\n        var name;\r\n        if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n            name = destroyedMsg.activity_id;\r\n            contextId = this._contextNameToId[name];\r\n            if (!contextId) {\r\n                this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            contextId = destroyedMsg.context_id;\r\n            name = this._contextIdToName[contextId];\r\n            if (!name) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                return;\r\n            }\r\n        }\r\n        delete this._contextIdToName[contextId];\r\n        delete this._contextNameToId[name];\r\n        var contextData = this._contextNameToData[name];\r\n        delete this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n            return;\r\n        }\r\n    };\r\n    GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = true;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = false;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n        if (from) {\r\n            for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                var x = _a[_i];\r\n                if (Object.keys(to).indexOf(x) !== -1\r\n                    && to[x] !== null\r\n                    && !deepEqual(from[x], to[x])) {\r\n                    delta.updated[x] = to[x];\r\n                }\r\n            }\r\n        }\r\n        for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n            var x = _c[_b];\r\n            if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                if (to[x] !== null) {\r\n                    delta.added[x] = to[x];\r\n                }\r\n            }\r\n            else if (to[x] === null) {\r\n                delta.removed.push(x);\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n        var _a, _b;\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n        for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n            var x = _c[_i];\r\n            if (to[x] !== null) {\r\n                var fromX = from ? from[x] : null;\r\n                if (!deepEqual(fromX, to[x])) {\r\n                    (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                }\r\n            }\r\n            else {\r\n                (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    return GW3Bridge;\r\n}());\n\nvar ContextsModule = (function () {\r\n    function ContextsModule(config) {\r\n        this._bridge = new GW3Bridge(config);\r\n    }\r\n    ContextsModule.prototype.all = function () {\r\n        return this._bridge.all();\r\n    };\r\n    ContextsModule.prototype.update = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.update(name, data);\r\n    };\r\n    ContextsModule.prototype.set = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.set(name, data);\r\n    };\r\n    ContextsModule.prototype.setPath = function (name, path, data) {\r\n        this.checkName(name);\r\n        this.checkPath(path);\r\n        var isTopLevelPath = path === \"\";\r\n        if (isTopLevelPath) {\r\n            this.checkData(data);\r\n            return this.set(name, data);\r\n        }\r\n        return this._bridge.setPath(name, path, data);\r\n    };\r\n    ContextsModule.prototype.setPaths = function (name, paths) {\r\n        this.checkName(name);\r\n        if (!Array.isArray(paths)) {\r\n            throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n        }\r\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n            var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(value);\r\n            }\r\n        }\r\n        return this._bridge.setPaths(name, paths);\r\n    };\r\n    ContextsModule.prototype.subscribe = function (name, callback) {\r\n        var _this = this;\r\n        this.checkName(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Please provide the callback as a function!\");\r\n        }\r\n        return this._bridge\r\n            .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n            .then(function (key) {\r\n            return function () {\r\n                _this._bridge.unsubscribe(key);\r\n            };\r\n        });\r\n    };\r\n    ContextsModule.prototype.get = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.get(name);\r\n    };\r\n    ContextsModule.prototype.ready = function () {\r\n        return Promise.resolve(this);\r\n    };\r\n    ContextsModule.prototype.destroy = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.destroy(name);\r\n    };\r\n    Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this._bridge.setPathSupported;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextsModule.prototype.checkName = function (name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n            throw new Error(\"Please provide the name as a non-empty string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkPath = function (path) {\r\n        if (typeof path !== \"string\") {\r\n            throw new Error(\"Please provide the path as a dot delimited string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkData = function (data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Please provide the data as an object!\");\r\n        }\r\n    };\r\n    return ContextsModule;\r\n}());\n\nfunction promisify (promise, successCallback, errorCallback) {\r\n    if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n        return promise;\r\n    }\r\n    if (typeof successCallback !== \"function\") {\r\n        successCallback = function () { };\r\n    }\r\n    else if (typeof errorCallback !== \"function\") {\r\n        errorCallback = function () { };\r\n    }\r\n    return promise.then(successCallback, errorCallback);\r\n}\n\nfunction rejectAfter(ms, promise, error) {\r\n    if (ms === void 0) { ms = 0; }\r\n    var timeout;\r\n    promise.finally(function () {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        timeout = setTimeout(function () { return reject(error); }, ms);\r\n    });\r\n}\n\nvar InvokeStatus;\r\n(function (InvokeStatus) {\r\n    InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n    InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n})(InvokeStatus || (InvokeStatus = {}));\r\nvar Client = (function () {\r\n    function Client(protocol, repo, instance, configuration) {\r\n        this.protocol = protocol;\r\n        this.repo = repo;\r\n        this.instance = instance;\r\n        this.configuration = configuration;\r\n    }\r\n    Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n        var _this = this;\r\n        var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n            var _a;\r\n            options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n            _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n        };\r\n        var promise = new Promise(function (resolve, reject) {\r\n            var successProxy = function (sub) {\r\n                resolve(sub);\r\n            };\r\n            var errorProxy = function (err) {\r\n                reject(err);\r\n            };\r\n            if (!method) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            var methodDef;\r\n            if (typeof method === \"string\") {\r\n                methodDef = { name: method };\r\n            }\r\n            else {\r\n                methodDef = method;\r\n            }\r\n            if (!methodDef.name) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            if (options === undefined) {\r\n                options = {};\r\n            }\r\n            var target = options.target;\r\n            if (target === undefined) {\r\n                target = \"best\";\r\n            }\r\n            if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                return;\r\n            }\r\n            if (options.methodResponseTimeout === undefined) {\r\n                options.methodResponseTimeout = options.method_response_timeout;\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                }\r\n            }\r\n            if (options.waitTimeoutMs === undefined) {\r\n                options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                }\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n            if (currentServers.length > 0) {\r\n                callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n            }\r\n            else {\r\n                var retry_1 = function () {\r\n                    if (!target || !(options.waitTimeoutMs)) {\r\n                        return;\r\n                    }\r\n                    delayTillNow += delayStep;\r\n                    currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                    if (currentServers.length > 0) {\r\n                        var streamInfo = currentServers[0].methods[0];\r\n                        callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                    }\r\n                    else if (delayTillNow >= options.waitTimeoutMs) {\r\n                        var def = typeof method === \"string\" ? { name: method } : method;\r\n                        callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                    }\r\n                    else {\r\n                        setTimeout(retry_1, delayStep);\r\n                    }\r\n                };\r\n                setTimeout(retry_1, delayStep);\r\n            }\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Client.prototype.servers = function (methodFilter) {\r\n        var filterCopy = methodFilter === undefined\r\n            ? undefined\r\n            : __assign({}, methodFilter);\r\n        return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n            return serverMethodMap.server.instance;\r\n        });\r\n    };\r\n    Client.prototype.methods = function (methodFilter) {\r\n        if (typeof methodFilter === \"string\") {\r\n            methodFilter = { name: methodFilter };\r\n        }\r\n        else {\r\n            methodFilter = __assign({}, methodFilter);\r\n        }\r\n        return this.getMethods(methodFilter);\r\n    };\r\n    Client.prototype.methodsForInstance = function (instance) {\r\n        return this.getMethodsForInstance(instance);\r\n    };\r\n    Client.prototype.methodAdded = function (callback) {\r\n        return this.repo.onMethodAdded(callback);\r\n    };\r\n    Client.prototype.methodRemoved = function (callback) {\r\n        return this.repo.onMethodRemoved(callback);\r\n    };\r\n    Client.prototype.serverAdded = function (callback) {\r\n        return this.repo.onServerAdded(callback);\r\n    };\r\n    Client.prototype.serverRemoved = function (callback) {\r\n        return this.repo.onServerRemoved(function (server, reason) {\r\n            callback(server, reason);\r\n        });\r\n    };\r\n    Client.prototype.serverMethodAdded = function (callback) {\r\n        return this.repo.onServerMethodAdded(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.serverMethodRemoved = function (callback) {\r\n        return this.repo.onServerMethodRemoved(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var getInvokePromise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                getInvokePromise = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                    var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                    var _this = this;\r\n                    var _a, _b, _c;\r\n                    return __generator(this, function (_d) {\r\n                        switch (_d.label) {\r\n                            case 0:\r\n                                if (typeof methodFilter === \"string\") {\r\n                                    methodDefinition = { name: methodFilter };\r\n                                }\r\n                                else {\r\n                                    methodDefinition = __assign({}, methodFilter);\r\n                                }\r\n                                if (!methodDefinition.name) {\r\n                                    return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                }\r\n                                if (!argumentObj) {\r\n                                    argumentObj = {};\r\n                                }\r\n                                if (!target) {\r\n                                    target = \"best\";\r\n                                }\r\n                                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                }\r\n                                if (!additionalOptions) {\r\n                                    additionalOptions = {};\r\n                                }\r\n                                if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                    additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                    additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                }\r\n                                if (typeof argumentObj !== \"object\") {\r\n                                    return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                }\r\n                                serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                _d.label = 1;\r\n                            case 1:\r\n                                _d.trys.push([1, 3, , 4]);\r\n                                return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                            case 2:\r\n                                serversMethodMap = _d.sent();\r\n                                return [3, 4];\r\n                            case 3:\r\n                                err_1 = _d.sent();\r\n                                method = __assign(__assign({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [], flags: (_c = (_b = methodDefinition.flags) === null || _b === void 0 ? void 0 : _b.metadata) !== null && _c !== void 0 ? _c : {} });\r\n                                errorObj = {\r\n                                    method: method,\r\n                                    called_with: argumentObj,\r\n                                    message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                    executed_by: undefined,\r\n                                    returned: undefined,\r\n                                    status: undefined,\r\n                                };\r\n                                return [2, Promise.reject(errorObj)];\r\n                            case 4:\r\n                                timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                additionalOptionsCopy = additionalOptions;\r\n                                invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                    var invId = shortid();\r\n                                    var method = serversMethodPair.methods[0];\r\n                                    var server = serversMethodPair.server;\r\n                                    var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                    return Promise.race([\r\n                                        invokePromise,\r\n                                        rejectAfter(timeout, invokePromise, {\r\n                                            invocationId: invId,\r\n                                            message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                            status: InvokeStatus.Error,\r\n                                        })\r\n                                    ]);\r\n                                });\r\n                                return [4, Promise.all(invokePromises)];\r\n                            case 5:\r\n                                invocationMessages = _d.sent();\r\n                                results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                if (allRejected) {\r\n                                    return [2, Promise.reject(results)];\r\n                                }\r\n                                return [2, results];\r\n                        }\r\n                    });\r\n                }); };\r\n                return [2, promisify(getInvokePromise(), success, error)];\r\n            });\r\n        });\r\n    };\r\n    Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n        var all_return_values = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n            .reduce(function (allValues, currentValue) {\r\n            allValues = __spreadArrays(allValues, [\r\n                {\r\n                    executed_by: currentValue.instance,\r\n                    returned: currentValue.result,\r\n                    called_with: calledWith,\r\n                    method: method,\r\n                    message: currentValue.message,\r\n                    status: currentValue.status,\r\n                }\r\n            ]);\r\n            return allValues;\r\n        }, []);\r\n        var all_errors = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n            .reduce(function (allErrors, currError) {\r\n            allErrors = __spreadArrays(allErrors, [\r\n                {\r\n                    executed_by: currError.instance,\r\n                    called_with: calledWith,\r\n                    name: method.name,\r\n                    message: currError.message,\r\n                }\r\n            ]);\r\n            return allErrors;\r\n        }, []);\r\n        var invResult = invocationResults[0];\r\n        var result = {\r\n            method: method,\r\n            called_with: calledWith,\r\n            returned: invResult.result,\r\n            executed_by: invResult.instance,\r\n            all_return_values: all_return_values,\r\n            all_errors: all_errors,\r\n            message: invResult.message,\r\n            status: invResult.status\r\n        };\r\n        return result;\r\n    };\r\n    Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (additionalOptions.waitTimeoutMs === 0) {\r\n                reject();\r\n                return;\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var retry = function () {\r\n                delayTillNow += delayStep;\r\n                var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                if (serversMethodMap.length > 0) {\r\n                    clearInterval(interval);\r\n                    resolve(serversMethodMap);\r\n                }\r\n                else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                    clearInterval(interval);\r\n                    reject();\r\n                    return;\r\n                }\r\n            };\r\n            var interval = setInterval(retry, delayStep);\r\n        });\r\n    };\r\n    Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n        var _this = this;\r\n        if (typeof target === \"string\") {\r\n            if (target === \"all\") {\r\n                return __spreadArrays(serverMethodMap);\r\n            }\r\n            else if (target === \"best\") {\r\n                var localMachine = serverMethodMap\r\n                    .find(function (s) { return s.server.instance.isLocal; });\r\n                if (localMachine) {\r\n                    return [localMachine];\r\n                }\r\n                if (serverMethodMap[0] !== undefined) {\r\n                    return [serverMethodMap[0]];\r\n                }\r\n            }\r\n            else if (target === \"skipMine\") {\r\n                return serverMethodMap.filter(function (_a) {\r\n                    var server = _a.server;\r\n                    return server.instance.peerId !== _this.instance.peerId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            var targetArray = void 0;\r\n            if (!Array.isArray(target)) {\r\n                targetArray = [target];\r\n            }\r\n            else {\r\n                targetArray = target;\r\n            }\r\n            var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                    return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                });\r\n                return matches.concat(myMatches);\r\n            }, []);\r\n            return allServersMatching;\r\n        }\r\n        return [];\r\n    };\r\n    Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n        return this.containsProps(instanceFilter, instanceDefinition);\r\n    };\r\n    Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n        return this.containsProps(methodFilter, methodDefinition);\r\n    };\r\n    Client.prototype.containsProps = function (filter, repoMethod) {\r\n        var filterProps = Object.keys(filter)\r\n            .filter(function (prop) {\r\n            return filter[prop] !== undefined\r\n                && typeof filter[prop] !== \"function\"\r\n                && prop !== \"object_types\"\r\n                && prop !== \"display_name\"\r\n                && prop !== \"id\"\r\n                && prop !== \"gatewayId\"\r\n                && prop !== \"identifier\"\r\n                && prop[0] !== \"_\";\r\n        });\r\n        return filterProps.every(function (prop) {\r\n            var isMatch;\r\n            var filterValue = filter[prop];\r\n            var repoMethodValue = repoMethod[prop];\r\n            switch (prop) {\r\n                case \"objectTypes\":\r\n                    isMatch = (filterValue || []).every(function (filterValueEl) {\r\n                        return (repoMethodValue || []).includes(filterValueEl);\r\n                    });\r\n                    break;\r\n                case \"flags\":\r\n                    isMatch = isSubset(repoMethodValue || {}, filterValue || {});\r\n                    break;\r\n                default:\r\n                    isMatch = String(filterValue).toLowerCase() === String(repoMethodValue).toLowerCase();\r\n            }\r\n            return isMatch;\r\n        });\r\n    };\r\n    Client.prototype.getMethods = function (methodFilter) {\r\n        var _this = this;\r\n        if (methodFilter === undefined) {\r\n            return this.repo.getMethods();\r\n        }\r\n        var methods = this.repo.getMethods().filter(function (method) {\r\n            return _this.methodMatch(methodFilter, method);\r\n        });\r\n        return methods;\r\n    };\r\n    Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n        var _this = this;\r\n        var allServers = this.repo.getServers();\r\n        var matchingServers = allServers.filter(function (server) {\r\n            return _this.instanceMatch(instanceFilter, server.instance);\r\n        });\r\n        if (matchingServers.length === 0) {\r\n            return [];\r\n        }\r\n        var resultMethodsObject = {};\r\n        if (matchingServers.length === 1) {\r\n            resultMethodsObject = matchingServers[0].methods;\r\n        }\r\n        else {\r\n            matchingServers.forEach(function (server) {\r\n                Object.keys(server.methods).forEach(function (methodKey) {\r\n                    var method = server.methods[methodKey];\r\n                    resultMethodsObject[method.identifier] = method;\r\n                });\r\n            });\r\n        }\r\n        return Object.keys(resultMethodsObject)\r\n            .map(function (key) {\r\n            return resultMethodsObject[key];\r\n        });\r\n    };\r\n    Client.prototype.getServers = function (methodFilter) {\r\n        var _this = this;\r\n        var servers = this.repo.getServers();\r\n        if (methodFilter === undefined) {\r\n            return servers.map(function (server) {\r\n                return { server: server, methods: [] };\r\n            });\r\n        }\r\n        return servers.reduce(function (prev, current) {\r\n            var methodsForServer = Object.values(current.methods);\r\n            var matchingMethods = methodsForServer.filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            if (matchingMethods.length > 0) {\r\n                prev.push({ server: current, methods: matchingMethods });\r\n            }\r\n            return prev;\r\n        }, []);\r\n    };\r\n    Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n        var serversMethodMap = this.getServers(methodFilter);\r\n        return this.filterByTarget(target, serversMethodMap);\r\n    };\r\n    return Client;\r\n}());\n\nvar ServerSubscription = (function () {\r\n    function ServerSubscription(protocol, repoMethod, subscription) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.subscription = subscription;\r\n    }\r\n    Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            if (!this.repoMethod.stream) {\r\n                throw new Error(\"no stream\");\r\n            }\r\n            return this.repoMethod.stream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n        get: function () { return this.subscription.arguments || {}; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n        get: function () { return this.subscription.branchKey; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n        get: function () {\r\n            if (!this.subscription.instance) {\r\n                throw new Error(\"no instance\");\r\n            }\r\n            return this.subscription.instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerSubscription.prototype.close = function () {\r\n        this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n    };\r\n    ServerSubscription.prototype.push = function (data) {\r\n        this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n    };\r\n    return ServerSubscription;\r\n}());\n\nvar Request = (function () {\r\n    function Request(protocol, repoMethod, requestContext) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.requestContext = requestContext;\r\n        this.arguments = requestContext.arguments;\r\n        this.instance = requestContext.instance;\r\n    }\r\n    Request.prototype.accept = function () {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n    };\r\n    Request.prototype.acceptOnBranch = function (branch) {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n    };\r\n    Request.prototype.reject = function (reason) {\r\n        this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n    };\r\n    return Request;\r\n}());\n\nvar ServerStreaming = (function () {\r\n    function ServerStreaming(protocol, server) {\r\n        var _this = this;\r\n        this.protocol = protocol;\r\n        this.server = server;\r\n        protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n        protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n        protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n    }\r\n    ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var request = new Request(this.protocol, repoMethod, requestContext);\r\n        repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n    };\r\n    ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n    };\r\n    ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerBranch = (function () {\r\n    function ServerBranch(key, protocol, repoMethod) {\r\n        this.key = key;\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n    }\r\n    ServerBranch.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n        });\r\n    };\r\n    ServerBranch.prototype.close = function () {\r\n        this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n    };\r\n    ServerBranch.prototype.push = function (data) {\r\n        this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n    };\r\n    return ServerBranch;\r\n}());\n\nvar ServerStream = (function () {\r\n    function ServerStream(_protocol, _repoMethod, _server) {\r\n        this._protocol = _protocol;\r\n        this._repoMethod = _repoMethod;\r\n        this._server = _server;\r\n        this.name = this._repoMethod.definition.name;\r\n    }\r\n    ServerStream.prototype.branches = function (key) {\r\n        var _this = this;\r\n        var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n        if (key) {\r\n            if (bList.indexOf(key) > -1) {\r\n                return new ServerBranch(key, this._protocol, this._repoMethod);\r\n            }\r\n            return undefined;\r\n        }\r\n        else {\r\n            return bList.map(function (branchKey) {\r\n                return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n            });\r\n        }\r\n    };\r\n    ServerStream.prototype.branch = function (key) {\r\n        return this.branches(key);\r\n    };\r\n    ServerStream.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n        });\r\n    };\r\n    Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n        get: function () {\r\n            var _a;\r\n            var def2 = this._repoMethod.definition;\r\n            return {\r\n                accepts: def2.accepts,\r\n                description: def2.description,\r\n                displayName: def2.displayName,\r\n                name: def2.name,\r\n                objectTypes: def2.objectTypes,\r\n                returns: def2.returns,\r\n                supportsStreaming: def2.supportsStreaming,\r\n                flags: (_a = def2.flags) === null || _a === void 0 ? void 0 : _a.metadata,\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerStream.prototype.close = function () {\r\n        this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n        this._server.unregister(this._repoMethod.definition, true);\r\n    };\r\n    ServerStream.prototype.push = function (data, branches) {\r\n        if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n            throw new Error(\"invalid branches should be string or string array\");\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        this._protocol.server.pushData(this._repoMethod, data, branches);\r\n    };\r\n    ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n        this._repoMethod = repoMethod;\r\n    };\r\n    return ServerStream;\r\n}());\n\nvar Server = (function () {\r\n    function Server(protocol, serverRepository) {\r\n        this.protocol = protocol;\r\n        this.serverRepository = serverRepository;\r\n        this.invocations = 0;\r\n        this.currentlyUnregistering = {};\r\n        this.streaming = new ServerStreaming(protocol, this);\r\n        this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n    }\r\n    Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n        var _this = this;\r\n        var promise = new Promise(function (resolve, reject) {\r\n            if (!streamDef) {\r\n                reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                return;\r\n            }\r\n            var streamMethodDefinition;\r\n            if (typeof streamDef === \"string\") {\r\n                streamMethodDefinition = { name: \"\" + streamDef };\r\n            }\r\n            else {\r\n                streamMethodDefinition = __assign({}, streamDef);\r\n            }\r\n            if (!streamMethodDefinition.name) {\r\n                return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n            }\r\n            var nameAlreadyExists = _this.serverRepository.getList()\r\n                .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n            if (nameAlreadyExists) {\r\n                return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n            }\r\n            streamMethodDefinition.supportsStreaming = true;\r\n            if (!callbacks) {\r\n                callbacks = {};\r\n            }\r\n            if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                callbacks.subscriptionRequestHandler = function (request) {\r\n                    request.accept();\r\n                };\r\n            }\r\n            var repoMethod = _this.serverRepository.add({\r\n                definition: streamMethodDefinition,\r\n                streamCallbacks: callbacks,\r\n                protocolState: {},\r\n            });\r\n            _this.protocol.server.createStream(repoMethod)\r\n                .then(function () {\r\n                var streamUserObject;\r\n                if (existingStream) {\r\n                    streamUserObject = existingStream;\r\n                    existingStream.updateRepoMethod(repoMethod);\r\n                }\r\n                else {\r\n                    streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                }\r\n                repoMethod.stream = streamUserObject;\r\n                resolve(streamUserObject);\r\n            })\r\n                .catch(function (err) {\r\n                if (repoMethod.repoId) {\r\n                    _this.serverRepository.remove(repoMethod.repoId);\r\n                }\r\n                reject(err);\r\n            });\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Server.prototype.register = function (methodDefinition, callback) {\r\n        var _this = this;\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter(_this, void 0, void 0, function () {\r\n            var result, resultValue, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        result = callback(context.args, context.instance);\r\n                        if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                        return [4, result];\r\n                    case 1:\r\n                        resultValue = _a.sent();\r\n                        resultCallback(undefined, resultValue);\r\n                        return [3, 3];\r\n                    case 2:\r\n                        resultCallback(undefined, result);\r\n                        _a.label = 3;\r\n                    case 3: return [3, 5];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        if (!e_1) {\r\n                            e_1 = \"\";\r\n                        }\r\n                        resultCallback(e_1, e_1);\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        }); };\r\n        wrappedCallbackFunction.userCallback = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n    };\r\n    Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallback = function (context, resultCallback) {\r\n            try {\r\n                var resultCalled_1 = false;\r\n                var success = function (result) {\r\n                    if (!resultCalled_1) {\r\n                        resultCallback(undefined, result);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var error = function (e) {\r\n                    if (!resultCalled_1) {\r\n                        if (!e) {\r\n                            e = \"\";\r\n                        }\r\n                        resultCallback(e, e);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var methodResult = callback(context.args, context.instance, success, error);\r\n                if (methodResult && typeof methodResult.then === \"function\") {\r\n                    methodResult\r\n                        .then(success)\r\n                        .catch(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                resultCallback(e, undefined);\r\n            }\r\n        };\r\n        wrappedCallback.userCallbackAsync = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallback);\r\n    };\r\n    Server.prototype.unregister = function (methodFilter, forStream) {\r\n        if (forStream === void 0) { forStream = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, methodToBeRemoved;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (methodFilter === undefined) {\r\n                            return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                        }\r\n                        if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                        return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 2:\r\n                        if (typeof methodFilter === \"string\") {\r\n                            methodDefinition = { name: methodFilter };\r\n                        }\r\n                        else {\r\n                            methodDefinition = methodFilter;\r\n                        }\r\n                        if (methodDefinition.name === undefined) {\r\n                            return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                        }\r\n                        methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                            return serverMethod.definition.name === methodDefinition.name\r\n                                && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodToBeRemoved) {\r\n                            return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodsOrStreamsToRemove;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                            .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                            .filter(function (serverMethod) {\r\n                            return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                            return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n        var _this = this;\r\n        var methodUnregPromises = [];\r\n        methodsToRemove.forEach(function (method) {\r\n            var promise = _this.protocol.server.unregister(method)\r\n                .then(function () {\r\n                if (method.repoId) {\r\n                    _this.serverRepository.remove(method.repoId);\r\n                }\r\n            });\r\n            methodUnregPromises.push(promise);\r\n            _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n        });\r\n        return Promise.all(methodUnregPromises);\r\n    };\r\n    Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var timeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                    delete _this.currentlyUnregistering[methodName];\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.registerCore = function (method, theFunction) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof method === \"string\") {\r\n                            methodDefinition = { name: \"\" + method };\r\n                        }\r\n                        else {\r\n                            methodDefinition = __assign({}, method);\r\n                        }\r\n                        if (!methodDefinition.name) {\r\n                            return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                        }\r\n                        unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                        if (!unregisterInProgress) return [3, 2];\r\n                        return [4, unregisterInProgress];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        nameAlreadyExists = this.serverRepository.getList()\r\n                            .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                        if (nameAlreadyExists) {\r\n                            return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                        }\r\n                        if (methodDefinition.supportsStreaming) {\r\n                            return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                        }\r\n                        repoMethod = this.serverRepository.add({\r\n                            definition: methodDefinition,\r\n                            theFunction: theFunction,\r\n                            protocolState: {},\r\n                        });\r\n                        return [2, this.protocol.server.register(repoMethod)\r\n                                .catch(function (err) {\r\n                                if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                    _this.serverRepository.remove(repoMethod.repoId);\r\n                                }\r\n                                throw err;\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n        var _this = this;\r\n        if (!methodToExecute || !methodToExecute.theFunction) {\r\n            return;\r\n        }\r\n        methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n            if (err !== undefined && err !== null) {\r\n                if (err.message && typeof err.message === \"string\") {\r\n                    err = err.message;\r\n                }\r\n                else if (typeof err !== \"string\") {\r\n                    try {\r\n                        err = JSON.stringify(err);\r\n                    }\r\n                    catch (unStrException) {\r\n                        err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                    }\r\n                }\r\n            }\r\n            if (!result) {\r\n                result = {};\r\n            }\r\n            else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                result = { _value: result };\r\n            }\r\n            _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n        });\r\n    };\r\n    return Server;\r\n}());\n\nvar InstanceWrapper = (function () {\r\n    function InstanceWrapper(API, instance, connection) {\r\n        var _this = this;\r\n        this.wrapped = {};\r\n        this.wrapped.getMethods = function () {\r\n            return API.methodsForInstance(this);\r\n        };\r\n        this.wrapped.getStreams = function () {\r\n            return API.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n        };\r\n        if (instance) {\r\n            this.refreshWrappedObject(instance);\r\n        }\r\n        if (connection) {\r\n            connection.loggedIn(function () {\r\n                _this.refresh(connection);\r\n            });\r\n            this.refresh(connection);\r\n        }\r\n    }\r\n    InstanceWrapper.prototype.unwrap = function () {\r\n        return this.wrapped;\r\n    };\r\n    InstanceWrapper.prototype.refresh = function (connection) {\r\n        if (!connection) {\r\n            return;\r\n        }\r\n        var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n        var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n        this.refreshWrappedObject(instance);\r\n    };\r\n    InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n        var _a, _b, _c;\r\n        this.wrapped.user = resolvedIdentity.user;\r\n        this.wrapped.instance = resolvedIdentity.instance;\r\n        this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n        this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n        this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n        this.wrapped.machine = resolvedIdentity.machine;\r\n        this.wrapped.environment = resolvedIdentity.environment;\r\n        this.wrapped.region = resolvedIdentity.region;\r\n        this.wrapped.windowId = resolvedIdentity.windowId;\r\n        this.wrapped.isLocal = true;\r\n        this.wrapped.api = resolvedIdentity.api;\r\n        this.wrapped.service = resolvedIdentity.service;\r\n        this.wrapped.peerId = resolvedIdentity.peerId;\r\n    };\r\n    return InstanceWrapper;\r\n}());\n\nvar hideMethodSystemFlags = function (method) {\r\n    return __assign(__assign({}, method), { flags: method.flags.metadata || {} });\r\n};\r\nvar ClientRepository = (function () {\r\n    function ClientRepository(logger, API) {\r\n        this.logger = logger;\r\n        this.API = API;\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n        this.callbacks = lib();\r\n        var peerId = this.API.instance.peerId;\r\n        this.myServer = {\r\n            id: peerId,\r\n            methods: {},\r\n            instance: this.API.instance,\r\n            wrapper: this.API.unwrappedInstance,\r\n        };\r\n        this.servers[peerId] = this.myServer;\r\n    }\r\n    ClientRepository.prototype.addServer = function (info, serverId) {\r\n        this.logger.debug(\"adding server \" + serverId);\r\n        var current = this.servers[serverId];\r\n        if (current) {\r\n            return current.id;\r\n        }\r\n        var wrapper = new InstanceWrapper(this.API, info);\r\n        var serverEntry = {\r\n            id: serverId,\r\n            methods: {},\r\n            instance: wrapper.unwrap(),\r\n            wrapper: wrapper,\r\n        };\r\n        this.servers[serverId] = serverEntry;\r\n        this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n        return serverId;\r\n    };\r\n    ClientRepository.prototype.removeServerById = function (id, reason) {\r\n        var _this = this;\r\n        var server = this.servers[id];\r\n        if (!server) {\r\n            this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n            return;\r\n        }\r\n        else {\r\n            this.logger.debug(\"removing server \" + id);\r\n        }\r\n        Object.keys(server.methods).forEach(function (methodId) {\r\n            _this.removeServerMethod(id, methodId);\r\n        });\r\n        delete this.servers[id];\r\n        this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n    };\r\n    ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n        var _a;\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        if (server.methods[method.id]) {\r\n            return;\r\n        }\r\n        var identifier = this.createMethodIdentifier(method);\r\n        var that = this;\r\n        var methodDefinition = {\r\n            identifier: identifier,\r\n            gatewayId: method.id,\r\n            name: method.name,\r\n            displayName: method.display_name,\r\n            description: method.description,\r\n            version: method.version,\r\n            objectTypes: method.object_types || [],\r\n            accepts: method.input_signature,\r\n            returns: method.result_signature,\r\n            supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n            flags: (_a = method.flags) !== null && _a !== void 0 ? _a : {},\r\n            getServers: function () {\r\n                return that.getServersByMethod(identifier);\r\n            }\r\n        };\r\n        methodDefinition.object_types = methodDefinition.objectTypes;\r\n        methodDefinition.display_name = methodDefinition.displayName;\r\n        methodDefinition.version = methodDefinition.version;\r\n        server.methods[method.id] = methodDefinition;\r\n        var clientMethodDefinition = hideMethodSystemFlags(methodDefinition);\r\n        if (!this.methodsCount[identifier]) {\r\n            this.methodsCount[identifier] = 0;\r\n            this.callbacks.execute(\"onMethodAdded\", clientMethodDefinition);\r\n        }\r\n        this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n        this.callbacks.execute(\"onServerMethodAdded\", server.instance, clientMethodDefinition);\r\n        return methodDefinition;\r\n    };\r\n    ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        var method = server.methods[methodId];\r\n        delete server.methods[methodId];\r\n        var clientMethodDefinition = hideMethodSystemFlags(method);\r\n        this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n        if (this.methodsCount[method.identifier] === 0) {\r\n            this.callbacks.execute(\"onMethodRemoved\", clientMethodDefinition);\r\n        }\r\n        this.callbacks.execute(\"onServerMethodRemoved\", server.instance, clientMethodDefinition);\r\n    };\r\n    ClientRepository.prototype.getMethods = function () {\r\n        return this.extractMethodsFromServers(Object.values(this.servers)).map(hideMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.getServers = function () {\r\n        return Object.values(this.servers).map(this.hideServerMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.onServerAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n        var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n        var methodsToReplay = this.getMethods();\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n        var unsubCalled = false;\r\n        var servers = this.getServers();\r\n        setTimeout(function () {\r\n            servers.forEach(function (server) {\r\n                var methods = server.methods;\r\n                Object.keys(methods).forEach(function (methodId) {\r\n                    if (!unsubCalled) {\r\n                        callback(server.instance, methods[methodId]);\r\n                    }\r\n                });\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.getServerById = function (id) {\r\n        return this.hideServerMethodSystemFlags(this.servers[id]);\r\n    };\r\n    ClientRepository.prototype.reset = function () {\r\n        var _a;\r\n        var _this = this;\r\n        Object.keys(this.servers).forEach(function (key) {\r\n            _this.removeServerById(key, \"reset\");\r\n        });\r\n        this.servers = (_a = {},\r\n            _a[this.myServer.id] = this.myServer,\r\n            _a);\r\n        this.methodsCount = {};\r\n    };\r\n    ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n        var accepts = methodInfo.input_signature !== undefined ? methodInfo.input_signature : \"\";\r\n        var returns = methodInfo.result_signature !== undefined ? methodInfo.result_signature : \"\";\r\n        return (methodInfo.name + accepts + returns).toLowerCase();\r\n    };\r\n    ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n        var allServers = [];\r\n        Object.values(this.servers).forEach(function (server) {\r\n            Object.values(server.methods).forEach(function (method) {\r\n                if (method.identifier === identifier) {\r\n                    allServers.push(server.instance);\r\n                }\r\n            });\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n        var unsubCalled = false;\r\n        setTimeout(function () {\r\n            collectionToReplay.forEach(function (item) {\r\n                if (!unsubCalled) {\r\n                    callback(item);\r\n                }\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.hideServerMethodSystemFlags = function (server) {\r\n        var clientMethods = {};\r\n        Object.entries(server.methods).forEach(function (_a) {\r\n            var name = _a[0], method = _a[1];\r\n            clientMethods[name] = hideMethodSystemFlags(method);\r\n        });\r\n        return __assign(__assign({}, server), { methods: clientMethods });\r\n    };\r\n    ClientRepository.prototype.extractMethodsFromServers = function (servers) {\r\n        var methods = Object.values(servers).reduce(function (clientMethods, server) {\r\n            return __spreadArrays(clientMethods, Object.values(server.methods));\r\n        }, []);\r\n        return methods;\r\n    };\r\n    return ClientRepository;\r\n}());\n\nvar ServerRepository = (function () {\r\n    function ServerRepository() {\r\n        this.nextId = 0;\r\n        this.methods = [];\r\n    }\r\n    ServerRepository.prototype.add = function (method) {\r\n        method.repoId = String(this.nextId);\r\n        this.nextId += 1;\r\n        this.methods.push(method);\r\n        return method;\r\n    };\r\n    ServerRepository.prototype.remove = function (repoId) {\r\n        if (typeof repoId !== \"string\") {\r\n            return new TypeError(\"Expecting a string\");\r\n        }\r\n        this.methods = this.methods.filter(function (m) {\r\n            return m.repoId !== repoId;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getById = function (id) {\r\n        if (typeof id !== \"string\") {\r\n            return undefined;\r\n        }\r\n        return this.methods.find(function (m) {\r\n            return m.repoId === id;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getList = function () {\r\n        return this.methods.map(function (m) { return m; });\r\n    };\r\n    ServerRepository.prototype.length = function () {\r\n        return this.methods.length;\r\n    };\r\n    ServerRepository.prototype.reset = function () {\r\n        this.methods = [];\r\n    };\r\n    return ServerRepository;\r\n}());\n\nvar SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\nvar SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\nvar SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\nvar ServerStreaming$1 = (function () {\r\n    function ServerStreaming(session, repository, serverRepository) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.serverRepository = serverRepository;\r\n        this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n        this.callbacks = lib();\r\n        this.nextStreamId = 0;\r\n        session.on(\"add-interest\", function (msg) {\r\n            _this.handleAddInterest(msg);\r\n        });\r\n        session.on(\"remove-interest\", function (msg) {\r\n            _this.handleRemoveInterest(msg);\r\n        });\r\n    }\r\n    ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n        if (typeof branch !== \"string\") {\r\n            branch = \"\";\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n        }\r\n        if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            throw new TypeError(\"The streaming method is missing its branches.\");\r\n        }\r\n        var streamId = this.getStreamId(streamingMethod, branch);\r\n        var key = requestContext.msg.subscription_id;\r\n        var subscription = {\r\n            id: key,\r\n            arguments: requestContext.arguments,\r\n            instance: requestContext.instance,\r\n            branchKey: branch,\r\n            streamId: streamId,\r\n            subscribeMsg: requestContext.msg,\r\n        };\r\n        streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n        this.session.sendFireAndForget({\r\n            type: \"accepted\",\r\n            subscription_id: key,\r\n            stream_id: streamId,\r\n        });\r\n        this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n        if (typeof reason !== \"string\") {\r\n            reason = \"\";\r\n        }\r\n        this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n    };\r\n    ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            return;\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        if (typeof branches === \"string\") {\r\n            branches = [branches];\r\n        }\r\n        else if (!Array.isArray(branches) || branches.length <= 0) {\r\n            branches = [];\r\n        }\r\n        var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n            .filter(function (br) {\r\n            if (!branches || branches.length === 0) {\r\n                return true;\r\n            }\r\n            return branches.indexOf(br.key) >= 0;\r\n        }).map(function (br) {\r\n            return br.streamId;\r\n        });\r\n        streamIdList.forEach(function (streamId) {\r\n            var publishMessage = {\r\n                type: \"publish\",\r\n                stream_id: streamId,\r\n                data: data,\r\n            };\r\n            _this.session.sendFireAndForget(publishMessage);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        var postMessage = {\r\n            type: \"post\",\r\n            subscription_id: subscription.id,\r\n            data: data,\r\n        };\r\n        this.session.sendFireAndForget(postMessage);\r\n    };\r\n    ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n        if (streamingMethod.protocolState.subscriptionsMap) {\r\n            delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n        }\r\n        var dropSubscriptionMessage = {\r\n            type: \"drop-subscription\",\r\n            subscription_id: subscription.id,\r\n            reason: \"Server dropping a single subscription\",\r\n        };\r\n        this.session.sendFireAndForget(dropSubscriptionMessage);\r\n        var subscriber = subscription.instance;\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey === \"string\") {\r\n            subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        subscriptionsToClose.forEach(function (subscription) {\r\n            delete subscriptionsMap[subscription.id];\r\n            var drop = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n            };\r\n            _this.session.sendFireAndForget(drop);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        var subscriptions = [];\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey !== \"string\") {\r\n            subscriptions = allSubscriptions;\r\n        }\r\n        else {\r\n            subscriptions = allSubscriptions.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        return subscriptions;\r\n    };\r\n    ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        var result = [];\r\n        allSubscriptions.forEach(function (sub) {\r\n            var branch = \"\";\r\n            if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                branch = sub.branchKey;\r\n            }\r\n            if (result.indexOf(branch) === -1) {\r\n                result.push(branch);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ServerStreaming.prototype.onSubAdded = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRequest = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n    };\r\n    ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (typeof msg.subscription_id !== \"string\" ||\r\n            typeof streamingMethod !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n            return;\r\n        }\r\n        var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n        this.callbacks.add(eventName, handlerFunc);\r\n    };\r\n    ServerStreaming.prototype.getNextStreamId = function () {\r\n        return this.nextStreamId++ + \"\";\r\n    };\r\n    ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n        var caller = this.repository.getServerById(msg.caller_id);\r\n        var instance = caller.instance;\r\n        var requestContext = {\r\n            msg: msg,\r\n            arguments: msg.arguments_kv || {},\r\n            instance: instance,\r\n        };\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (streamingMethod === undefined) {\r\n            var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n            this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n            return;\r\n        }\r\n        if (streamingMethod.protocolState.subscriptionsMap &&\r\n            streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n            this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n            return;\r\n        }\r\n        this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n        var errorMessage = {\r\n            type: \"error\",\r\n            reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n            reason: reason,\r\n            request_id: subscriptionId,\r\n        };\r\n        this.session.sendFireAndForget(errorMessage);\r\n    };\r\n    ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n        if (typeof branchKey !== \"string\") {\r\n            branchKey = \"\";\r\n        }\r\n        if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n            throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n        }\r\n        var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n            return branch.key === branchKey;\r\n        })[0];\r\n        var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n        if (typeof streamId !== \"string\" || streamId === \"\") {\r\n            streamId = this.getNextStreamId();\r\n            streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n        }\r\n        return streamId;\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerProtocol = (function () {\r\n    function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.clientRepository = clientRepository;\r\n        this.serverRepository = serverRepository;\r\n        this.logger = logger;\r\n        this.callbacks = lib();\r\n        this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n        this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n    }\r\n    ServerProtocol.prototype.createStream = function (repoMethod) {\r\n        repoMethod.protocolState.subscriptionsMap = {};\r\n        repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n        return this.register(repoMethod, true);\r\n    };\r\n    ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n        var _this = this;\r\n        var _a;\r\n        var methodDef = repoMethod.definition;\r\n        var flags = Object.assign({}, { metadata: (_a = methodDef.flags) !== null && _a !== void 0 ? _a : {} }, { streaming: isStreaming || false });\r\n        var registerMsg = {\r\n            type: \"register\",\r\n            methods: [{\r\n                    id: repoMethod.repoId,\r\n                    name: methodDef.name,\r\n                    display_name: methodDef.displayName,\r\n                    description: methodDef.description,\r\n                    version: methodDef.version,\r\n                    flags: flags,\r\n                    object_types: methodDef.objectTypes || methodDef.object_types,\r\n                    input_signature: methodDef.accepts,\r\n                    result_signature: methodDef.returns,\r\n                    restrictions: undefined,\r\n                }],\r\n        };\r\n        return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n            .then(function () {\r\n            _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n        })\r\n            .catch(function (msg) {\r\n            _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n            throw msg;\r\n        });\r\n    };\r\n    ServerProtocol.prototype.onInvoked = function (callback) {\r\n        this.callbacks.add(\"onInvoked\", callback);\r\n    };\r\n    ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n        var msg;\r\n        if (err || err === \"\") {\r\n            msg = {\r\n                type: \"error\",\r\n                request_id: invocationId,\r\n                reason_uri: \"agm.errors.client_error\",\r\n                reason: err,\r\n                context: result,\r\n                peer_id: undefined,\r\n            };\r\n        }\r\n        else {\r\n            msg = {\r\n                type: \"yield\",\r\n                invocation_id: invocationId,\r\n                peer_id: this.session.peerId,\r\n                result: result,\r\n                request_id: undefined,\r\n            };\r\n        }\r\n        this.session.sendFireAndForget(msg);\r\n    };\r\n    ServerProtocol.prototype.unregister = function (method) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var msg;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        msg = {\r\n                            type: \"unregister\",\r\n                            methods: [method.repoId],\r\n                        };\r\n                        return [4, this.session.send(msg)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerProtocol.prototype.getBranchList = function (method) {\r\n        return this.streaming.getBranchList(method);\r\n    };\r\n    ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n        return this.streaming.getSubscriptionList(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n        this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n        this.streaming.pushData(method, data, branches);\r\n    };\r\n    ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        this.streaming.pushDataToSingle(method, subscription, data);\r\n    };\r\n    ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n        this.streaming.closeSingleSubscription(method, subscription);\r\n    };\r\n    ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n        this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n    };\r\n    ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n        this.streaming.rejectRequest(requestContext, method, reason);\r\n    };\r\n    ServerProtocol.prototype.onSubRequest = function (callback) {\r\n        this.streaming.onSubRequest(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubAdded = function (callback) {\r\n        this.streaming.onSubAdded(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n        this.streaming.onSubRemoved(callback);\r\n    };\r\n    ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n        var invocationId = msg.invocation_id;\r\n        var callerId = msg.caller_id;\r\n        var methodId = msg.method_id;\r\n        var args = msg.arguments_kv;\r\n        var methodList = this.serverRepository.getList();\r\n        var method = methodList.filter(function (m) {\r\n            return m.repoId === methodId;\r\n        })[0];\r\n        if (method === undefined) {\r\n            return;\r\n        }\r\n        var client = this.clientRepository.getServerById(callerId).instance;\r\n        var invocationArgs = { args: args, instance: client };\r\n        this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n    };\r\n    return ServerProtocol;\r\n}());\n\nvar UserSubscription = (function () {\r\n    function UserSubscription(repository, subscriptionData) {\r\n        this.repository = repository;\r\n        this.subscriptionData = subscriptionData;\r\n    }\r\n    Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n        get: function () {\r\n            return this.subscriptionData.params.arguments || {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return this.subscriptionData.trackedServers\r\n                .filter(function (pair) { return pair.subscriptionId; })\r\n                .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n        get: function () {\r\n            return this.servers[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            return this.subscriptionData.method;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    UserSubscription.prototype.onData = function (dataCallback) {\r\n        if (typeof dataCallback !== \"function\") {\r\n            throw new TypeError(\"The data callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onData.push(dataCallback);\r\n        if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n            this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                dataCallback(dataItem);\r\n            });\r\n        }\r\n    };\r\n    UserSubscription.prototype.onClosed = function (closedCallback) {\r\n        if (typeof closedCallback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n    };\r\n    UserSubscription.prototype.onFailed = function (callback) {\r\n    };\r\n    UserSubscription.prototype.onConnected = function (callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onConnected.push(callback);\r\n    };\r\n    UserSubscription.prototype.close = function () {\r\n        this.subscriptionData.close();\r\n    };\r\n    UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n        this.subscriptionData = newSub;\r\n    };\r\n    return UserSubscription;\r\n}());\n\nvar STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\nvar STATUS_SUBSCRIBED = \"subscribed\";\r\nvar ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\nvar ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\nvar ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\nvar ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\nvar ClientStreaming = (function () {\r\n    function ClientStreaming(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        this.nextSubLocalKey = 0;\r\n        this.handleErrorSubscribing = function (errorResponse) {\r\n            var tag = errorResponse._tag;\r\n            var subLocalKey = tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                return server.serverId !== tag.serverId;\r\n            });\r\n            if (pendingSub.trackedServers.length <= 0) {\r\n                clearTimeout(pendingSub.timeoutId);\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                        ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                        \" No reason given.\";\r\n                    var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                        JSON.stringify(pendingSub.params.arguments) :\r\n                        \"{}\";\r\n                    pendingSub.error({\r\n                        message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                        called_with: pendingSub.params.arguments,\r\n                        method: pendingSub.method,\r\n                    });\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                }\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n        };\r\n        this.handleSubscribed = function (msg) {\r\n            var subLocalKey = msg._tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            var serverId = msg._tag.serverId;\r\n            var acceptingServer = pendingSub.trackedServers\r\n                .filter(function (server) {\r\n                return server.serverId === serverId;\r\n            })[0];\r\n            if (typeof acceptingServer !== \"object\") {\r\n                return;\r\n            }\r\n            acceptingServer.subscriptionId = msg.subscription_id;\r\n            _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n            var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n            pendingSub.status = STATUS_SUBSCRIBED;\r\n            if (isFirstResponse) {\r\n                var reconnect = false;\r\n                var sub = pendingSub.subscription;\r\n                if (sub) {\r\n                    sub.setNewSubscription(pendingSub);\r\n                    pendingSub.success(sub);\r\n                    reconnect = true;\r\n                }\r\n                else {\r\n                    sub = new UserSubscription(_this.repository, pendingSub);\r\n                    pendingSub.subscription = sub;\r\n                    pendingSub.success(sub);\r\n                }\r\n                for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                    var handler = _a[_i];\r\n                    try {\r\n                        handler(sub.serverInstance, reconnect);\r\n                    }\r\n                    catch (e) {\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.handleEventData = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                return server.subscriptionId === msg.subscription_id;\r\n            });\r\n            if (trackedServersFound.length !== 1) {\r\n                return;\r\n            }\r\n            var isPrivateData = msg.oob;\r\n            var sendingServerId = trackedServersFound[0].serverId;\r\n            var receivedStreamData = function () {\r\n                return {\r\n                    data: msg.data,\r\n                    server: _this.repository.getServerById(sendingServerId).instance,\r\n                    requestArguments: subscription.params.arguments,\r\n                    message: undefined,\r\n                    private: isPrivateData,\r\n                };\r\n            };\r\n            var onDataHandlers = subscription.handlers.onData;\r\n            var queuedData = subscription.queued.data;\r\n            if (onDataHandlers.length > 0) {\r\n                onDataHandlers.forEach(function (callback) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(receivedStreamData());\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                queuedData.push(receivedStreamData());\r\n            }\r\n        };\r\n        this.handleSubscriptionCancelled = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var expectedNewLength = subscription.trackedServers.length - 1;\r\n            subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                if (server.subscriptionId === msg.subscription_id) {\r\n                    subscription.queued.closers.push(server.serverId);\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            if (subscription.trackedServers.length !== expectedNewLength) {\r\n                return;\r\n            }\r\n            if (subscription.trackedServers.length <= 0) {\r\n                clearTimeout(subscription.timeoutId);\r\n                _this.callOnClosedHandlers(subscription);\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n        };\r\n        session.on(\"subscribed\", this.handleSubscribed);\r\n        session.on(\"event\", this.handleEventData);\r\n        session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n    }\r\n    ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n        var _this = this;\r\n        if (targetServers.length === 0) {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n            });\r\n            return;\r\n        }\r\n        var subLocalKey = this.getNextSubscriptionLocalKey();\r\n        var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n        if (typeof pendingSub !== \"object\") {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n            });\r\n            return;\r\n        }\r\n        targetServers.forEach(function (target) {\r\n            var serverId = target.server.id;\r\n            var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n            if (!method) {\r\n                _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                return;\r\n            }\r\n            pendingSub.trackedServers.push({\r\n                serverId: serverId,\r\n                subscriptionId: undefined,\r\n            });\r\n            var msg = {\r\n                type: \"subscribe\",\r\n                server_id: serverId,\r\n                method_id: method.gatewayId,\r\n                arguments_kv: params.arguments,\r\n            };\r\n            _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                .then(function (m) { return _this.handleSubscribed(m); })\r\n                .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptions = function () {\r\n        var existing = Object.values(this.subscriptionsList);\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        return existing;\r\n    };\r\n    ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n        var current = this.nextSubLocalKey;\r\n        this.nextSubLocalKey += 1;\r\n        return current;\r\n    };\r\n    ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n        var _this = this;\r\n        var subsInfo = {\r\n            localKey: subLocalKey,\r\n            status: STATUS_AWAITING_ACCEPT,\r\n            method: method,\r\n            params: params,\r\n            success: success,\r\n            error: error,\r\n            trackedServers: [],\r\n            handlers: {\r\n                onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n            },\r\n            queued: {\r\n                data: [],\r\n                closers: [],\r\n            },\r\n            timeoutId: undefined,\r\n            close: function () { return _this.closeSubscription(subLocalKey); },\r\n            subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n        };\r\n        if (!existingSub) {\r\n            if (params.onData) {\r\n                subsInfo.handlers.onData.push(params.onData);\r\n            }\r\n            if (params.onClosed) {\r\n                subsInfo.handlers.onClosed.push(params.onClosed);\r\n            }\r\n            if (params.onConnected) {\r\n                subsInfo.handlers.onConnected.push(params.onConnected);\r\n            }\r\n        }\r\n        this.subscriptionsList[subLocalKey] = subsInfo;\r\n        subsInfo.timeoutId = setTimeout(function () {\r\n            if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                return;\r\n            }\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                error({\r\n                    method: method,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                });\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return (typeof server.subscriptionId !== \"undefined\");\r\n                });\r\n                delete pendingSub.timeoutId;\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            }\r\n        }, timeout);\r\n        return subsInfo;\r\n    };\r\n    ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n        var closersCount = subscription.queued.closers.length;\r\n        var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n        var closingServer;\r\n        if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n            closingServer = this.repository.getServerById(closingServerId).instance;\r\n        }\r\n        subscription.handlers.onClosed.forEach(function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                return;\r\n            }\r\n            callback({\r\n                message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                requestArguments: subscription.params.arguments || {},\r\n                server: closingServer,\r\n                stream: subscription.method,\r\n            });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n        var _this = this;\r\n        var subscription = this.subscriptionsList[subLocalKey];\r\n        if (typeof subscription !== \"object\") {\r\n            return;\r\n        }\r\n        subscription.trackedServers.forEach(function (server) {\r\n            if (typeof server.subscriptionId === \"undefined\") {\r\n                return;\r\n            }\r\n            subscription.queued.closers.push(server.serverId);\r\n            _this.session.sendFireAndForget({\r\n                type: \"unsubscribe\",\r\n                subscription_id: server.subscriptionId,\r\n                reason_uri: \"\",\r\n                reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n            });\r\n            delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n        });\r\n        subscription.trackedServers = [];\r\n        this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n        delete this.subscriptionsList[subLocalKey];\r\n    };\r\n    return ClientStreaming;\r\n}());\n\nvar ClientProtocol = (function () {\r\n    function ClientProtocol(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n        session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n        session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n        session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n        this.streaming = new ClientStreaming(session, repository, logger);\r\n    }\r\n    ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n        this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n    };\r\n    ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n        var _this = this;\r\n        var serverId = target.id;\r\n        var methodId = method.gatewayId;\r\n        var msg = {\r\n            type: \"call\",\r\n            server_id: serverId,\r\n            method_id: methodId,\r\n            arguments_kv: args,\r\n        };\r\n        return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n            .then(function (m) { return _this.handleResultMessage(m); })\r\n            .catch(function (err) { return _this.handleInvocationError(err); });\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptions = function () {\r\n        return this.streaming.drainSubscriptions();\r\n    };\r\n    ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n        var newPeerId = msg.new_peer_id;\r\n        var remoteId = msg.identity;\r\n        var isLocal = msg.meta ? msg.meta.local : true;\r\n        var pid = Number(remoteId.process);\r\n        var serverInfo = {\r\n            machine: remoteId.machine,\r\n            pid: isNaN(pid) ? remoteId.process : pid,\r\n            instance: remoteId.instance,\r\n            application: remoteId.application,\r\n            applicationName: remoteId.applicationName,\r\n            environment: remoteId.environment,\r\n            region: remoteId.region,\r\n            user: remoteId.user,\r\n            windowId: remoteId.windowId,\r\n            peerId: newPeerId,\r\n            api: remoteId.api,\r\n            isLocal: isLocal\r\n        };\r\n        this.repository.addServer(serverInfo, newPeerId);\r\n    };\r\n    ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n        var removedPeerId = msg.removed_id;\r\n        var reason = msg.reason;\r\n        this.repository.removeServerById(removedPeerId, reason);\r\n    };\r\n    ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methods = msg.methods;\r\n        methods.forEach(function (method) {\r\n            _this.repository.addServerMethod(serverId, method);\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methodIdList = msg.methods;\r\n        var server = this.repository.getServerById(serverId);\r\n        var serverMethodKeys = Object.keys(server.methods);\r\n        serverMethodKeys.forEach(function (methodKey) {\r\n            var method = server.methods[methodKey];\r\n            if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                _this.repository.removeServerMethod(serverId, methodKey);\r\n            }\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n        var invocationId = msg._tag.invocationId;\r\n        var result = msg.result;\r\n        var serverId = msg._tag.serverId;\r\n        var server = this.repository.getServerById(serverId);\r\n        return {\r\n            invocationId: invocationId,\r\n            result: result,\r\n            instance: server.instance,\r\n            status: InvokeStatus.Success,\r\n            message: \"\"\r\n        };\r\n    };\r\n    ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n        this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n        if (\"_tag\" in msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            var message = msg.reason;\r\n            var context_1 = msg.context;\r\n            return {\r\n                invocationId: invocationId,\r\n                result: context_1,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Error,\r\n                message: message\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                invocationId: \"\",\r\n                message: msg.message,\r\n                status: InvokeStatus.Error,\r\n                error: msg\r\n            };\r\n        }\r\n    };\r\n    return ClientProtocol;\r\n}());\n\nfunction gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n    var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n    var resolveReadyPromise;\r\n    var readyPromise = new Promise(function (resolve) {\r\n        resolveReadyPromise = resolve;\r\n    });\r\n    var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n    var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n    var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n    function handleReconnect() {\r\n        logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n        var existingSubscriptions = client.drainSubscriptions();\r\n        for (var _i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n            var sub = existingSubscriptions_1[_i];\r\n            var methodInfo = sub.method;\r\n            var params = Object.assign({}, sub.params);\r\n            logger.info(\"trying to re-subscribe to method \" + methodInfo.name);\r\n            interop.client.subscribe(methodInfo, params, undefined, undefined, sub);\r\n        }\r\n        var registeredMethods = serverRepository.getList();\r\n        serverRepository.reset();\r\n        for (var _a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n            var method = registeredMethods_1[_a];\r\n            var def = method.definition;\r\n            logger.info(\"re-publishing method \" + def.name);\r\n            if (method.stream) {\r\n                interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallback) {\r\n                interop.register(def, method.theFunction.userCallback);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                interop.registerAsync(def, method.theFunction.userCallbackAsync);\r\n            }\r\n        }\r\n    }\r\n    function handleInitialJoin() {\r\n        if (resolveReadyPromise) {\r\n            resolveReadyPromise({\r\n                client: client,\r\n                server: server,\r\n            });\r\n            resolveReadyPromise = undefined;\r\n        }\r\n    }\r\n    session.onJoined(function (reconnect) {\r\n        clientRepository.addServer(instance, connection.peerId);\r\n        if (reconnect) {\r\n            handleReconnect();\r\n        }\r\n        else {\r\n            handleInitialJoin();\r\n        }\r\n    });\r\n    session.onLeft(function () {\r\n        clientRepository.reset();\r\n    });\r\n    session.join();\r\n    return readyPromise;\r\n}\n\nvar Interop = (function () {\r\n    function Interop(configuration) {\r\n        var _this = this;\r\n        if (typeof configuration === \"undefined\") {\r\n            throw new Error(\"configuration is required\");\r\n        }\r\n        if (typeof configuration.connection === \"undefined\") {\r\n            throw new Error(\"configuration.connections is required\");\r\n        }\r\n        var connection = configuration.connection;\r\n        if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n            configuration.methodResponseTimeout = 30 * 1000;\r\n        }\r\n        if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n            configuration.waitTimeoutMs = 30 * 1000;\r\n        }\r\n        this.unwrappedInstance = new InstanceWrapper(this, undefined, connection);\r\n        this.instance = this.unwrappedInstance.unwrap();\r\n        this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"), this);\r\n        this.serverRepository = new ServerRepository();\r\n        var protocolPromise;\r\n        if (connection.protocolVersion === 3) {\r\n            protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n        }\r\n        else {\r\n            throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n        }\r\n        this.readyPromise = protocolPromise.then(function (protocol) {\r\n            _this.protocol = protocol;\r\n            _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n            _this.server = new Server(_this.protocol, _this.serverRepository);\r\n            return _this;\r\n        });\r\n    }\r\n    Interop.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    Interop.prototype.serverRemoved = function (callback) {\r\n        return this.client.serverRemoved(callback);\r\n    };\r\n    Interop.prototype.serverAdded = function (callback) {\r\n        return this.client.serverAdded(callback);\r\n    };\r\n    Interop.prototype.serverMethodRemoved = function (callback) {\r\n        return this.client.serverMethodRemoved(callback);\r\n    };\r\n    Interop.prototype.serverMethodAdded = function (callback) {\r\n        return this.client.serverMethodAdded(callback);\r\n    };\r\n    Interop.prototype.methodRemoved = function (callback) {\r\n        return this.client.methodRemoved(callback);\r\n    };\r\n    Interop.prototype.methodAdded = function (callback) {\r\n        return this.client.methodAdded(callback);\r\n    };\r\n    Interop.prototype.methodsForInstance = function (instance) {\r\n        return this.client.methodsForInstance(instance);\r\n    };\r\n    Interop.prototype.methods = function (methodFilter) {\r\n        return this.client.methods(methodFilter);\r\n    };\r\n    Interop.prototype.servers = function (methodFilter) {\r\n        return this.client.servers(methodFilter);\r\n    };\r\n    Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n        return this.client.subscribe(method, options, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n        return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.unregister = function (methodFilter) {\r\n        return this.server.unregister(methodFilter);\r\n    };\r\n    Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n        return this.server.registerAsync(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.register = function (methodDefinition, callback) {\r\n        return this.server.register(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n    };\r\n    Interop.prototype.waitForMethod = function (name) {\r\n        var pw = new PromiseWrapper();\r\n        var unsubscribe = this.client.methodAdded(function (m) {\r\n            if (m.name === name) {\r\n                unsubscribe();\r\n                pw.resolve(m);\r\n            }\r\n        });\r\n        return pw.promise;\r\n    };\r\n    return Interop;\r\n}());\n\nvar successMessages = [\"subscribed\", \"success\"];\r\nvar MessageBus = (function () {\r\n    function MessageBus(connection, logger) {\r\n        var _this = this;\r\n        this.publish = function (topic, data, options) {\r\n            var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n            var args = _this.removeEmptyValues({\r\n                type: \"publish\",\r\n                topic: topic,\r\n                data: data,\r\n                peer_id: _this.peerId,\r\n                routing_key: routingKey,\r\n                target_identity: target\r\n            });\r\n            _this.session.send(args);\r\n        };\r\n        this.subscribe = function (topic, callback, options) {\r\n            return new Promise(function (resolve, reject) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"subscribe\",\r\n                    topic: topic,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    source: target\r\n                });\r\n                _this.session.send(args)\r\n                    .then(function (response) {\r\n                    var subscription_id = response.subscription_id;\r\n                    _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                    resolve({\r\n                        unsubscribe: function () {\r\n                            _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                            _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                            return Promise.resolve();\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (error) { return reject(error); });\r\n            });\r\n        };\r\n        this.watchOnEvent = function () {\r\n            _this.session.on(\"event\", function (args) {\r\n                var data = args.data, subscription_id = args.subscription_id;\r\n                var source = args[\"publisher-identity\"];\r\n                var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                if (subscription) {\r\n                    if (!subscription.source) {\r\n                        subscription.callback(data, subscription.topic, source);\r\n                    }\r\n                    else {\r\n                        if (_this.keysMatch(subscription.source, source)) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        this.connection = connection;\r\n        this.logger = logger;\r\n        this.peerId = connection.peerId;\r\n        this.subscriptions = [];\r\n        this.session = connection.domain(\"bus\", successMessages);\r\n        this.readyPromise = this.session.join();\r\n        this.readyPromise.then(function () {\r\n            _this.watchOnEvent();\r\n        });\r\n    }\r\n    MessageBus.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    MessageBus.prototype.removeEmptyValues = function (obj) {\r\n        var cleaned = {};\r\n        Object.keys(obj).forEach(function (key) {\r\n            if (obj[key] !== undefined && obj[key] !== null) {\r\n                cleaned[key] = obj[key];\r\n            }\r\n        });\r\n        return cleaned;\r\n    };\r\n    MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n        var keysObj1 = Object.keys(obj1);\r\n        var allMatch = true;\r\n        keysObj1.forEach(function (key) {\r\n            if (obj1[key] !== obj2[key]) {\r\n                allMatch = false;\r\n            }\r\n        });\r\n        return allMatch;\r\n    };\r\n    return MessageBus;\r\n}());\n\nvar GlueCore = function (userConfig, ext) {\r\n    var gdVersion = Utils.getGDMajorVersion();\r\n    var glue42gd;\r\n    var preloadPromise = Promise.resolve();\r\n    if (gdVersion) {\r\n        if (gdVersion < 3) {\r\n            throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n        }\r\n        else if (gdVersion >= 3) {\r\n            glue42gd = window.glue42gd;\r\n            preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n        }\r\n    }\r\n    var glueInitTimer = timer(\"glue\");\r\n    userConfig = userConfig || {};\r\n    ext = ext || {};\r\n    var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n    var _connection;\r\n    var _interop;\r\n    var _logger;\r\n    var _metrics;\r\n    var _contexts;\r\n    var _bus;\r\n    var _allowTrace;\r\n    var libs = {};\r\n    function registerLib(name, inner, t) {\r\n        _allowTrace = _logger.canPublish(\"trace\");\r\n        if (_allowTrace) {\r\n            _logger.trace(\"registering \" + name + \" module\");\r\n        }\r\n        var done = function () {\r\n            inner.initTime = t.stop();\r\n            inner.initEndTime = t.endTime;\r\n            inner.marks = t.marks;\r\n            if (_allowTrace) {\r\n                _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n            }\r\n        };\r\n        inner.initStartTime = t.startTime;\r\n        if (inner.ready) {\r\n            inner.ready().then(function () {\r\n                done();\r\n            });\r\n        }\r\n        else {\r\n            done();\r\n        }\r\n        if (!Array.isArray(name)) {\r\n            name = [name];\r\n        }\r\n        name.forEach(function (n) {\r\n            libs[n] = inner;\r\n            GlueCore[n] = inner;\r\n        });\r\n    }\r\n    function setupConnection() {\r\n        var initTimer = timer(\"connection\");\r\n        _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n        var authPromise = Promise.resolve(internalConfig.auth);\r\n        if (internalConfig.connection && !internalConfig.auth) {\r\n            if (glue42gd) {\r\n                authPromise = glue42gd.getGWToken()\r\n                    .then(function (token) {\r\n                    return {\r\n                        gatewayToken: token\r\n                    };\r\n                });\r\n            }\r\n            else {\r\n                authPromise = Promise.reject(\"You need to provide auth information\");\r\n            }\r\n        }\r\n        return authPromise\r\n            .then(function (authConfig) {\r\n            initTimer.mark(\"auth-promise-resolved\");\r\n            var authRequest;\r\n            if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                authRequest = authConfig;\r\n            }\r\n            else {\r\n                throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n            }\r\n            return _connection.login(authRequest);\r\n        })\r\n            .then(function () {\r\n            registerLib(\"connection\", _connection, initTimer);\r\n            return internalConfig;\r\n        })\r\n            .catch(function (e) {\r\n            if (_connection) {\r\n                _connection.logout();\r\n            }\r\n            throw e;\r\n        });\r\n    }\r\n    function setupLogger() {\r\n        var _a;\r\n        var initTimer = timer(\"logger\");\r\n        _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n        _logger.consoleLevel(internalConfig.logger.console);\r\n        _logger.publishLevel(internalConfig.logger.publish);\r\n        if (_logger.canPublish(\"debug\")) {\r\n            _logger.debug(\"initializing glue...\");\r\n        }\r\n        registerLib(\"logger\", _logger, initTimer);\r\n        return Promise.resolve(undefined);\r\n    }\r\n    function setupMetrics() {\r\n        var _a, _b, _c, _d;\r\n        var initTimer = timer(\"metrics\");\r\n        var config = internalConfig.metrics;\r\n        var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n        var identity = internalConfig.connection.identity;\r\n        var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n        var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n        _metrics = metrics({\r\n            connection: config ? _connection : undefined,\r\n            logger: _logger.subLogger(\"metrics\"),\r\n            canUpdateMetric: canUpdateMetric,\r\n            system: \"Glue42\",\r\n            service: (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : \"metrics-service\",\r\n            instance: (_d = (_c = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _c !== void 0 ? _c : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _d !== void 0 ? _d : shortid(),\r\n            disableAutoAppSystem: disableAutoAppSystem,\r\n            pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n        });\r\n        registerLib(\"metrics\", _metrics, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupInterop() {\r\n        var initTimer = timer(\"interop\");\r\n        var agmConfig = {\r\n            connection: _connection,\r\n            logger: _logger.subLogger(\"interop\"),\r\n        };\r\n        _interop = new Interop(agmConfig);\r\n        Logger.Interop = _interop;\r\n        registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupContexts() {\r\n        var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n        var needsContexts = internalConfig.contexts || hasActivities;\r\n        if (needsContexts) {\r\n            var initTimer = timer(\"contexts\");\r\n            _contexts = new ContextsModule({\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"contexts\")\r\n            });\r\n            registerLib(\"contexts\", _contexts, initTimer);\r\n            return _contexts;\r\n        }\r\n        else {\r\n            var replayer = _connection.replayer;\r\n            if (replayer) {\r\n                replayer.drain(ContextMessageReplaySpec.name);\r\n            }\r\n        }\r\n    }\r\n    function setupBus() {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var initTimer;\r\n            return __generator(this, function (_a) {\r\n                if (!internalConfig.bus) {\r\n                    return [2, Promise.resolve()];\r\n                }\r\n                initTimer = timer(\"bus\");\r\n                _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                registerLib(\"bus\", _bus, initTimer);\r\n                return [2, Promise.resolve()];\r\n            });\r\n        });\r\n    }\r\n    function setupExternalLibs(externalLibs) {\r\n        try {\r\n            externalLibs.forEach(function (lib) {\r\n                setupExternalLib(lib.name, lib.create);\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    function setupExternalLib(name, createCallback) {\r\n        var initTimer = timer(name);\r\n        var lib = createCallback(libs);\r\n        if (lib) {\r\n            registerLib(name, lib, initTimer);\r\n        }\r\n    }\r\n    function waitForLibs() {\r\n        var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n            var lib = libs[key];\r\n            return lib.ready ?\r\n                lib.ready() : Promise.resolve();\r\n        });\r\n        return Promise.all(libsReadyPromises);\r\n    }\r\n    function constructGlueObject() {\r\n        var feedbackFunc = function (feedbackInfo) {\r\n            if (!_interop) {\r\n                return;\r\n            }\r\n            _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n        };\r\n        var info = {\r\n            coreVersion: version,\r\n            version: internalConfig.version\r\n        };\r\n        glueInitTimer.stop();\r\n        var glue = {\r\n            feedback: feedbackFunc,\r\n            info: info,\r\n            logger: _logger,\r\n            interop: _interop,\r\n            agm: _interop,\r\n            connection: _connection,\r\n            metrics: _metrics,\r\n            contexts: _contexts,\r\n            bus: _bus,\r\n            version: internalConfig.version,\r\n            userConfig: userConfig,\r\n            done: function () {\r\n                _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                return _connection.logout();\r\n            }\r\n        };\r\n        glue.performance = {\r\n            get glueVer() {\r\n                return internalConfig.version;\r\n            },\r\n            get glueConfig() {\r\n                return JSON.stringify(userConfig);\r\n            },\r\n            get browser() {\r\n                return window.performance.timing.toJSON();\r\n            },\r\n            get memory() {\r\n                return window.performance.memory;\r\n            },\r\n            get initTimes() {\r\n                var all = getAllTimers();\r\n                return Object.keys(all).map(function (key) {\r\n                    var t = all[key];\r\n                    return {\r\n                        name: key,\r\n                        duration: t.endTime - t.startTime,\r\n                        marks: t.marks\r\n                    };\r\n                });\r\n            }\r\n        };\r\n        Object.keys(libs).forEach(function (key) {\r\n            var lib = libs[key];\r\n            glue[key] = lib;\r\n        });\r\n        glue.config = {};\r\n        Object.keys(internalConfig).forEach(function (k) {\r\n            glue.config[k] = internalConfig[k];\r\n        });\r\n        if (ext && ext.extOptions) {\r\n            Object.keys(ext.extOptions).forEach(function (k) {\r\n                glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n            });\r\n        }\r\n        if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n            ext.enrichGlue(glue);\r\n        }\r\n        if (glue42gd && glue42gd.updatePerfData) {\r\n            glue42gd.updatePerfData(glue.performance);\r\n        }\r\n        if (glue.agm) {\r\n            var deprecatedDecorator = function (fn, wrong, proper) {\r\n                return function () {\r\n                    glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                    return fn.apply(glue.agm, arguments);\r\n                };\r\n            };\r\n            var agmAny = glue.agm;\r\n            agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n            agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n            agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n            agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n            agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n        }\r\n        return glue;\r\n    }\r\n    return preloadPromise\r\n        .then(setupLogger)\r\n        .then(setupConnection)\r\n        .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n        .then(function () { return _interop.readyPromise; })\r\n        .then(function () {\r\n        return setupExternalLibs(internalConfig.libs || []);\r\n    })\r\n        .then(waitForLibs)\r\n        .then(constructGlueObject)\r\n        .catch(function (err) {\r\n        return Promise.reject({\r\n            err: err,\r\n            libs: libs\r\n        });\r\n    });\r\n};\r\nif (typeof window !== \"undefined\") {\r\n    window.GlueCore = GlueCore;\r\n}\r\nGlueCore.version = version;\r\nGlueCore.default = GlueCore;\n\nexport default GlueCore;\n//# sourceMappingURL=core.es.js.map\n","import { IoC } from \"./shared/ioc\";\r\nimport { composeAPI } from \"./main\";\r\nimport { WorkspacesFactoryFunction } from \"../workspaces\";\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nconst factoryFunction: WorkspacesFactoryFunction = async (glue: any): Promise<void> => {\r\n\r\n    const ioc = new IoC(glue.agm, glue.windows, glue.layouts, glue.contexts);\r\n\r\n    const actualWindowId = glue.interop.instance.windowId;\r\n\r\n    await ioc.initiate(actualWindowId);\r\n\r\n    glue.workspaces = composeAPI(glue, ioc);\r\n};\r\n\r\n// attach to window object\r\nif (typeof window !== \"undefined\") {\r\n    /* eslint-disable @typescript-eslint/no-explicit-any */\r\n    (window as any).GlueWorkspaces = factoryFunction;\r\n}\r\n\r\nexport default factoryFunction;\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* tslint:disable:no-console no-empty */\r\nimport { GlueCoreFactoryFunction } from \"@glue42/core\";\r\nimport { Glue42 } from \"@glue42/desktop\";\r\nimport { Glue42Web, Glue42WebFactoryFunction } from \"../web\";\r\nimport { parseConfig } from \"./config\";\r\nimport { checkSingleton } from \"./config/checkSingleton\";\r\nimport { enterprise } from \"./enterprise\";\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { PromiseWrap } from \"./shared/promise-plus\";\r\nimport { version } from \"../package.json\";\r\n\r\n/** This function creates the factory function which is the default export of the library */\r\nexport const createFactoryFunction = (coreFactoryFunction: GlueCoreFactoryFunction): Glue42WebFactoryFunction => {\r\n\r\n    return async (userConfig?: Glue42Web.Config): Promise<Glue42Web.API | Glue42.Glue> => {\r\n\r\n        const config = parseConfig(userConfig);\r\n\r\n        if (window.glue42gd) {\r\n            return enterprise(config);\r\n        }\r\n\r\n        checkSingleton();\r\n\r\n        const glue = await PromiseWrap<Glue42Web.API>(() => coreFactoryFunction(config, { version }) as Promise<Glue42Web.API>, 30000, \"Glue Web initialization timed out, because core didn't resolve\");\r\n\r\n        const logger = glue.logger.subLogger(\"web.main.controller\");\r\n\r\n        const ioc = new IoC(glue);\r\n\r\n        await ioc.bridge.start(ioc.controllers);\r\n\r\n        logger.trace(\"the bridge has been started, initializing all controllers\");\r\n\r\n        await Promise.all(Object.values(ioc.controllers).map((controller) => controller.start(glue, ioc)));\r\n\r\n        logger.trace(\"all controllers reported started, starting all additional libraries\");\r\n\r\n        await Promise.all(config.libraries.map((lib: any) => lib(glue, config)));\r\n\r\n        logger.trace(\"all libraries were started, glue is ready, returning it\");\r\n\r\n        return glue;\r\n    };\r\n};\r\n","import React, { useContext } from 'react';\r\nimport Workspaces from \"@glue42/workspaces-ui-react\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/popups.css\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/goldenlayout-base.css\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/glue42-theme.css\";\r\nimport \"./index.css\";\r\nimport { GlueContext } from '@glue42/react-hooks';\r\n\r\nconst App = () => {\r\n    (window as any).glue = useContext(GlueContext);\r\n    return (\r\n        <Workspaces />\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);  \r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n}\r\n\r\nexport default reportWebVitals;\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { METHODS, webPlatformMethodName, webPlatformWspStreamName } from \"./constants\";\r\nimport { promisePlus } from \"../shared/promisePlus\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\nimport { InteropAPI, Subscription, InvocationResult } from \"../types/glue\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\n\r\nexport class InteropTransport {\r\n\r\n    private readonly defaultTransportTimeout: number = 30000;\r\n    private coreEventMethodInitiated = false;\r\n    private corePlatformSubPromise: Promise<Glue42Core.Interop.Subscription>;\r\n\r\n    constructor(private readonly agm: InteropAPI) { }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n\r\n        if (window.glue42gd) {\r\n            await Promise.all(\r\n                Object.values(METHODS).map((method) => {\r\n\r\n                    return this.verifyMethodLive(method.name);\r\n                })\r\n            );\r\n\r\n            return;\r\n        }\r\n\r\n        await Promise.all([\r\n            this.verifyMethodLive(webPlatformMethodName),\r\n            this.verifyMethodLive(webPlatformWspStreamName)\r\n        ]);\r\n\r\n        await this.transmitControl(\"frameHello\", { windowId: actualWindowId });\r\n    }\r\n\r\n    public coreSubscriptionReady(eventCallback: (args?: any) => void): Promise<Glue42Core.Interop.Subscription> {\r\n        if (!this.coreEventMethodInitiated) {\r\n            this.subscribePlatform(eventCallback);\r\n        }\r\n        return this.corePlatformSubPromise;\r\n    }\r\n\r\n    public subscribePlatform(eventCallback: (args?: any) => void): void {\r\n        this.coreEventMethodInitiated = true;\r\n\r\n        this.corePlatformSubPromise = this.agm.subscribe(webPlatformWspStreamName);\r\n\r\n        this.corePlatformSubPromise\r\n            .then((sub) => {\r\n                sub.onData((data) => eventCallback(data.data));\r\n            });\r\n    }\r\n\r\n    public async subscribe(streamName: string, streamBranch: string, streamType: WorkspaceEventType): Promise<Subscription> {\r\n\r\n        const subscriptionArgs = {\r\n            branch: streamBranch,\r\n            type: streamType\r\n        };\r\n\r\n        let subscription: Subscription;\r\n\r\n        try {\r\n            subscription = await this.agm.subscribe(streamName, { arguments: subscriptionArgs });\r\n        } catch (error) {\r\n            const message = `Internal subscription error! Error details: stream - ${streamName}, branch: ${streamBranch}. Internal message: ${error.message}`;\r\n            throw new Error(message);\r\n        }\r\n\r\n        return subscription;\r\n    }\r\n\r\n    public async transmitControl(operation: string, operationArguments: any): Promise<any> {\r\n\r\n        const invocationArguments = window.glue42gd ? { operation, operationArguments } : { operation, domain: \"workspaces\", data: operationArguments };\r\n        const methodName = window.glue42gd ? METHODS.control.name : webPlatformMethodName;\r\n\r\n        let invocationResult: InvocationResult<any>;\r\n        const baseErrorMessage = `Internal Workspaces Communication Error. Attempted operation: ${JSON.stringify(invocationArguments)}. `;\r\n\r\n        // using the 0 index of the errors and values collections, because we expect only one server and\r\n        // this is to safeguard in case in future we decide to deprecate the default returned/message properties in favor of using only collections\r\n        try {\r\n            invocationResult = await this.agm.invoke(methodName, invocationArguments, \"best\", { methodResponseTimeoutMs: this.defaultTransportTimeout });\r\n\r\n            if (!invocationResult) {\r\n                throw new Error(\"Received unsupported result from GD - empty result\");\r\n            }\r\n\r\n            if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                throw new Error(\"Received unsupported result from GD - empty values collection\");\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error && error.all_errors && error.all_errors.length) {\r\n                // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n                const invocationErrorMessage = error.all_errors[0].message;\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n\r\n            }\r\n            // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n            throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n        }\r\n\r\n        return invocationResult.all_return_values[0].returned;\r\n    }\r\n\r\n    private verifyMethodLive(name: string): Promise<void> {\r\n        return promisePlus(() => {\r\n            return new Promise((resolve) => {\r\n                const hasMethod = this.agm.methods().some((method) => method.name === name);\r\n\r\n                if (hasMethod) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n\r\n                let unsubscribe = this.agm.methodAdded((method) => {\r\n                    if (method.name !== name) {\r\n                        return;\r\n                    }\r\n\r\n                    if (unsubscribe) {\r\n                        unsubscribe();\r\n                        unsubscribe = null;\r\n                    } else {\r\n                        setTimeout(() => {\r\n                            if (unsubscribe) {\r\n                                unsubscribe();\r\n                            }\r\n                        }, 0);\r\n                    }\r\n                    resolve();\r\n                });\r\n            });\r\n        }, 15000, \"Timeout waiting for the Workspaces communication channels\");\r\n    }\r\n}\r\n","export const promisePlus = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.BoxDefinition;\r\n    base: BaseBuilder;\r\n    children: ChildBuilder[];\r\n}\r\n\r\nconst privateData = new WeakMap<ParentBuilder, PrivateData>();\r\n\r\nexport class ParentBuilder implements ParentBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.BoxDefinition,\r\n        base: BaseBuilder\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition });\r\n    }\r\n\r\n    public get type(): \"column\" | \"row\" | \"group\" {\r\n        return privateData.get(this).definition.type;\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(privateData.get(this).children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public serialize(): Glue42Workspaces.BoxDefinition {\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n        return definition;\r\n    }\r\n\r\n}\r\n","import { ParentBuilder } from \"./parentBuilder\";\r\nimport { ChildDefinition, ChildBuilder } from \"../types/builders\";\r\nimport { parentDefinitionDecoder, swimlaneWindowDefinitionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspaceBuilder } from \"./workspaceBuilder\";\r\n\r\nexport class BaseBuilder {\r\n\r\n    constructor(\r\n        private readonly getBuilder: (config: Glue42Workspaces.BuilderConfig) => ParentBuilder | WorkspaceBuilder,\r\n    ) { }\r\n\r\n    public wrapChildren(children: ChildDefinition[]): ChildBuilder[] {\r\n        return children.map((child) => {\r\n            if (child.type === \"window\") {\r\n                return child;\r\n            }\r\n\r\n            return this.getBuilder({ type: child.type, definition: child }) as ParentBuilder;\r\n        });\r\n    }\r\n\r\n    public add(type: \"row\" | \"column\" | \"group\", children: ChildBuilder[], definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const validatedDefinition = parentDefinitionDecoder.runWithException(definition);\r\n\r\n        const childBuilder = this.getBuilder({ type, definition: validatedDefinition }) as ParentBuilder;\r\n\r\n        children.push(childBuilder);\r\n\r\n        return childBuilder;\r\n    }\r\n\r\n    public addWindow(children: ChildBuilder[], definition: Glue42Workspaces.WorkspaceWindowDefinition): void {\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n\r\n        validatedDefinition.type = \"window\";\r\n\r\n        children.push(validatedDefinition);\r\n    }\r\n\r\n    public serializeChildren(children: ChildBuilder[]): ChildDefinition[] {\r\n        return children.map((child) => {\r\n            if (child instanceof ParentBuilder) {\r\n                return child.serialize();\r\n            } else {\r\n                return child as Glue42Workspaces.WorkspaceWindowDefinition;\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { ParentBuilder } from \"./parentBuilder\";\r\nimport { workspaceBuilderCreateConfigDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.WorkspaceDefinition;\r\n    children: ChildBuilder[];\r\n    base: BaseBuilder;\r\n    controller: WorkspacesController;\r\n}\r\n\r\nconst privateData = new WeakMap<WorkspaceBuilder, PrivateData>();\r\n\r\nexport class WorkspaceBuilder implements WorkspaceBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.WorkspaceDefinition,\r\n        base: BaseBuilder,\r\n        controller: WorkspacesController\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition, controller });\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllColumns = children.every((child) => child instanceof ParentBuilder && child.type === \"column\");\r\n\r\n        if (!areAllColumns) {\r\n            throw new Error(\"Cannot add a column to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllRows = children.every((child) => child instanceof ParentBuilder && child.type === \"row\");\r\n\r\n        if (!areAllRows) {\r\n            throw new Error(\"Cannot add a row to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a group to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): WorkspaceBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a window to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public getChildAt(index: number): ChildBuilder {\r\n        nonNegativeNumberDecoder.runWithException(index);\r\n        const data = privateData.get(this).children;\r\n\r\n        return data[index];\r\n    }\r\n\r\n    public async create(config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const saveConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n\r\n        const controller = privateData.get(this).controller;\r\n\r\n        return controller.createWorkspace(definition, saveConfig);\r\n    }\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Row, PrivateData>();\r\n\r\nconst getBase = (model: Row): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Row implements Glue42Workspaces.Row {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"row\" {\r\n        return \"row\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"row\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"row\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\r\n        if (definition?.type && definition.type !== \"column\") {\r\n            throw new Error(`Expected a column definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Column>(this, \"column\", \"row\", definition);\r\n    }\r\n\r\n    public async addRow(): Promise<Row> {\r\n        throw new Error(\"Adding rows as row children is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Column, PrivateData>();\r\n\r\nconst getBase = (model: Column): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Column implements Glue42Workspaces.Column {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"column\" {\r\n        return \"column\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"column\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"column\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\r\n        throw new Error(\"Adding columns as column children is not supported\");\r\n        return getBase(this).addParent<Column>(this, \"column\", \"column\", definition);\r\n    }\r\n\r\n    public async addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\r\n        if (definition?.type && definition.type !== \"row\") {\r\n            throw new Error(`Expected a row definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Row>(this, \"row\", \"column\", definition);\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Group, PrivateData>();\r\n\r\nconst getBase = (model: Group): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Group implements Glue42Workspaces.Group {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"group\" {\r\n        return \"group\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"group\");\r\n    }\r\n\r\n    public async addGroup(): Promise<Group> {\r\n        throw new Error(\"Adding groups as group child is not supported\");\r\n    }\r\n\r\n    public async addColumn(): Promise<Glue42Workspaces.Column> {\r\n        throw new Error(\"Adding columns as group child is not supported\");\r\n    }\r\n\r\n    public async addRow(): Promise<Glue42Workspaces.Row> {\r\n        throw new Error(\"Adding rows as group child is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { WorkspaceSnapshotResult, WindowStreamData } from \"../types/protocol\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder } from \"../shared/decoders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameCreateConfig } from \"../types/ioc\";\r\nimport { Window } from \"./window\";\r\nimport { Frame } from \"./frame\";\r\nimport { Row } from \"./row\";\r\nimport { Column } from \"./column\";\r\nimport { Group } from \"./group\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { WorkspacePrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Workspace, PrivateData>();\r\n\r\nconst getData = (model: Workspace): WorkspacePrivateData => {\r\n    return data.get(model).manager.getWorkspaceData(model);\r\n};\r\n\r\nconst getDataManager = (model: Workspace): PrivateDataManager => {\r\n    return data.get(model).manager;\r\n};\r\n\r\nexport class Workspace implements Glue42Workspaces.Workspace {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).id;\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).config.frameId;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get layoutName(): string | undefined {\r\n        return getData(this).config.layoutName;\r\n    }\r\n\r\n    public get isHibernated(): boolean {\r\n        return getData(this).config.isHibernated;\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getData(this).children;\r\n    }\r\n\r\n    public get frame(): Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public async removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.children.find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n        await child.close();\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async remove(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const controller = getData(this).controller;\r\n\r\n        const child = controller.iterateFindChild(this.children, predicate);\r\n\r\n        await child.close();\r\n\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        await getData(this).controller.focusItem(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n        const controller = getData(this).controller;\r\n\r\n        const workspaces = await getData(this).frame.workspaces();\r\n\r\n        const shouldCloseFrame = workspaces.length === 1 && workspaces.every((wsp) => wsp.id === this.id);\r\n\r\n        if (shouldCloseFrame) {\r\n            return this.frame.close();\r\n        }\r\n\r\n        await controller.closeItem(this.id);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.WorkspaceSnapshot> {\r\n        return getData(this).controller.getSnapshot(this.id, \"workspace\");\r\n    }\r\n\r\n    public async saveLayout(name: string, config?: { saveContext?: boolean }): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        await getData(this).controller.saveLayout({ name, workspaceId: this.id, saveContext: config?.saveContext });\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(this.id, title);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public getContext(): Promise<any> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaceContext(this.id);\r\n    }\r\n\r\n    public setContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.setWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public updateContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.updateWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public onContextUpdated(callback: (data: any) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const controller = getData(this).controller;\r\n        return controller.subscribeWorkspaceContextUpdated(this.id, callback);\r\n    }\r\n\r\n    public async refreshReference(): Promise<void> {\r\n        const newSnapshot = (await getData(this).controller.getSnapshot(this.id, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n        const existingChildren = newSnapshot.children.reduce<Glue42Workspaces.WorkspaceElement[]>((foundChildren, child) => {\r\n            let foundChild: Glue42Workspaces.WorkspaceElement;\r\n            if (child.type === \"window\") {\r\n                foundChild = this.getWindow((swimlaneWindow) => swimlaneWindow.id === child.id);\r\n            } else {\r\n                foundChild = this.getBox((parent) => parent.id === child.id);\r\n            }\r\n\r\n            if (foundChild) {\r\n                foundChildren.push(foundChild);\r\n            }\r\n\r\n            return foundChildren;\r\n        }, []);\r\n\r\n        const newChildren = getData(this).controller.refreshChildren({\r\n            existingChildren,\r\n            workspace: this,\r\n            parent: this,\r\n            children: newSnapshot.children\r\n        });\r\n\r\n        const currentFrame = this.frame;\r\n        let actualFrame: Frame;\r\n\r\n        if (currentFrame.id === newSnapshot.config.frameId) {\r\n            getDataManager(this).remapFrame(currentFrame, newSnapshot.frameSummary);\r\n            actualFrame = currentFrame;\r\n        } else {\r\n            const frameCreateConfig: FrameCreateConfig = {\r\n                summary: newSnapshot.frameSummary\r\n            };\r\n            const newFrame = getData(this).ioc.getModel<\"frame\">(\"frame\", frameCreateConfig);\r\n            actualFrame = newFrame;\r\n        }\r\n\r\n        getDataManager(this).remapWorkspace(this, {\r\n            config: newSnapshot.config,\r\n            children: newChildren,\r\n            frame: actualFrame\r\n        });\r\n    }\r\n\r\n    public getBox(predicate: (box: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type !== \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceBox;\r\n    }\r\n\r\n    public getAllBoxes(predicate?: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allParents = controller.iterateFilterChildren(children, (child) => child.type !== \"window\") as Glue42Workspaces.WorkspaceBox[];\r\n\r\n        if (!predicate) {\r\n            return allParents;\r\n        }\r\n\r\n        return allParents.filter(predicate);\r\n    }\r\n\r\n    public getRow(predicate: (row: Row) => boolean): Row {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"row\" && predicate(parent)) as Row;\r\n    }\r\n\r\n    public getAllRows(predicate?: (row: Row) => boolean): Row[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"row\" && predicate(parent)) as Row[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"row\") as Row[];\r\n    }\r\n\r\n    public getColumn(predicate: (column: Column) => boolean): Column {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"column\" && predicate(parent)) as Column;\r\n    }\r\n\r\n    public getAllColumns(predicate?: (columns: Column) => boolean): Column[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"column\" && predicate(parent)) as Column[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"column\") as Column[];\r\n    }\r\n\r\n    public getGroup(predicate: (group: Group) => boolean): Group {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"group\" && predicate(parent)) as Group;\r\n    }\r\n\r\n    public getAllGroups(predicate?: (group: Group) => boolean): Group[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"group\" && predicate(parent)) as Group[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"group\") as Group[];\r\n    }\r\n\r\n    public getWindow(predicate: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type === \"window\" && predicate(child)) as Window;\r\n    }\r\n\r\n    public getAllWindows(predicate?: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allWindows = controller.iterateFilterChildren(children, (child) => child.type === \"window\") as Window[];\r\n\r\n        if (!predicate) {\r\n            return allWindows;\r\n        }\r\n\r\n        return allWindows.filter(predicate);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Row> {\r\n        return getData(this).base.addParent<Row>(this, \"row\", \"workspace\", definition);\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\r\n        return getData(this).base.addParent<Column>(this, \"column\", \"workspace\", definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Group> {\r\n        return getData(this).base.addParent<Group>(this, \"group\", \"workspace\", definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getData(this).base.addWindow(this, definition, \"workspace\");\r\n    }\r\n\r\n    public async bundleToRow(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"row\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async bundleToColumn(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"column\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async hibernate(): Promise<void> {\r\n        await getData(this).controller.hibernateWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async resume(): Promise<void> {\r\n        await getData(this).controller.resumeWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async onClosed(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            // await this.refreshReference();\r\n            callback();\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const windowParent = this.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n\r\n            const foundWindow = windowParent.children.find((child) => {\r\n\r\n                return child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex;\r\n            });\r\n            callback(foundWindow as Window);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const foundWindow = this.getWindow((win) => {\r\n                return win.id && win.id === payload.windowSummary.config.windowId;\r\n            });\r\n            callback(foundWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder } from \"../shared//decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { Row } from \"./row\";\r\nimport { Column } from \"./column\";\r\nimport { Group } from \"./group\";\r\nimport { WindowPrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { GDWindow } from \"../types/glue\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Window, PrivateData>();\r\n\r\nconst getData = (model: Window): WindowPrivateData => {\r\n    return data.get(model).manager.getWindowData(model);\r\n};\r\n\r\nexport class Window implements Glue42Workspaces.WorkspaceWindow {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).config.windowId;\r\n    }\r\n\r\n    public get type(): \"window\" {\r\n        return \"window\";\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).frame.id;\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getData(this).workspace.id;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getData(this).config.isMaximized;\r\n    }\r\n\r\n    public get isLoaded(): boolean {\r\n        return getData(this).controller.checkIsWindowLoaded(this.id);\r\n    }\r\n\r\n    public get focused(): boolean {\r\n        return getData(this).config.isFocused;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getData(this).workspace;\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.Workspace | Row | Column | Group {\r\n        return getData(this).parent;\r\n    }\r\n\r\n    public get appName(): string {\r\n        return getData(this).config.appName;\r\n    }\r\n\r\n    public async forceLoad(): Promise<void> {\r\n        if (this.isLoaded) {\r\n            return;\r\n        }\r\n        const controller = getData(this).controller;\r\n        const itemId = getData(this).id;\r\n\r\n        const windowId = await controller.forceLoadWindow(itemId);\r\n\r\n        getData(this).config.windowId = windowId;\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.focusItem(id);\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.closeItem(id);\r\n\r\n        await getData(this)\r\n            .parent\r\n            .removeChild((child) => child.id === id);\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n\r\n        const itemId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(itemId, title);\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.maximizeItem(id);\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.restoreItem(id);\r\n    }\r\n\r\n    public async eject(): Promise<GDWindow> {\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot eject this window, because it is not loaded yet\");\r\n        }\r\n        const itemId: string = getData(this).id;\r\n\r\n        const newWindowId: string = await getData(this).controller.ejectWindow(itemId);\r\n\r\n        getData(this).config.windowId = newWindowId;\r\n\r\n        return this.getGdWindow();\r\n    }\r\n\r\n    public getGdWindow(): GDWindow {\r\n\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot fetch this GD window, because the window is not yet loaded\");\r\n        }\r\n\r\n        const myId = getData(this).config.windowId;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.getGDWindow(myId);\r\n    }\r\n\r\n    public async moveTo(parent: Row | Column | Group): Promise<void> {\r\n        if (!(parent instanceof Row || parent instanceof Column || parent instanceof Group)) {\r\n            throw new Error(\"Cannot add to the provided parent, because the provided parent is not an instance of Row, Column or Group\");\r\n        }\r\n\r\n        const myId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        const foundParent = await controller.getParent((p) => p.id === parent.id);\r\n\r\n        if (!foundParent) {\r\n            throw new Error(\"Cannot move the window to the selected parent, because this parent does not exist.\");\r\n        }\r\n\r\n        return controller.moveWindowTo(myId, parent.id);\r\n    }\r\n\r\n    public async onRemoved(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            await this.workspace.refreshReference();\r\n            callback();\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"window\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder, restoreWorkspaceConfigDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, resizeConfigDecoder, moveConfigDecoder } from \"../shared/decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameStreamData, WorkspaceStreamData, WindowStreamData } from \"../types/protocol\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { FramePrivateData } from \"../types/privateData\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Frame, PrivateData>();\r\n\r\nconst getData = (model: Frame): FramePrivateData => {\r\n    return data.get(model).manager.getFrameData(model);\r\n};\r\n\r\nexport class Frame implements Glue42Workspaces.Frame {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).summary.id;\r\n    }\r\n\r\n    public resize(config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        const validatedConfig = resizeConfigDecoder.runWithException(config);\r\n        const myId = getData(this).summary.id;\r\n\r\n        return getData(this).controller.resizeItem(myId, validatedConfig);\r\n    }\r\n\r\n    public move(config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        const validatedConfig = moveConfigDecoder.runWithException(config);\r\n\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.moveFrame(myId, validatedConfig);\r\n    }\r\n\r\n    public focus(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.focusItem(myId);\r\n    }\r\n\r\n    public async state(): Promise<Glue42Workspaces.FrameState> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getFrameState(myId);\r\n    }\r\n\r\n    public async minimize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"minimized\");\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"maximized\");\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"normal\");\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.closeItem(myId);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.FrameSnapshot> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getSnapshot(myId, \"frame\");\r\n    }\r\n\r\n    public async workspaces(): Promise<Glue42Workspaces.Workspace[]> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaces((wsp) => wsp.frameId === this.id);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n\r\n        return getData(this).controller.restoreWorkspace(name, validatedOptions);\r\n    }\r\n\r\n    public createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        return getData(this).controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    }\r\n\r\n    public async onClosed(callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMaximized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"maximized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMinimized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"minimized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onNormal(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"normal\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceOpened(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"opened\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceSelected(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"selected\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceClosed(callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => {\r\n                return parent.id === payload.windowSummary.parentId;\r\n            });\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { ParentPrivateData, WorkspacePrivateData, WindowPrivateData, FramePrivateData, RemapChildData, RemapWorkspaceData } from \"../types/privateData\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Window } from \"../models/window\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { SwimlaneWindowSnapshotConfig, ParentSnapshotConfig, FrameSummaryResult } from \"../types/protocol\";\r\nimport { Child } from \"../types/builders\";\r\n\r\nexport class PrivateDataManager {\r\n    private readonly parentsData = new WeakMap<Row | Column | Group, ParentPrivateData>();\r\n    private readonly workspacesData = new WeakMap<Workspace, WorkspacePrivateData>();\r\n    private readonly windowsData = new WeakMap<Window, WindowPrivateData>();\r\n    private readonly framesData = new WeakMap<Frame, FramePrivateData>();\r\n    // Without this collection there is no way to get a window instance before its loaded\r\n    // e.g addWindow returns a window however this window doesn't have a placement id needed for force load\r\n    private readonly windowPlacementIdData: { [key: string]: Window } = {};\r\n\r\n    public deleteData<T>(model: T): void {\r\n        if (model instanceof Window) {\r\n            const keyForDeleting =\r\n                Object.keys(this.windowPlacementIdData)\r\n                    .find((k) => this.windowPlacementIdData[k] === model);\r\n\r\n            if (keyForDeleting) {\r\n                delete this.windowPlacementIdData[keyForDeleting];\r\n            }\r\n\r\n            this.windowsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Workspace) {\r\n            this.workspacesData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            this.parentsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Frame) {\r\n            this.framesData.delete(model);\r\n        }\r\n    }\r\n\r\n    public setWindowData(model: Window, data: WindowPrivateData): void {\r\n\r\n        this.windowPlacementIdData[data.id] = model;\r\n        this.windowsData.set(model, data);\r\n    }\r\n\r\n    public setWorkspaceData(model: Workspace, data: WorkspacePrivateData): void {\r\n        this.workspacesData.set(model, data);\r\n    }\r\n\r\n    public setParentData(model: Row | Column | Group, data: ParentPrivateData): void {\r\n        this.parentsData.set(model, data);\r\n    }\r\n\r\n    public setFrameData(model: Frame, data: FramePrivateData): void {\r\n        this.framesData.set(model, data);\r\n    }\r\n\r\n    public getWindowData(model: Window): WindowPrivateData {\r\n        return this.windowsData.get(model);\r\n    }\r\n\r\n    public getWindowByPlacementId(placementId: string): Window {\r\n        return this.windowPlacementIdData[placementId];\r\n    }\r\n\r\n    public getWorkspaceData(model: Workspace): WorkspacePrivateData {\r\n        return this.workspacesData.get(model);\r\n    }\r\n\r\n    public getParentData(model: Row | Column | Group): ParentPrivateData {\r\n        return this.parentsData.get(model);\r\n    }\r\n\r\n    public getFrameData(model: Frame): FramePrivateData {\r\n        return this.framesData.get(model);\r\n    }\r\n\r\n    public remapChild(model: Child, newData: RemapChildData): void {\r\n        if (model instanceof Window) {\r\n            const data = this.windowsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as SwimlaneWindowSnapshotConfig || data.config;\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            const data = this.parentsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as ParentSnapshotConfig || data.config;\r\n            data.children = newData.children || data.children;\r\n        }\r\n    }\r\n\r\n    public remapFrame(model: Frame, newData: FrameSummaryResult): void {\r\n        const data = this.framesData.get(model);\r\n        data.summary = newData;\r\n    }\r\n\r\n    public remapWorkspace(model: Workspace, newData: RemapWorkspaceData): void {\r\n        const data = this.workspacesData.get(model);\r\n        data.frame = newData.frame || data.frame;\r\n        data.config = newData.config || data.config;\r\n        data.children = newData.children || data.children;\r\n    }\r\n}\r\n","import { Workspace } from \"../workspace\";\r\nimport { ParentBuilder } from \"../../builders/parentBuilder\";\r\nimport { strictParentDefinitionDecoder, swimlaneWindowDefinitionDecoder, checkThrowCallback } from \"../../shared/decoders\";\r\nimport { SubParent, AllParentTypes, Child, SubParentTypes, AllParent } from \"../../types/builders\";\r\nimport { PrivateDataManager } from \"../../shared/privateDataManager\";\r\nimport { ParentPrivateData, WorkspacePrivateData } from \"../../types/privateData\";\r\nimport { Window } from \"../../models/window\";\r\nimport { Glue42Workspaces } from \"../../../workspaces\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Base, PrivateData>();\r\n\r\nconst getData = (base: Base, model: AllParentTypes): WorkspacePrivateData | ParentPrivateData => {\r\n    const manager = data.get(base).manager;\r\n\r\n    if (model instanceof Workspace) {\r\n        return manager.getWorkspaceData(model);\r\n    }\r\n\r\n    return data.get(base).manager.getParentData(model);\r\n};\r\n\r\nconst getWindowFromPlacementId = (base: Base, placemenId: string): Window => {\r\n    const manager = data.get(base).manager;\r\n\r\n    return manager.getWindowByPlacementId(placemenId);\r\n};\r\n\r\nexport class Base {\r\n    public frameId: string;\r\n    public workspaceId: string;\r\n    public positionIndex: number;\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public getId(model: AllParentTypes): string {\r\n        return getData(this, model).id;\r\n    }\r\n\r\n    public getPositionIndex(model: AllParentTypes): number {\r\n        return getData(this, model).config.positionIndex;\r\n    }\r\n\r\n    public getWorkspaceId(model: AllParentTypes): string {\r\n        const privateData = getData(this, model) as ParentPrivateData;\r\n        return privateData.config.workspaceId || privateData.workspace.id;\r\n    }\r\n\r\n    public getFrameId(model: AllParentTypes): string {\r\n        return getData(this, model).frame.id;\r\n    }\r\n\r\n    public getAllChildren(model: AllParentTypes, predicate?: (child: Child) => boolean): Child[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this, model).children;\r\n\r\n        if (typeof predicate === \"undefined\") {\r\n            return children;\r\n        }\r\n\r\n        return children.filter(predicate);\r\n    }\r\n\r\n    public getMyParent(model: AllParentTypes): AllParentTypes {\r\n        if (model instanceof Workspace) {\r\n            return;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).parent;\r\n    }\r\n\r\n    public getMyFrame(model: AllParentTypes): Glue42Workspaces.Frame {\r\n        return getData(this, model).frame;\r\n    }\r\n\r\n    public getMyWorkspace(model: AllParentTypes): Workspace {\r\n        if (model instanceof Workspace) {\r\n            return;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).workspace;\r\n    }\r\n\r\n    public async addWindow(model: AllParentTypes, definition: Glue42Workspaces.WorkspaceWindowDefinition, parentType: AllParent): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        if (!definition.appName && !definition.windowId) {\r\n            throw new Error(\"The window definition should contain either an appName or a windowId\");\r\n        }\r\n\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const operationResult = await controller.add(\"window\", getData(this, model).id, parentType, validatedDefinition);\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return getWindowFromPlacementId(this, operationResult.itemId);\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n\r\n        return getWindowFromPlacementId(this, operationResult.itemId);\r\n    }\r\n\r\n    public async addParent<T>(model: AllParentTypes, typeToAdd: SubParent, parentType: AllParent, definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Promise<T> {\r\n        const parentDefinition = this.transformDefinition(typeToAdd, definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const newParentId = (await controller.add(\"container\", getData(this, model).id, parentType, parentDefinition)).itemId;\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return model.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n        }\r\n\r\n        const myWorkspace = this.getMyWorkspace(model);\r\n        await myWorkspace.refreshReference();\r\n\r\n        return myWorkspace.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n    }\r\n\r\n    public async removeChild(model: AllParentTypes, predicate: (child: Child) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.getAllChildren(model).find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n\r\n        await child.close();\r\n\r\n        if (model instanceof Workspace) {\r\n\r\n            await model.refreshReference();\r\n            return;\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n    }\r\n\r\n    public async maximize(model: AllParentTypes): Promise<void> {\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.maximizeItem(getData(this, model).id);\r\n    }\r\n\r\n    public async restore(model: AllParentTypes): Promise<void> {\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.restoreItem(getData(this, model).id);\r\n    }\r\n\r\n    public async close(model: SubParentTypes): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.closeItem(modelData.id);\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    private transformDefinition(type: \"group\" | \"row\" | \"column\", definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Glue42Workspaces.BoxDefinition {\r\n        let parentDefinition: Glue42Workspaces.BoxDefinition;\r\n\r\n        if (typeof definition === \"undefined\") {\r\n            parentDefinition = { type, children: [] };\r\n        } else if (definition instanceof ParentBuilder) {\r\n            parentDefinition = definition.serialize();\r\n        } else {\r\n            if (typeof definition.type === \"undefined\") {\r\n                definition.type = type;\r\n            }\r\n            parentDefinition = strictParentDefinitionDecoder.runWithException(definition);\r\n            parentDefinition.children = parentDefinition.children || [];\r\n        }\r\n\r\n        return parentDefinition;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { WorkspaceSnapshotResult, WorkspaceCreateConfigProtocol, FrameSummaryResult, AddItemResult, WorkspaceSummariesResult, WorkspaceSummaryResult, SimpleWindowOperationSuccessResult, FrameSnapshotResult, SwimlaneWindowSnapshotConfig, ParentSnapshotConfig } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig, WindowCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { GDWindow, WindowsAPI, ContextsAPI, LayoutsAPI } from \"../types/glue\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Child } from \"../types/builders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { Window } from \"../models/window\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\n\r\nexport class BaseController {\r\n\r\n    constructor(\r\n        private readonly ioc: IoC,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly contexts: ContextsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n    ) { }\r\n\r\n    private get bridge(): Bridge {\r\n        return this.ioc.bridge;\r\n    }\r\n\r\n    private get privateDataManager(): PrivateDataManager {\r\n        return this.ioc.privateDataManager;\r\n    }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return windowId && this.windows.list().some((win) => win.id === windowId);\r\n    }\r\n\r\n    public async createWorkspace(createConfig: WorkspaceCreateConfigProtocol): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.createWorkspace.name, createConfig);\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.openWorkspace.name, { name, restoreOptions: options });\r\n\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: snapshot.config.frameId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        let operationName: string;\r\n        const operationArgs = { definition, parentId, parentType };\r\n\r\n        if (type === \"window\") {\r\n            operationName = OPERATIONS.addWindow.name;\r\n        } else if (type === \"container\") {\r\n            operationName = OPERATIONS.addContainer.name;\r\n        } else {\r\n            throw new Error(`Unrecognized add type: ${type}`);\r\n        }\r\n\r\n        return await this.bridge.send<AddItemResult>(operationName, operationArgs);\r\n    }\r\n\r\n    public async getFrame(windowId: string): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: windowId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n    }\r\n\r\n    public getFrames(allFrameSummaries: FrameSummaryResult[], predicate?: (frame: Frame) => boolean): Frame[] {\r\n\r\n        return allFrameSummaries.reduce<Frame[]>((frames, frameSummary) => {\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: frameSummary\r\n            };\r\n            const frameToCheck = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            if (!predicate || predicate(frameToCheck)) {\r\n                frames.push(frameToCheck);\r\n            }\r\n\r\n            return frames;\r\n        }, []);\r\n    }\r\n\r\n    public getAllWorkspaceSummaries(...bridgeResults: WorkspaceSummariesResult[]): Glue42Workspaces.WorkspaceSummary[] {\r\n\r\n        const allSummaries = bridgeResults.reduce<WorkspaceSummaryResult[]>((summaries, summaryResult) => {\r\n            summaries.push(...summaryResult.summaries);\r\n            return summaries;\r\n        }, []);\r\n\r\n        return allSummaries.map<Glue42Workspaces.WorkspaceSummary>((summary) => {\r\n            return {\r\n                id: summary.id,\r\n                frameId: summary.config.frameId,\r\n                positionIndex: summary.config.positionIndex,\r\n                title: summary.config.title,\r\n                layoutName: summary.config.layoutName\r\n            };\r\n        });\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        const addedUnSub: UnsubscribeFunction = this.layouts.onAdded(wrappedCallback);\r\n        const changedUnSub: UnsubscribeFunction = this.layouts.onChanged(wrappedCallback);\r\n\r\n        return (): void => {\r\n            addedUnSub();\r\n            changedUnSub();\r\n        };\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        return this.layouts.onRemoved(wrappedCallback);\r\n    }\r\n\r\n    public async fetchWorkspace(workspaceId: string): Promise<Workspace> {\r\n\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId: workspaceId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.bundleWorkspace.name, { type, workspaceId });\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.get(contextName);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.set(contextName, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.update(contextName, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<UnsubscribeFunction> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.subscribe(contextName, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.restoreItem.name, { itemId });\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.maximizeItem.name, { itemId });\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.focusItem.name, { itemId });\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.closeItem.name, { itemId });\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.resizeItem.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveFrame.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.windows.list().find((gdWindow) => gdWindow.id === itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const controlResult = await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.forceLoadWindow.name, { itemId });\r\n\r\n        return controlResult.windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<SimpleWindowOperationSuccessResult> {\r\n        return await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.ejectWindow.name, { itemId });\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveWindowTo.name, { itemId, containerId: newParentId });\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        let result: WorkspaceSnapshotResult | FrameSnapshotResult;\r\n\r\n        if (type === \"workspace\") {\r\n            result = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId });\r\n        } else if (type === \"frame\") {\r\n            result = await this.bridge.send<FrameSnapshotResult>(OPERATIONS.getFrameSnapshot.name, { itemId });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.setItemTitle.name, { itemId, title });\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        const { parent, children, existingChildren, workspace } = config;\r\n        if (parent instanceof Window) {\r\n            return;\r\n        }\r\n\r\n        const newChildren = children.map((newChildSnapshot) => {\r\n            let childToAdd = existingChildren.find((c) => c.id === newChildSnapshot.id);\r\n            const childType = newChildSnapshot.type;\r\n\r\n            if (childToAdd) {\r\n                this.privateDataManager.remapChild(childToAdd, {\r\n                    parent,\r\n                    children: [],\r\n                    config: newChildSnapshot.config\r\n                });\r\n            } else {\r\n                if (childType === \"window\") {\r\n                    const createConfig: WindowCreateConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config as SwimlaneWindowSnapshotConfig\r\n                    };\r\n                    childToAdd = this.ioc.getModel<\"child\">(childType, createConfig);\r\n                } else {\r\n                    const createConfig: ParentCreateConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        children: [],\r\n                        parent,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config as ParentSnapshotConfig\r\n                    };\r\n                    childToAdd = this.ioc.getModel<\"child\">(childType, createConfig);\r\n                }\r\n\r\n            }\r\n\r\n            if (childType !== \"window\") {\r\n                this.refreshChildren({\r\n                    workspace, existingChildren,\r\n                    children: newChildSnapshot.children,\r\n                    parent: childToAdd\r\n                });\r\n            }\r\n\r\n            return childToAdd;\r\n        });\r\n\r\n        if (parent instanceof Workspace) {\r\n            return newChildren;\r\n        } else {\r\n            this.privateDataManager.remapChild(parent, { children: newChildren });\r\n            return newChildren;\r\n        }\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        let foundChild = children.find((child) => predicate(child));\r\n\r\n        if (foundChild) {\r\n            return foundChild;\r\n        }\r\n\r\n        children.some((child) => {\r\n            if (child instanceof Window) {\r\n                return false;\r\n            }\r\n\r\n            foundChild = this.iterateFindChild(child.children, predicate);\r\n\r\n            if (foundChild) {\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return foundChild;\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        const foundChildren = children.filter((child) => predicate(child));\r\n\r\n        const grandChildren = children.reduce<Child[]>((innerFound, child) => {\r\n            if (child instanceof Window) {\r\n                return innerFound;\r\n            }\r\n\r\n            innerFound.push(...this.iterateFilterChildren(child.children, predicate));\r\n\r\n            return innerFound;\r\n        }, []);\r\n\r\n        foundChildren.push(...grandChildren);\r\n\r\n        return foundChildren;\r\n    }\r\n\r\n    public notifyWindowAdded(windowId: string): Promise<void> {\r\n        return new Promise((resolve) => {\r\n\r\n            const alreadyPresent: boolean = this.windows.list().some((win) => win.id === windowId);\r\n\r\n            if (alreadyPresent) {\r\n                return resolve();\r\n            }\r\n\r\n            const unsubscribe: UnsubscribeFunction = this.windows.onWindowAdded((win) => {\r\n\r\n                if (win.id !== windowId) {\r\n                    return;\r\n                }\r\n\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    public async hibernateWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.hibernateWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async resumeWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.resumeWorkspace.name, { workspaceId });\r\n\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { IsWindowInSwimlaneResult, WorkspaceCreateConfigProtocol, WorkspaceSnapshotResult, FrameSummariesResult, WorkspaceSummariesResult, LayoutSummariesResult, ExportedLayoutsResult, FrameSnapshotResult, AddItemResult, WindowStreamData, FrameStateResult } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { SubscriptionConfig, WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Child } from \"../types/builders\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { BaseController } from \"./base\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\n\r\nexport class MainController implements WorkspacesController {\r\n\r\n    constructor(\r\n        private readonly bridge: Bridge,\r\n        private readonly base: BaseController\r\n    ) { }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return this.base.checkIsWindowLoaded(windowId);\r\n    }\r\n\r\n    public async checkIsInSwimlane(windowId: string): Promise<boolean> {\r\n\r\n        const controlResult = await this.bridge.send<IsWindowInSwimlaneResult>(OPERATIONS.isWindowInWorkspace.name, { itemId: windowId });\r\n\r\n        return controlResult.inWorkspace;\r\n    }\r\n\r\n    public async createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Workspace> {\r\n        const createConfig: WorkspaceCreateConfigProtocol = Object.assign({}, definition, { saveConfig });\r\n\r\n        return await this.base.createWorkspace(createConfig);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const allLayouts = await this.getLayoutSummaries();\r\n\r\n        const layoutExists = allLayouts.some((summary) => summary.name === name);\r\n\r\n        if (!layoutExists) {\r\n            throw new Error(`This layout: ${name} cannot be restored, because it doesn't exist.`);\r\n        }\r\n\r\n        if (options?.frameId) {\r\n            const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n            const foundMatchingFrame = allFrameSummaries.summaries.some((summary) => summary.id === options.frameId);\r\n\r\n            if (!foundMatchingFrame) {\r\n                throw new Error(`Cannot reuse the frame with id: ${options.frameId}, because there is no frame with that ID found`);\r\n            }\r\n        }\r\n\r\n        return await this.base.restoreWorkspace(name, options);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        return await this.base.add(type, parentId, parentType, definition);\r\n    }\r\n\r\n    public processLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseLocalSubscription(config, levelId) :\r\n            this.handleCoreLocalSubscription(config, levelId);\r\n    }\r\n\r\n    public processGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseGlobalSubscription(callback, eventType, action) :\r\n            this.handleCoreGlobalSubscription(callback, eventType, action);\r\n    }\r\n\r\n    public async getFrame(selector: { windowId?: string; predicate?: (frame: Frame) => boolean }): Promise<Frame> {\r\n\r\n        if (selector.windowId) {\r\n            return await this.base.getFrame(selector.windowId);\r\n        }\r\n\r\n        if (selector.predicate) {\r\n            return (await this.getFrames(selector.predicate))[0];\r\n        }\r\n\r\n        throw new Error(`The provided selector is not valid: ${JSON.stringify(selector)}`);\r\n    }\r\n\r\n    public async getFrames(predicate?: (frame: Frame) => boolean): Promise<Frame[]> {\r\n\r\n        const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n        return this.base.getFrames(allFrameSummaries.summaries, predicate);\r\n    }\r\n\r\n    public async getWorkspace(predicate: (workspace: Workspace) => boolean): Promise<Workspace> {\r\n        let foundWorkspace: Workspace;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            if (predicate(wsp)) {\r\n                foundWorkspace = wsp;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return foundWorkspace;\r\n    }\r\n\r\n    public async getWorkspaces(predicate?: (workspace: Workspace) => boolean): Promise<Workspace[]> {\r\n        const matchingWorkspaces: Workspace[] = [] as Workspace[];\r\n\r\n        await this.iterateWorkspaces((wsp) => {\r\n            if (!predicate || predicate(wsp)) {\r\n                matchingWorkspaces.push(wsp);\r\n            }\r\n        });\r\n\r\n        return matchingWorkspaces;\r\n    }\r\n\r\n    public async getAllWorkspaceSummaries(): Promise<Glue42Workspaces.WorkspaceSummary[]> {\r\n\r\n        const allSummariesResult = await this.bridge.send<WorkspaceSummariesResult>(OPERATIONS.getAllWorkspacesSummaries.name, {});\r\n\r\n        return this.base.getAllWorkspaceSummaries(allSummariesResult);\r\n    }\r\n\r\n    public async getWindow(predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        let resultWindow: Glue42Workspaces.WorkspaceWindow;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            const foundWindow = wsp.getWindow(predicate);\r\n\r\n            if (foundWindow) {\r\n                resultWindow = foundWindow;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultWindow;\r\n    }\r\n\r\n    public async getParent(predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> {\r\n        let resultParent: Glue42Workspaces.WorkspaceBox;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n\r\n            const foundParent = wsp.getBox(predicate);\r\n\r\n            if (foundParent) {\r\n                resultParent = foundParent;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultParent;\r\n    }\r\n\r\n    public async getLayoutSummaries(): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> {\r\n        const allLayouts = await this.bridge.send<LayoutSummariesResult>(OPERATIONS.getAllLayoutsSummaries.name);\r\n        return allLayouts.summaries;\r\n    }\r\n\r\n    public async deleteLayout(name: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.deleteLayout.name, { name });\r\n    }\r\n\r\n    public async exportLayout(predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> {\r\n        const allLayoutsResult = await this.bridge.send<ExportedLayoutsResult>(OPERATIONS.exportAllLayouts.name);\r\n        return allLayoutsResult.layouts.reduce<Glue42Workspaces.WorkspaceLayout[]>((matchingLayouts, layout) => {\r\n\r\n            if (!predicate || predicate(layout)) {\r\n                matchingLayouts.push(layout);\r\n            }\r\n\r\n            return matchingLayouts;\r\n        }, []);\r\n    }\r\n\r\n    public async saveLayout(config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> {\r\n        return await this.bridge.send(OPERATIONS.saveLayout.name, config);\r\n    }\r\n\r\n    public async importLayout(layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\"): Promise<void> {\r\n\r\n        await Promise.all(layouts.map((layout) => this.bridge.send(OPERATIONS.importLayout.name, { layout, mode })));\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnSaved(callback);\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnRemoved(callback);\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        return await this.base.bundleTo(type, workspaceId);\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        return this.base.getWorkspaceContext(workspaceId);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.setWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.updateWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<import(\"callback-registry\").UnsubscribeFunction> {\r\n        return this.base.subscribeWorkspaceContextUpdated(workspaceId, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        return await this.base.restoreItem(itemId);\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        return await this.base.maximizeItem(itemId);\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        return await this.base.focusItem(itemId);\r\n    }\r\n\r\n    public async changeFrameState(frameId: string, state: Glue42Workspaces.FrameState): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.changeFrameState.name, { frameId, requestedState: state });\r\n    }\r\n\r\n    public async getFrameState(frameId: string): Promise<Glue42Workspaces.FrameState> {\r\n        const frameResult = await this.bridge.send<FrameStateResult>(OPERATIONS.getFrameState.name, { itemId: frameId });\r\n        return frameResult.state;\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        return await this.base.closeItem(itemId);\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        return await this.base.resizeItem(itemId, config);\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        return await this.base.moveFrame(itemId, config);\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.base.getGDWindow(itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const windowId = await this.base.forceLoadWindow(itemId);\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<string> {\r\n        const windowId: string = (await this.base.ejectWindow(itemId)).windowId;\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        return await this.base.moveWindowTo(itemId, newParentId);\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        return await this.base.getSnapshot(itemId, type);\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        return await this.base.setItemTitle(itemId, title);\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        return this.base.refreshChildren(config);\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        return this.base.iterateFindChild(children, predicate);\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        return this.base.iterateFilterChildren(children, predicate);\r\n    }\r\n\r\n    public hibernateWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.hibernateWorkspace(workspaceId);\r\n    }\r\n\r\n    public resumeWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.resumeWorkspace(workspaceId);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    private async iterateWorkspaces(callback: (workspace: Workspace, end: () => void) => void): Promise<void> {\r\n        let ended = false;\r\n\r\n        const end = (): void => { ended = true; };\r\n\r\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\r\n\r\n        for (const summary of workspaceSummaries) {\r\n            if (ended) {\r\n                return;\r\n            }\r\n\r\n            const wsp = await this.base.fetchWorkspace(summary.id);\r\n\r\n            callback(wsp, end);\r\n        }\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLayoutDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, builderConfigDecoder, restoreWorkspaceConfigDecoder, workspaceLayoutSaveConfigDecoder } from \"./shared/decoders\";\r\nimport { FrameStreamData, WorkspaceStreamData, WorkspaceSnapshotResult, WindowStreamData } from \"./types/protocol\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig } from \"./types/ioc\";\r\nimport { Glue42Workspaces } from \"./../workspaces\";\r\nimport { WorkspacesController } from \"./types/controller\";\r\n\r\nexport const composeAPI = (glue: any, ioc: IoC): Glue42Workspaces.API => {\r\n\r\n    const controller: WorkspacesController = ioc.controller;\r\n\r\n    const inWorkspace = (): Promise<boolean> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        return controller.checkIsInSwimlane(myId);\r\n    };\r\n\r\n    const getBuilder = (config: Glue42Workspaces.BuilderConfig): Glue42Workspaces.WorkspaceBuilder | Glue42Workspaces.BoxBuilder => {\r\n        const validatedConfig = builderConfigDecoder.runWithException(config);\r\n\r\n        return ioc.getBuilder(validatedConfig);\r\n    };\r\n\r\n    const getMyFrame = async (): Promise<Glue42Workspaces.Frame> => {\r\n        const windowId: string = glue.windows.my().id;\r\n\r\n        if (!windowId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(windowId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your frame, because this window is not in a workspace\");\r\n        }\r\n\r\n        return controller.getFrame({ windowId });\r\n    };\r\n\r\n    const getFrame = async (predicate: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame> => {\r\n        checkThrowCallback(predicate);\r\n\r\n        return controller.getFrame({ predicate });\r\n    };\r\n\r\n    const getAllFrames = async (predicate?: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame[]> => {\r\n        checkThrowCallback(predicate, true);\r\n\r\n        return controller.getFrames(predicate);\r\n    };\r\n\r\n    const getAllWorkspacesSummaries = (): Promise<Glue42Workspaces.WorkspaceSummary[]> => {\r\n        return controller.getAllWorkspaceSummaries();\r\n    };\r\n\r\n    const getMyWorkspace = async (): Promise<Glue42Workspaces.Workspace> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my workspace, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(myId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your workspace, because this window is not in a workspace\");\r\n        }\r\n\r\n        return (await controller.getWorkspaces((wsp) => !!wsp.getWindow((w) => w.id === myId)))[0];\r\n    };\r\n\r\n    const getWorkspace = async (predicate: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace> => {\r\n        checkThrowCallback(predicate);\r\n        return (await controller.getWorkspaces(predicate))[0];\r\n    };\r\n\r\n    const getAllWorkspaces = (predicate?: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace[]> => {\r\n        checkThrowCallback(predicate, true);\r\n        return controller.getWorkspaces(predicate);\r\n    };\r\n\r\n    const getWindow = async (predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getWindow(predicate);\r\n    };\r\n\r\n    const getParent = async (predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getParent(predicate);\r\n    };\r\n\r\n    const restoreWorkspace = async (name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n        return controller.restoreWorkspace(name, validatedOptions);\r\n    };\r\n\r\n    const createWorkspace = async (definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(saveConfig);\r\n\r\n        return controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    };\r\n\r\n    const layouts = {\r\n        getSummaries: (): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> => {\r\n            return controller.getLayoutSummaries();\r\n        },\r\n        delete: async (name: string): Promise<void> => {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            return controller.deleteLayout(name);\r\n        },\r\n        export: async (predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> => {\r\n            checkThrowCallback(predicate, true);\r\n            return controller.exportLayout(predicate);\r\n        },\r\n        import: async (layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<void> => {\r\n\r\n            if (!Array.isArray(layouts)) {\r\n                throw new Error(`The provided layouts argument is not an array: ${JSON.stringify(layouts)}`);\r\n            }\r\n\r\n            layouts.forEach((layout) => workspaceLayoutDecoder.runWithException(layout));\r\n            return controller.importLayout(layouts, mode);\r\n        },\r\n        save: async (config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> => {\r\n            const verifiedConfig = workspaceLayoutSaveConfigDecoder.runWithException(config);\r\n            return controller.saveLayout(verifiedConfig);\r\n        },\r\n        onSaved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnSaved(callback);\r\n        },\r\n        onRemoved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnRemoved(callback);\r\n        }\r\n    };\r\n\r\n    const onFrameOpened = async (callback: (frame: Glue42Workspaces.Frame) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: payload.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n            callback(frame);\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onFrameClosed = async (callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceOpened = async (callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: payload.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const snapshot = (await controller.getSnapshot(payload.workspaceSummary.id, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            callback(workspace);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceClosed = async (callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowAdded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const windowParent = workspace.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = windowParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"added\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowLoaded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const foundWindow = workspace.getWindow((win) => win.id && win.id === payload.windowSummary.config.windowId);\r\n\r\n            callback(foundWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"loaded\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowRemoved = async (callback: (removed: { windowId: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"removed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    return {\r\n        inWorkspace,\r\n        getBuilder,\r\n        getMyFrame,\r\n        getFrame,\r\n        getAllFrames,\r\n        getAllWorkspacesSummaries,\r\n        getMyWorkspace,\r\n        getWorkspace,\r\n        getAllWorkspaces,\r\n        getWindow,\r\n        getBox: getParent,\r\n        restoreWorkspace,\r\n        createWorkspace,\r\n        layouts,\r\n        onFrameOpened,\r\n        onFrameClosed,\r\n        onWorkspaceOpened,\r\n        onWorkspaceClosed,\r\n        onWindowAdded,\r\n        onWindowLoaded,\r\n        onWindowRemoved,\r\n    };\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { GlueProvider } from '@glue42/react-hooks';\r\nimport Glue, { Glue42 } from \"@glue42/desktop\";\r\nimport GlueWeb, { Glue42Web } from \"@glue42/web\";\r\nimport GlueWorkspaces from \"@glue42/workspaces-api\";\r\n\r\ndeclare const window: Window & { glue42gd: any };\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GlueProvider glueFactory={(config: any) => {\r\n      return window.glue42gd ?\r\n        Glue(Object.assign(config, { libraries: [GlueWorkspaces], appManager: \"skipIcons\" }) as Glue42.Config) :\r\n        GlueWeb(Object.assign(config, { libraries: [GlueWorkspaces] }) as Glue42Web.Config) as any\r\n    }}>\r\n      <App />\r\n    </GlueProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root') \r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}